var RWe=Object.defineProperty;var kWe=(to,jn,fu)=>jn in to?RWe(to,jn,{enumerable:!0,configurable:!0,writable:!0,value:fu}):to[jn]=fu;var Un=(to,jn,fu)=>(kWe(to,typeof jn!="symbol"?jn+"":jn,fu),fu);var EWe=(to,jn)=>()=>(jn||to((jn={exports:{}}).exports,jn),jn.exports),TWe=EWe((to,jn)=>{function fu(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var jH={exports:{}},zv={},FH={exports:{}},Yt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var em=Symbol.for("react.element"),Qq=Symbol.for("react.portal"),Xq=Symbol.for("react.fragment"),Jq=Symbol.for("react.strict_mode"),Zq=Symbol.for("react.profiler"),e7=Symbol.for("react.provider"),t7=Symbol.for("react.context"),n7=Symbol.for("react.forward_ref"),r7=Symbol.for("react.suspense"),o7=Symbol.for("react.memo"),i7=Symbol.for("react.lazy"),WH=Symbol.iterator;function s7(t){return t===null||typeof t!="object"?null:(t=WH&&t[WH]||t["@@iterator"],typeof t=="function"?t:null)}var VH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BH=Object.assign,UH={};function Cd(t,e,n){this.props=t,this.context=e,this.refs=UH,this.updater=n||VH}Cd.prototype.isReactComponent={},Cd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Cd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zH(){}zH.prototype=Cd.prototype;function px(t,e,n){this.props=t,this.context=e,this.refs=UH,this.updater=n||VH}var wx=px.prototype=new zH;wx.constructor=px,BH(wx,Cd.prototype),wx.isPureReactComponent=!0;var $H=Array.isArray,GH=Object.prototype.hasOwnProperty,vx={current:null},YH={key:!0,ref:!0,__self:!0,__source:!0};function qH(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)GH.call(e,r)&&!YH.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:em,type:t,key:i,ref:s,props:o,_owner:vx.current}}function a7(t,e){return{$$typeof:em,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===em}function l7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KH=/\/+/g;function bx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l7(""+t.key):e.toString(36)}function $v(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case em:case Qq:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+bx(s,0):r,$H(o)?(n="",t!=null&&(n=t.replace(KH,"$&/")+"/"),$v(o,e,n,"",function(u){return u})):o!=null&&(yx(o)&&(o=a7(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(KH,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",$H(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+bx(i,a);s+=$v(i,e,n,l,o)}else if(l=s7(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+bx(i,a++),s+=$v(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Gv(t,e,n){if(t==null)return t;var r=[],o=0;return $v(t,r,"","",function(i){return e.call(n,i,o++)}),r}function u7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var So={current:null},Yv={transition:null},c7={ReactCurrentDispatcher:So,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:vx};Yt.Children={map:Gv,forEach:function(t,e,n){Gv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gv(t,function(){e++}),e},toArray:function(t){return Gv(t,function(e){return e})||[]},only:function(t){if(!yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},Yt.Component=Cd,Yt.Fragment=Xq,Yt.Profiler=Zq,Yt.PureComponent=px,Yt.StrictMode=Jq,Yt.Suspense=r7,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c7,Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BH({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=vx.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GH.call(e,l)&&!YH.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:em,type:t.type,key:o,ref:i,props:r,_owner:s}},Yt.createContext=function(t){return t={$$typeof:t7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e7,_context:t},t.Consumer=t},Yt.createElement=qH,Yt.createFactory=function(t){var e=qH.bind(null,t);return e.type=t,e},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(t){return{$$typeof:n7,render:t}},Yt.isValidElement=yx,Yt.lazy=function(t){return{$$typeof:i7,_payload:{_status:-1,_result:t},_init:u7}},Yt.memo=function(t,e){return{$$typeof:o7,type:t,compare:e===void 0?null:e}},Yt.startTransition=function(t){var e=Yv.transition;Yv.transition={};try{t()}finally{Yv.transition=e}},Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Yt.useCallback=function(t,e){return So.current.useCallback(t,e)},Yt.useContext=function(t){return So.current.useContext(t)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(t){return So.current.useDeferredValue(t)},Yt.useEffect=function(t,e){return So.current.useEffect(t,e)},Yt.useId=function(){return So.current.useId()},Yt.useImperativeHandle=function(t,e,n){return So.current.useImperativeHandle(t,e,n)},Yt.useInsertionEffect=function(t,e){return So.current.useInsertionEffect(t,e)},Yt.useLayoutEffect=function(t,e){return So.current.useLayoutEffect(t,e)},Yt.useMemo=function(t,e){return So.current.useMemo(t,e)},Yt.useReducer=function(t,e,n){return So.current.useReducer(t,e,n)},Yt.useRef=function(t){return So.current.useRef(t)},Yt.useState=function(t){return So.current.useState(t)},Yt.useSyncExternalStore=function(t,e,n){return So.current.useSyncExternalStore(t,e,n)},Yt.useTransition=function(){return So.current.useTransition()},Yt.version="18.2.0",FH.exports=Yt;var z=FH.exports;const de=gu(z),h7=fu({__proto__:null,default:de},[z]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var d7=z,f7=Symbol.for("react.element"),g7=Symbol.for("react.fragment"),m7=Object.prototype.hasOwnProperty,p7=d7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w7={key:!0,ref:!0,__self:!0,__source:!0};function QH(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)m7.call(e,r)&&!w7.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:f7,type:t,key:i,ref:s,props:o,_owner:p7.current}}zv.Fragment=g7,zv.jsx=QH,zv.jsxs=QH,jH.exports=zv;var m=jH.exports,Cx={},XH={exports:{}},di={},JH={exports:{}},ZH={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(te,S){var R=te.length;te.push(S);e:for(;0<R;){var M=R-1>>>1,D=te[M];if(0<o(D,S))te[M]=S,te[R]=D,R=M;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var S=te[0],R=te.pop();if(R!==S){te[0]=R;e:for(var M=0,D=te.length,W=D>>>1;M<W;){var U=2*(M+1)-1,se=te[U],ae=U+1,Se=te[ae];if(0>o(se,R))ae<D&&0>o(Se,se)?(te[M]=Se,te[ae]=R,M=ae):(te[M]=se,te[U]=R,M=U);else if(ae<D&&0>o(Se,R))te[M]=Se,te[ae]=R,M=ae;else break e}}return S}function o(te,S){var R=te.sortIndex-S.sortIndex;return R!==0?R:te.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,p=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(te){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=te)r(u),S.sortIndex=S.expirationTime,e(l,S);else break;S=n(u)}}function T(te){if(v=!1,x(te),!p)if(n(l)!==null)p=!0,Me(_);else{var S=n(u);S!==null&&ye(T,S.startTime-te)}}function _(te,S){p=!1,v&&(v=!1,w(N),N=-1),g=!0;var R=d;try{for(x(S),h=n(l);h!==null&&(!(h.expirationTime>S)||te&&!G());){var M=h.callback;if(typeof M=="function"){h.callback=null,d=h.priorityLevel;var D=M(h.expirationTime<=S);S=t.unstable_now(),typeof D=="function"?h.callback=D:h===n(l)&&r(l),x(S)}else r(l);h=n(l)}if(h!==null)var W=!0;else{var U=n(u);U!==null&&ye(T,U.startTime-S),W=!1}return W}finally{h=null,d=R,g=!1}}var E=!1,O=null,N=-1,H=5,L=-1;function G(){return!(t.unstable_now()-L<H)}function ue(){if(O!==null){var te=t.unstable_now();L=te;var S=!0;try{S=O(!0,te)}finally{S?B():(E=!1,O=null)}}else E=!1}var B;if(typeof y=="function")B=function(){y(ue)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Ee=he.port2;he.port1.onmessage=ue,B=function(){Ee.postMessage(null)}}else B=function(){C(ue,0)};function Me(te){O=te,E||(E=!0,B())}function ye(te,S){N=C(function(){te(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Me(_))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var R=d;d=S;try{return te()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,S){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var R=d;d=te;try{return S()}finally{d=R}},t.unstable_scheduleCallback=function(te,S,R){var M=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?M+R:M):R=M,te){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=R+D,te={id:c++,callback:S,priorityLevel:te,startTime:R,expirationTime:D,sortIndex:-1},R>M?(te.sortIndex=R,e(u,te),n(l)===null&&te===n(u)&&(v?(w(N),N=-1):v=!0,ye(T,R-M))):(te.sortIndex=D,e(l,te),p||g||(p=!0,Me(_))),te},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(te){var S=d;return function(){var R=d;d=S;try{return te.apply(this,arguments)}finally{d=R}}}})(ZH),JH.exports=ZH;var v7=JH.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var eN=z,fi=v7;function Ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tN=new Set,tm={};function jc(t,e){Sd(t,e),Sd(t+"Capture",e)}function Sd(t,e){for(tm[t]=e,t=0;t<e.length;t++)tN.add(e[t])}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sx=Object.prototype.hasOwnProperty,y7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nN={},rN={};function b7(t){return Sx.call(rN,t)?!0:Sx.call(nN,t)?!1:y7.test(t)?rN[t]=!0:(nN[t]=!0,!1)}function C7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S7(t,e,n,r){if(e===null||typeof e>"u"||C7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xo(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gr[t]=new xo(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gr[e]=new xo(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gr[t]=new xo(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gr[t]=new xo(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gr[t]=new xo(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Gr[t]=new xo(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Gr[t]=new xo(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Gr[t]=new xo(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Gr[t]=new xo(t,5,!1,t.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function Rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xx,Rx);Gr[e]=new xo(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xx,Rx);Gr[e]=new xo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xx,Rx);Gr[e]=new xo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Gr[t]=new xo(t,1,!1,t.toLowerCase(),null,!1,!1)}),Gr.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Gr[t]=new xo(t,1,!1,t.toLowerCase(),null,!0,!0)});function kx(t,e,n,r){var o=Gr.hasOwnProperty(e)?Gr[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S7(e,n,o,r)&&(n=null),r||o===null?b7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rl=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qv=Symbol.for("react.element"),xd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),oN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),_x=Symbol.for("react.suspense"),Ox=Symbol.for("react.suspense_list"),Ax=Symbol.for("react.memo"),mu=Symbol.for("react.lazy"),sN=Symbol.for("react.offscreen"),aN=Symbol.iterator;function nm(t){return t===null||typeof t!="object"?null:(t=aN&&t[aN]||t["@@iterator"],typeof t=="function"?t:null)}var zn=Object.assign,Px;function rm(t){if(Px===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Px=e&&e[1]||""}return`
`+Px+t}var Ix=!1;function Hx(t,e){if(!t||Ix)return"";Ix=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ix=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rm(t):""}function x7(t){switch(t.tag){case 5:return rm(t.type);case 16:return rm("Lazy");case 13:return rm("Suspense");case 19:return rm("SuspenseList");case 0:case 2:case 15:return t=Hx(t.type,!1),t;case 11:return t=Hx(t.type.render,!1),t;case 1:return t=Hx(t.type,!0),t;default:return""}}function Nx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rd:return"Fragment";case xd:return"Portal";case Tx:return"Profiler";case Ex:return"StrictMode";case _x:return"Suspense";case Ox:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iN:return(t.displayName||"Context")+".Consumer";case oN:return(t._context.displayName||"Context")+".Provider";case Mx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ax:return e=t.displayName||null,e!==null?e:Nx(t.type)||"Memo";case mu:e=t._payload,t=t._init;try{return Nx(t(e))}catch{}}return null}function R7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nx(e);case 8:return e===Ex?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k7(t){var e=lN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kv(t){t._valueTracker||(t._valueTracker=k7(t))}function uN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dx(t,e){var n=e.checked;return zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hN(t,e){e=e.checked,e!=null&&kx(t,"checked",e,!1)}function Lx(t,e){hN(t,e);var n=pu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jx(t,e.type,n):e.hasOwnProperty("defaultValue")&&jx(t,e.type,pu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jx(t,e,n){(e!=="number"||Qv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var om=Array.isArray;function kd(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pu(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Fx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return zn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ae(92));if(om(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pu(n)}}function gN(t,e){var n=pu(e.value),r=pu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xv,wN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xv=Xv||document.createElement("div"),Xv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function im(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E7=["Webkit","ms","Moz","O"];Object.keys(sm).forEach(function(t){E7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sm[e]=sm[t]})});function vN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sm.hasOwnProperty(t)&&sm[t]?(""+e).trim():e+"px"}function yN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var T7=zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vx(t,e){if(e){if(T7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ae(62))}}function Bx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ux=null;function zx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $x=null,Ed=null,Td=null;function bN(t){if(t=Mm(t)){if(typeof $x!="function")throw Error(Ae(280));var e=t.stateNode;e&&(e=by(e),$x(t.stateNode,t.type,e))}}function CN(t){Ed?Td?Td.push(t):Td=[t]:Ed=t}function SN(){if(Ed){var t=Ed,e=Td;if(Td=Ed=null,bN(t),e)for(t=0;t<e.length;t++)bN(e[t])}}function xN(t,e){return t(e)}function RN(){}var Gx=!1;function kN(t,e,n){if(Gx)return t(e,n);Gx=!0;try{return xN(t,e,n)}finally{Gx=!1,(Ed!==null||Td!==null)&&(RN(),SN())}}function am(t,e){var n=t.stateNode;if(n===null)return null;var r=by(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ae(231,e,typeof n));return n}var Yx=!1;if(nl)try{var lm={};Object.defineProperty(lm,"passive",{get:function(){Yx=!0}}),window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{Yx=!1}function M7(t,e,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var um=!1,Jv=null,Zv=!1,qx=null,_7={onError:function(t){um=!0,Jv=t}};function O7(t,e,n,r,o,i,s,a,l){um=!1,Jv=null,M7.apply(_7,arguments)}function A7(t,e,n,r,o,i,s,a,l){if(O7.apply(this,arguments),um){if(um){var u=Jv;um=!1,Jv=null}else throw Error(Ae(198));Zv||(Zv=!0,qx=u)}}function Fc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TN(t){if(Fc(t)!==t)throw Error(Ae(188))}function P7(t){var e=t.alternate;if(!e){if(e=Fc(t),e===null)throw Error(Ae(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return TN(o),t;if(i===r)return TN(o),e;i=i.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?t:e}function MN(t){return t=P7(t),t!==null?_N(t):null}function _N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_N(t);if(e!==null)return e;t=t.sibling}return null}var ON=fi.unstable_scheduleCallback,AN=fi.unstable_cancelCallback,I7=fi.unstable_shouldYield,H7=fi.unstable_requestPaint,ur=fi.unstable_now,N7=fi.unstable_getCurrentPriorityLevel,Kx=fi.unstable_ImmediatePriority,PN=fi.unstable_UserBlockingPriority,ey=fi.unstable_NormalPriority,D7=fi.unstable_LowPriority,IN=fi.unstable_IdlePriority,ty=null,ca=null;function L7(t){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(ty,t,void 0,(t.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:W7,j7=Math.log,F7=Math.LN2;function W7(t){return t>>>=0,t===0?32:31-(j7(t)/F7|0)|0}var ny=64,ry=4194304;function cm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=cm(a):(i&=s,i!==0&&(r=cm(i)))}else s=n&~o,s!==0?r=cm(s):i!==0&&(r=cm(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xs(e),o=1<<n,r|=t[n],e&=~o;return r}function V7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-xs(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=V7(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Qx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HN(){var t=ny;return ny<<=1,!(ny&4194240)&&(ny=64),t}function Xx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xs(e),t[e]=n}function U7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-xs(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Jx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xs(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var dn=0;function NN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DN,Zx,LN,jN,FN,eR=!1,iy=[],wu=null,vu=null,yu=null,dm=new Map,fm=new Map,bu=[],z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WN(t,e){switch(t){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(e.pointerId)}}function gm(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Mm(e),e!==null&&Zx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function $7(t,e,n,r,o){switch(e){case"focusin":return wu=gm(wu,t,e,n,r,o),!0;case"dragenter":return vu=gm(vu,t,e,n,r,o),!0;case"mouseover":return yu=gm(yu,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return dm.set(i,gm(dm.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,fm.set(i,gm(fm.get(i)||null,t,e,n,r,o)),!0}return!1}function VN(t){var e=Wc(t.target);if(e!==null){var n=Fc(e);if(n!==null){if(e=n.tag,e===13){if(e=EN(n),e!==null){t.blockedOn=e,FN(t.priority,function(){LN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ux=r,n.target.dispatchEvent(r),Ux=null}else return e=Mm(n),e!==null&&Zx(e),t.blockedOn=n,!1;e.shift()}return!0}function BN(t,e,n){sy(t)&&n.delete(e)}function G7(){eR=!1,wu!==null&&sy(wu)&&(wu=null),vu!==null&&sy(vu)&&(vu=null),yu!==null&&sy(yu)&&(yu=null),dm.forEach(BN),fm.forEach(BN)}function mm(t,e){t.blockedOn===e&&(t.blockedOn=null,eR||(eR=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,G7)))}function pm(t){function e(o){return mm(o,t)}if(0<iy.length){mm(iy[0],t);for(var n=1;n<iy.length;n++){var r=iy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wu!==null&&mm(wu,t),vu!==null&&mm(vu,t),yu!==null&&mm(yu,t),dm.forEach(e),fm.forEach(e),n=0;n<bu.length;n++)r=bu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bu.length&&(n=bu[0],n.blockedOn===null);)VN(n),n.blockedOn===null&&bu.shift()}var Md=rl.ReactCurrentBatchConfig,ay=!0;function Y7(t,e,n,r){var o=dn,i=Md.transition;Md.transition=null;try{dn=1,tR(t,e,n,r)}finally{dn=o,Md.transition=i}}function q7(t,e,n,r){var o=dn,i=Md.transition;Md.transition=null;try{dn=4,tR(t,e,n,r)}finally{dn=o,Md.transition=i}}function tR(t,e,n,r){if(ay){var o=nR(t,e,n,r);if(o===null)yR(t,e,r,ly,n),WN(t,r);else if($7(o,t,e,n,r))r.stopPropagation();else if(WN(t,r),e&4&&-1<z7.indexOf(t)){for(;o!==null;){var i=Mm(o);if(i!==null&&DN(i),i=nR(t,e,n,r),i===null&&yR(t,e,r,ly,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else yR(t,e,r,null,n)}}var ly=null;function nR(t,e,n,r){if(ly=null,t=zx(r),t=Wc(t),t!==null)if(e=Fc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ly=t,null}function UN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N7()){case Kx:return 1;case PN:return 4;case ey:case D7:return 16;case IN:return 536870912;default:return 16}default:return 16}}var Cu=null,rR=null,uy=null;function zN(){if(uy)return uy;var t,e=rR,n=e.length,r,o="value"in Cu?Cu.value:Cu.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return uy=o.slice(t,1<r?1-r:void 0)}function cy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hy(){return!0}function $N(){return!1}function gi(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hy:$N,this.isPropagationStopped=$N,this}return zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hy)},persist:function(){},isPersistent:hy}),e}var _d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oR=gi(_d),wm=zn({},_d,{view:0,detail:0}),K7=gi(wm),iR,sR,vm,dy=zn({},wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vm&&(vm&&t.type==="mousemove"?(iR=t.screenX-vm.screenX,sR=t.screenY-vm.screenY):sR=iR=0,vm=t),iR)},movementY:function(t){return"movementY"in t?t.movementY:sR}}),GN=gi(dy),Q7=zn({},dy,{dataTransfer:0}),X7=gi(Q7),J7=zn({},wm,{relatedTarget:0}),aR=gi(J7),Z7=zn({},_d,{animationName:0,elapsedTime:0,pseudoElement:0}),eK=gi(Z7),tK=zn({},_d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nK=gi(tK),rK=zn({},_d,{data:0}),YN=gi(rK),oK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sK[t])?!!e[t]:!1}function lR(){return aK}var lK=zn({},wm,{key:function(t){if(t.key){var e=oK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lR,charCode:function(t){return t.type==="keypress"?cy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uK=gi(lK),cK=zn({},dy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qN=gi(cK),hK=zn({},wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lR}),dK=gi(hK),fK=zn({},_d,{propertyName:0,elapsedTime:0,pseudoElement:0}),gK=gi(fK),mK=zn({},dy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pK=gi(mK),wK=[9,13,27,32],uR=nl&&"CompositionEvent"in window,ym=null;nl&&"documentMode"in document&&(ym=document.documentMode);var vK=nl&&"TextEvent"in window&&!ym,KN=nl&&(!uR||ym&&8<ym&&11>=ym),QN=" ",XN=!1;function JN(t,e){switch(t){case"keyup":return wK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Od=!1;function yK(t,e){switch(t){case"compositionend":return ZN(e);case"keypress":return e.which!==32?null:(XN=!0,QN);case"textInput":return t=e.data,t===QN&&XN?null:t;default:return null}}function bK(t,e){if(Od)return t==="compositionend"||!uR&&JN(t,e)?(t=zN(),uy=rR=Cu=null,Od=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KN&&e.locale!=="ko"?null:e.data;default:return null}}var CK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CK[t.type]:e==="textarea"}function tD(t,e,n,r){CN(r),e=wy(e,"onChange"),0<e.length&&(n=new oR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bm=null,Cm=null;function SK(t){yD(t,0)}function fy(t){var e=Nd(t);if(uN(e))return t}function xK(t,e){if(t==="change")return e}var nD=!1;if(nl){var cR;if(nl){var hR="oninput"in document;if(!hR){var rD=document.createElement("div");rD.setAttribute("oninput","return;"),hR=typeof rD.oninput=="function"}cR=hR}else cR=!1;nD=cR&&(!document.documentMode||9<document.documentMode)}function oD(){bm&&(bm.detachEvent("onpropertychange",iD),Cm=bm=null)}function iD(t){if(t.propertyName==="value"&&fy(Cm)){var e=[];tD(e,Cm,t,zx(t)),kN(SK,e)}}function RK(t,e,n){t==="focusin"?(oD(),bm=e,Cm=n,bm.attachEvent("onpropertychange",iD)):t==="focusout"&&oD()}function kK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fy(Cm)}function EK(t,e){if(t==="click")return fy(e)}function TK(t,e){if(t==="input"||t==="change")return fy(e)}function MK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rs=typeof Object.is=="function"?Object.is:MK;function Sm(t,e){if(Rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Sx.call(e,o)||!Rs(t[o],e[o]))return!1}return!0}function sD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aD(t,e){var n=sD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sD(n)}}function lD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uD(){for(var t=window,e=Qv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qv(t.document)}return e}function dR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _K(t){var e=uD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lD(n.ownerDocument.documentElement,n)){if(r!==null&&dR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=aD(n,i);var s=aD(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OK=nl&&"documentMode"in document&&11>=document.documentMode,Ad=null,fR=null,xm=null,gR=!1;function cD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gR||Ad==null||Ad!==Qv(r)||(r=Ad,"selectionStart"in r&&dR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xm&&Sm(xm,r)||(xm=r,r=wy(fR,"onSelect"),0<r.length&&(e=new oR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ad)))}function gy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},mR={},hD={};nl&&(hD=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function my(t){if(mR[t])return mR[t];if(!Pd[t])return t;var e=Pd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hD)return mR[t]=e[n];return t}var dD=my("animationend"),fD=my("animationiteration"),gD=my("animationstart"),mD=my("transitionend"),pD=new Map,wD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(t,e){pD.set(t,e),jc(e,[t])}for(var pR=0;pR<wD.length;pR++){var wR=wD[pR],AK=wR.toLowerCase(),PK=wR[0].toUpperCase()+wR.slice(1);Su(AK,"on"+PK)}Su(dD,"onAnimationEnd"),Su(fD,"onAnimationIteration"),Su(gD,"onAnimationStart"),Su("dblclick","onDoubleClick"),Su("focusin","onFocus"),Su("focusout","onBlur"),Su(mD,"onTransitionEnd"),Sd("onMouseEnter",["mouseout","mouseover"]),Sd("onMouseLeave",["mouseout","mouseover"]),Sd("onPointerEnter",["pointerout","pointerover"]),Sd("onPointerLeave",["pointerout","pointerover"]),jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jc("onBeforeInput",["compositionend","keypress","textInput","paste"]),jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rm));function vD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A7(r,e,void 0,t),t.currentTarget=null}function yD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;vD(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;vD(o,a,u),i=l}}}if(Zv)throw t=qx,Zv=!1,qx=null,t}function On(t,e){var n=e[kR];n===void 0&&(n=e[kR]=new Set);var r=t+"__bubble";n.has(r)||(bD(e,t,2,!1),n.add(r))}function vR(t,e,n){var r=0;e&&(r|=4),bD(n,t,r,e)}var py="_reactListening"+Math.random().toString(36).slice(2);function km(t){if(!t[py]){t[py]=!0,tN.forEach(function(n){n!=="selectionchange"&&(IK.has(n)||vR(n,!1,t),vR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[py]||(e[py]=!0,vR("selectionchange",!1,e))}}function bD(t,e,n,r){switch(UN(e)){case 1:var o=Y7;break;case 4:o=q7;break;default:o=tR}n=o.bind(null,e,n,t),o=void 0,!Yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function yR(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Wc(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}kN(function(){var u=i,c=zx(n),h=[];e:{var d=pD.get(t);if(d!==void 0){var g=oR,p=t;switch(t){case"keypress":if(cy(n)===0)break e;case"keydown":case"keyup":g=uK;break;case"focusin":p="focus",g=aR;break;case"focusout":p="blur",g=aR;break;case"beforeblur":case"afterblur":g=aR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=GN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=X7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dK;break;case dD:case fD:case gD:g=eK;break;case mD:g=gK;break;case"scroll":g=K7;break;case"wheel":g=pK;break;case"copy":case"cut":case"paste":g=nK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qN}var v=(e&4)!==0,C=!v&&t==="scroll",w=v?d!==null?d+"Capture":null:d;v=[];for(var y=u,x;y!==null;){x=y;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,w!==null&&(T=am(y,w),T!=null&&v.push(Em(y,T,x)))),C)break;y=y.return}0<v.length&&(d=new g(d,p,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Ux&&(p=n.relatedTarget||n.fromElement)&&(Wc(p)||p[ol]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?Wc(p):null,p!==null&&(C=Fc(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(v=GN,T="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=qN,T="onPointerLeave",w="onPointerEnter",y="pointer"),C=g==null?d:Nd(g),x=p==null?d:Nd(p),d=new v(T,y+"leave",g,n,c),d.target=C,d.relatedTarget=x,T=null,Wc(c)===u&&(v=new v(w,y+"enter",p,n,c),v.target=x,v.relatedTarget=C,T=v),C=T,g&&p)t:{for(v=g,w=p,y=0,x=v;x;x=Id(x))y++;for(x=0,T=w;T;T=Id(T))x++;for(;0<y-x;)v=Id(v),y--;for(;0<x-y;)w=Id(w),x--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Id(v),w=Id(w)}v=null}else v=null;g!==null&&CD(h,d,g,v,!1),p!==null&&C!==null&&CD(h,C,p,v,!0)}}e:{if(d=u?Nd(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var _=xK;else if(eD(d))if(nD)_=TK;else{_=kK;var E=RK}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=EK);if(_&&(_=_(t,u))){tD(h,_,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&jx(d,"number",d.value)}switch(E=u?Nd(u):window,t){case"focusin":(eD(E)||E.contentEditable==="true")&&(Ad=E,fR=u,xm=null);break;case"focusout":xm=fR=Ad=null;break;case"mousedown":gR=!0;break;case"contextmenu":case"mouseup":case"dragend":gR=!1,cD(h,n,c);break;case"selectionchange":if(OK)break;case"keydown":case"keyup":cD(h,n,c)}var O;if(uR)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Od?JN(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(KN&&n.locale!=="ko"&&(Od||N!=="onCompositionStart"?N==="onCompositionEnd"&&Od&&(O=zN()):(Cu=c,rR="value"in Cu?Cu.value:Cu.textContent,Od=!0)),E=wy(u,N),0<E.length&&(N=new YN(N,t,null,n,c),h.push({event:N,listeners:E}),O?N.data=O:(O=ZN(n),O!==null&&(N.data=O)))),(O=vK?yK(t,n):bK(t,n))&&(u=wy(u,"onBeforeInput"),0<u.length&&(c=new YN("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=O))}yD(h,e)})}function Em(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wy(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=am(t,n),i!=null&&r.unshift(Em(t,i,o)),i=am(t,e),i!=null&&r.push(Em(t,i,o))),t=t.return}return r}function Id(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CD(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=am(n,i),l!=null&&s.unshift(Em(n,l,a))):o||(l=am(n,i),l!=null&&s.push(Em(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var HK=/\r\n?/g,NK=/\u0000|\uFFFD/g;function SD(t){return(typeof t=="string"?t:""+t).replace(HK,`
`).replace(NK,"")}function vy(t,e,n){if(e=SD(e),SD(t)!==e&&n)throw Error(Ae(425))}function yy(){}var bR=null,CR=null;function SR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xR=typeof setTimeout=="function"?setTimeout:void 0,DK=typeof clearTimeout=="function"?clearTimeout:void 0,xD=typeof Promise=="function"?Promise:void 0,LK=typeof queueMicrotask=="function"?queueMicrotask:typeof xD<"u"?function(t){return xD.resolve(null).then(t).catch(jK)}:xR;function jK(t){setTimeout(function(){throw t})}function RR(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),pm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);pm(e)}function xu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hd=Math.random().toString(36).slice(2),ha="__reactFiber$"+Hd,Tm="__reactProps$"+Hd,ol="__reactContainer$"+Hd,kR="__reactEvents$"+Hd,FK="__reactListeners$"+Hd,WK="__reactHandles$"+Hd;function Wc(t){var e=t[ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ol]||n[ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RD(t);t!==null;){if(n=t[ha])return n;t=RD(t)}return e}t=n,n=t.parentNode}return null}function Mm(t){return t=t[ha]||t[ol],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ae(33))}function by(t){return t[Tm]||null}var ER=[],Dd=-1;function Ru(t){return{current:t}}function An(t){0>Dd||(t.current=ER[Dd],ER[Dd]=null,Dd--)}function Rn(t,e){Dd++,ER[Dd]=t.current,t.current=e}var ku={},no=Ru(ku),Fo=Ru(!1),Vc=ku;function Ld(t,e){var n=t.type.contextTypes;if(!n)return ku;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Wo(t){return t=t.childContextTypes,t!=null}function Cy(){An(Fo),An(no)}function kD(t,e,n){if(no.current!==ku)throw Error(Ae(168));Rn(no,e),Rn(Fo,n)}function ED(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Ae(108,R7(t)||"Unknown",o));return zn({},n,r)}function Sy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ku,Vc=no.current,Rn(no,t),Rn(Fo,Fo.current),!0}function TD(t,e,n){var r=t.stateNode;if(!r)throw Error(Ae(169));n?(t=ED(t,e,Vc),r.__reactInternalMemoizedMergedChildContext=t,An(Fo),An(no),Rn(no,t)):An(Fo),Rn(Fo,n)}var il=null,xy=!1,TR=!1;function MD(t){il===null?il=[t]:il.push(t)}function VK(t){xy=!0,MD(t)}function Eu(){if(!TR&&il!==null){TR=!0;var t=0,e=dn;try{var n=il;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}il=null,xy=!1}catch(o){throw il!==null&&(il=il.slice(t+1)),ON(Kx,Eu),o}finally{dn=e,TR=!1}}return null}var jd=[],Fd=0,Ry=null,ky=0,ji=[],Fi=0,Bc=null,sl=1,al="";function Uc(t,e){jd[Fd++]=ky,jd[Fd++]=Ry,Ry=t,ky=e}function _D(t,e,n){ji[Fi++]=sl,ji[Fi++]=al,ji[Fi++]=Bc,Bc=t;var r=sl;t=al;var o=32-xs(r)-1;r&=~(1<<o),n+=1;var i=32-xs(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,sl=1<<32-xs(e)+o|n<<o|r,al=i+t}else sl=1<<i|n<<o|r,al=t}function MR(t){t.return!==null&&(Uc(t,1),_D(t,1,0))}function _R(t){for(;t===Ry;)Ry=jd[--Fd],jd[Fd]=null,ky=jd[--Fd],jd[Fd]=null;for(;t===Bc;)Bc=ji[--Fi],ji[Fi]=null,al=ji[--Fi],ji[Fi]=null,sl=ji[--Fi],ji[Fi]=null}var mi=null,pi=null,Fn=!1,ks=null;function OD(t,e){var n=Ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mi=t,pi=xu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mi=t,pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bc!==null?{id:sl,overflow:al}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mi=t,pi=null,!0):!1;default:return!1}}function OR(t){return(t.mode&1)!==0&&(t.flags&128)===0}function AR(t){if(Fn){var e=pi;if(e){var n=e;if(!AD(t,e)){if(OR(t))throw Error(Ae(418));e=xu(n.nextSibling);var r=mi;e&&AD(t,e)?OD(r,n):(t.flags=t.flags&-4097|2,Fn=!1,mi=t)}}else{if(OR(t))throw Error(Ae(418));t.flags=t.flags&-4097|2,Fn=!1,mi=t}}}function PD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mi=t}function Ey(t){if(t!==mi)return!1;if(!Fn)return PD(t),Fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!SR(t.type,t.memoizedProps)),e&&(e=pi)){if(OR(t))throw ID(),Error(Ae(418));for(;e;)OD(t,e),e=xu(e.nextSibling)}if(PD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pi=xu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pi=null}}else pi=mi?xu(t.stateNode.nextSibling):null;return!0}function ID(){for(var t=pi;t;)t=xu(t.nextSibling)}function Wd(){pi=mi=null,Fn=!1}function PR(t){ks===null?ks=[t]:ks.push(t)}var BK=rl.ReactCurrentBatchConfig;function Es(t,e){if(t&&t.defaultProps){e=zn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ty=Ru(null),My=null,Vd=null,IR=null;function HR(){IR=Vd=My=null}function NR(t){var e=Ty.current;An(Ty),t._currentValue=e}function DR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bd(t,e){My=t,IR=Vd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vo=!0),t.firstContext=null)}function Wi(t){var e=t._currentValue;if(IR!==t)if(t={context:t,memoizedValue:e,next:null},Vd===null){if(My===null)throw Error(Ae(308));Vd=t,My.dependencies={lanes:0,firstContext:t}}else Vd=Vd.next=t;return e}var zc=null;function LR(t){zc===null?zc=[t]:zc.push(t)}function HD(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,LR(e)):(n.next=o.next,o.next=n),e.interleaved=n,ll(t,r)}function ll(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tu=!1;function jR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ND(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ul(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,ll(t,n)}return o=r.interleaved,o===null?(e.next=e,LR(r)):(e.next=o.next,o.next=e),r.interleaved=e,ll(t,n)}function _y(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jx(t,n)}}function DD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oy(t,e,n,r){var o=t.updateQueue;Tu=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=o.baseState;s=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(d=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=zn({},h,d);break e;case 2:Tu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Yc|=s,t.lanes=s,t.memoizedState=h}}function LD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ae(191,o));o.call(r)}}}var jD=new eN.Component().refs;function FR(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ay={isMounted:function(t){return(t=t._reactInternals)?Fc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ko(),o=Pu(t),i=ul(r,o);i.payload=e,n!=null&&(i.callback=n),e=Mu(t,i,o),e!==null&&(_s(e,t,o,r),_y(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ko(),o=Pu(t),i=ul(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mu(t,i,o),e!==null&&(_s(e,t,o,r),_y(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ko(),r=Pu(t),o=ul(n,r);o.tag=2,e!=null&&(o.callback=e),e=Mu(t,o,r),e!==null&&(_s(e,t,r,n),_y(e,t,r))}};function FD(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Sm(n,r)||!Sm(o,i):!0}function WD(t,e,n){var r=!1,o=ku,i=e.contextType;return typeof i=="object"&&i!==null?i=Wi(i):(o=Wo(e)?Vc:no.current,r=e.contextTypes,i=(r=r!=null)?Ld(t,o):ku),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function VD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ay.enqueueReplaceState(e,e.state,null)}function WR(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=jD,jR(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Wi(i):(i=Wo(e)?Vc:no.current,o.context=Ld(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(FR(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ay.enqueueReplaceState(o,o.state,null),Oy(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function _m(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===jD&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,t))}return t}function Py(t,e){throw t=Object.prototype.toString.call(e),Error(Ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BD(t){var e=t._init;return e(t._payload)}function UD(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function o(w,y){return w=Hu(w,y),w.index=0,w.sibling=null,w}function i(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,T){return y===null||y.tag!==6?(y=Sk(x,w.mode,T),y.return=w,y):(y=o(y,x),y.return=w,y)}function l(w,y,x,T){var _=x.type;return _===Rd?c(w,y,x.props.children,T,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mu&&BD(_)===y.type)?(T=o(y,x.props),T.ref=_m(w,y,x),T.return=w,T):(T=Xy(x.type,x.key,x.props,null,w.mode,T),T.ref=_m(w,y,x),T.return=w,T)}function u(w,y,x,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=xk(x,w.mode,T),y.return=w,y):(y=o(y,x.children||[]),y.return=w,y)}function c(w,y,x,T,_){return y===null||y.tag!==7?(y=Xc(x,w.mode,T,_),y.return=w,y):(y=o(y,x),y.return=w,y)}function h(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sk(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qv:return x=Xy(y.type,y.key,y.props,null,w.mode,x),x.ref=_m(w,null,y),x.return=w,x;case xd:return y=xk(y,w.mode,x),y.return=w,y;case mu:var T=y._init;return h(w,T(y._payload),x)}if(om(y)||nm(y))return y=Xc(y,w.mode,x,null),y.return=w,y;Py(w,y)}return null}function d(w,y,x,T){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(w,y,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qv:return x.key===_?l(w,y,x,T):null;case xd:return x.key===_?u(w,y,x,T):null;case mu:return _=x._init,d(w,y,_(x._payload),T)}if(om(x)||nm(x))return _!==null?null:c(w,y,x,T,null);Py(w,x)}return null}function g(w,y,x,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(x)||null,a(y,w,""+T,_);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case qv:return w=w.get(T.key===null?x:T.key)||null,l(y,w,T,_);case xd:return w=w.get(T.key===null?x:T.key)||null,u(y,w,T,_);case mu:var E=T._init;return g(w,y,x,E(T._payload),_)}if(om(T)||nm(T))return w=w.get(x)||null,c(y,w,T,_,null);Py(y,T)}return null}function p(w,y,x,T){for(var _=null,E=null,O=y,N=y=0,H=null;O!==null&&N<x.length;N++){O.index>N?(H=O,O=null):H=O.sibling;var L=d(w,O,x[N],T);if(L===null){O===null&&(O=H);break}t&&O&&L.alternate===null&&e(w,O),y=i(L,y,N),E===null?_=L:E.sibling=L,E=L,O=H}if(N===x.length)return n(w,O),Fn&&Uc(w,N),_;if(O===null){for(;N<x.length;N++)O=h(w,x[N],T),O!==null&&(y=i(O,y,N),E===null?_=O:E.sibling=O,E=O);return Fn&&Uc(w,N),_}for(O=r(w,O);N<x.length;N++)H=g(O,w,N,x[N],T),H!==null&&(t&&H.alternate!==null&&O.delete(H.key===null?N:H.key),y=i(H,y,N),E===null?_=H:E.sibling=H,E=H);return t&&O.forEach(function(G){return e(w,G)}),Fn&&Uc(w,N),_}function v(w,y,x,T){var _=nm(x);if(typeof _!="function")throw Error(Ae(150));if(x=_.call(x),x==null)throw Error(Ae(151));for(var E=_=null,O=y,N=y=0,H=null,L=x.next();O!==null&&!L.done;N++,L=x.next()){O.index>N?(H=O,O=null):H=O.sibling;var G=d(w,O,L.value,T);if(G===null){O===null&&(O=H);break}t&&O&&G.alternate===null&&e(w,O),y=i(G,y,N),E===null?_=G:E.sibling=G,E=G,O=H}if(L.done)return n(w,O),Fn&&Uc(w,N),_;if(O===null){for(;!L.done;N++,L=x.next())L=h(w,L.value,T),L!==null&&(y=i(L,y,N),E===null?_=L:E.sibling=L,E=L);return Fn&&Uc(w,N),_}for(O=r(w,O);!L.done;N++,L=x.next())L=g(O,w,N,L.value,T),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?N:L.key),y=i(L,y,N),E===null?_=L:E.sibling=L,E=L);return t&&O.forEach(function(ue){return e(w,ue)}),Fn&&Uc(w,N),_}function C(w,y,x,T){if(typeof x=="object"&&x!==null&&x.type===Rd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qv:e:{for(var _=x.key,E=y;E!==null;){if(E.key===_){if(_=x.type,_===Rd){if(E.tag===7){n(w,E.sibling),y=o(E,x.props.children),y.return=w,w=y;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mu&&BD(_)===E.type){n(w,E.sibling),y=o(E,x.props),y.ref=_m(w,E,x),y.return=w,w=y;break e}n(w,E);break}else e(w,E);E=E.sibling}x.type===Rd?(y=Xc(x.props.children,w.mode,T,x.key),y.return=w,w=y):(T=Xy(x.type,x.key,x.props,null,w.mode,T),T.ref=_m(w,y,x),T.return=w,w=T)}return s(w);case xd:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(w,y.sibling),y=o(y,x.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=xk(x,w.mode,T),y.return=w,w=y}return s(w);case mu:return E=x._init,C(w,y,E(x._payload),T)}if(om(x))return p(w,y,x,T);if(nm(x))return v(w,y,x,T);Py(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(w,y.sibling),y=o(y,x),y.return=w,w=y):(n(w,y),y=Sk(x,w.mode,T),y.return=w,w=y),s(w)):n(w,y)}return C}var Ud=UD(!0),zD=UD(!1),Om={},da=Ru(Om),Am=Ru(Om),Pm=Ru(Om);function $c(t){if(t===Om)throw Error(Ae(174));return t}function VR(t,e){switch(Rn(Pm,e),Rn(Am,t),Rn(da,Om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wx(e,t)}An(da),Rn(da,e)}function zd(){An(da),An(Am),An(Pm)}function $D(t){$c(Pm.current);var e=$c(da.current),n=Wx(e,t.type);e!==n&&(Rn(Am,t),Rn(da,n))}function BR(t){Am.current===t&&(An(da),An(Am))}var $n=Ru(0);function Iy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UR=[];function zR(){for(var t=0;t<UR.length;t++)UR[t]._workInProgressVersionPrimary=null;UR.length=0}var Hy=rl.ReactCurrentDispatcher,$R=rl.ReactCurrentBatchConfig,Gc=0,Gn=null,Rr=null,Ar=null,Ny=!1,Im=!1,Hm=0,UK=0;function ro(){throw Error(Ae(321))}function GR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rs(t[n],e[n]))return!1;return!0}function YR(t,e,n,r,o,i){if(Gc=i,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hy.current=t===null||t.memoizedState===null?YK:qK,t=n(r,o),Im){i=0;do{if(Im=!1,Hm=0,25<=i)throw Error(Ae(301));i+=1,Ar=Rr=null,e.updateQueue=null,Hy.current=KK,t=n(r,o)}while(Im)}if(Hy.current=jy,e=Rr!==null&&Rr.next!==null,Gc=0,Ar=Rr=Gn=null,Ny=!1,e)throw Error(Ae(300));return t}function qR(){var t=Hm!==0;return Hm=0,t}function fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Gn.memoizedState=Ar=t:Ar=Ar.next=t,Ar}function Vi(){if(Rr===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Ar===null?Gn.memoizedState:Ar.next;if(e!==null)Ar=e,Rr=t;else{if(t===null)throw Error(Ae(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Ar===null?Gn.memoizedState=Ar=t:Ar=Ar.next=t}return Ar}function Nm(t,e){return typeof e=="function"?e(t):e}function KR(t){var e=Vi(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var r=Rr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((Gc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Gn.lanes|=c,Yc|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,Rs(r,e.memoizedState)||(Vo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Gn.lanes|=i,Yc|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function QR(t){var e=Vi(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Rs(i,e.memoizedState)||(Vo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GD(){}function YD(t,e){var n=Gn,r=Vi(),o=e(),i=!Rs(r.memoizedState,o);if(i&&(r.memoizedState=o,Vo=!0),r=r.queue,XR(QD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ar!==null&&Ar.memoizedState.tag&1){if(n.flags|=2048,Dm(9,KD.bind(null,n,r,o,e),void 0,null),Pr===null)throw Error(Ae(349));Gc&30||qD(n,e,o)}return o}function qD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KD(t,e,n,r){e.value=n,e.getSnapshot=r,XD(e)&&JD(t)}function QD(t,e,n){return n(function(){XD(e)&&JD(t)})}function XD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rs(t,n)}catch{return!0}}function JD(t){var e=ll(t,1);e!==null&&_s(e,t,1,-1)}function ZD(t){var e=fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:t},e.queue=t,t=t.dispatch=GK.bind(null,Gn,t),[e.memoizedState,t]}function Dm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eL(){return Vi().memoizedState}function Dy(t,e,n,r){var o=fa();Gn.flags|=t,o.memoizedState=Dm(1|e,n,void 0,r===void 0?null:r)}function Ly(t,e,n,r){var o=Vi();r=r===void 0?null:r;var i=void 0;if(Rr!==null){var s=Rr.memoizedState;if(i=s.destroy,r!==null&&GR(r,s.deps)){o.memoizedState=Dm(e,n,i,r);return}}Gn.flags|=t,o.memoizedState=Dm(1|e,n,i,r)}function tL(t,e){return Dy(8390656,8,t,e)}function XR(t,e){return Ly(2048,8,t,e)}function nL(t,e){return Ly(4,2,t,e)}function rL(t,e){return Ly(4,4,t,e)}function oL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iL(t,e,n){return n=n!=null?n.concat([t]):null,Ly(4,4,oL.bind(null,e,t),n)}function JR(){}function sL(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GR(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aL(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GR(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lL(t,e,n){return Gc&21?(Rs(n,e)||(n=HN(),Gn.lanes|=n,Yc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vo=!0),t.memoizedState=n)}function zK(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=$R.transition;$R.transition={};try{t(!1),e()}finally{dn=n,$R.transition=r}}function uL(){return Vi().memoizedState}function $K(t,e,n){var r=Pu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cL(t))hL(e,n);else if(n=HD(t,e,n,r),n!==null){var o=ko();_s(n,t,r,o),dL(n,e,r)}}function GK(t,e,n){var r=Pu(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cL(t))hL(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Rs(a,s)){var l=e.interleaved;l===null?(o.next=o,LR(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=HD(t,e,o,r),n!==null&&(o=ko(),_s(n,t,r,o),dL(n,e,r))}}function cL(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function hL(t,e){Im=Ny=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jx(t,n)}}var jy={readContext:Wi,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useInsertionEffect:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useSyncExternalStore:ro,useId:ro,unstable_isNewReconciler:!1},YK={readContext:Wi,useCallback:function(t,e){return fa().memoizedState=[t,e===void 0?null:e],t},useContext:Wi,useEffect:tL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dy(4194308,4,oL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dy(4,2,t,e)},useMemo:function(t,e){var n=fa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$K.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=fa();return t={current:t},e.memoizedState=t},useState:ZD,useDebugValue:JR,useDeferredValue:function(t){return fa().memoizedState=t},useTransition:function(){var t=ZD(!1),e=t[0];return t=zK.bind(null,t[1]),fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,o=fa();if(Fn){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=e(),Pr===null)throw Error(Ae(349));Gc&30||qD(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,tL(QD.bind(null,r,i,t),[t]),r.flags|=2048,Dm(9,KD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fa(),e=Pr.identifierPrefix;if(Fn){var n=al,r=sl;n=(r&~(1<<32-xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qK={readContext:Wi,useCallback:sL,useContext:Wi,useEffect:XR,useImperativeHandle:iL,useInsertionEffect:nL,useLayoutEffect:rL,useMemo:aL,useReducer:KR,useRef:eL,useState:function(){return KR(Nm)},useDebugValue:JR,useDeferredValue:function(t){var e=Vi();return lL(e,Rr.memoizedState,t)},useTransition:function(){var t=KR(Nm)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:YD,useId:uL,unstable_isNewReconciler:!1},KK={readContext:Wi,useCallback:sL,useContext:Wi,useEffect:XR,useImperativeHandle:iL,useInsertionEffect:nL,useLayoutEffect:rL,useMemo:aL,useReducer:QR,useRef:eL,useState:function(){return QR(Nm)},useDebugValue:JR,useDeferredValue:function(t){var e=Vi();return Rr===null?e.memoizedState=t:lL(e,Rr.memoizedState,t)},useTransition:function(){var t=QR(Nm)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:YD,useId:uL,unstable_isNewReconciler:!1};function $d(t,e){try{var n="",r=e;do n+=x7(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function ZR(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ek(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QK=typeof WeakMap=="function"?WeakMap:Map;function fL(t,e,n){n=ul(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$y||($y=!0,gk=r),ek(t,e)},n}function gL(t,e,n){n=ul(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){ek(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ek(t,e),typeof r!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function mL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QK;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=cQ.bind(null,t,e,n),e.then(t,t))}function pL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wL(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ul(-1,1),e.tag=2,Mu(n,e,1))),n.lanes|=1),t)}var XK=rl.ReactCurrentOwner,Vo=!1;function Ro(t,e,n,r){e.child=t===null?zD(e,null,n,r):Ud(e,t.child,n,r)}function vL(t,e,n,r,o){n=n.render;var i=e.ref;return Bd(e,o),r=YR(t,e,n,r,i,o),n=qR(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,cl(t,e,o)):(Fn&&n&&MR(e),e.flags|=1,Ro(t,e,r,o),e.child)}function yL(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Ck(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bL(t,e,i,r,o)):(t=Xy(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sm,n(s,r)&&t.ref===e.ref)return cl(t,e,o)}return e.flags|=1,t=Hu(i,r),t.ref=e.ref,t.return=e,e.child=t}function bL(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Sm(i,r)&&t.ref===e.ref)if(Vo=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Vo=!0);else return e.lanes=t.lanes,cl(t,e,o)}return tk(t,e,n,r,o)}function CL(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Yd,wi),wi|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn(Yd,wi),wi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rn(Yd,wi),wi|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Rn(Yd,wi),wi|=r;return Ro(t,e,o,n),e.child}function SL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tk(t,e,n,r,o){var i=Wo(n)?Vc:no.current;return i=Ld(e,i),Bd(e,o),n=YR(t,e,n,r,i,o),r=qR(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,cl(t,e,o)):(Fn&&r&&MR(e),e.flags|=1,Ro(t,e,n,o),e.child)}function xL(t,e,n,r,o){if(Wo(n)){var i=!0;Sy(e)}else i=!1;if(Bd(e,o),e.stateNode===null)Wy(t,e),WD(e,n,r),WR(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wi(u):(u=Wo(n)?Vc:no.current,u=Ld(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&VD(e,s,r,u),Tu=!1;var d=e.memoizedState;s.state=d,Oy(e,r,s,o),l=e.memoizedState,a!==r||d!==l||Fo.current||Tu?(typeof c=="function"&&(FR(e,n,c,r),l=e.memoizedState),(a=Tu||FD(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ND(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Es(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=Wo(n)?Vc:no.current,l=Ld(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&VD(e,s,r,l),Tu=!1,d=e.memoizedState,s.state=d,Oy(e,r,s,o);var p=e.memoizedState;a!==h||d!==p||Fo.current||Tu?(typeof g=="function"&&(FR(e,n,g,r),p=e.memoizedState),(u=Tu||FD(e,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return nk(t,e,n,r,i,o)}function nk(t,e,n,r,o,i){SL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&TD(e,n,!1),cl(t,e,i);r=e.stateNode,XK.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ud(e,t.child,null,i),e.child=Ud(e,null,a,i)):Ro(t,e,a,i),e.memoizedState=r.state,o&&TD(e,n,!0),e.child}function RL(t){var e=t.stateNode;e.pendingContext?kD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kD(t,e.context,!1),VR(t,e.containerInfo)}function kL(t,e,n,r,o){return Wd(),PR(o),e.flags|=256,Ro(t,e,n,r),e.child}var rk={dehydrated:null,treeContext:null,retryLane:0};function ok(t){return{baseLanes:t,cachePool:null,transitions:null}}function EL(t,e,n){var r=e.pendingProps,o=$n.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Rn($n,o&1),t===null)return AR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Jy(s,r,0,null),t=Xc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ok(n),e.memoizedState=rk,t):ik(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return JK(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hu(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Hu(a,i):(i=Xc(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?ok(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=rk,r}return i=t.child,t=i.sibling,r=Hu(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ik(t,e){return e=Jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fy(t,e,n,r){return r!==null&&PR(r),Ud(e,t.child,null,n),t=ik(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JK(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=ZR(Error(Ae(422))),Fy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Jy({mode:"visible",children:r.children},o,0,null),i=Xc(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ud(e,t.child,null,s),e.child.memoizedState=ok(s),e.memoizedState=rk,i);if(!(e.mode&1))return Fy(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ae(419)),r=ZR(i,r,void 0),Fy(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vo||a){if(r=Pr,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ll(t,o),_s(r,t,o,-1))}return bk(),r=ZR(Error(Ae(421))),Fy(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=hQ.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,pi=xu(o.nextSibling),mi=e,Fn=!0,ks=null,t!==null&&(ji[Fi++]=sl,ji[Fi++]=al,ji[Fi++]=Bc,sl=t.id,al=t.overflow,Bc=e),e=ik(e,r.children),e.flags|=4096,e)}function TL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DR(t.return,e,n)}function sk(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ML(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ro(t,e,r.children,n),r=$n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TL(t,n,e);else if(t.tag===19)TL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn($n,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Iy(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),sk(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Iy(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}sk(e,!0,n,null,i);break;case"together":sk(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ae(153));if(e.child!==null){for(t=e.child,n=Hu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZK(t,e,n){switch(e.tag){case 3:RL(e),Wd();break;case 5:$D(e);break;case 1:Wo(e.type)&&Sy(e);break;case 4:VR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Rn(Ty,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn($n,$n.current&1),e.flags|=128,null):n&e.child.childLanes?EL(t,e,n):(Rn($n,$n.current&1),t=cl(t,e,n),t!==null?t.sibling:null);Rn($n,$n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ML(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Rn($n,$n.current),r)break;return null;case 22:case 23:return e.lanes=0,CL(t,e,n)}return cl(t,e,n)}var _L,ak,OL,AL;_L=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ak=function(){},OL=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,$c(da.current);var i=null;switch(n){case"input":o=Dx(t,o),r=Dx(t,r),i=[];break;case"select":o=zn({},o,{value:void 0}),r=zn({},r,{value:void 0}),i=[];break;case"textarea":o=Fx(t,o),r=Fx(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yy)}Vx(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o==null?void 0:o[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&On("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}},AL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lm(t,e){if(!Fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eQ(t,e,n){var r=e.pendingProps;switch(_R(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(e),null;case 1:return Wo(e.type)&&Cy(),oo(e),null;case 3:return r=e.stateNode,zd(),An(Fo),An(no),zR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ey(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(wk(ks),ks=null))),ak(t,e),oo(e),null;case 5:BR(e);var o=$c(Pm.current);if(n=e.type,t!==null&&e.stateNode!=null)OL(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ae(166));return oo(e),null}if(t=$c(da.current),Ey(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ha]=e,r[Tm]=i,t=(e.mode&1)!==0,n){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(o=0;o<Rm.length;o++)On(Rm[o],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":cN(r,i),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},On("invalid",r);break;case"textarea":fN(r,i),On("invalid",r)}Vx(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vy(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vy(r.textContent,a,t),o=["children",""+a]):tm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&On("scroll",r)}switch(n){case"input":Kv(r),dN(r,i,!0);break;case"textarea":Kv(r),mN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yy)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ha]=e,t[Tm]=r,_L(t,e,!1,!1),e.stateNode=t;e:{switch(s=Bx(n,r),n){case"dialog":On("cancel",t),On("close",t),o=r;break;case"iframe":case"object":case"embed":On("load",t),o=r;break;case"video":case"audio":for(o=0;o<Rm.length;o++)On(Rm[o],t);o=r;break;case"source":On("error",t),o=r;break;case"img":case"image":case"link":On("error",t),On("load",t),o=r;break;case"details":On("toggle",t),o=r;break;case"input":cN(t,r),o=Dx(t,r),On("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=zn({},r,{value:void 0}),On("invalid",t);break;case"textarea":fN(t,r),o=Fx(t,r),On("invalid",t);break;default:o=r}Vx(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yN(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&im(t,l):typeof l=="number"&&im(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tm.hasOwnProperty(i)?l!=null&&i==="onScroll"&&On("scroll",t):l!=null&&kx(t,i,l,s))}switch(n){case"input":Kv(t),dN(t,r,!1);break;case"textarea":Kv(t),mN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pu(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?kd(t,!!r.multiple,i,!1):r.defaultValue!=null&&kd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=yy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return oo(e),null;case 6:if(t&&e.stateNode!=null)AL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ae(166));if(n=$c(Pm.current),$c(da.current),Ey(e)){if(r=e.stateNode,n=e.memoizedProps,r[ha]=e,(i=r.nodeValue!==n)&&(t=mi,t!==null))switch(t.tag){case 3:vy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vy(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ha]=e,e.stateNode=r}return oo(e),null;case 13:if(An($n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fn&&pi!==null&&e.mode&1&&!(e.flags&128))ID(),Wd(),e.flags|=98560,i=!1;else if(i=Ey(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ae(317));i[ha]=e}else Wd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oo(e),i=!1}else ks!==null&&(wk(ks),ks=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$n.current&1?kr===0&&(kr=3):bk())),e.updateQueue!==null&&(e.flags|=4),oo(e),null);case 4:return zd(),ak(t,e),t===null&&km(e.stateNode.containerInfo),oo(e),null;case 10:return NR(e.type._context),oo(e),null;case 17:return Wo(e.type)&&Cy(),oo(e),null;case 19:if(An($n),i=e.memoizedState,i===null)return oo(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Lm(i,!1);else{if(kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Iy(t),s!==null){for(e.flags|=128,Lm(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn($n,$n.current&1|2),e.child}t=t.sibling}i.tail!==null&&ur()>qd&&(e.flags|=128,r=!0,Lm(i,!1),e.lanes=4194304)}else{if(!r)if(t=Iy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Fn)return oo(e),null}else 2*ur()-i.renderingStartTime>qd&&n!==1073741824&&(e.flags|=128,r=!0,Lm(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ur(),e.sibling=null,n=$n.current,Rn($n,r?n&1|2:n&1),e):(oo(e),null);case 22:case 23:return yk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wi&1073741824&&(oo(e),e.subtreeFlags&6&&(e.flags|=8192)):oo(e),null;case 24:return null;case 25:return null}throw Error(Ae(156,e.tag))}function tQ(t,e){switch(_R(e),e.tag){case 1:return Wo(e.type)&&Cy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zd(),An(Fo),An(no),zR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return BR(e),null;case 13:if(An($n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ae(340));Wd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return An($n),null;case 4:return zd(),null;case 10:return NR(e.type._context),null;case 22:case 23:return yk(),null;case 24:return null;default:return null}}var Vy=!1,io=!1,nQ=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Gd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rr(t,e,r)}else n.current=null}function PL(t,e,n){try{n()}catch(r){rr(t,e,r)}}var IL=!1;function rQ(t,e){if(bR=ay,t=uD(),dR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==i||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===o&&(a=s),d===i&&++c===r&&(l=s),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(CR={focusedElem:t,selectionRange:n},ay=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,C=p.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Es(e.type,v),C);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(T){rr(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return p=IL,IL=!1,p}function jm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&PL(e,n,i)}o=o.next}while(o!==r)}}function By(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HL(t){var e=t.alternate;e!==null&&(t.alternate=null,HL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ha],delete e[Tm],delete e[kR],delete e[FK],delete e[WK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NL(t){return t.tag===5||t.tag===3||t.tag===4}function DL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yy));else if(r!==4&&(t=t.child,t!==null))for(uk(t,e,n),t=t.sibling;t!==null;)uk(t,e,n),t=t.sibling}function ck(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ck(t,e,n),t=t.sibling;t!==null;)ck(t,e,n),t=t.sibling}var Yr=null,Ts=!1;function _u(t,e,n){for(n=n.child;n!==null;)LL(t,e,n),n=n.sibling}function LL(t,e,n){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(ty,n)}catch{}switch(n.tag){case 5:io||Gd(n,e);case 6:var r=Yr,o=Ts;Yr=null,_u(t,e,n),Yr=r,Ts=o,Yr!==null&&(Ts?(t=Yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&(Ts?(t=Yr,n=n.stateNode,t.nodeType===8?RR(t.parentNode,n):t.nodeType===1&&RR(t,n),pm(t)):RR(Yr,n.stateNode));break;case 4:r=Yr,o=Ts,Yr=n.stateNode.containerInfo,Ts=!0,_u(t,e,n),Yr=r,Ts=o;break;case 0:case 11:case 14:case 15:if(!io&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&PL(n,e,s),o=o.next}while(o!==r)}_u(t,e,n);break;case 1:if(!io&&(Gd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rr(n,e,a)}_u(t,e,n);break;case 21:_u(t,e,n);break;case 22:n.mode&1?(io=(r=io)||n.memoizedState!==null,_u(t,e,n),io=r):_u(t,e,n);break;default:_u(t,e,n)}}function jL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nQ),e.forEach(function(r){var o=dQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ms(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yr=a.stateNode,Ts=!1;break e;case 3:Yr=a.stateNode.containerInfo,Ts=!0;break e;case 4:Yr=a.stateNode.containerInfo,Ts=!0;break e}a=a.return}if(Yr===null)throw Error(Ae(160));LL(i,s,o),Yr=null,Ts=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){rr(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FL(e,t),e=e.sibling}function FL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ms(e,t),ga(t),r&4){try{jm(3,t,t.return),By(3,t)}catch(v){rr(t,t.return,v)}try{jm(5,t,t.return)}catch(v){rr(t,t.return,v)}}break;case 1:Ms(e,t),ga(t),r&512&&n!==null&&Gd(n,n.return);break;case 5:if(Ms(e,t),ga(t),r&512&&n!==null&&Gd(n,n.return),t.flags&32){var o=t.stateNode;try{im(o,"")}catch(v){rr(t,t.return,v)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hN(o,i),Bx(a,s);var u=Bx(a,i);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?yN(o,h):c==="dangerouslySetInnerHTML"?wN(o,h):c==="children"?im(o,h):kx(o,c,h,u)}switch(a){case"input":Lx(o,i);break;case"textarea":gN(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kd(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?kd(o,!!i.multiple,i.defaultValue,!0):kd(o,!!i.multiple,i.multiple?[]:"",!1))}o[Tm]=i}catch(v){rr(t,t.return,v)}}break;case 6:if(Ms(e,t),ga(t),r&4){if(t.stateNode===null)throw Error(Ae(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(v){rr(t,t.return,v)}}break;case 3:if(Ms(e,t),ga(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pm(e.containerInfo)}catch(v){rr(t,t.return,v)}break;case 4:Ms(e,t),ga(t);break;case 13:Ms(e,t),ga(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=ur())),r&4&&jL(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(io=(u=io)||c,Ms(e,t),io=u):Ms(e,t),ga(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ke=t,c=t.child;c!==null;){for(h=Ke=c;Ke!==null;){switch(d=Ke,g=d.child,d.tag){case 0:case 11:case 14:case 15:jm(4,d,d.return);break;case 1:Gd(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){rr(r,n,v)}}break;case 5:Gd(d,d.return);break;case 22:if(d.memoizedState!==null){BL(h);continue}}g!==null?(g.return=d,Ke=g):BL(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{o=h.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vN("display",s))}catch(v){rr(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){rr(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ms(e,t),ga(t),r&4&&jL(t);break;case 21:break;default:Ms(e,t),ga(t)}}function ga(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NL(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(im(o,""),r.flags&=-33);var i=DL(t);ck(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=DL(t);uk(t,a,s);break;default:throw Error(Ae(161))}}catch(l){rr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oQ(t,e,n){Ke=t,WL(t)}function WL(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var o=Ke,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Vy;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||io;a=Vy;var u=io;if(Vy=s,(io=l)&&!u)for(Ke=o;Ke!==null;)s=Ke,l=s.child,s.tag===22&&s.memoizedState!==null?UL(o):l!==null?(l.return=s,Ke=l):UL(o);for(;i!==null;)Ke=i,WL(i),i=i.sibling;Ke=o,Vy=a,io=u}VL(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ke=i):VL(t)}}function VL(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:io||By(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!io)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Es(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&LD(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LD(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&pm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}io||e.flags&512&&lk(e)}catch(d){rr(e,e.return,d)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function BL(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function UL(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{By(4,e)}catch(l){rr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){rr(e,o,l)}}var i=e.return;try{lk(e)}catch(l){rr(e,i,l)}break;case 5:var s=e.return;try{lk(e)}catch(l){rr(e,s,l)}}}catch(l){rr(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var iQ=Math.ceil,Uy=rl.ReactCurrentDispatcher,hk=rl.ReactCurrentOwner,Bi=rl.ReactCurrentBatchConfig,Xt=0,Pr=null,pr=null,qr=0,wi=0,Yd=Ru(0),kr=0,Fm=null,Yc=0,zy=0,dk=0,Wm=null,Bo=null,fk=0,qd=1/0,hl=null,$y=!1,gk=null,Ou=null,Gy=!1,Au=null,Yy=0,Vm=0,mk=null,qy=-1,Ky=0;function ko(){return Xt&6?ur():qy!==-1?qy:qy=ur()}function Pu(t){return t.mode&1?Xt&2&&qr!==0?qr&-qr:BK.transition!==null?(Ky===0&&(Ky=HN()),Ky):(t=dn,t!==0||(t=window.event,t=t===void 0?16:UN(t.type)),t):1}function _s(t,e,n,r){if(50<Vm)throw Vm=0,mk=null,Error(Ae(185));hm(t,n,r),(!(Xt&2)||t!==Pr)&&(t===Pr&&(!(Xt&2)&&(zy|=n),kr===4&&Iu(t,qr)),Uo(t,r),n===1&&Xt===0&&!(e.mode&1)&&(qd=ur()+500,xy&&Eu()))}function Uo(t,e){var n=t.callbackNode;B7(t,e);var r=oy(t,t===Pr?qr:0);if(r===0)n!==null&&AN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AN(n),e===1)t.tag===0?VK($L.bind(null,t)):MD($L.bind(null,t)),LK(function(){!(Xt&6)&&Eu()}),n=null;else{switch(NN(r)){case 1:n=Kx;break;case 4:n=PN;break;case 16:n=ey;break;case 536870912:n=IN;break;default:n=ey}n=ZL(n,zL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zL(t,e){if(qy=-1,Ky=0,Xt&6)throw Error(Ae(327));var n=t.callbackNode;if(Kd()&&t.callbackNode!==n)return null;var r=oy(t,t===Pr?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qy(t,r);else{e=r;var o=Xt;Xt|=2;var i=YL();(Pr!==t||qr!==e)&&(hl=null,qd=ur()+500,Kc(t,e));do try{lQ();break}catch(a){GL(t,a)}while(!0);HR(),Uy.current=i,Xt=o,pr!==null?e=0:(Pr=null,qr=0,e=kr)}if(e!==0){if(e===2&&(o=Qx(t),o!==0&&(r=o,e=pk(t,o))),e===1)throw n=Fm,Kc(t,0),Iu(t,r),Uo(t,ur()),n;if(e===6)Iu(t,r);else{if(o=t.current.alternate,!(r&30)&&!sQ(o)&&(e=Qy(t,r),e===2&&(i=Qx(t),i!==0&&(r=i,e=pk(t,i))),e===1))throw n=Fm,Kc(t,0),Iu(t,r),Uo(t,ur()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(Ae(345));case 2:Qc(t,Bo,hl);break;case 3:if(Iu(t,r),(r&130023424)===r&&(e=fk+500-ur(),10<e)){if(oy(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ko(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=xR(Qc.bind(null,t,Bo,hl),e);break}Qc(t,Bo,hl);break;case 4:if(Iu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-xs(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iQ(r/1960))-r,10<r){t.timeoutHandle=xR(Qc.bind(null,t,Bo,hl),r);break}Qc(t,Bo,hl);break;case 5:Qc(t,Bo,hl);break;default:throw Error(Ae(329))}}}return Uo(t,ur()),t.callbackNode===n?zL.bind(null,t):null}function pk(t,e){var n=Wm;return t.current.memoizedState.isDehydrated&&(Kc(t,e).flags|=256),t=Qy(t,e),t!==2&&(e=Bo,Bo=n,e!==null&&wk(e)),t}function wk(t){Bo===null?Bo=t:Bo.push.apply(Bo,t)}function sQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Rs(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Iu(t,e){for(e&=~dk,e&=~zy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xs(e),r=1<<n;t[n]=-1,e&=~r}}function $L(t){if(Xt&6)throw Error(Ae(327));Kd();var e=oy(t,0);if(!(e&1))return Uo(t,ur()),null;var n=Qy(t,e);if(t.tag!==0&&n===2){var r=Qx(t);r!==0&&(e=r,n=pk(t,r))}if(n===1)throw n=Fm,Kc(t,0),Iu(t,e),Uo(t,ur()),n;if(n===6)throw Error(Ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qc(t,Bo,hl),Uo(t,ur()),null}function vk(t,e){var n=Xt;Xt|=1;try{return t(e)}finally{Xt=n,Xt===0&&(qd=ur()+500,xy&&Eu())}}function qc(t){Au!==null&&Au.tag===0&&!(Xt&6)&&Kd();var e=Xt;Xt|=1;var n=Bi.transition,r=dn;try{if(Bi.transition=null,dn=1,t)return t()}finally{dn=r,Bi.transition=n,Xt=e,!(Xt&6)&&Eu()}}function yk(){wi=Yd.current,An(Yd)}function Kc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DK(n)),pr!==null)for(n=pr.return;n!==null;){var r=n;switch(_R(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cy();break;case 3:zd(),An(Fo),An(no),zR();break;case 5:BR(r);break;case 4:zd();break;case 13:An($n);break;case 19:An($n);break;case 10:NR(r.type._context);break;case 22:case 23:yk()}n=n.return}if(Pr=t,pr=t=Hu(t.current,null),qr=wi=e,kr=0,Fm=null,dk=zy=Yc=0,Bo=Wm=null,zc!==null){for(e=0;e<zc.length;e++)if(n=zc[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}zc=null}return t}function GL(t,e){do{var n=pr;try{if(HR(),Hy.current=jy,Ny){for(var r=Gn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ny=!1}if(Gc=0,Ar=Rr=Gn=null,Im=!1,Hm=0,hk.current=null,n===null||n.return===null){kr=1,Fm=e,pr=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=qr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=pL(s);if(g!==null){g.flags&=-257,wL(g,s,a,i,e),g.mode&1&&mL(i,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){mL(i,u,e),bk();break e}l=Error(Ae(426))}}else if(Fn&&a.mode&1){var C=pL(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),wL(C,s,a,i,e),PR($d(l,a));break e}}i=l=$d(l,a),kr!==4&&(kr=2),Wm===null?Wm=[i]:Wm.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=fL(i,l,e);DD(i,w);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ou===null||!Ou.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=gL(i,a,e);DD(i,T);break e}}i=i.return}while(i!==null)}KL(n)}catch(_){e=_,pr===n&&n!==null&&(pr=n=n.return);continue}break}while(!0)}function YL(){var t=Uy.current;return Uy.current=jy,t===null?jy:t}function bk(){(kr===0||kr===3||kr===2)&&(kr=4),Pr===null||!(Yc&268435455)&&!(zy&268435455)||Iu(Pr,qr)}function Qy(t,e){var n=Xt;Xt|=2;var r=YL();(Pr!==t||qr!==e)&&(hl=null,Kc(t,e));do try{aQ();break}catch(o){GL(t,o)}while(!0);if(HR(),Xt=n,Uy.current=r,pr!==null)throw Error(Ae(261));return Pr=null,qr=0,kr}function aQ(){for(;pr!==null;)qL(pr)}function lQ(){for(;pr!==null&&!I7();)qL(pr)}function qL(t){var e=JL(t.alternate,t,wi);t.memoizedProps=t.pendingProps,e===null?KL(t):pr=e,hk.current=null}function KL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tQ(n,e),n!==null){n.flags&=32767,pr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kr=6,pr=null;return}}else if(n=eQ(n,e,wi),n!==null){pr=n;return}if(e=e.sibling,e!==null){pr=e;return}pr=e=t}while(e!==null);kr===0&&(kr=5)}function Qc(t,e,n){var r=dn,o=Bi.transition;try{Bi.transition=null,dn=1,uQ(t,e,n,r)}finally{Bi.transition=o,dn=r}return null}function uQ(t,e,n,r){do Kd();while(Au!==null);if(Xt&6)throw Error(Ae(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(U7(t,i),t===Pr&&(pr=Pr=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gy||(Gy=!0,ZL(ey,function(){return Kd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bi.transition,Bi.transition=null;var s=dn;dn=1;var a=Xt;Xt|=4,hk.current=null,rQ(t,n),FL(n,t),_K(CR),ay=!!bR,CR=bR=null,t.current=n,oQ(n),H7(),Xt=a,dn=s,Bi.transition=i}else t.current=n;if(Gy&&(Gy=!1,Au=t,Yy=o),i=t.pendingLanes,i===0&&(Ou=null),L7(n.stateNode),Uo(t,ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($y)throw $y=!1,t=gk,gk=null,t;return Yy&1&&t.tag!==0&&Kd(),i=t.pendingLanes,i&1?t===mk?Vm++:(Vm=0,mk=t):Vm=0,Eu(),null}function Kd(){if(Au!==null){var t=NN(Yy),e=Bi.transition,n=dn;try{if(Bi.transition=null,dn=16>t?16:t,Au===null)var r=!1;else{if(t=Au,Au=null,Yy=0,Xt&6)throw Error(Ae(331));var o=Xt;for(Xt|=4,Ke=t.current;Ke!==null;){var i=Ke,s=i.child;if(Ke.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ke=u;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:jm(8,c,i)}var h=c.child;if(h!==null)h.return=c,Ke=h;else for(;Ke!==null;){c=Ke;var d=c.sibling,g=c.return;if(HL(c),c===u){Ke=null;break}if(d!==null){d.return=g,Ke=d;break}Ke=g}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}Ke=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ke=s;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jm(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ke=w;break e}Ke=i.return}}var y=t.current;for(Ke=y;Ke!==null;){s=Ke;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ke=x;else e:for(s=y;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:By(9,a)}}catch(_){rr(a,a.return,_)}if(a===s){Ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ke=T;break e}Ke=a.return}}if(Xt=o,Eu(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(ty,t)}catch{}r=!0}return r}finally{dn=n,Bi.transition=e}}return!1}function QL(t,e,n){e=$d(n,e),e=fL(t,e,1),t=Mu(t,e,1),e=ko(),t!==null&&(hm(t,1,e),Uo(t,e))}function rr(t,e,n){if(t.tag===3)QL(t,t,n);else for(;e!==null;){if(e.tag===3){QL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ou===null||!Ou.has(r))){t=$d(n,t),t=gL(e,t,1),e=Mu(e,t,1),t=ko(),e!==null&&(hm(e,1,t),Uo(e,t));break}}e=e.return}}function cQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ko(),t.pingedLanes|=t.suspendedLanes&n,Pr===t&&(qr&n)===n&&(kr===4||kr===3&&(qr&130023424)===qr&&500>ur()-fk?Kc(t,0):dk|=n),Uo(t,e)}function XL(t,e){e===0&&(t.mode&1?(e=ry,ry<<=1,!(ry&130023424)&&(ry=4194304)):e=1);var n=ko();t=ll(t,e),t!==null&&(hm(t,e,n),Uo(t,n))}function hQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XL(t,n)}function dQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(e),XL(t,n)}var JL;JL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fo.current)Vo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vo=!1,ZK(t,e,n);Vo=!!(t.flags&131072)}else Vo=!1,Fn&&e.flags&1048576&&_D(e,ky,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wy(t,e),t=e.pendingProps;var o=Ld(e,no.current);Bd(e,n),o=YR(null,e,r,t,o,n);var i=qR();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wo(r)?(i=!0,Sy(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,jR(e),o.updater=Ay,e.stateNode=o,o._reactInternals=e,WR(e,r,t,n),e=nk(null,e,r,!0,i,n)):(e.tag=0,Fn&&i&&MR(e),Ro(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wy(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=gQ(r),t=Es(r,t),o){case 0:e=tk(null,e,r,t,n);break e;case 1:e=xL(null,e,r,t,n);break e;case 11:e=vL(null,e,r,t,n);break e;case 14:e=yL(null,e,r,Es(r.type,t),n);break e}throw Error(Ae(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Es(r,o),tk(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Es(r,o),xL(t,e,r,o,n);case 3:e:{if(RL(e),t===null)throw Error(Ae(387));r=e.pendingProps,i=e.memoizedState,o=i.element,ND(t,e),Oy(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=$d(Error(Ae(423)),e),e=kL(t,e,r,n,o);break e}else if(r!==o){o=$d(Error(Ae(424)),e),e=kL(t,e,r,n,o);break e}else for(pi=xu(e.stateNode.containerInfo.firstChild),mi=e,Fn=!0,ks=null,n=zD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wd(),r===o){e=cl(t,e,n);break e}Ro(t,e,r,n)}e=e.child}return e;case 5:return $D(e),t===null&&AR(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,SR(r,o)?s=null:i!==null&&SR(r,i)&&(e.flags|=32),SL(t,e),Ro(t,e,s,n),e.child;case 6:return t===null&&AR(e),null;case 13:return EL(t,e,n);case 4:return VR(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ud(e,null,r,n):Ro(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Es(r,o),vL(t,e,r,o,n);case 7:return Ro(t,e,e.pendingProps,n),e.child;case 8:return Ro(t,e,e.pendingProps.children,n),e.child;case 12:return Ro(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Rn(Ty,r._currentValue),r._currentValue=s,i!==null)if(Rs(i.value,s)){if(i.children===o.children&&!Fo.current){e=cl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ul(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),DR(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),DR(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ro(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Bd(e,n),o=Wi(o),r=r(o),e.flags|=1,Ro(t,e,r,n),e.child;case 14:return r=e.type,o=Es(r,e.pendingProps),o=Es(r.type,o),yL(t,e,r,o,n);case 15:return bL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Es(r,o),Wy(t,e),e.tag=1,Wo(r)?(t=!0,Sy(e)):t=!1,Bd(e,n),WD(e,r,o),WR(e,r,o,n),nk(null,e,r,!0,t,n);case 19:return ML(t,e,n);case 22:return CL(t,e,n)}throw Error(Ae(156,e.tag))};function ZL(t,e){return ON(t,e)}function fQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,e,n,r){return new fQ(t,e,n,r)}function Ck(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gQ(t){if(typeof t=="function")return Ck(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mx)return 11;if(t===Ax)return 14}return 2}function Hu(t,e){var n=t.alternate;return n===null?(n=Ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xy(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Ck(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rd:return Xc(n.children,o,i,e);case Ex:s=8,o|=8;break;case Tx:return t=Ui(12,n,e,o|2),t.elementType=Tx,t.lanes=i,t;case _x:return t=Ui(13,n,e,o),t.elementType=_x,t.lanes=i,t;case Ox:return t=Ui(19,n,e,o),t.elementType=Ox,t.lanes=i,t;case sN:return Jy(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oN:s=10;break e;case iN:s=9;break e;case Mx:s=11;break e;case Ax:s=14;break e;case mu:s=16,r=null;break e}throw Error(Ae(130,t==null?t:typeof t,""))}return e=Ui(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Xc(t,e,n,r){return t=Ui(7,t,r,e),t.lanes=n,t}function Jy(t,e,n,r){return t=Ui(22,t,r,e),t.elementType=sN,t.lanes=n,t.stateNode={isHidden:!1},t}function Sk(t,e,n){return t=Ui(6,t,null,e),t.lanes=n,t}function xk(t,e,n){return e=Ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mQ(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xx(0),this.expirationTimes=Xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xx(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Rk(t,e,n,r,o,i,s,a,l){return t=new mQ(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ui(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jR(i),t}function pQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ej(t){if(!t)return ku;t=t._reactInternals;e:{if(Fc(t)!==t||t.tag!==1)throw Error(Ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ae(171))}if(t.tag===1){var n=t.type;if(Wo(n))return ED(t,n,e)}return e}function tj(t,e,n,r,o,i,s,a,l){return t=Rk(n,r,!0,t,o,i,s,a,l),t.context=ej(null),n=t.current,r=ko(),o=Pu(n),i=ul(r,o),i.callback=e??null,Mu(n,i,o),t.current.lanes=o,hm(t,o,r),Uo(t,r),t}function Zy(t,e,n,r){var o=e.current,i=ko(),s=Pu(o);return n=ej(n),e.context===null?e.context=n:e.pendingContext=n,e=ul(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mu(o,e,s),t!==null&&(_s(t,o,s,i),_y(t,o,s)),s}function eb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kk(t,e){nj(t,e),(t=t.alternate)&&nj(t,e)}function wQ(){return null}var rj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ek(t){this._internalRoot=t}tb.prototype.render=Ek.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ae(409));Zy(t,e,null,null)},tb.prototype.unmount=Ek.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qc(function(){Zy(null,t,null,null)}),e[ol]=null}};function tb(t){this._internalRoot=t}tb.prototype.unstable_scheduleHydration=function(t){if(t){var e=jN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bu.length&&e!==0&&e<bu[n].priority;n++);bu.splice(n,0,t),n===0&&VN(t)}};function Tk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oj(){}function vQ(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=eb(s);i.call(u)}}var s=tj(e,r,t,0,null,!1,!1,"",oj);return t._reactRootContainer=s,t[ol]=s.current,km(t.nodeType===8?t.parentNode:t),qc(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=eb(l);a.call(u)}}var l=Rk(t,0,!1,null,null,!1,!1,"",oj);return t._reactRootContainer=l,t[ol]=l.current,km(t.nodeType===8?t.parentNode:t),qc(function(){Zy(e,l,n,r)}),l}function rb(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=eb(s);a.call(l)}}Zy(e,s,t,o)}else s=vQ(n,e,t,o,r);return eb(s)}DN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cm(e.pendingLanes);n!==0&&(Jx(e,n|1),Uo(e,ur()),!(Xt&6)&&(qd=ur()+500,Eu()))}break;case 13:qc(function(){var r=ll(t,1);if(r!==null){var o=ko();_s(r,t,1,o)}}),kk(t,1)}},Zx=function(t){if(t.tag===13){var e=ll(t,134217728);if(e!==null){var n=ko();_s(e,t,134217728,n)}kk(t,134217728)}},LN=function(t){if(t.tag===13){var e=Pu(t),n=ll(t,e);if(n!==null){var r=ko();_s(n,t,e,r)}kk(t,e)}},jN=function(){return dn},FN=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}},$x=function(t,e,n){switch(e){case"input":if(Lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=by(r);if(!o)throw Error(Ae(90));uN(r),Lx(r,o)}}}break;case"textarea":gN(t,n);break;case"select":e=n.value,e!=null&&kd(t,!!n.multiple,e,!1)}},xN=vk,RN=qc;var yQ={usingClientEntryPoint:!1,Events:[Mm,Nd,by,CN,SN,vk]},Bm={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bQ={bundleType:Bm.bundleType,version:Bm.version,rendererPackageName:Bm.rendererPackageName,rendererConfig:Bm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MN(t),t===null?null:t.stateNode},findFiberByHostInstance:Bm.findFiberByHostInstance||wQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ob.isDisabled&&ob.supportsFiber)try{ty=ob.inject(bQ),ca=ob}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yQ,di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tk(e))throw Error(Ae(200));return pQ(t,e,null,n)},di.createRoot=function(t,e){if(!Tk(t))throw Error(Ae(299));var n=!1,r="",o=rj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Rk(t,1,!1,null,null,n,!1,r,o),t[ol]=e.current,km(t.nodeType===8?t.parentNode:t),new Ek(e)},di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ae(188)):(t=Object.keys(t).join(","),Error(Ae(268,t)));return t=MN(e),t=t===null?null:t.stateNode,t},di.flushSync=function(t){return qc(t)},di.hydrate=function(t,e,n){if(!nb(e))throw Error(Ae(200));return rb(null,t,e,!0,n)},di.hydrateRoot=function(t,e,n){if(!Tk(t))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=rj;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=tj(e,null,t,1,n??null,o,!1,i,s),t[ol]=e.current,km(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new tb(e)},di.render=function(t,e,n){if(!nb(e))throw Error(Ae(200));return rb(null,t,e,!1,n)},di.unmountComponentAtNode=function(t){if(!nb(t))throw Error(Ae(40));return t._reactRootContainer?(qc(function(){rb(null,null,t,!1,function(){t._reactRootContainer=null,t[ol]=null})}),!0):!1},di.unstable_batchedUpdates=vk,di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nb(n))throw Error(Ae(200));if(t==null||t._reactInternals===void 0)throw Error(Ae(38));return rb(t,e,n,!1,r)},di.version="18.2.0-next-9e3b772b8-20220608";function ij(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ij)}catch(t){console.error(t)}}ij(),XH.exports=di;var Jc=XH.exports;const Mk=gu(Jc),CQ=fu({__proto__:null,default:Mk},[Jc]);var sj=Jc;Cx.createRoot=sj.createRoot,Cx.hydrateRoot=sj.hydrateRoot;/**
* @remix-run/router v1.15.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yn.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const aj="popstate";function SQ(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Um("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:eh(o)}return RQ(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xQ(){return Math.random().toString(36).substr(2,8)}function lj(t,e){return{usr:t.state,key:t.key,idx:e}}function Um(t,e,n,r){return n===void 0&&(n=null),Yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:n,key:e&&e.key||r||xQ()})}function eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RQ(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=cr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Yn({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=cr.Pop;let C=c(),w=C==null?null:C-u;u=C,l&&l({action:a,location:v.location,delta:w})}function d(C,w){a=cr.Push;let y=Um(v.location,C,w);n&&n(y,C),u=c()+1;let x=lj(y,u),T=v.createHref(y);try{s.pushState(x,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(T)}i&&l&&l({action:a,location:v.location,delta:1})}function g(C,w){a=cr.Replace;let y=Um(v.location,C,w);n&&n(y,C),u=c();let x=lj(y,u),T=v.createHref(y);s.replaceState(x,"",T),i&&l&&l({action:a,location:v.location,delta:0})}function p(C){let w=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof C=="string"?C:eh(C);return Wt(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return a},get location(){return t(o,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(aj,h),l=C,()=>{o.removeEventListener(aj,h),l=null}},createHref(C){return e(o,C)},createURL:p,encodeLocation(C){let w=p(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(C){return s.go(C)}};return v}var or;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(or||(or={}));const kQ=new Set(["lazy","caseSensitive","path","id","index","children"]);function EQ(t){return t.index===!0}function _k(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,i)=>{let s=[...n,i],a=typeof o.id=="string"?o.id:s.join("-");if(Wt(o.index!==!0||!o.children,"Cannot specify children on an index route"),Wt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),EQ(o)){let l=Yn({},o,e(o),{id:a});return r[a]=l,l}else{let l=Yn({},o,e(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=_k(o.children,e,s,r)),l}})}function Qd(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?dl(e):e,o=fl(r.pathname||"/",n);if(o==null)return null;let i=uj(t);MQ(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=LQ(i[a],FQ(o));return s}function TQ(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function uj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gl([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uj(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:NQ(u,i.index),routesMeta:c})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of cj(i.path))o(i,s,l)}),e}function cj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=cj(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MQ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DQ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _Q=/^:[\w-]+$/,OQ=3,AQ=2,PQ=1,IQ=10,HQ=-2,hj=t=>t==="*";function NQ(t,e){let n=t.split("/"),r=n.length;return n.some(hj)&&(r+=HQ),e&&(r+=AQ),n.filter(o=>!hj(o)).reduce((o,i)=>o+(_Q.test(i)?OQ:i===""?PQ:IQ),r)}function DQ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function LQ(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",c=Ok({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;i.push({params:r,pathname:gl([o,c.pathname]),pathnameBase:UQ(gl([o,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(o=gl([o,c.pathnameBase]))}return i}function Ok(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jQ(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((l,u,c)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let p=a[c]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[c];return d&&!g?l[h]=void 0:l[h]=WQ(g||"",h),l},{}),pathname:i,pathnameBase:s,pattern:t}}function jQ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FQ(t){try{return decodeURI(t)}catch(e){return Zc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WQ(t,e){try{return decodeURIComponent(t)}catch(n){return Zc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VQ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:BQ(n,e):e,search:zQ(r),hash:$Q(o)}}function BQ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ak(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pk(t,e){let n=dj(t);return e?n.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ik(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=dl(t):(o=Yn({},t),Wt(!o.pathname||!o.pathname.includes("?"),Ak("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),Ak("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),Ak("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;o.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=VQ(o,a),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const gl=t=>t.join("/").replace(/\/\/+/g,"/"),UQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$Q=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zm=function(t,e){e===void 0&&(e=302);let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,Yn({},n,{headers:r}))};class Hk{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gj=["post","put","patch","delete"],GQ=new Set(gj),YQ=["get",...gj],qQ=new Set(YQ),KQ=new Set([301,302,303,307,308]),QQ=new Set([307,308]),Nk={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},XQ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$m={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JQ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),pj="remix-router-transitions";function ZQ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Wt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let Q=t.detectErrorBoundary;o=ie=>({hasErrorBoundary:Q(ie)})}else o=JQ;let i={},s=_k(t.routes,o,void 0,i),a,l=t.basename||"/",u=Yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,d=null,g=null,p=null,v=t.hydrationData!=null,C=Qd(s,t.history.location,l),w=null;if(C==null){let Q=zi(404,{pathname:t.history.location.pathname}),{matches:ie,route:me}=kj(s);C=ie,w={[me.id]:Q}}let y,x=C.some(Q=>Q.route.lazy),T=C.some(Q=>Q.route.loader);if(x)y=!1;else if(!T)y=!0;else if(u.v7_partialHydration){let Q=t.hydrationData?t.hydrationData.loaderData:null,ie=t.hydrationData?t.hydrationData.errors:null;y=C.every(me=>me.route.loader&&me.route.loader.hydrate!==!0&&(Q&&Q[me.route.id]!==void 0||ie&&ie[me.route.id]!==void 0))}else y=t.hydrationData!=null;let _,E={historyAction:t.history.action,location:t.history.location,matches:C,initialized:y,navigation:Nk,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},O=cr.Pop,N=!1,H,L=!1,G=new Map,ue=null,B=!1,he=!1,Ee=[],Me=[],ye=new Map,te=0,S=-1,R=new Map,M=new Set,D=new Map,W=new Map,U=new Set,se=new Map,ae=new Map,Se=!1;function Ce(){if(c=t.history.listen(Q=>{let{action:ie,location:me,delta:ee}=Q;if(Se){Se=!1;return}Zc(ae.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let He=ln({currentLocation:E.location,nextLocation:me,historyAction:ie});if(He&&ee!=null){Se=!0,t.history.go(ee*-1),pt(He,{state:"blocked",location:me,proceed(){pt(He,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),t.history.go(ee)},reset(){let ct=new Map(E.blockers);ct.set(He,$m),fe({blockers:ct})}});return}return at(ie,me)}),n){cX(e,G);let Q=()=>hX(e,G);e.addEventListener("pagehide",Q),ue=()=>e.removeEventListener("pagehide",Q)}return E.initialized||at(cr.Pop,E.location,{initialHydration:!0}),_}function we(){c&&c(),ue&&ue(),h.clear(),H&&H.abort(),E.fetchers.forEach((Q,ie)=>K(ie)),E.blockers.forEach((Q,ie)=>ut(ie))}function ve(Q){return h.add(Q),()=>h.delete(Q)}function fe(Q,ie){ie===void 0&&(ie={}),E=Yn({},E,Q);let me=[],ee=[];u.v7_fetcherPersist&&E.fetchers.forEach((He,ct)=>{He.state==="idle"&&(U.has(ct)?ee.push(ct):me.push(ct))}),[...h].forEach(He=>He(E,{deletedFetchers:ee,unstable_viewTransitionOpts:ie.viewTransitionOpts,unstable_flushSync:ie.flushSync===!0})),u.v7_fetcherPersist&&(me.forEach(He=>E.fetchers.delete(He)),ee.forEach(He=>K(He)))}function je(Q,ie,me){var ee,He;let{flushSync:ct}=me===void 0?{}:me,ft=E.actionData!=null&&E.navigation.formMethod!=null&&Os(E.navigation.formMethod)&&E.navigation.state==="loading"&&((ee=Q.state)==null?void 0:ee._isRedirect)!==!0,it;ie.actionData?Object.keys(ie.actionData).length>0?it=ie.actionData:it=null:ft?it=E.actionData:it=null;let nt=ie.loaderData?Rj(E.loaderData,ie.loaderData,ie.matches||[],ie.errors):E.loaderData,Mt=E.blockers;Mt.size>0&&(Mt=new Map(Mt),Mt.forEach((sn,Sn)=>Mt.set(Sn,$m)));let yn=N===!0||E.navigation.formMethod!=null&&Os(E.navigation.formMethod)&&((He=Q.state)==null?void 0:He._isRedirect)!==!0;a&&(s=a,a=void 0),B||O===cr.Pop||(O===cr.Push?t.history.push(Q,Q.state):O===cr.Replace&&t.history.replace(Q,Q.state));let st;if(O===cr.Pop){let sn=G.get(E.location.pathname);sn&&sn.has(Q.pathname)?st={currentLocation:E.location,nextLocation:Q}:G.has(Q.pathname)&&(st={currentLocation:Q,nextLocation:E.location})}else if(L){let sn=G.get(E.location.pathname);sn?sn.add(Q.pathname):(sn=new Set([Q.pathname]),G.set(E.location.pathname,sn)),st={currentLocation:E.location,nextLocation:Q}}fe(Yn({},ie,{actionData:it,loaderData:nt,historyAction:O,location:Q,initialized:!0,navigation:Nk,revalidation:"idle",restoreScrollPosition:aa(Q,ie.matches||E.matches),preventScrollReset:yn,blockers:Mt}),{viewTransitionOpts:st,flushSync:ct===!0}),O=cr.Pop,N=!1,L=!1,B=!1,he=!1,Ee=[],Me=[]}async function xe(Q,ie){if(typeof Q=="number"){t.history.go(Q);return}let me=Dk(E.location,E.matches,l,u.v7_prependBasename,Q,u.v7_relativeSplatPath,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:ee,submission:He,error:ct}=wj(u.v7_normalizeFormMethod,!1,me,ie),ft=E.location,it=Um(E.location,ee,ie&&ie.state);it=Yn({},it,t.history.encodeLocation(it));let nt=ie&&ie.replace!=null?ie.replace:void 0,Mt=cr.Push;nt===!0?Mt=cr.Replace:nt===!1||He!=null&&Os(He.formMethod)&&He.formAction===E.location.pathname+E.location.search&&(Mt=cr.Replace);let yn=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,st=(ie&&ie.unstable_flushSync)===!0,sn=ln({currentLocation:ft,nextLocation:it,historyAction:Mt});if(sn){pt(sn,{state:"blocked",location:it,proceed(){pt(sn,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),xe(Q,ie)},reset(){let Sn=new Map(E.blockers);Sn.set(sn,$m),fe({blockers:Sn})}});return}return await at(Mt,it,{submission:He,pendingError:ct,preventScrollReset:yn,replace:ie&&ie.replace,enableViewTransition:ie&&ie.unstable_viewTransition,flushSync:st})}function oe(){if(J(),fe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){at(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}at(O||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function at(Q,ie,me){H&&H.abort(),H=null,O=Q,B=(me&&me.startUninterruptedRevalidation)===!0,bs(E.location,E.matches),N=(me&&me.preventScrollReset)===!0,L=(me&&me.enableViewTransition)===!0;let ee=a||s,He=me&&me.overrideNavigation,ct=Qd(ee,ie,l),ft=(me&&me.flushSync)===!0;if(!ct){let Sn=zi(404,{pathname:ie.pathname}),{matches:Zr,route:xn}=kj(ee);St(),je(ie,{matches:Zr,loaderData:{},errors:{[xn.id]:Sn}},{flushSync:ft});return}if(E.initialized&&!he&&oX(E.location,ie)&&!(me&&me.submission&&Os(me.submission.formMethod))){je(ie,{matches:ct},{flushSync:ft});return}H=new AbortController;let it=Ym(t.history,ie,H.signal,me&&me.submission),nt,Mt;if(me&&me.pendingError)Mt={[qm(ct).route.id]:me.pendingError};else if(me&&me.submission&&Os(me.submission.formMethod)){let Sn=await Ye(it,ie,me.submission,ct,{replace:me.replace,flushSync:ft});if(Sn.shortCircuited)return;nt=Sn.pendingActionData,Mt=Sn.pendingActionError,He=Wk(ie,me.submission),ft=!1,it=new Request(it.url,{signal:it.signal})}let{shortCircuited:yn,loaderData:st,errors:sn}=await Xe(it,ie,ct,He,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,ft,nt,Mt);yn||(H=null,je(ie,Yn({matches:ct},nt?{actionData:nt}:{},{loaderData:st,errors:sn})))}async function Ye(Q,ie,me,ee,He){He===void 0&&(He={}),J();let ct=lX(ie,me);fe({navigation:ct},{flushSync:He.flushSync===!0});let ft,it=Fk(ee,ie);if(!it.route.action&&!it.route.lazy)ft={type:or.error,error:zi(405,{method:Q.method,pathname:ie.pathname,routeId:it.route.id})};else if(ft=await Gm("action",Q,it,ee,i,o,l,u.v7_relativeSplatPath),Q.signal.aborted)return{shortCircuited:!0};if(nh(ft)){let nt;return He&&He.replace!=null?nt=He.replace:nt=ft.location===E.location.pathname+E.location.search,await I(E,ft,{submission:me,replace:nt}),{shortCircuited:!0}}if(Xd(ft)){let nt=qm(ee,it.route.id);return(He&&He.replace)!==!0&&(O=cr.Push),{pendingActionData:{},pendingActionError:{[nt.route.id]:ft.error}}}if(th(ft))throw zi(400,{type:"defer-action"});return{pendingActionData:{[it.route.id]:ft.data}}}async function Xe(Q,ie,me,ee,He,ct,ft,it,nt,Mt,yn){let st=ee||Wk(ie,He),sn=He||ct||Oj(st),Sn=a||s,[Zr,xn]=vj(t.history,E,me,sn,ie,u.v7_partialHydration&&it===!0,he,Ee,Me,U,D,M,Sn,l,Mt,yn);if(St(mt=>!(me&&me.some(Nt=>Nt.route.id===mt))||Zr&&Zr.some(Nt=>Nt.route.id===mt)),S=++te,Zr.length===0&&xn.length===0){let mt=Pe();return je(ie,Yn({matches:me,loaderData:{},errors:yn||null},Mt?{actionData:Mt}:{},mt?{fetchers:new Map(E.fetchers)}:{}),{flushSync:nt}),{shortCircuited:!0}}if(!B&&(!u.v7_partialHydration||!it)){xn.forEach(Nt=>{let Zt=E.fetchers.get(Nt.key),Co=Km(void 0,Zt?Zt.data:void 0);E.fetchers.set(Nt.key,Co)});let mt=Mt||E.actionData;fe(Yn({navigation:st},mt?Object.keys(mt).length===0?{actionData:null}:{actionData:mt}:{},xn.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:nt})}xn.forEach(mt=>{ye.has(mt.key)&&X(mt.key),mt.controller&&ye.set(mt.key,mt.controller)});let $r=()=>xn.forEach(mt=>X(mt.key));H&&H.signal.addEventListener("abort",$r);let{results:lr,loaderResults:Cs,fetcherResults:Di}=await j(E.matches,me,Zr,xn,Q);if(Q.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",$r),xn.forEach(mt=>ye.delete(mt.key));let ci=Ej(lr);if(ci){if(ci.idx>=Zr.length){let mt=xn[ci.idx-Zr.length].key;M.add(mt)}return await I(E,ci.result,{replace:ft}),{shortCircuited:!0}}let{loaderData:Dc,errors:Y}=xj(E,me,Zr,Cs,yn,xn,Di,se);se.forEach((mt,Nt)=>{mt.subscribe(Zt=>{(Zt||mt.done)&&se.delete(Nt)})});let De=Pe(),Oe=Fe(S),Ft=De||Oe||xn.length>0;return Yn({loaderData:Dc,errors:Y},Ft?{fetchers:new Map(E.fetchers)}:{})}function lt(Q,ie,me,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ye.has(Q)&&X(Q);let He=(ee&&ee.unstable_flushSync)===!0,ct=a||s,ft=Dk(E.location,E.matches,l,u.v7_prependBasename,me,u.v7_relativeSplatPath,ie,ee==null?void 0:ee.relative),it=Qd(ct,ft,l);if(!it){Z(Q,ie,zi(404,{pathname:ft}),{flushSync:He});return}let{path:nt,submission:Mt,error:yn}=wj(u.v7_normalizeFormMethod,!0,ft,ee);if(yn){Z(Q,ie,yn,{flushSync:He});return}let st=Fk(it,nt);if(N=(ee&&ee.preventScrollReset)===!0,Mt&&Os(Mt.formMethod)){Ne(Q,ie,nt,st,it,He,Mt);return}D.set(Q,{routeId:ie,path:nt}),A(Q,ie,nt,st,it,He,Mt)}async function Ne(Q,ie,me,ee,He,ct,ft){if(J(),D.delete(Q),!ee.route.action&&!ee.route.lazy){let Nt=zi(405,{method:ft.formMethod,pathname:me,routeId:ie});Z(Q,ie,Nt,{flushSync:ct});return}let it=E.fetchers.get(Q);V(Q,uX(ft,it),{flushSync:ct});let nt=new AbortController,Mt=Ym(t.history,me,nt.signal,ft);ye.set(Q,nt);let yn=te,st=await Gm("action",Mt,ee,He,i,o,l,u.v7_relativeSplatPath);if(Mt.signal.aborted){ye.get(Q)===nt&&ye.delete(Q);return}if(u.v7_fetcherPersist&&U.has(Q)){if(nh(st)||Xd(st)){V(Q,Nu(void 0));return}}else{if(nh(st))if(ye.delete(Q),S>yn){V(Q,Nu(void 0));return}else return M.add(Q),V(Q,Km(ft)),I(E,st,{fetcherSubmission:ft});if(Xd(st)){Z(Q,ie,st.error);return}}if(th(st))throw zi(400,{type:"defer-action"});let sn=E.navigation.location||E.location,Sn=Ym(t.history,sn,nt.signal),Zr=a||s,xn=E.navigation.state!=="idle"?Qd(Zr,E.navigation.location,l):E.matches;Wt(xn,"Didn't find any matches after fetcher action");let $r=++te;R.set(Q,$r);let lr=Km(ft,st.data);E.fetchers.set(Q,lr);let[Cs,Di]=vj(t.history,E,xn,ft,sn,!1,he,Ee,Me,U,D,M,Zr,l,{[ee.route.id]:st.data},void 0);Di.filter(Nt=>Nt.key!==Q).forEach(Nt=>{let Zt=Nt.key,Co=E.fetchers.get(Zt),hi=Km(void 0,Co?Co.data:void 0);E.fetchers.set(Zt,hi),ye.has(Zt)&&X(Zt),Nt.controller&&ye.set(Zt,Nt.controller)}),fe({fetchers:new Map(E.fetchers)});let ci=()=>Di.forEach(Nt=>X(Nt.key));nt.signal.addEventListener("abort",ci);let{results:Dc,loaderResults:Y,fetcherResults:De}=await j(E.matches,xn,Cs,Di,Sn);if(nt.signal.aborted)return;nt.signal.removeEventListener("abort",ci),R.delete(Q),ye.delete(Q),Di.forEach(Nt=>ye.delete(Nt.key));let Oe=Ej(Dc);if(Oe){if(Oe.idx>=Cs.length){let Nt=Di[Oe.idx-Cs.length].key;M.add(Nt)}return I(E,Oe.result)}let{loaderData:Ft,errors:mt}=xj(E,E.matches,Cs,Y,void 0,Di,De,se);if(E.fetchers.has(Q)){let Nt=Nu(st.data);E.fetchers.set(Q,Nt)}Fe($r),E.navigation.state==="loading"&&$r>S?(Wt(O,"Expected pending action"),H&&H.abort(),je(E.navigation.location,{matches:xn,loaderData:Ft,errors:mt,fetchers:new Map(E.fetchers)})):(fe({errors:mt,loaderData:Rj(E.loaderData,Ft,xn,mt),fetchers:new Map(E.fetchers)}),he=!1)}async function A(Q,ie,me,ee,He,ct,ft){let it=E.fetchers.get(Q);V(Q,Km(ft,it?it.data:void 0),{flushSync:ct});let nt=new AbortController,Mt=Ym(t.history,me,nt.signal);ye.set(Q,nt);let yn=te,st=await Gm("loader",Mt,ee,He,i,o,l,u.v7_relativeSplatPath);if(th(st)&&(st=await _j(st,Mt.signal,!0)||st),ye.get(Q)===nt&&ye.delete(Q),!Mt.signal.aborted){if(U.has(Q)){V(Q,Nu(void 0));return}if(nh(st))if(S>yn){V(Q,Nu(void 0));return}else{M.add(Q),await I(E,st);return}if(Xd(st)){Z(Q,ie,st.error);return}Wt(!th(st),"Unhandled fetcher deferred data"),V(Q,Nu(st.data))}}async function I(Q,ie,me){let{submission:ee,fetcherSubmission:He,replace:ct}=me===void 0?{}:me;ie.revalidate&&(he=!0);let ft=Um(Q.location,ie.location,{_isRedirect:!0});if(Wt(ft,"Expected a location on the redirect navigation"),n){let sn=!1;if(ie.reloadDocument)sn=!0;else if(mj.test(ie.location)){const Sn=t.history.createURL(ie.location);sn=Sn.origin!==e.location.origin||fl(Sn.pathname,l)==null}if(sn){ct?e.location.replace(ie.location):e.location.assign(ie.location);return}}H=null;let it=ct===!0?cr.Replace:cr.Push,{formMethod:nt,formAction:Mt,formEncType:yn}=Q.navigation;!ee&&!He&&nt&&Mt&&yn&&(ee=Oj(Q.navigation));let st=ee||He;if(QQ.has(ie.status)&&st&&Os(st.formMethod))await at(it,ft,{submission:Yn({},st,{formAction:ie.location}),preventScrollReset:N});else{let sn=Wk(ft,ee);await at(it,ft,{overrideNavigation:sn,fetcherSubmission:He,preventScrollReset:N})}}async function j(Q,ie,me,ee,He){let ct=await Promise.all([...me.map(nt=>Gm("loader",He,nt,ie,i,o,l,u.v7_relativeSplatPath)),...ee.map(nt=>nt.matches&&nt.match&&nt.controller?Gm("loader",Ym(t.history,nt.path,nt.controller.signal),nt.match,nt.matches,i,o,l,u.v7_relativeSplatPath):{type:or.error,error:zi(404,{pathname:nt.path})})]),ft=ct.slice(0,me.length),it=ct.slice(me.length);return await Promise.all([Mj(Q,me,ft,ft.map(()=>He.signal),!1,E.loaderData),Mj(Q,ee.map(nt=>nt.match),it,ee.map(nt=>nt.controller?nt.controller.signal:null),!0)]),{results:ct,loaderResults:ft,fetcherResults:it}}function J(){he=!0,Ee.push(...St()),D.forEach((Q,ie)=>{ye.has(ie)&&(Me.push(ie),X(ie))})}function V(Q,ie,me){me===void 0&&(me={}),E.fetchers.set(Q,ie),fe({fetchers:new Map(E.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Z(Q,ie,me,ee){ee===void 0&&(ee={});let He=qm(E.matches,ie);K(Q),fe({errors:{[He.route.id]:me},fetchers:new Map(E.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function q(Q){return u.v7_fetcherPersist&&(W.set(Q,(W.get(Q)||0)+1),U.has(Q)&&U.delete(Q)),E.fetchers.get(Q)||XQ}function K(Q){let ie=E.fetchers.get(Q);ye.has(Q)&&!(ie&&ie.state==="loading"&&R.has(Q))&&X(Q),D.delete(Q),R.delete(Q),M.delete(Q),U.delete(Q),E.fetchers.delete(Q)}function ne(Q){if(u.v7_fetcherPersist){let ie=(W.get(Q)||0)-1;ie<=0?(W.delete(Q),U.add(Q)):W.set(Q,ie)}else K(Q);fe({fetchers:new Map(E.fetchers)})}function X(Q){let ie=ye.get(Q);Wt(ie,"Expected fetch controller: "+Q),ie.abort(),ye.delete(Q)}function re(Q){for(let ie of Q){let me=q(ie),ee=Nu(me.data);E.fetchers.set(ie,ee)}}function Pe(){let Q=[],ie=!1;for(let me of M){let ee=E.fetchers.get(me);Wt(ee,"Expected fetcher: "+me),ee.state==="loading"&&(M.delete(me),Q.push(me),ie=!0)}return re(Q),ie}function Fe(Q){let ie=[];for(let[me,ee]of R)if(ee<Q){let He=E.fetchers.get(me);Wt(He,"Expected fetcher: "+me),He.state==="loading"&&(X(me),R.delete(me),ie.push(me))}return re(ie),ie.length>0}function tt(Q,ie){let me=E.blockers.get(Q)||$m;return ae.get(Q)!==ie&&ae.set(Q,ie),me}function ut(Q){E.blockers.delete(Q),ae.delete(Q)}function pt(Q,ie){let me=E.blockers.get(Q)||$m;Wt(me.state==="unblocked"&&ie.state==="blocked"||me.state==="blocked"&&ie.state==="blocked"||me.state==="blocked"&&ie.state==="proceeding"||me.state==="blocked"&&ie.state==="unblocked"||me.state==="proceeding"&&ie.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+ie.state);let ee=new Map(E.blockers);ee.set(Q,ie),fe({blockers:ee})}function ln(Q){let{currentLocation:ie,nextLocation:me,historyAction:ee}=Q;if(ae.size===0)return;ae.size>1&&Zc(!1,"A router only supports one blocker at a time");let He=Array.from(ae.entries()),[ct,ft]=He[He.length-1],it=E.blockers.get(ct);if(!(it&&it.state==="proceeding")&&ft({currentLocation:ie,nextLocation:me,historyAction:ee}))return ct}function St(Q){let ie=[];return se.forEach((me,ee)=>{(!Q||Q(ee))&&(me.cancel(),ie.push(ee),se.delete(ee))}),ie}function ze(Q,ie,me){if(d=Q,p=ie,g=me||null,!v&&E.navigation===Nk){v=!0;let ee=aa(E.location,E.matches);ee!=null&&fe({restoreScrollPosition:ee})}return()=>{d=null,p=null,g=null}}function cn(Q,ie){return g&&g(Q,ie.map(me=>TQ(me,E.loaderData)))||Q.key}function bs(Q,ie){if(d&&p){let me=cn(Q,ie);d[me]=p()}}function aa(Q,ie){if(d){let me=cn(Q,ie),ee=d[me];if(typeof ee=="number")return ee}return null}function hn(Q){i={},a=_k(Q,o,void 0,i)}return _={get basename(){return l},get future(){return u},get state(){return E},get routes(){return s},get window(){return e},initialize:Ce,subscribe:ve,enableScrollRestoration:ze,navigate:xe,fetch:lt,revalidate:oe,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:q,deleteFetcher:ne,dispose:we,getBlocker:tt,deleteBlocker:ut,_internalFetchControllers:ye,_internalActiveDeferreds:se,_internalSetRoutes:hn},_}function eX(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dk(t,e,n,r,o,i,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=Ik(o||".",Pk(l,i),fl(t.pathname,n)||t.pathname,a==="path");return o==null&&(c.search=t.search,c.hash=t.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!jk(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:gl([n,c.pathname])),eh(c)}function wj(t,e,n,r){if(!r||!eX(r))return{path:n};if(r.formMethod&&!aX(r.formMethod))return{path:n,error:zi(405,{method:r.formMethod})};let o=()=>({path:n,error:zi(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=t?i.toUpperCase():i.toLowerCase(),a=Tj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Os(s))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,p)=>{let[v,C]=p;return""+g+v+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Os(s))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Lk(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Lk(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Sj(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Sj(l)}catch{return o()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Os(c.formMethod))return{path:n,submission:c};let h=dl(n);return e&&h.search&&jk(h.search)&&l.append("index",""),h.search="?"+l,{path:eh(h),submission:c}}function tX(t,e){let n=t;if(e){let r=t.findIndex(o=>o.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function vj(t,e,n,r,o,i,s,a,l,u,c,h,d,g,p,v){let C=v?Object.values(v)[0]:p?Object.values(p)[0]:void 0,w=t.createURL(e.location),y=t.createURL(o),x=v?Object.keys(v)[0]:void 0,T=tX(n,x).filter((E,O)=>{let{route:N}=E;if(N.lazy)return!0;if(N.loader==null)return!1;if(i)return N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(nX(e.loaderData,e.matches[O],E)||a.some(G=>G===E.route.id))return!0;let H=e.matches[O],L=E;return bj(E,Yn({currentUrl:w,currentParams:H.params,nextUrl:y,nextParams:L.params},r,{actionResult:C,defaultShouldRevalidate:s||w.pathname+w.search===y.pathname+y.search||w.search!==y.search||yj(H,L)}))}),_=[];return c.forEach((E,O)=>{if(i||!n.some(ue=>ue.route.id===E.routeId)||u.has(O))return;let N=Qd(d,E.path,g);if(!N){_.push({key:O,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(O),L=Fk(N,E.path),G=!1;h.has(O)?G=!1:l.includes(O)?G=!0:H&&H.state!=="idle"&&H.data===void 0?G=s:G=bj(L,Yn({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:C,defaultShouldRevalidate:s})),G&&_.push({key:O,routeId:E.routeId,path:E.path,matches:N,match:L,controller:new AbortController})}),[T,_]}function nX(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function yj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bj(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Cj(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];Wt(o,"No route found in manifest");let i={};for(let s in r){let a=o[s]!==void 0&&s!=="hasErrorBoundary";Zc(!a,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!kQ.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Yn({},e(o),{lazy:void 0}))}async function Gm(t,e,n,r,o,i,s,a,l){l===void 0&&(l={});let u,c,h,d=v=>{let C,w=new Promise((y,x)=>C=x);return h=()=>C(),e.signal.addEventListener("abort",h),Promise.race([v({request:e,params:n.params,context:l.requestContext}),w])};try{let v=n.route[t];if(n.route.lazy)if(v){let C,w=await Promise.all([d(v).catch(y=>{C=y}),Cj(n.route,i,o)]);if(C)throw C;c=w[0]}else if(await Cj(n.route,i,o),v=n.route[t],v)c=await d(v);else if(t==="action"){let C=new URL(e.url),w=C.pathname+C.search;throw zi(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:or.data,data:void 0};else if(v)c=await d(v);else{let C=new URL(e.url),w=C.pathname+C.search;throw zi(404,{pathname:w})}Wt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=or.error,c=v}finally{h&&e.signal.removeEventListener("abort",h)}if(sX(c)){let v=c.status;if(KQ.has(v)){let w=c.headers.get("Location");if(Wt(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!mj.test(w))w=Dk(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,w,a);else if(!l.isStaticRequest){let y=new URL(e.url),x=w.startsWith("//")?new URL(y.protocol+w):new URL(w),T=fl(x.pathname,s)!=null;x.origin===y.origin&&T&&(w=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw c.headers.set("Location",w),c;return{type:or.redirect,status:v,location:w,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===or.error?or.error:or.data,response:c};let C;try{let w=c.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?c.body==null?C=null:C=await c.json():C=await c.text()}catch(w){return{type:or.error,error:w}}return u===or.error?{type:u,error:new Hk(v,c.statusText,C),headers:c.headers}:{type:or.data,data:C,statusCode:c.status,headers:c.headers}}if(u===or.error)return{type:u,error:c};if(iX(c)){var g,p;return{type:or.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:or.data,data:c}}function Ym(t,e,n,r){let o=t.createURL(Tj(e)).toString(),i={signal:n};if(r&&Os(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Lk(r.formData):i.body=r.formData}return new Request(o,i)}function Lk(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Sj(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function rX(t,e,n,r,o){let i={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=e[h].route.id;if(Wt(!nh(c),"Cannot handle redirect results in processLoaderData"),Xd(c)){let g=qm(t,d),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=p),i[d]=void 0,l||(l=!0,a=fj(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else th(c)?(o.set(d,c.deferredData),i[d]=c.deferredData.data):i[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:u}}function xj(t,e,n,r,o,i,s,a){let{loaderData:l,errors:u}=rX(e,n,r,o,a);for(let c=0;c<i.length;c++){let{key:h,match:d,controller:g}=i[c];Wt(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(g&&g.signal.aborted))if(Xd(p)){let v=qm(t.matches,d==null?void 0:d.route.id);u&&u[v.route.id]||(u=Yn({},u,{[v.route.id]:p.error})),t.fetchers.delete(h)}else if(nh(p))Wt(!1,"Unhandled fetcher revalidation redirect");else if(th(p))Wt(!1,"Unhandled fetcher deferred data");else{let v=Nu(p.data);t.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function Rj(t,e,n,r){let o=Yn({},e);for(let i of n){let s=i.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(o[s]=e[s]):t[s]!==void 0&&i.route.loader&&(o[s]=t[s]),r&&r.hasOwnProperty(s))break}return o}function qm(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function kj(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zi(t,e){let{pathname:n,routeId:r,method:o,type:i}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",o&&n&&r?a="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",o&&n&&r?a="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(a='Invalid request method "'+o.toUpperCase()+'"')),new Hk(t||500,s,new Error(a),!0)}function Ej(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(nh(n))return{result:n,idx:e}}}function Tj(t){let e=typeof t=="string"?dl(t):t;return eh(Yn({},e,{hash:""}))}function oX(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function th(t){return t.type===or.deferred}function Xd(t){return t.type===or.error}function nh(t){return(t&&t.type)===or.redirect}function iX(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function sX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aX(t){return qQ.has(t.toLowerCase())}function Os(t){return GQ.has(t.toLowerCase())}async function Mj(t,e,n,r,o,i){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!yj(u,l)&&(i&&i[l.route.id])!==void 0;if(th(a)&&(o||c)){let h=r[s];Wt(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await _j(a,h,o).then(d=>{d&&(n[s]=d||n[s])})}}}async function _j(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:or.data,data:t.deferredData.unwrappedData}}catch(r){return{type:or.error,error:r}}return{type:or.data,data:t.deferredData.data}}}function jk(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Fk(t,e){let n=typeof e=="string"?dl(e).search:e.search;if(t[t.length-1].route.index&&jk(n||""))return t[t.length-1];let r=dj(t);return r[r.length-1]}function Oj(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:i,json:s}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Wk(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lX(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Km(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function uX(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Nu(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cX(t,e){try{let n=t.sessionStorage.getItem(pj);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(o,new Set(i||[]))}}catch{}}function hX(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(pj,JSON.stringify(n))}catch(r){Zc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
* React Router v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}const Xm=z.createContext(null),Vk=z.createContext(null),Du=z.createContext(null),ib=z.createContext(null),Lu=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Aj=z.createContext(null);function dX(t,e){let{relative:n}=e===void 0?{}:e;Jm()||Wt(!1);let{basename:r,navigator:o}=z.useContext(Du),{hash:i,pathname:s,search:a}=sb(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:gl([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Jm(){return z.useContext(ib)!=null}function Jd(){return Jm()||Wt(!1),z.useContext(ib).location}function Pj(t){z.useContext(Du).static||z.useLayoutEffect(t)}function fX(){let{isDataRoute:t}=z.useContext(Lu);return t?TX():gX()}function gX(){Jm()||Wt(!1);let t=z.useContext(Xm),{basename:e,future:n,navigator:r}=z.useContext(Du),{matches:o}=z.useContext(Lu),{pathname:i}=Jd(),s=JSON.stringify(Pk(o,n.v7_relativeSplatPath)),a=z.useRef(!1);return Pj(()=>{a.current=!0}),z.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=Ik(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:gl([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,s,i,t])}const mX=z.createContext(null);function pX(t){let e=z.useContext(Lu).outlet;return e&&z.createElement(mX.Provider,{value:t},e)}function sb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(Du),{matches:o}=z.useContext(Lu),{pathname:i}=Jd(),s=JSON.stringify(Pk(o,r.v7_relativeSplatPath));return z.useMemo(()=>Ik(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function wX(t,e,n,r){Jm()||Wt(!1);let{navigator:o}=z.useContext(Du),{matches:i}=z.useContext(Lu),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Jd(),c;if(e){var h;let C=typeof e=="string"?dl(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||Wt(!1),c=C}else c=u;let d=c.pathname||"/",g=l==="/"?d:d.slice(l.length)||"/",p=Qd(t,{pathname:g}),v=SX(p&&p.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:gl([l,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:gl([l,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return e&&v?z.createElement(ib.Provider,{value:{location:Qm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:cr.Pop}},v):v}function vX(){let t=EX(),e=fj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:r},n):null,null)}const yX=z.createElement(vX,null);class bX extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(Lu.Provider,{value:this.props.routeContext},z.createElement(Aj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CX(t){let{routeContext:e,match:n,children:r}=t,o=z.useContext(Xm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Lu.Provider,{value:e},r)}function SX(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||Wt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:g}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let g,p=!1,v=null,C=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||yX,l&&(u<0&&d===0?(MX("route-fallback",!1),p=!0,C=null):u===d&&(p=!0,C=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,d+1)),y=()=>{let x;return g?x=v:p?x=C:h.route.Component?x=z.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,z.createElement(CX,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?z.createElement(bX,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Ij=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ij||{}),ab=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ab||{});function xX(t){let e=z.useContext(Xm);return e||Wt(!1),e}function RX(t){let e=z.useContext(Vk);return e||Wt(!1),e}function kX(t){let e=z.useContext(Lu);return e||Wt(!1),e}function Hj(t){let e=kX(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function EX(){var t;let e=z.useContext(Aj),n=RX(ab.UseRouteError),r=Hj(ab.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TX(){let{router:t}=xX(Ij.UseNavigateStable),e=Hj(ab.UseNavigateStable),n=z.useRef(!1);return Pj(()=>{n.current=!0}),z.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Qm({fromRouteId:e},o)))},[t,e])}const Nj={};function MX(t,e,n){!e&&!Nj[t]&&(Nj[t]=!0)}function _X(t){return pX(t.context)}function OX(t){let{basename:e="/",children:n=null,location:r,navigationType:o=cr.Pop,navigator:i,static:s=!1,future:a}=t;Jm()&&Wt(!1);let l=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:i,static:s,future:Qm({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=dl(r));let{pathname:c="/",search:h="",hash:d="",state:g=null,key:p="default"}=r,v=z.useMemo(()=>{let C=fl(c,l);return C==null?null:{location:{pathname:C,search:h,hash:d,state:g,key:p},navigationType:o}},[l,c,h,d,g,p,o]);return v==null?null:z.createElement(Du.Provider,{value:u},z.createElement(ib.Provider,{children:n,value:v}))}new Promise(()=>{});function AX(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:z.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
* React Router DOM v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function Dj(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function PX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IX(t,e){return t.button===0&&(!e||e==="_self")&&!PX(t)}const HX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NX=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],DX="6";try{window.__reactRouterVersion=DX}catch{}function LX(t,e){return ZQ({basename:e==null?void 0:e.basename,future:Zd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:SQ({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jX(),routes:t,mapRouteProperties:AX,window:e==null?void 0:e.window}).initialize()}function jX(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Zd({},e,{errors:FX(e.errors)})),e}function FX(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new Hk(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const Lj=z.createContext({isTransitioning:!1}),WX=z.createContext(new Map),VX="startTransition",jj=h7[VX],BX="flushSync",Fj=CQ[BX];function UX(t){jj?jj(t):t()}function Zm(t){Fj?Fj(t):t()}class zX{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function $X(t){let{fallbackElement:e,router:n,future:r}=t,[o,i]=z.useState(n.state),[s,a]=z.useState(),[l,u]=z.useState({isTransitioning:!1}),[c,h]=z.useState(),[d,g]=z.useState(),[p,v]=z.useState(),C=z.useRef(new Map),{v7_startTransition:w}=r||{},y=z.useCallback(O=>{w?UX(O):O()},[w]),x=z.useCallback((O,N)=>{let{deletedFetchers:H,unstable_flushSync:L,unstable_viewTransitionOpts:G}=N;H.forEach(B=>C.current.delete(B)),O.fetchers.forEach((B,he)=>{B.data!==void 0&&C.current.set(he,B.data)});let ue=n.window==null||typeof n.window.document.startViewTransition!="function";if(!G||ue){L?Zm(()=>i(O)):y(()=>i(O));return}if(L){Zm(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let B=n.window.document.startViewTransition(()=>{Zm(()=>i(O))});B.finished.finally(()=>{Zm(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),Zm(()=>g(B));return}d?(c&&c.resolve(),d.skipTransition(),v({state:O,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(O),u({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,d,c,C,y]);z.useLayoutEffect(()=>n.subscribe(x),[n,x]),z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new zX)},[l]),z.useEffect(()=>{if(c&&s&&n.window){let O=s,N=c.promise,H=n.window.document.startViewTransition(async()=>{y(()=>i(O)),await N});H.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(H)}},[y,s,c,n.window]),z.useEffect(()=>{c&&s&&o.location.key===s.location.key&&c.resolve()},[c,d,o.location,s]),z.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),v(void 0))},[l.isTransitioning,p]),z.useEffect(()=>{},[]);let T=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:O=>n.navigate(O),push:(O,N,H)=>n.navigate(O,{state:N,preventScrollReset:H==null?void 0:H.preventScrollReset}),replace:(O,N,H)=>n.navigate(O,{replace:!0,state:N,preventScrollReset:H==null?void 0:H.preventScrollReset})}),[n]),_=n.basename||"/",E=z.useMemo(()=>({router:n,navigator:T,static:!1,basename:_}),[n,T,_]);return z.createElement(z.Fragment,null,z.createElement(Xm.Provider,{value:E},z.createElement(Vk.Provider,{value:o},z.createElement(WX.Provider,{value:C.current},z.createElement(Lj.Provider,{value:l},z.createElement(OX,{basename:_,location:o.location,navigationType:o.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?z.createElement(GX,{routes:n.routes,future:n.future,state:o}):e))))),null)}function GX(t){let{routes:e,future:n,state:r}=t;return wX(e,void 0,r,n)}const YX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KX=z.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:o,replace:i,state:s,target:a,to:l,preventScrollReset:u,unstable_viewTransition:c}=t,h=Dj(t,HX),{basename:d}=z.useContext(Du),g,p=!1;if(typeof l=="string"&&qX.test(l)&&(g=l,YX))try{let y=new URL(window.location.href),x=l.startsWith("//")?new URL(y.protocol+l):new URL(l),T=fl(x.pathname,d);x.origin===y.origin&&T!=null?l=T+x.search+x.hash:p=!0}catch{}let v=dX(l,{relative:r}),C=XX(l,{replace:i,state:s,target:a,preventScrollReset:u,relative:r,unstable_viewTransition:c});function w(y){n&&n(y),y.defaultPrevented||C(y)}return z.createElement("a",Zd({},h,{href:g||v,onClick:p||o?n:w,ref:e,target:a}))}),lb=z.forwardRef(function(t,e){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:i=!1,style:s,to:a,unstable_viewTransition:l,children:u}=t,c=Dj(t,NX),h=sb(a,{relative:c.relative}),d=Jd(),g=z.useContext(Vk),{navigator:p,basename:v}=z.useContext(Du),C=g!=null&&JX(h)&&l===!0,w=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=d.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&v&&(x=fl(x,v)||x);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=y===w||!i&&y.startsWith(w)&&y.charAt(T)==="/",E=x!=null&&(x===w||!i&&x.startsWith(w)&&x.charAt(w.length)==="/"),O={isActive:_,isPending:E,isTransitioning:C},N=_?n:void 0,H;typeof o=="function"?H=o(O):H=[o,_?"active":null,E?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(O):s;return z.createElement(KX,Zd({},c,{"aria-current":N,className:H,ref:e,style:L,to:a,unstable_viewTransition:l}),typeof u=="function"?u(O):u)});var Bk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bk||(Bk={}));var Wj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wj||(Wj={}));function QX(t){let e=z.useContext(Xm);return e||Wt(!1),e}function XX(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=fX(),u=Jd(),c=sb(t,{relative:s});return z.useCallback(h=>{if(IX(h,n)){h.preventDefault();let d=r!==void 0?r:eh(u)===eh(c);l(t,{replace:d,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[u,l,c,r,o,n,t,i,s,a])}function JX(t,e){e===void 0&&(e={});let n=z.useContext(Lj);n==null&&Wt(!1);let{basename:r}=QX(Bk.useViewTransitionState),o=sb(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=fl(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ok(o.pathname,s)!=null||Ok(o.pathname,i)!=null}const ZX=t=>{const e=typeof t=="function",n=z.useRef(t);z.useEffect(()=>{n.current=t}),z.useEffect(()=>{if(e){const r=o=>{const i=n.current(o);if(typeof i=="string")return o.preventDefault(),o.returnValue=i;if(o.defaultPrevented)return o.returnValue=""};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}}},[e])},zo="vocaloidlyrics",Uk={Niconico:"NN",YouTube:"YT",bilibili:"BB",piapro:"PP",SoundCloud:"SC",Vimeo:"VM"},zk=[{site:"Niconico",re:/^https?:\/\/www\.nicovideo\.jp/,sanitize:/^(?<head>https?:\/\/www\.nicovideo\.jp\/watch\/)(?<id>[^\/\?]+)/,isMedia:!0},{site:"YouTube",re:/^https?:\/\/(?:(?:|www\.)youtube\.com\/(?:watch\?v=|shorts)|youtu\.be)/,sanitize:/^(?<head>https?:\/\/(?:(?:|www\.)youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/))(?<id>[^\/\?]{11})/,isMedia:!0},{site:"bilibili",re:/^https?:\/\/www\.bilibili\.com/,sanitize:/^(?<head>https?:\/\/www\.bilibili\.com\/video\/)(?<id>[^\/\?]+)/,isMedia:!0},{site:"piapro",re:/^https?:\/\/piapro\.jp/,isMedia:!0},{site:"SoundCloud",re:/^https?:\/\/soundcloud\.com/,isMedia:!0},{site:"Bandcamp",re:/^https?:\/\/[^\.]*\.?bandcamp\.com/,isMedia:!0},{site:"Vimeo",re:/^https?:\/\/vimeo\.com/,isMedia:!0},{site:"Netease Music",re:/^https?:\/\/music\.163\.com/,isMedia:!0},{site:"Spotify",re:/^https?:\/\/[^\.]+\.spotify\.com/,isMedia:!0},{site:"5Sing",re:/^https?:\/\/5sing\.kugou\.com/,isMedia:!0}],Vj=zk.concat([{site:"YouTube Channel",re:/^https?:\/\/www\.youtube\.com\/user\/.*/,isMedia:!0},{site:"YouTube Channel",re:/^https?:\/\/www\.youtube\.com\/channel\/.*/,isMedia:!0},{site:"bilibili Space",re:/^https?:\/\/space\.bilibili\.com\/.*/,isMedia:!0},{site:"VocaDB",re:/^https?:\/\/vocadb\.net\/.*/,sanitize:/(?<head>https?:\/\/vocadb\.net\/(?:S|Ar|Al)\/)(?<id>\d+)/},{site:"TuneCore Japan",re:/^https?:\/\/www\.tunecore\.co\.jp\/.*/,isMedia:!0},{site:"VOCALOID Lyrics Wiki",re:/^https?:\/\/vocaloidlyrics\.fandom\.com\/*/},{site:"VOCALOID Wiki",re:/^https?:\/\/vocaloid\.fandom\.com\/.*/},{site:"Hatsune Miku Wiki",re:/^https?:\/\/www5\.atwiki\.jp\/hmiku\/.*/},{site:"Hatsune Miku Wiki",re:/^https?:\/\/w\.atwiki\.jp\/hmiku\/.*/},{site:"Anime Lyrics",re:/^https?:\/\/www\.animelyrics\.com\/.*/},{site:"Niconico Pedia",re:/^https?:\/\/dic\.nicovideo\.jp\/.*/},{site:"Blomaga",re:/^https?:\/\/ch\.nicovideo\.jp\/.*/},{site:"Niconico Commons",re:/^https?:\/\/commons\.nicovideo\.jp\/.*/},{site:"pixiv",re:/^https?:\/\/www\.pixiv\.net\/.*/,isMedia:!0},{site:"UtaiteDB",re:/^https?:\/\/utaitedb\.net\/.*/},{site:"Project DIVA Wiki",re:/^https?:\/\/project-diva\.fandom\.com\/.*/},{site:"Project DIVA Wiki",re:/^https?:\/\/projectdiva\.wiki\/.*/},{site:"The Evillious Chronicles Wiki",re:/^https?:\/\/theevilliouschronicles\.fandom\.com\/.*/},{site:"Vocaloid English & Romaji Lyrics @wiki",re:/^https?:\/\/w\.atwiki\.jp\/vocaloidenglishlyric\/.*/},{site:"ChordWiki",re:/^https?:\/\/ja\.chordwiki\.org\/.*/},{site:"Pixiv Encyclopedia",re:/^https?:\/\/dic\.pixiv\.net\/.*/},{site:"Pixiv Encyclopedia (English)",re:/^https?:\/\/en-dic\.pixiv\.net\/.*/},{site:"J-Lyrics.net",re:/^https?:\/\/j-lyric\.net\/.*/},{site:"KARENT",re:/^https?:\/\/karent\.jp\/.*/,isMedia:!0},{site:"Wikipedia",re:/^https?:\/\/en\.wikipedia\.org\/.*/},{site:"Wikipedia (Japanese)",re:/^https?:\/\/ja\.wikipedia\.org\/.*/},{site:"X (Twitter)",re:/^https?:\/\/(twitter|x)\.com\/.*/},{site:"UtaTen",re:/^https?:\/\/utaten\.com\/.*/},{site:"KKBOX",re:/^https?:\/\/www\.kkbox\.com\/.*/},{site:"Lyrical Nonsense",re:/^https?:\/\/www\.lyrical-nonsense\.com\/.*/},{site:"KashiGET",re:/^https?:\/\/www\.kget\.jp\/.*/},{site:"Dropbox",re:/^https?:\/\/www\.dropbox\.com\/.*/},{site:"Google Drive",re:/^https?:\/\/drive\.google\.com\/.*/},{site:"Google Docs",re:/^https?:\/\/docs\.google\.com\/.*/},{site:"DeviantArt",re:/^https?:\/\/[^\.]+\.deviantart\.com\/.*/},{site:"DeviantArt",re:/^https?:\/\/fav\.me\/.*/},{site:"Len's Lyrics",re:/^https?:\/\/lenslyrics\.ml\/.*/},{site:"Baidu",re:/^https?:\/\/pan\.baidu\.com\/.*/},{site:"BOOTH",re:/^https?:\/\/[^\.]+\.booth\.pm\/.*/,isMedia:!0},{site:"Pixiv Fanbox",re:/^https?:\/\/www\.pixiv\.net\/fanbox\/.*/,isMedia:!0}]),eJ=t=>{switch(t){case"/song-pages":return["Song Page Generator",`https://${zo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Song_Article_Guideline`];case"/album-pages":return["Album Page Generator",`https://${zo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Album_Article_Guideline`];case"/producer-pages":return["Producer Page Generator",`https://${zo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Producer_Article_Guideline`];case"/lyrics-editor":return["Lyrics Editor",null];default:return["Page Generators",null]}};function tJ(){const t=Jd(),[e,n]=eJ(t.pathname);return m.jsxs("header",{children:[m.jsxs("h1",{children:["VLW ",e]}),n&&m.jsxs("div",{children:["For more information, please refer to the ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"wiki guidelines"})]})]})}const ub=({isActive:t})=>t?"active-nav-link":"";function nJ(){return m.jsxs("footer",{children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-item-left",children:["Author: ",m.jsx("a",{href:"https://coolmikehatsune22.wordpress.com/about-me/",target:"_blank",rel:"noopener noreferrer",children:"CoolMikeHatsune22"}),", based on earlier work by ",m.jsx("a",{href:`https://${zo}.fandom.com/wiki/User:ElectricRaichu`,target:"_blank",rel:"noopener noreferrer",children:"ElectricRaichu"})," and ",m.jsx("a",{href:`https://${zo}.fandom.com/wiki/User:Nefere`,target:"_blank",rel:"noopener noreferrer",children:"Nefere"}),".",m.jsx("br",{}),"Powered by React, ",m.jsx("a",{href:"https://handsontable.com/",target:"_blank",rel:"noopener noreferrer",children:"Handsontable"}),", and ",m.jsx("a",{href:"https://semantic-ui.com",target:"_blank",rel:"noopener noreferrer",children:"Semantic UI"}),".",m.jsx("br",{}),m.jsx("br",{}),"Github Repository: ",m.jsx("a",{href:"https://github.com/ccxtwf/VLW-Song-Page-Generator",target:"_blank",rel:"noopener noreferrer",children:"VLW Song Page Generator"}),m.jsx("br",{}),"Re-use and modification permitted under the CC license.",m.jsx("br",{}),"Feel free to report any bugs/issues or suggest any improvement to ",m.jsx("a",{href:`https://${zo}.fandom.com/wiki/User:CoolMikeHatsune22`,target:"_blank",rel:"noopener noreferrer",children:"my VLW profile"}),"."]}),m.jsxs("div",{className:"footer-item-right",children:["Navigation:",m.jsx("br",{}),m.jsx(lb,{to:"/song-pages",className:ub,children:"Song Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/album-pages",className:ub,children:"Album Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/producer-pages",className:ub,children:"Producer Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/lyrics-editor",className:ub,children:"Lyrics Editor"})]})]}),m.jsx("div",{})]})}function rJ(){return ZX(()=>"Are you sure you want to close this tab?"),m.jsxs(m.Fragment,{children:[m.jsx(tJ,{}),m.jsx("hr",{}),m.jsx("main",{children:m.jsx(_X,{})}),m.jsx("hr",{}),m.jsx(nJ,{})]})}function oJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var Bj={exports:{}},fn={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ir=typeof Symbol=="function"&&Symbol.for,$k=Ir?Symbol.for("react.element"):60103,Gk=Ir?Symbol.for("react.portal"):60106,cb=Ir?Symbol.for("react.fragment"):60107,hb=Ir?Symbol.for("react.strict_mode"):60108,db=Ir?Symbol.for("react.profiler"):60114,fb=Ir?Symbol.for("react.provider"):60109,gb=Ir?Symbol.for("react.context"):60110,Yk=Ir?Symbol.for("react.async_mode"):60111,mb=Ir?Symbol.for("react.concurrent_mode"):60111,pb=Ir?Symbol.for("react.forward_ref"):60112,wb=Ir?Symbol.for("react.suspense"):60113,iJ=Ir?Symbol.for("react.suspense_list"):60120,vb=Ir?Symbol.for("react.memo"):60115,yb=Ir?Symbol.for("react.lazy"):60116,sJ=Ir?Symbol.for("react.block"):60121,aJ=Ir?Symbol.for("react.fundamental"):60117,lJ=Ir?Symbol.for("react.responder"):60118,uJ=Ir?Symbol.for("react.scope"):60119;function vi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $k:switch(t=t.type,t){case Yk:case mb:case cb:case db:case hb:case wb:return t;default:switch(t=t&&t.$$typeof,t){case gb:case pb:case yb:case vb:case fb:return t;default:return e}}case Gk:return e}}}function Uj(t){return vi(t)===mb}fn.AsyncMode=Yk,fn.ConcurrentMode=mb,fn.ContextConsumer=gb,fn.ContextProvider=fb,fn.Element=$k,fn.ForwardRef=pb,fn.Fragment=cb,fn.Lazy=yb,fn.Memo=vb,fn.Portal=Gk,fn.Profiler=db,fn.StrictMode=hb,fn.Suspense=wb,fn.isAsyncMode=function(t){return Uj(t)||vi(t)===Yk},fn.isConcurrentMode=Uj,fn.isContextConsumer=function(t){return vi(t)===gb},fn.isContextProvider=function(t){return vi(t)===fb},fn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$k},fn.isForwardRef=function(t){return vi(t)===pb},fn.isFragment=function(t){return vi(t)===cb},fn.isLazy=function(t){return vi(t)===yb},fn.isMemo=function(t){return vi(t)===vb},fn.isPortal=function(t){return vi(t)===Gk},fn.isProfiler=function(t){return vi(t)===db},fn.isStrictMode=function(t){return vi(t)===hb},fn.isSuspense=function(t){return vi(t)===wb},fn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cb||t===mb||t===db||t===hb||t===wb||t===iJ||typeof t=="object"&&t!==null&&(t.$$typeof===yb||t.$$typeof===vb||t.$$typeof===fb||t.$$typeof===gb||t.$$typeof===pb||t.$$typeof===aJ||t.$$typeof===lJ||t.$$typeof===uJ||t.$$typeof===sJ)},fn.typeOf=vi,Bj.exports=fn;var cJ=Bj.exports;function qk(t,e){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qk(t,e)}function wr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qk(t,e)}var ma=function(t,e){if(typeof t=="function"){t(e);return}t!==null&&typeof t=="object"&&(t.current=e)},hJ=function(t){return t!==null&&typeof t=="object"&&t.hasOwnProperty("current")},dJ=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.prevNode=void 0,r}var n=e.prototype;return n.componentDidMount=function(){var r=Jc.findDOMNode(this);this.prevNode=r,ma(this.props.innerRef,r)},n.componentDidUpdate=function(r){var o=Jc.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,ma(this.props.innerRef,o)),r.innerRef!==this.props.innerRef&&ma(this.props.innerRef,o)},n.componentWillUnmount=function(){ma(this.props.innerRef,null),delete this.prevNode},n.render=function(){var r=this.props.children;return r},e}(z.Component),fJ=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.currentNode=void 0,r.handleRefOverride=function(a){var l=r.props,u=l.children,c=l.innerRef;ma(u.ref,a),ma(c,a),r.currentNode=a},r}var n=e.prototype;return n.componentDidUpdate=function(r){r.innerRef!==this.props.innerRef&&ma(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var r=this.props.children;return z.cloneElement(r,{ref:this.handleRefOverride})},e}(z.Component),gJ=["children","innerRef"],pa=function(t){var e=t.children,n=t.innerRef,r=oJ(t,gJ),o=z.Children.only(e),i=cJ.isForwardRef(o)?fJ:dJ,s=o&&r&&Object.keys(r).length>0?z.cloneElement(o,r):o;return z.createElement(i,{innerRef:n},s)};function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Re.apply(this,arguments)}var vr=Array.isArray,zj=typeof global=="object"&&global&&global.Object===Object&&global,mJ=typeof self=="object"&&self&&self.Object===Object&&self,ml=zj||mJ||Function("return this")(),wa=ml.Symbol,$j=Object.prototype,pJ=$j.hasOwnProperty,wJ=$j.toString,ep=wa?wa.toStringTag:void 0;function vJ(t){var e=pJ.call(t,ep),n=t[ep];try{t[ep]=void 0;var r=!0}catch{}var o=wJ.call(t);return r&&(e?t[ep]=n:delete t[ep]),o}var yJ=Object.prototype,bJ=yJ.toString;function CJ(t){return bJ.call(t)}var SJ="[object Null]",xJ="[object Undefined]",Gj=wa?wa.toStringTag:void 0;function va(t){return t==null?t===void 0?xJ:SJ:Gj&&Gj in Object(t)?vJ(t):CJ(t)}function $i(t){return t!=null&&typeof t=="object"}var RJ="[object Symbol]";function bb(t){return typeof t=="symbol"||$i(t)&&va(t)==RJ}var kJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EJ=/^\w*$/;function Kk(t,e){if(vr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bb(t)?!0:EJ.test(t)||!kJ.test(t)||e!=null&&t in Object(e)}function ju(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var TJ="[object AsyncFunction]",MJ="[object Function]",_J="[object GeneratorFunction]",OJ="[object Proxy]";function ef(t){if(!ju(t))return!1;var e=va(t);return e==MJ||e==_J||e==TJ||e==OJ}var Qk=ml["__core-js_shared__"],Yj=function(){var t=/[^.]+$/.exec(Qk&&Qk.keys&&Qk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function AJ(t){return!!Yj&&Yj in t}var PJ=Function.prototype,IJ=PJ.toString;function rh(t){if(t!=null){try{return IJ.call(t)}catch{}try{return t+""}catch{}}return""}var HJ=/[\\^$.*+?()[\]{}|]/g,NJ=/^\[object .+?Constructor\]$/,DJ=Function.prototype,LJ=Object.prototype,jJ=DJ.toString,FJ=LJ.hasOwnProperty,WJ=RegExp("^"+jJ.call(FJ).replace(HJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VJ(t){if(!ju(t)||AJ(t))return!1;var e=ef(t)?WJ:NJ;return e.test(rh(t))}function BJ(t,e){return t==null?void 0:t[e]}function oh(t,e){var n=BJ(t,e);return VJ(n)?n:void 0}var tp=oh(Object,"create");function UJ(){this.__data__=tp?tp(null):{},this.size=0}function zJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $J="__lodash_hash_undefined__",GJ=Object.prototype,YJ=GJ.hasOwnProperty;function qJ(t){var e=this.__data__;if(tp){var n=e[t];return n===$J?void 0:n}return YJ.call(e,t)?e[t]:void 0}var KJ=Object.prototype,QJ=KJ.hasOwnProperty;function XJ(t){var e=this.__data__;return tp?e[t]!==void 0:QJ.call(e,t)}var JJ="__lodash_hash_undefined__";function ZJ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tp&&e===void 0?JJ:e,this}function ih(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ih.prototype.clear=UJ,ih.prototype.delete=zJ,ih.prototype.get=qJ,ih.prototype.has=XJ,ih.prototype.set=ZJ;function eZ(){this.__data__=[],this.size=0}function Cb(t,e){return t===e||t!==t&&e!==e}function Sb(t,e){for(var n=t.length;n--;)if(Cb(t[n][0],e))return n;return-1}var tZ=Array.prototype,nZ=tZ.splice;function rZ(t){var e=this.__data__,n=Sb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nZ.call(e,n,1),--this.size,!0}function oZ(t){var e=this.__data__,n=Sb(e,t);return n<0?void 0:e[n][1]}function iZ(t){return Sb(this.__data__,t)>-1}function sZ(t,e){var n=this.__data__,r=Sb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pl.prototype.clear=eZ,pl.prototype.delete=rZ,pl.prototype.get=oZ,pl.prototype.has=iZ,pl.prototype.set=sZ;var np=oh(ml,"Map");function aZ(){this.size=0,this.__data__={hash:new ih,map:new(np||pl),string:new ih}}function lZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xb(t,e){var n=t.__data__;return lZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function uZ(t){var e=xb(this,t).delete(t);return this.size-=e?1:0,e}function cZ(t){return xb(this,t).get(t)}function hZ(t){return xb(this,t).has(t)}function dZ(t,e){var n=xb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=aZ,wl.prototype.delete=uZ,wl.prototype.get=cZ,wl.prototype.has=hZ,wl.prototype.set=dZ;var fZ="Expected a function";function Rb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fZ);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Rb.Cache||wl),n}Rb.Cache=wl;var gZ=500;function mZ(t){var e=Rb(t,function(r){return n.size===gZ&&n.clear(),r}),n=e.cache;return e}var pZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wZ=/\\(\\)?/g,vZ=mZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pZ,function(n,r,o,i){e.push(o?i.replace(wZ,"$1"):r||n)}),e});function kb(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var yZ=1/0,qj=wa?wa.prototype:void 0,Kj=qj?qj.toString:void 0;function Qj(t){if(typeof t=="string")return t;if(vr(t))return kb(t,Qj)+"";if(bb(t))return Kj?Kj.call(t):"";var e=t+"";return e=="0"&&1/t==-yZ?"-0":e}function Xk(t){return t==null?"":Qj(t)}function rp(t,e){return vr(t)?t:Kk(t,e)?[t]:vZ(Xk(t))}var bZ="[object Arguments]";function Xj(t){return $i(t)&&va(t)==bZ}var Jj=Object.prototype,CZ=Jj.hasOwnProperty,SZ=Jj.propertyIsEnumerable,xZ=Xj(function(){return arguments}())?Xj:function(t){return $i(t)&&CZ.call(t,"callee")&&!SZ.call(t,"callee")};const Eb=xZ;var RZ=9007199254740991,kZ=/^(?:0|[1-9]\d*)$/;function Tb(t,e){var n=typeof t;return e=e??RZ,!!e&&(n=="number"||n!="symbol"&&kZ.test(t))&&t>-1&&t%1==0&&t<e}var EZ=9007199254740991;function Jk(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=EZ}var TZ=1/0;function tf(t){if(typeof t=="string"||bb(t))return t;var e=t+"";return e=="0"&&1/t==-TZ?"-0":e}function MZ(t,e,n){e=rp(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=tf(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&Jk(o)&&Tb(s,o)&&(vr(t)||Eb(t)))}function Zj(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _Z(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Mb(t,e){e=rp(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tf(e[n++])];return n&&n==r?t:void 0}function eF(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function OZ(t,e){return e.length<2?t:Mb(t,eF(e,0,-1))}function AZ(t,e,n){e=rp(e,t),t=OZ(t,e);var r=t==null?t:t[tf(_Z(e))];return r==null?void 0:Zj(r,t,n)}function op(t){return t}var tF=Math.max;function nF(t,e,n){return e=tF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=tF(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),Zj(t,this,a)}}function rF(t){return function(){return t}}var _b=function(){try{var t=oh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),PZ=_b?function(t,e){return _b(t,"toString",{configurable:!0,enumerable:!1,value:rF(e),writable:!0})}:op;const IZ=PZ;var HZ=800,NZ=16,DZ=Date.now;function LZ(t){var e=0,n=0;return function(){var r=DZ(),o=NZ-(r-n);if(n=r,o>0){if(++e>=HZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oF=LZ(IZ);function Ob(t,e){return oF(nF(t,e,op),t+"")}var Ze=Ob(AZ);function jZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ab(t){return t===void 0}var FZ=/\s/;function WZ(t){for(var e=t.length;e--&&FZ.test(t.charAt(e)););return e}var VZ=/^\s+/;function BZ(t){return t&&t.slice(0,WZ(t)+1).replace(VZ,"")}var iF=NaN,UZ=/^[-+]0x[0-9a-f]+$/i,zZ=/^0b[01]+$/i,$Z=/^0o[0-7]+$/i,GZ=parseInt;function sF(t){if(typeof t=="number")return t;if(bb(t))return iF;if(ju(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ju(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=BZ(t);var n=zZ.test(t);return n||$Z.test(t)?GZ(t.slice(2),n?2:8):UZ.test(t)?iF:+t}var aF=1/0,YZ=17976931348623157e292;function Zk(t){if(!t)return t===0?t:0;if(t=sF(t),t===aF||t===-aF){var e=t<0?-1:1;return e*YZ}return t===t?t:0}function eE(t){var e=Zk(t),n=e%1;return e===e?n?e-n:e:0}function lF(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function qZ(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++o];if(n(i[l],l,i)===!1)break}return e}}var KZ=qZ();function QZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function XZ(){return!1}var uF=typeof to=="object"&&to&&!to.nodeType&&to,cF=uF&&typeof jn=="object"&&jn&&!jn.nodeType&&jn,JZ=cF&&cF.exports===uF,hF=JZ?ml.Buffer:void 0,ZZ=hF?hF.isBuffer:void 0,eee=ZZ||XZ;const Pb=eee;var tee="[object Arguments]",nee="[object Array]",ree="[object Boolean]",oee="[object Date]",iee="[object Error]",see="[object Function]",aee="[object Map]",lee="[object Number]",uee="[object Object]",cee="[object RegExp]",hee="[object Set]",dee="[object String]",fee="[object WeakMap]",gee="[object ArrayBuffer]",mee="[object DataView]",pee="[object Float32Array]",wee="[object Float64Array]",vee="[object Int8Array]",yee="[object Int16Array]",bee="[object Int32Array]",Cee="[object Uint8Array]",See="[object Uint8ClampedArray]",xee="[object Uint16Array]",Ree="[object Uint32Array]",Pn={};Pn[pee]=Pn[wee]=Pn[vee]=Pn[yee]=Pn[bee]=Pn[Cee]=Pn[See]=Pn[xee]=Pn[Ree]=!0,Pn[tee]=Pn[nee]=Pn[gee]=Pn[ree]=Pn[mee]=Pn[oee]=Pn[iee]=Pn[see]=Pn[aee]=Pn[lee]=Pn[uee]=Pn[cee]=Pn[hee]=Pn[dee]=Pn[fee]=!1;function kee(t){return $i(t)&&Jk(t.length)&&!!Pn[va(t)]}function dF(t){return function(e){return t(e)}}var fF=typeof to=="object"&&to&&!to.nodeType&&to,ip=fF&&typeof jn=="object"&&jn&&!jn.nodeType&&jn,Eee=ip&&ip.exports===fF,tE=Eee&&zj.process,gF=function(){try{var t=ip&&ip.require&&ip.require("util").types;return t||tE&&tE.binding&&tE.binding("util")}catch{}}(),mF=gF&&gF.isTypedArray,Tee=mF?dF(mF):kee;const nE=Tee;var Mee=Object.prototype,_ee=Mee.hasOwnProperty;function Oee(t,e){var n=vr(t),r=!n&&Eb(t),o=!n&&!r&&Pb(t),i=!n&&!r&&!o&&nE(t),s=n||r||o||i,a=s?QZ(t.length,String):[],l=a.length;for(var u in t)(e||_ee.call(t,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tb(u,l)))&&a.push(u);return a}var Aee=Object.prototype;function pF(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Aee;return t===n}function wF(t,e){return function(n){return t(e(n))}}var Pee=wF(Object.keys,Object),Iee=Object.prototype,Hee=Iee.hasOwnProperty;function rE(t){if(!pF(t))return Pee(t);var e=[];for(var n in Object(t))Hee.call(t,n)&&n!="constructor"&&e.push(n);return e}function vl(t){return t!=null&&Jk(t.length)&&!ef(t)}function nf(t){return vl(t)?Oee(t):rE(t)}function vF(t,e){return t&&KZ(t,e,nf)}function Nee(t,e){return function(n,r){if(n==null)return n;if(!vl(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=Object(n);(e?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var rf=Nee(vF);function Dee(t,e){var n=[];return rf(t,function(r,o,i){e(r,o,i)&&n.push(r)}),n}function Lee(){this.__data__=new pl,this.size=0}function jee(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Fee(t){return this.__data__.get(t)}function Wee(t){return this.__data__.has(t)}var Vee=200;function Bee(t,e){var n=this.__data__;if(n instanceof pl){var r=n.__data__;if(!np||r.length<Vee-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wl(r)}return n.set(t,e),this.size=n.size,this}function yl(t){var e=this.__data__=new pl(t);this.size=e.size}yl.prototype.clear=Lee,yl.prototype.delete=jee,yl.prototype.get=Fee,yl.prototype.has=Wee,yl.prototype.set=Bee;var Uee="__lodash_hash_undefined__";function zee(t){return this.__data__.set(t,Uee),this}function $ee(t){return this.__data__.has(t)}function of(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wl;++e<n;)this.add(t[e])}of.prototype.add=of.prototype.push=zee,of.prototype.has=$ee;function yF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function oE(t,e){return t.has(e)}var Gee=1,Yee=2;function bF(t,e,n,r,o,i){var s=n&Gee,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,g=n&Yee?new of:void 0;for(i.set(t,e),i.set(e,t);++h<a;){var p=t[h],v=e[h];if(r)var C=s?r(v,p,h,e,t,i):r(p,v,h,t,e,i);if(C!==void 0){if(C)continue;d=!1;break}if(g){if(!yF(e,function(w,y){if(!oE(g,y)&&(p===w||o(p,w,n,r,i)))return g.push(y)})){d=!1;break}}else if(!(p===v||o(p,v,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var qee=ml.Uint8Array;const CF=qee;function Kee(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function iE(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Qee=1,Xee=2,Jee="[object Boolean]",Zee="[object Date]",ete="[object Error]",tte="[object Map]",nte="[object Number]",rte="[object RegExp]",ote="[object Set]",ite="[object String]",ste="[object Symbol]",ate="[object ArrayBuffer]",lte="[object DataView]",SF=wa?wa.prototype:void 0,sE=SF?SF.valueOf:void 0;function ute(t,e,n,r,o,i,s){switch(n){case lte:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ate:return!(t.byteLength!=e.byteLength||!i(new CF(t),new CF(e)));case Jee:case Zee:case nte:return Cb(+t,+e);case ete:return t.name==e.name&&t.message==e.message;case rte:case ite:return t==e+"";case tte:var a=Kee;case ote:var l=r&Qee;if(a||(a=iE),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Xee,s.set(t,e);var c=bF(a(t),a(e),r,o,i,s);return s.delete(t),c;case ste:if(sE)return sE.call(t)==sE.call(e)}return!1}function xF(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function cte(t,e,n){var r=e(t);return vr(t)?r:xF(r,n(t))}function hte(){return[]}var dte=Object.prototype,fte=dte.propertyIsEnumerable,RF=Object.getOwnPropertySymbols,gte=RF?function(t){return t==null?[]:(t=Object(t),lF(RF(t),function(e){return fte.call(t,e)}))}:hte;const mte=gte;function kF(t){return cte(t,nf,mte)}var pte=1,wte=Object.prototype,vte=wte.hasOwnProperty;function yte(t,e,n,r,o,i){var s=n&pte,a=kF(t),l=a.length,u=kF(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:vte.call(e,d)))return!1}var g=i.get(t),p=i.get(e);if(g&&p)return g==e&&p==t;var v=!0;i.set(t,e),i.set(e,t);for(var C=s;++h<l;){d=a[h];var w=t[d],y=e[d];if(r)var x=s?r(y,w,d,e,t,i):r(w,y,d,t,e,i);if(!(x===void 0?w===y||o(w,y,n,r,i):x)){v=!1;break}C||(C=d=="constructor")}if(v&&!C){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return i.delete(t),i.delete(e),v}var aE=oh(ml,"DataView"),lE=oh(ml,"Promise"),sf=oh(ml,"Set"),uE=oh(ml,"WeakMap"),EF="[object Map]",bte="[object Object]",TF="[object Promise]",MF="[object Set]",_F="[object WeakMap]",OF="[object DataView]",Cte=rh(aE),Ste=rh(np),xte=rh(lE),Rte=rh(sf),kte=rh(uE),sh=va;(aE&&sh(new aE(new ArrayBuffer(1)))!=OF||np&&sh(new np)!=EF||lE&&sh(lE.resolve())!=TF||sf&&sh(new sf)!=MF||uE&&sh(new uE)!=_F)&&(sh=function(t){var e=va(t),n=e==bte?t.constructor:void 0,r=n?rh(n):"";if(r)switch(r){case Cte:return OF;case Ste:return EF;case xte:return TF;case Rte:return MF;case kte:return _F}return e});const Ib=sh;var Ete=1,AF="[object Arguments]",PF="[object Array]",Hb="[object Object]",Tte=Object.prototype,IF=Tte.hasOwnProperty;function Mte(t,e,n,r,o,i){var s=vr(t),a=vr(e),l=s?PF:Ib(t),u=a?PF:Ib(e);l=l==AF?Hb:l,u=u==AF?Hb:u;var c=l==Hb,h=u==Hb,d=l==u;if(d&&Pb(t)){if(!Pb(e))return!1;s=!0,c=!1}if(d&&!c)return i||(i=new yl),s||nE(t)?bF(t,e,n,r,o,i):ute(t,e,l,n,r,o,i);if(!(n&Ete)){var g=c&&IF.call(t,"__wrapped__"),p=h&&IF.call(e,"__wrapped__");if(g||p){var v=g?t.value():t,C=p?e.value():e;return i||(i=new yl),o(v,C,n,r,i)}}return d?(i||(i=new yl),yte(t,e,n,r,o,i)):!1}function Nb(t,e,n,r,o){return t===e?!0:t==null||e==null||!$i(t)&&!$i(e)?t!==t&&e!==e:Mte(t,e,n,r,Nb,o)}var _te=1,Ote=2;function Ate(t,e,n,r){var o=n.length,i=o,s=!r;if(t==null)return!i;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){a=n[o];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new yl;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?Nb(c,u,_te|Ote,r,h):d))return!1}}return!0}function HF(t){return t===t&&!ju(t)}function Pte(t){for(var e=nf(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,HF(o)]}return e}function NF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Ite(t){var e=Pte(t);return e.length==1&&e[0][2]?NF(e[0][0],e[0][1]):function(n){return n===t||Ate(n,t,e)}}function ya(t,e,n){var r=t==null?void 0:Mb(t,e);return r===void 0?n:r}function Hte(t,e){return t!=null&&e in Object(t)}function DF(t,e){return t!=null&&MZ(t,e,Hte)}var Nte=1,Dte=2;function Lte(t,e){return Kk(t)&&HF(e)?NF(tf(t),e):function(n){var r=ya(n,t);return r===void 0&&r===e?DF(n,t):Nb(e,r,Nte|Dte)}}function LF(t){return function(e){return e==null?void 0:e[t]}}function jte(t){return function(e){return Mb(e,t)}}function Fte(t){return Kk(t)?LF(tf(t)):jte(t)}function ah(t){return typeof t=="function"?t:t==null?op:typeof t=="object"?vr(t)?Lte(t[0],t[1]):Ite(t):Fte(t)}function jF(t,e){var n=vr(t)?lF:Dee;return n(t,ah(e))}var Wte="[object Map]",Vte="[object Set]",Bte=Object.prototype,Ute=Bte.hasOwnProperty;function Db(t){if(t==null)return!0;if(vl(t)&&(vr(t)||typeof t=="string"||typeof t.splice=="function"||Pb(t)||nE(t)||Eb(t)))return!t.length;var e=Ib(t);if(e==Wte||e==Vte)return!t.size;if(pF(t))return!rE(t).length;for(var n in t)if(Ute.call(t,n))return!1;return!0}function FF(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function zte(t){return t!==t}function $te(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function WF(t,e,n){return e===e?$te(t,e,n):FF(t,zte,n)}function VF(t,e){var n=t==null?0:t.length;return!!n&&WF(t,e,0)>-1}function BF(t,e,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Lb(t){return $i(t)&&vl(t)}function Gte(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Yte(t){return typeof t=="function"?t:op}function qte(t,e){var n=vr(t)?Gte:rf;return n(t,Yte(e))}var Kte=function(t){return"default"+(t[0].toUpperCase()+t.slice(1))},Qte=function(t,e,n,r){r===void 0&&(r=!1);var o=e[t];if(o!==void 0)return o;if(r){var i=e[Kte(t)];if(i!==void 0)return i;if(n){var s=n[t];if(s!==void 0)return s}}if(t==="checked")return!1;if(t==="value")return e.multiple?[]:""},cE=function(t){wr(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=t.call.apply(t,[this].concat(o))||this;var s=n.constructor,a=s.autoControlledProps,l=s.getAutoControlledStateFromProps,u=Ze(jZ(n),"getInitialAutoControlledState",n.props)||{},c=a.reduce(function(h,d){return h[d]=Qte(d,n.props,u,!0),h},{});return n.state=Re({},u,c,{autoControlledProps:a,getAutoControlledStateFromProps:l}),n}return e.getDerivedStateFromProps=function(n,r){var o=r.autoControlledProps,i=r.getAutoControlledStateFromProps,s=o.reduce(function(l,u){var c=!Ab(n[u]);return c&&(l[u]=n[u]),l},{});if(i){var a=i(n,Re({},r,s),r);return Re({},s,a)}return s},e.getAutoControlledStateFromProps=function(){return null},e}(de.Component);function Xte(t){return function(e,n,r){var o=Object(e);if(!vl(e)){var i=ah(n);e=nf(e),n=function(a){return i(o[a],a,o)}}var s=t(e,n,r);return s>-1?o[i?e[s]:s]:void 0}}var Jte=Math.max;function hE(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:eE(n);return o<0&&(o=Jte(r+o,0)),FF(t,ah(e),o)}var UF=Xte(hE);function Zte(t,e){var n;return rf(t,function(r,o,i){return n=e(r,o,i),!n}),!!n}function zF(t,e,n){if(!ju(n))return!1;var r=typeof e;return(r=="number"?vl(n)&&Tb(e,n.length):r=="string"&&e in n)?Cb(n[e],t):!1}function sp(t,e,n){var r=vr(t)?yF:Zte;return n&&zF(t,e,n)&&(e=void 0),r(t,ah(e))}var ene=function(t,e){return sp(z.Children.toArray(t),{type:e})},tn=function(t){return t==null||Array.isArray(t)&&t.length===0},tne={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function $F(t){var e=typeof t;return e==="string"||e==="number"?tne[t]||t:""}var ce=function(t,e){return t&&e},Gi=function(t,e){return t&&t!==!0&&t+" "+e},so=function(t,e){return t&&(t===!0?e:t+" "+e)},jb=function(t,e){return!t||t===!0?null:t.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(n){return n.replace("-"," ")+" "+e}).join(" ")},dE=function(t){return t==="justified"?"justified":Gi(t,"aligned")},ap=function(t){return Gi(t,"aligned")},Yi=function(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=!1),n&&t==="equal")return"equal width";var r=typeof t;return(r==="string"||r==="number")&&e?$F(t)+" "+e:$F(t)},nne=200;function GF(t,e,n,r){var o=-1,i=VF,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=kb(e,dF(n))),r?(i=BF,s=!1):e.length>=nne&&(i=oE,s=!1,e=new of(e));e:for(;++o<a;){var c=t[o],h=n==null?c:n(c);if(c=r||c!==0?c:0,s&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else i(e,h,r)||l.push(c)}return l}var YF=wa?wa.isConcatSpreadable:void 0;function rne(t){return vr(t)||Eb(t)||!!(YF&&t&&t[YF])}function Fb(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=rne),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?Fb(a,e-1,n,r,o):xF(o,a):r||(o[o.length]=a)}return o}var qF=Ob(function(t,e){return Lb(t)?GF(t,Fb(e,1,Lb,!0)):[]}),one="\\ud800-\\udfff",ine="\\u0300-\\u036f",sne="\\ufe20-\\ufe2f",ane="\\u20d0-\\u20ff",lne=ine+sne+ane,une="\\ufe0e\\ufe0f",cne="\\u200d",hne=RegExp("["+cne+one+lne+une+"]");function dne(t){return hne.test(t)}function fne(t,e,n){e=="__proto__"&&_b?_b(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var gne=Object.prototype,mne=gne.hasOwnProperty;function pne(t,e,n){var r=t[e];(!(mne.call(t,e)&&Cb(r,n))||n===void 0&&!(e in t))&&fne(t,e,n)}function KF(t,e,n,r){if(!ju(t))return t;e=rp(e,t);for(var o=-1,i=e.length,s=i-1,a=t;a!=null&&++o<i;){var l=tf(e[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(o!=s){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=ju(c)?c:Tb(e[o+1])?[]:{})}pne(a,l,u),a=a[l]}return t}function wne(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=Mb(t,s);n(a,s)&&KF(i,rp(s,t),a)}return i}function vne(t,e){return wne(t,e,function(n,r){return DF(t,r)})}function yne(t){var e=t==null?0:t.length;return e?Fb(t,1):[]}function bne(t){return oF(nF(t,void 0,yne),t+"")}var QF=bne(function(t,e){return t==null?{}:vne(t,e)}),Cne=wF(Object.getPrototypeOf,Object),Sne="[object Object]",xne=Function.prototype,Rne=Object.prototype,XF=xne.toString,kne=Rne.hasOwnProperty,Ene=XF.call(Object);function JF(t){if(!$i(t)||va(t)!=Sne)return!1;var e=Cne(t);if(e===null)return!0;var n=kne.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XF.call(n)==Ene}function qt(t){return t==null}function Tne(t,e){var n=-1,r=vl(t)?Array(t.length):[];return rf(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function af(t,e){var n=vr(t)?kb:Tne;return n(t,ah(e))}var fE={exports:{}},Wb={},ZF={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(ZF);var Mne=ZF.exports;Object.defineProperty(Wb,"__esModule",{value:!0});var eW=Mne,_ne=z;function tW(t){return(tW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function lp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function up(t,e,n){return e&&nW(t.prototype,e),n&&nW(t,n),t}function qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oW(t,e)}function rW(t){return(rW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function oW(t,e){return(oW=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pne(t,e){return!e||typeof e!="object"&&typeof e!="function"?Ane(t):e}var iW=function(){function t(e){lp(this,t),qi(this,"handlers",void 0),this.handlers=e.slice(0)}return up(t,[{key:"addHandlers",value:function(e){for(var n=this.handlers.slice(0),r=e.length,o=0;o<r;o+=1)n.push(e[o]);return new t(n)}},{key:"dispatchEvent",value:function(e,n){var r=this.handlers.length-1;if(n){for(var o=r;o>=0;o-=1)this.handlers[o].called||(this.handlers[o].called=!0,this.handlers[o](e));for(var i=r;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[r])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var n=[],r=this.handlers.length,o=0;o<r;o+=1){var i=this.handlers[o];e.indexOf(i)===-1&&n.push(i)}return new t(n)}}]),t}();function sW(t){var e=new Map;return t.forEach(function(n,r){e.set(r,n)}),e}function aW(t){return Array.isArray(t)?t:[t]}var Ine=function(t){return t!==null&&tW(t)==="object"&&t.hasOwnProperty("current")};function lW(t){return t==="document"?document:t==="window"?window:Ine(t)?t.current||document:t||document}var gE=function(){function t(e,n){lp(this,t),qi(this,"handlerSets",void 0),qi(this,"poolName",void 0),this.handlerSets=n,this.poolName=e}return up(t,[{key:"addHandlers",value:function(e,n){var r=sW(this.handlerSets);if(r.has(e)){var o=r.get(e);r.set(e,o.addHandlers(n))}else r.set(e,new iW(n));return new t(this.poolName,r)}},{key:"dispatchEvent",value:function(e,n){var r=this.handlerSets.get(e),o=this.poolName==="default";r&&r.dispatchEvent(n,o)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var n=this.handlerSets.get(e);return!!n&&n.hasHandlers()}},{key:"removeHandlers",value:function(e,n){var r=sW(this.handlerSets);if(!r.has(e))return new t(this.poolName,r);var o=r.get(e).removeHandlers(n);return o.hasHandlers()?r.set(e,o):r.delete(e),new t(this.poolName,r)}}]),t}();qi(gE,"createByType",function(t,e,n){var r=new Map;return r.set(e,new iW(n)),new gE(t,r)});var Hne=function(){function t(e){var n=this;lp(this,t),qi(this,"handlers",new Map),qi(this,"pools",new Map),qi(this,"target",void 0),qi(this,"createEmitter",function(r){return function(o){n.pools.forEach(function(i){i.dispatchEvent(r,o)})}}),this.target=e}return up(t,[{key:"addHandlers",value:function(e,n,r){if(this.pools.has(e)){var o=this.pools.get(e);this.pools.set(e,o.addHandlers(n,r))}else this.pools.set(e,gE.createByType(e,n,r));this.handlers.has(n)||this.addTargetHandler(n)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,n,r){if(this.pools.has(e)){var o=this.pools.get(e).removeHandlers(n,r);o.hasHandlers()?this.pools.set(e,o):this.pools.delete(e);var i=!1;this.pools.forEach(function(s){return i=i||s.hasHandlers(n)}),i||this.removeTargetHandler(n)}}},{key:"addTargetHandler",value:function(e){var n=this.createEmitter(e);this.handlers.set(e,n),this.target.addEventListener(e,n,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),t}(),Nne=function(){function t(){var e=this;lp(this,t),qi(this,"targets",new Map),qi(this,"getTarget",function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=lW(n);if(e.targets.has(o))return e.targets.get(o);if(!r)return null;var i=new Hne(o);return e.targets.set(o,i),i}),qi(this,"removeTarget",function(n){e.targets.delete(lW(n))})}return up(t,[{key:"sub",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(eW.canUseDOM){var o=r.target,i=o===void 0?document:o,s=r.pool,a=s===void 0?"default":s;this.getTarget(i).addHandlers(a,e,aW(n))}}},{key:"unsub",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(eW.canUseDOM){var o=r.target,i=o===void 0?document:o,s=r.pool,a=s===void 0?"default":s,l=this.getTarget(i,!1);l&&(l.removeHandlers(a,e,aW(n)),l.hasHandlers()||this.removeTarget(i))}}}]),t}(),mE=new Nne,pE=function(t){function e(){return lp(this,e),Pne(this,rW(e).apply(this,arguments))}return One(e,_ne.PureComponent),up(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(n){this.unsubscribe(n),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(n){var r=n.name,o=n.on,i=n.pool,s=n.target;mE.sub(r,o,{pool:i,target:s})}},{key:"unsubscribe",value:function(n){var r=n.name,o=n.on,i=n.pool,s=n.target;mE.unsub(r,o,{pool:i,target:s})}},{key:"render",value:function(){return null}}]),e}();qi(pE,"defaultProps",{pool:"default",target:"document"}),pE.propTypes={},Wb.instance=mE,Wb.default=pE;var wE;wE=Wb,fE.exports=wE.default;var Dne=fE.exports.instance=wE.instance,Lne=fE.exports;const bl=gu(Lne);function uW(){}var jne=1/0,Fne=sf&&1/iE(new sf([,-0]))[1]==jne?function(t){return new sf(t)}:uW,Wne=200;function cW(t,e,n){var r=-1,o=VF,i=t.length,s=!0,a=[],l=a;if(n)s=!1,o=BF;else if(i>=Wne){var u=e?null:Fne(t);if(u)return iE(u);s=!1,o=oE,l=new of}else l=e?[]:a;e:for(;++r<i;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,s&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else o(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Vne(t){return t&&t.length?cW(t):[]}var Bne="[object Number]";function Une(t){return typeof t=="number"||$i(t)&&va(t)==Bne}var zne="[object String]";function vE(t){return typeof t=="string"||!vr(t)&&$i(t)&&va(t)==zne}var $ne="[object Boolean]";function Gne(t){return t===!0||t===!1||$i(t)&&va(t)==$ne}function hW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=hW(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function wt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=hW(t))&&(r&&(r+=" "),r+=e);return r}function yE(t,e,n,r){if(r===void 0&&(r={}),typeof t!="function"&&typeof t!="string")throw new Error("createShorthand() Component must be a string or function.");if(qt(n)||Gne(n))return null;var o=vE(n),i=Une(n),s=ef(n),a=z.isValidElement(n),l=JF(n),u=o||i||vr(n);if(!s&&!a&&!l&&!u)return null;var c=r,h=c.defaultProps,d=h===void 0?{}:h,g=a&&n.props||l&&n||u&&e(n),p=r,v=p.overrideProps,C=v===void 0?{}:v;C=ef(C)?C(Re({},d,g)):C;var w=Re({},d,g,C);if(d.className||C.className||g.className){var y=wt(d.className,C.className,g.className);w.className=Vne(y.split(" ")).join(" ")}if((d.style||C.style||g.style)&&(w.style=Re({},d.style,g.style,C.style)),qt(w.key)){var x=w.childKey,T=r,_=T.autoGenerateKey,E=_===void 0?!0:_;qt(x)?E&&(o||i)&&(w.key=n):(w.key=typeof x=="function"?x(w):x,delete w.childKey)}if(a)return z.cloneElement(n,w);if(typeof w.children=="function")return w.children(t,Re({},w,{children:void 0}));if(u||l)return z.createElement(t,w);if(s)return n(t,w,w.children)}function ir(t,e){if(typeof t!="function"&&typeof t!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return yE(t,e,n,r)}}var Yne=ir("div",function(t){return{children:t}}),qne=ir("input",function(t){return{type:t}}),bE=ir("label",function(t){return{children:t}}),Kne=ir("p",function(t){return{children:t}}),Qne=function(t,e){var n=t.handledProps,r=n===void 0?[]:n;return Object.keys(e).reduce(function(o,i){return i==="childKey"||r.indexOf(i)===-1&&(o[i]=e[i]),o},{})};const vt=Qne;function bt(t,e,n){var r=t.defaultProps,o=r===void 0?{}:r;if(e.as&&e.as!==o.as)return e.as;if(n){var i=n();if(i)return i}return e.href?"a":o.as||"div"}function Xne(t,e){return kb(e,function(n){return t[n]})}function Jne(t){return t==null?[]:Xne(t,nf(t))}var Zne=Math.max;function Cl(t,e,n,r){t=vl(t)?t:Jne(t),n=n&&!r?eE(n):0;var o=t.length;return n<0&&(n=Zne(o+n,0)),vE(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&WF(t,e,n)>-1}var dW=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],ere=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],tre=[].concat(dW,ere),nre=["alt","height","src","srcSet","width","loading"],CE=function(t,e){e===void 0&&(e={});var n=e,r=n.htmlProps,o=r===void 0?tre:r,i=n.includeAria,s=i===void 0?!0:i,a={},l={};return qte(t,function(u,c){var h=s&&(/^aria-.*$/.test(c)||c==="role"),d=Cl(o,c)||h?a:l;d[c]=u}),[a,l]},rre=typeof document=="object"&&document!==null,ore=typeof window=="object"&&window!==null&&window.self===window,SE=function t(){return qt(t.override)?rre&&ore:t.override},ire=Math.max,sre=Math.min;function are(t,e,n){return t>=sre(e,n)&&t<ire(e,n)}function fW(t,e,n){return e=Zk(e),n===void 0?(n=e,e=0):n=Zk(n),t=sF(t),are(t,e,n)}function lre(t){return t&&t.length?t[0]:void 0}var ure=function(t,e){if(sp([e,t],qt))return!1;if(e.target&&(Ze(e.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Ze(e.target,"removeAttribute","data-suir-click-target"),t.contains(e.target);var n=e.clientX,r=e.clientY;if(sp([n,r],qt))return!1;var o=t.getClientRects();if(!t.offsetWidth||!t.offsetHeight||!o||!o.length)return!1;var i=lre(o),s=i.top,a=i.bottom,l=i.left,u=i.right;return sp([s,a,l,u],qt)?!1:fW(r,s,a+.001)&&fW(n,l,u+.001)};const cp=ure;function cre(t,e){return Nb(t,e)}var hre=Ob(function(t,e){return Lb(t)?GF(t,e):[]});const dre=hre;function lh(t){var e=t.children,n=t.className,r=t.content,o=t.size,i=wt(o,"icons",n),s=vt(lh,t),a=bt(lh,t);return de.createElement(a,Re({},s,{className:i}),tn(e)?r:e)}lh.handledProps=["as","children","className","content","size"],lh.propTypes={},lh.defaultProps={as:"i"};var Hr=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){var l=r.props.disabled;if(l){a.preventDefault();return}Ze(r.props,"onClick",a,r.props)},r}var n=e.prototype;return n.getIconAriaOptions=function(){var r={},o=this.props,i=o["aria-label"],s=o["aria-hidden"];return qt(i)?r["aria-hidden"]="true":r["aria-label"]=i,qt(s)||(r["aria-hidden"]=s),r},n.render=function(){var r=this.props,o=r.bordered,i=r.circular,s=r.className,a=r.color,l=r.corner,u=r.disabled,c=r.fitted,h=r.flipped,d=r.inverted,g=r.link,p=r.loading,v=r.name,C=r.rotated,w=r.size,y=wt(a,v,w,ce(o,"bordered"),ce(i,"circular"),ce(u,"disabled"),ce(c,"fitted"),ce(d,"inverted"),ce(g,"link"),ce(p,"loading"),so(l,"corner"),Gi(h,"flipped"),Gi(C,"rotated"),"icon",s),x=vt(e,this.props),T=bt(e,this.props),_=this.getIconAriaOptions();return de.createElement(T,Re({},x,_,{className:y,onClick:this.handleClick}))},e}(z.PureComponent);Hr.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Hr.propTypes={},Hr.defaultProps={as:"i"},Hr.Group=lh,Hr.create=ir(Hr,function(t){return{name:t}});for(var gW=function(t){return t!==null&&!Array.isArray(t)&&typeof t=="object"},Vb={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},Bb=0;Bb<24;Bb+=1)Vb[112+Bb]="F"+(Bb+1);for(var xE=0;xE<26;xE+=1){var RE=xE+65;Vb[RE]=[String.fromCharCode(RE+32),String.fromCharCode(RE)]}var Le={codes:Vb,getCode:function(t){return gW(t)?t.keyCode||t.which||this[t.key]:this[t]},getKey:function(t){var e=gW(t);if(e&&t.key)return t.key;var n=Vb[e?t.keyCode||t.which:t];return Array.isArray(n)&&(e?n=n[t.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Le.Spacebar=Le[" "],Le.Digit0=Le[0],Le.Digit1=Le[1],Le.Digit2=Le[2],Le.Digit3=Le[3],Le.Digit4=Le[4],Le.Digit5=Le[5],Le.Digit6=Le[6],Le.Digit7=Le[7],Le.Digit8=Le[8],Le.Digit9=Le[9],Le.Tilde=Le["~"],Le.GraveAccent=Le["`"],Le.ExclamationPoint=Le["!"],Le.AtSign=Le["@"],Le.PoundSign=Le["#"],Le.PercentSign=Le["%"],Le.Caret=Le["^"],Le.Ampersand=Le["&"],Le.PlusSign=Le["+"],Le.MinusSign=Le["-"],Le.EqualsSign=Le["="],Le.DivisionSign=Le["/"],Le.MultiplicationSign=Le["*"],Le.Comma=Le[","],Le.Decimal=Le["."],Le.Colon=Le[":"],Le.Semicolon=Le[";"],Le.Pipe=Le["|"],Le.BackSlash=Le["\\"],Le.QuestionMark=Le["?"],Le.SingleQuote=Le["'"],Le.DoubleQuote=Le['"'],Le.LeftCurlyBrace=Le["{"],Le.RightCurlyBrace=Le["}"],Le.LeftParenthesis=Le["("],Le.RightParenthesis=Le[")"],Le.LeftAngleBracket=Le["<"],Le.RightAngleBracket=Le[">"],Le.LeftSquareBracket=Le["["],Le.RightSquareBracket=Le["]"];var fre=Le;const Nr=gu(fre);var kE=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleRef=function(a){ma(r.props.innerRef,a)},r}var n=e.prototype;return n.componentDidMount=function(){Ze(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){Ze(this.props,"onUnmount",null,this.props)},n.render=function(){if(!SE())return null;var r=this.props,o=r.children,i=r.mountNode,s=i===void 0?document.body:i;return Jc.createPortal(de.createElement(pa,{innerRef:this.handleRef},o),s)},e}(z.Component);kE.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],kE.propTypes={};const mW=kE;var lf=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.contentRef=de.createRef(),r.triggerRef=de.createRef(),r.latestDocumentMouseDownEvent=null,r.handleDocumentMouseDown=function(a){r.latestDocumentMouseDownEvent=a},r.handleDocumentClick=function(a){var l=r.props.closeOnDocumentClick,u=r.latestDocumentMouseDownEvent;r.latestDocumentMouseDownEvent=null,!(!r.contentRef.current||cp(r.triggerRef.current,a)||u&&cp(r.contentRef.current,u)||cp(r.contentRef.current,a))&&l&&r.close(a)},r.handleEscape=function(a){r.props.closeOnEscape&&Nr.getCode(a)===Nr.Escape&&r.close(a)},r.handlePortalMouseLeave=function(a){var l=r.props,u=l.closeOnPortalMouseLeave,c=l.mouseLeaveDelay;u&&a.target===r.contentRef.current&&(r.mouseLeaveTimer=r.closeWithTimeout(a,c))},r.handlePortalMouseEnter=function(){var a=r.props.closeOnPortalMouseLeave;a&&clearTimeout(r.mouseLeaveTimer)},r.handleTriggerBlur=function(a){for(var l=r.props,u=l.trigger,c=l.closeOnTriggerBlur,h=arguments.length,d=new Array(h>1?h-1:0),g=1;g<h;g++)d[g-1]=arguments[g];Ze.apply(void 0,[u,"props.onBlur",a].concat(d));var p=a.relatedTarget||document.activeElement,v=Ze(r.contentRef.current,"contains",p);!c||v||r.close(a)},r.handleTriggerClick=function(a){for(var l=r.props,u=l.trigger,c=l.closeOnTriggerClick,h=l.openOnTriggerClick,d=r.state.open,g=arguments.length,p=new Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];Ze.apply(void 0,[u,"props.onClick",a].concat(p)),d&&c?r.close(a):!d&&h&&r.open(a)},r.handleTriggerFocus=function(a){for(var l=r.props,u=l.trigger,c=l.openOnTriggerFocus,h=arguments.length,d=new Array(h>1?h-1:0),g=1;g<h;g++)d[g-1]=arguments[g];Ze.apply(void 0,[u,"props.onFocus",a].concat(d)),c&&r.open(a)},r.handleTriggerMouseLeave=function(a){clearTimeout(r.mouseEnterTimer);for(var l=r.props,u=l.trigger,c=l.closeOnTriggerMouseLeave,h=l.mouseLeaveDelay,d=arguments.length,g=new Array(d>1?d-1:0),p=1;p<d;p++)g[p-1]=arguments[p];Ze.apply(void 0,[u,"props.onMouseLeave",a].concat(g)),c&&(r.mouseLeaveTimer=r.closeWithTimeout(a,h))},r.handleTriggerMouseEnter=function(a){clearTimeout(r.mouseLeaveTimer);for(var l=r.props,u=l.trigger,c=l.mouseEnterDelay,h=l.openOnTriggerMouseEnter,d=arguments.length,g=new Array(d>1?d-1:0),p=1;p<d;p++)g[p-1]=arguments[p];Ze.apply(void 0,[u,"props.onMouseEnter",a].concat(g)),h&&(r.mouseEnterTimer=r.openWithTimeout(a,c))},r.open=function(a){Ze(r.props,"onOpen",a,Re({},r.props,{open:!0})),r.setState({open:!0})},r.openWithTimeout=function(a,l){var u=Re({},a);return setTimeout(function(){return r.open(u)},l||0)},r.close=function(a){r.setState({open:!1}),Ze(r.props,"onClose",a,Re({},r.props,{open:!1}))},r.closeWithTimeout=function(a,l){var u=Re({},a);return setTimeout(function(){return r.close(u)},l||0)},r.handleMount=function(){Ze(r.props,"onMount",null,r.props)},r.handleUnmount=function(){Ze(r.props,"onUnmount",null,r.props)},r.handleTriggerRef=function(a){r.triggerRef.current=a,ma(r.props.triggerRef,a)},r}var n=e.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var r=this.props,o=r.children,i=r.eventPool,s=r.mountNode,a=r.trigger,l=this.state.open;return de.createElement(de.Fragment,null,l&&de.createElement(de.Fragment,null,de.createElement(mW,{innerRef:this.contentRef,mountNode:s,onMount:this.handleMount,onUnmount:this.handleUnmount},o),de.createElement(bl,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:i,target:this.contentRef}),de.createElement(bl,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:i,target:this.contentRef}),de.createElement(bl,{name:"mousedown",on:this.handleDocumentMouseDown,pool:i}),de.createElement(bl,{name:"click",on:this.handleDocumentClick,pool:i}),de.createElement(bl,{name:"keydown",on:this.handleEscape,pool:i})),a&&de.createElement(pa,{innerRef:this.handleTriggerRef},de.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e}(cE);lf.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],lf.propTypes={},lf.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},lf.autoControlledProps=["open"],lf.Inner=mW;const Ub=lf;function hp(t){var e=t.blurring,n=t.className,r=t.children,o=t.content,i=t.dimmed,s=wt(ce(e,"blurring"),ce(i,"dimmed"),"dimmable",n),a=vt(hp,t),l=bt(hp,t);return de.createElement(l,Re({},a,{className:s}),tn(r)?o:r)}hp.handledProps=["as","blurring","children","className","content","dimmed"],hp.propTypes={};var dp=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.containerRef=z.createRef(),r.contentRef=z.createRef(),r.handleClick=function(a){var l=r.contentRef.current;Ze(r.props,"onClick",a,r.props),!(l&&l!==a.target&&cp(l,a))&&Ze(r.props,"onClickOutside",a,r.props)},r}var n=e.prototype;return n.componentDidMount=function(){var r=this.props.active;this.toggleStyles(r)},n.componentDidUpdate=function(r){var o=this.props.active,i=r.active;i!==o&&this.toggleStyles(o)},n.toggleStyles=function(r){var o=this.containerRef.current;!o||!o.style||(r?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},n.render=function(){var r=this.props,o=r.active,i=r.children,s=r.className,a=r.content,l=r.disabled,u=r.inverted,c=r.page,h=r.simple,d=r.verticalAlign,g=wt("ui",ce(o,"active transition visible"),ce(l,"disabled"),ce(u,"inverted"),ce(c,"page"),ce(h,"simple"),ap(d),"dimmer",s),p=vt(e,this.props),v=bt(e,this.props),C=tn(i)?a:i;return de.createElement(pa,{innerRef:this.containerRef},de.createElement(v,Re({},p,{className:g,onClick:this.handleClick}),C&&de.createElement("div",{className:"content",ref:this.contentRef},C)))},e}(z.Component);dp.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],dp.propTypes={};var Fu=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handlePortalMount=function(){SE()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},r.handlePortalUnmount=function(){SE()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.page,s=vt(e,this.props);return i?de.createElement(Ub,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1},de.createElement(dp,Re({},s,{active:o,page:i}))):de.createElement(dp,Re({},s,{active:o,page:i}))},e}(z.Component);Fu.handledProps=["active","page"],Fu.propTypes={},Fu.Dimmable=hp,Fu.Inner=dp,Fu.create=ir(Fu,function(t){return{content:t}});function uf(t){var e=t.children,n=t.className,r=t.content,o=t.size,i=wt("ui",o,n,"images"),s=vt(uf,t),a=bt(uf,t);return de.createElement(a,Re({},s,{className:i}),tn(e)?r:e)}uf.handledProps=["as","children","className","content","size"],uf.propTypes={};function $o(t){var e=t.avatar,n=t.bordered,r=t.centered,o=t.children,i=t.circular,s=t.className,a=t.content,l=t.dimmer,u=t.disabled,c=t.floated,h=t.fluid,d=t.hidden,g=t.href,p=t.inline,v=t.label,C=t.rounded,w=t.size,y=t.spaced,x=t.verticalAlign,T=t.wrapped,_=t.ui,E=wt(ce(_,"ui"),w,ce(e,"avatar"),ce(n,"bordered"),ce(i,"circular"),ce(r,"centered"),ce(u,"disabled"),ce(h,"fluid"),ce(d,"hidden"),ce(p,"inline"),ce(C,"rounded"),so(y,"spaced"),Gi(c,"floated"),ap(x),"image",s),O=vt($o,t),N=CE(O,{htmlProps:nre}),H=N[0],L=N[1],G=bt($o,t,function(){if(!qt(l)||!qt(v)||!qt(T)||!tn(o))return"div"});return tn(o)?tn(a)?G==="img"?de.createElement(G,Re({},L,H,{className:E})):de.createElement(G,Re({},L,{className:E,href:g}),Fu.create(l,{autoGenerateKey:!1}),yi.create(v,{autoGenerateKey:!1}),de.createElement("img",H)):de.createElement(G,Re({},O,{className:E}),a):de.createElement(G,Re({},O,{className:E}),o)}$o.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],$o.Group=uf,$o.propTypes={},$o.defaultProps={as:"img",ui:!0},$o.create=ir($o,function(t){return{src:t}});function Wu(t){var e=t.children,n=t.className,r=t.content,o=wt("detail",n),i=vt(Wu,t),s=bt(Wu,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}Wu.handledProps=["as","children","className","content"],Wu.propTypes={},Wu.create=ir(Wu,function(t){return{content:t}});function fp(t){var e=t.children,n=t.circular,r=t.className,o=t.color,i=t.content,s=t.size,a=t.tag,l=wt("ui",o,s,ce(n,"circular"),ce(a,"tag"),"labels",r),u=vt(fp,t),c=bt(fp,t);return de.createElement(c,Re({},u,{className:l}),tn(e)?i:e)}fp.handledProps=["as","children","circular","className","color","content","size","tag"],fp.propTypes={};var yi=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){var l=r.props.onClick;l&&l(a,r.props)},r.handleIconOverrides=function(a){return{onClick:function(l){Ze(a,"onClick",l),Ze(r.props,"onRemove",l,r.props)}}},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.attached,s=r.basic,a=r.children,l=r.circular,u=r.className,c=r.color,h=r.content,d=r.corner,g=r.detail,p=r.empty,v=r.floating,C=r.horizontal,w=r.icon,y=r.image,x=r.onRemove,T=r.pointing,_=r.prompt,E=r.removeIcon,O=r.ribbon,N=r.size,H=r.tag,L=T===!0&&"pointing"||(T==="left"||T==="right")&&T+" pointing"||(T==="above"||T==="below")&&"pointing "+T,G=wt("ui",c,L,N,ce(o,"active"),ce(s,"basic"),ce(l,"circular"),ce(p,"empty"),ce(v,"floating"),ce(C,"horizontal"),ce(y===!0,"image"),ce(_,"prompt"),ce(H,"tag"),so(d,"corner"),so(O,"ribbon"),Gi(i,"attached"),"label",u),ue=vt(e,this.props),B=bt(e,this.props);if(!tn(a))return de.createElement(B,Re({},ue,{className:G,onClick:this.handleClick}),a);var he=Ab(E)?"delete":E;return de.createElement(B,Re({className:G,onClick:this.handleClick},ue),Hr.create(w,{autoGenerateKey:!1}),typeof y!="boolean"&&$o.create(y,{autoGenerateKey:!1}),h,Wu.create(g,{autoGenerateKey:!1}),x&&Hr.create(he,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},e}(z.Component);yi.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],yi.propTypes={},yi.Detail=Wu,yi.Group=fp,yi.create=ir(yi,function(t){return{content:t}});function gp(t){var e=t.children,n=t.className,r=t.content,o=t.hidden,i=t.visible,s=wt(ce(i,"visible"),ce(o,"hidden"),"content",n),a=vt(gp,t),l=bt(gp,t);return de.createElement(l,Re({},a,{className:s}),tn(e)?r:e)}gp.handledProps=["as","children","className","content","hidden","visible"],gp.propTypes={};function uh(t){var e=t.attached,n=t.basic,r=t.buttons,o=t.children,i=t.className,s=t.color,a=t.compact,l=t.content,u=t.floated,c=t.fluid,h=t.icon,d=t.inverted,g=t.labeled,p=t.negative,v=t.positive,C=t.primary,w=t.secondary,y=t.size,x=t.toggle,T=t.vertical,_=t.widths,E=wt("ui",s,y,ce(n,"basic"),ce(a,"compact"),ce(c,"fluid"),ce(h,"icon"),ce(d,"inverted"),ce(g,"labeled"),ce(p,"negative"),ce(v,"positive"),ce(C,"primary"),ce(w,"secondary"),ce(x,"toggle"),ce(T,"vertical"),so(e,"attached"),Gi(u,"floated"),Yi(_),"buttons",i),O=vt(uh,t),N=bt(uh,t);return qt(r)?de.createElement(N,Re({},O,{className:E}),tn(o)?l:o):de.createElement(N,Re({},O,{className:E}),af(r,function(H){return hr.create(H)}))}uh.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],uh.propTypes={};function mp(t){var e=t.className,n=t.text,r=wt("or",e),o=vt(mp,t),i=bt(mp,t);return de.createElement(i,Re({},o,{className:r,"data-text":n}))}mp.handledProps=["as","className","text"],mp.propTypes={};var Sl=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.ref=z.createRef(),r.computeElementType=function(){var a=r.props,l=a.attached,u=a.label;if(!qt(l)||!qt(u))return"div"},r.computeTabIndex=function(a){var l=r.props,u=l.disabled,c=l.tabIndex;if(!qt(c))return c;if(u)return-1;if(a==="div")return 0},r.focus=function(a){return Ze(r.ref.current,"focus",a)},r.handleClick=function(a){var l=r.props.disabled;if(l){a.preventDefault();return}Ze(r.props,"onClick",a,r.props)},r.hasIconClass=function(){var a=r.props,l=a.labelPosition,u=a.children,c=a.content,h=a.icon;return h===!0?!0:h&&(l||tn(u)&&qt(c))},r}var n=e.prototype;return n.computeButtonAriaRole=function(r){var o=this.props.role;if(!qt(o))return o;if(r!=="button")return"button"},n.render=function(){var r=this.props,o=r.active,i=r.animated,s=r.attached,a=r.basic,l=r.children,u=r.circular,c=r.className,h=r.color,d=r.compact,g=r.content,p=r.disabled,v=r.floated,C=r.fluid,w=r.icon,y=r.inverted,x=r.label,T=r.labelPosition,_=r.loading,E=r.negative,O=r.positive,N=r.primary,H=r.secondary,L=r.size,G=r.toggle,ue=r.type,B=wt(h,L,ce(o,"active"),ce(a,"basic"),ce(u,"circular"),ce(d,"compact"),ce(C,"fluid"),ce(this.hasIconClass(),"icon"),ce(y,"inverted"),ce(_,"loading"),ce(E,"negative"),ce(O,"positive"),ce(N,"primary"),ce(H,"secondary"),ce(G,"toggle"),so(i,"animated"),so(s,"attached")),he=wt(so(T||!!x,"labeled")),Ee=wt(ce(p,"disabled"),Gi(v,"floated")),Me=vt(e,this.props),ye=bt(e,this.props,this.computeElementType),te=this.computeTabIndex(ye);if(!qt(x)){var S=wt("ui",B,"button",c),R=wt("ui",he,"button",c,Ee),M=yi.create(x,{defaultProps:{basic:!0,pointing:T==="left"?"right":"left"},autoGenerateKey:!1});return de.createElement(ye,Re({},Me,{className:R,onClick:this.handleClick}),T==="left"&&M,de.createElement(pa,{innerRef:this.ref},de.createElement("button",{className:S,"aria-pressed":G?!!o:void 0,disabled:p,type:ue,tabIndex:te},Hr.create(w,{autoGenerateKey:!1})," ",g)),(T==="right"||!T)&&M)}var D=wt("ui",B,Ee,he,"button",c),W=!tn(l),U=this.computeButtonAriaRole(ye);return de.createElement(pa,{innerRef:this.ref},de.createElement(ye,Re({},Me,{className:D,"aria-pressed":G?!!o:void 0,disabled:p&&ye==="button"||void 0,onClick:this.handleClick,role:U,type:ue,tabIndex:te}),W&&l,!W&&Hr.create(w,{autoGenerateKey:!1}),!W&&g))},e}(z.Component);Sl.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Sl.propTypes={},Sl.defaultProps={as:"button"},Sl.Content=gp,Sl.Group=uh,Sl.Or=mp,Sl.create=ir(Sl,function(t){return{content:t}});const hr=Sl;function gre(t,e,n,r){var o=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function mre(t,e,n,r,o){return o(t,function(i,s,a){n=r?(r=!1,i):e(n,i,s,a)}),n}function pW(t,e,n){var r=vr(t)?gre:mre,o=arguments.length<3;return r(t,ah(e),n,o,rf)}var pre=function(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<i.length;l++){var u=i[l];if(!a(u))return!1;var c=t[u],h=e[u];if(o=n?n.call(r,c,h,u):void 0,o===!1||o===void 0&&c!==h)return!1}return!0};const zb=gu(pre);function wre(t){return function(e){return t==null?void 0:t[e]}}var vre={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yre=wre(vre);const bre=yre;var Cre=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sre="\\u0300-\\u036f",xre="\\ufe20-\\ufe2f",Rre="\\u20d0-\\u20ff",kre=Sre+xre+Rre,Ere="["+kre+"]",Tre=RegExp(Ere,"g");function wW(t){return t=Xk(t),t&&t.replace(Cre,bre).replace(Tre,"")}function Mre(t,e,n){return t==null?t:KF(t,e,n)}var kn=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.inputRef=z.createRef(),r.labelRef=z.createRef(),r.canToggle=function(){var a=r.props,l=a.disabled,u=a.radio,c=a.readOnly,h=r.state.checked;return!l&&!c&&!(u&&h)},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;return qt(u)?l?-1:0:u},r.handleClick=function(a){var l=r.props.id,u=r.state,c=u.checked,h=u.indeterminate,d=Ze(r.inputRef.current,"contains",a.target),g=Ze(r.labelRef.current,"contains",a.target),p=!g&&!d,v=!qt(l),C=g&&v;C||Ze(r.props,"onClick",a,Re({},r.props,{checked:!c,indeterminate:!!h})),r.isClickFromMouse&&(r.isClickFromMouse=!1,g&&!v&&r.handleChange(a),p&&r.handleChange(a),g&&v&&a.stopPropagation())},r.handleChange=function(a){var l=r.state.checked;r.canToggle()&&(Ze(r.props,"onChange",a,Re({},r.props,{checked:!l,indeterminate:!1})),r.setState({checked:!l,indeterminate:!1}))},r.handleMouseDown=function(a){var l=r.state,u=l.checked,c=l.indeterminate;Ze(r.props,"onMouseDown",a,Re({},r.props,{checked:!!u,indeterminate:!!c})),a.defaultPrevented||Ze(r.inputRef.current,"focus"),a.preventDefault()},r.handleMouseUp=function(a){var l=r.state,u=l.checked,c=l.indeterminate;r.isClickFromMouse=!0,Ze(r.props,"onMouseUp",a,Re({},r.props,{checked:!!u,indeterminate:!!c}))},r.setIndeterminate=function(){var a=r.state.indeterminate;Mre(r.inputRef,"current.indeterminate",!!a)},r}var n=e.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var r=this.props,o=r.className,i=r.disabled,s=r.label,a=r.id,l=r.name,u=r.radio,c=r.readOnly,h=r.slider,d=r.toggle,g=r.type,p=r.value,v=this.state,C=v.checked,w=v.indeterminate,y=wt("ui",ce(C,"checked"),ce(i,"disabled"),ce(w,"indeterminate"),ce(qt(s),"fitted"),ce(u,"radio"),ce(c,"read-only"),ce(h,"slider"),ce(d,"toggle"),"checkbox",o),x=vt(e,this.props),T=bt(e,this.props),_=CE(x,{htmlProps:dW}),E=_[0],O=_[1],N=bE(s,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||de.createElement("label",{htmlFor:a});return de.createElement(T,Re({},O,{className:y,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),de.createElement(pa,{innerRef:this.inputRef},de.createElement("input",Re({},E,{checked:C,className:"hidden",disabled:i,id:a,name:l,readOnly:!0,tabIndex:this.computeTabIndex(),type:g,value:p}))),de.createElement(pa,{innerRef:this.labelRef},N))},e}(cE);kn.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],kn.propTypes={},kn.defaultProps={type:"checkbox"},kn.autoControlledProps=["checked","indeterminate"];function cf(t){var e=t.slider,n=t.toggle,r=t.type,o=vt(cf,t),i=!(e||n)||void 0;return de.createElement(kn,Re({},o,{type:r,radio:i,slider:e,toggle:n}))}cf.handledProps=["slider","toggle","type"],cf.propTypes={},cf.defaultProps={type:"radio"};function _re(t){for(var e=-1,n=t==null?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function Ore(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Are(t,e){var n=!0;return rf(t,function(r,o,i){return n=!!e(r,o,i),n}),n}function Pre(t,e,n){var r=vr(t)?Ore:Are;return n&&zF(t,e,n)&&(e=void 0),r(t,ah(e))}function Ire(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:eE(e),e=r-e,eF(t,0,e<0?0:e)):[]}var Hre=LF("length"),vW="\\ud800-\\udfff",Nre="\\u0300-\\u036f",Dre="\\ufe20-\\ufe2f",Lre="\\u20d0-\\u20ff",jre=Nre+Dre+Lre,Fre="\\ufe0e\\ufe0f",Wre="["+vW+"]",EE="["+jre+"]",TE="\\ud83c[\\udffb-\\udfff]",Vre="(?:"+EE+"|"+TE+")",yW="[^"+vW+"]",bW="(?:\\ud83c[\\udde6-\\uddff]){2}",CW="[\\ud800-\\udbff][\\udc00-\\udfff]",Bre="\\u200d",SW=Vre+"?",xW="["+Fre+"]?",Ure="(?:"+Bre+"(?:"+[yW,bW,CW].join("|")+")"+xW+SW+")*",zre=xW+SW+Ure,$re="(?:"+[yW+EE+"?",EE,bW,CW,Wre].join("|")+")",RW=RegExp(TE+"(?="+TE+")|"+$re+zre,"g");function Gre(t){for(var e=RW.lastIndex=0;RW.test(t);)++e;return e}function Yre(t){return dne(t)?Gre(t):Hre(t)}var qre="[object Map]",Kre="[object Set]";function Qre(t){if(t==null)return 0;if(vl(t))return vE(t)?Yre(t):t.length;var e=Ib(t);return e==qre||e==Kre?t.size:rE(t).length}var kW=Ob(function(t){return cW(Fb(t,1,Lb,!0))}),ch=function(t){wr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this.props,o=r.className,i=r.name,s=wt(i,"flag",o),a=vt(e,this.props),l=bt(e,this.props);return de.createElement(l,Re({},a,{className:s}))},e}(z.PureComponent);ch.handledProps=["as","className","name"],ch.propTypes={},ch.defaultProps={as:"i"},ch.create=ir(ch,function(t){return{name:t}});function pp(t){var e=t.className,n=wt("divider",e),r=vt(pp,t),o=bt(pp,t);return de.createElement(o,Re({},r,{className:n}))}pp.handledProps=["as","className"],pp.propTypes={};var wp=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){Ze(r.props,"onClick",a,r.props)},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.children,s=r.className,a=r.content,l=r.disabled,u=r.description,c=r.flag,h=r.icon,d=r.image,g=r.label,p=r.selected,v=r.text,C=wt(ce(o,"active"),ce(l,"disabled"),ce(p,"selected"),"item",s),w=qt(h)?ene(i,"DropdownMenu")&&"dropdown":h,y=vt(e,this.props),x=bt(e,this.props),T={role:"option","aria-disabled":l,"aria-checked":o,"aria-selected":p};if(!tn(i))return de.createElement(x,Re({},y,T,{className:C,onClick:this.handleClick}),i);var _=ch.create(c,{autoGenerateKey:!1}),E=Hr.create(w,{autoGenerateKey:!1}),O=$o.create(d,{autoGenerateKey:!1}),N=yi.create(g,{autoGenerateKey:!1}),H=yE("span",function(G){return{children:G}},u,{defaultProps:{className:"description"},autoGenerateKey:!1}),L=yE("span",function(G){return{children:G}},tn(a)?v:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return de.createElement(x,Re({},y,T,{className:C,onClick:this.handleClick}),O,E,_,N,H,L)},e}(z.Component);wp.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],wp.propTypes={},wp.create=ir(wp,function(t){return t});const EW=wp;function Vu(t){var e=t.children,n=t.className,r=t.content,o=t.icon,i=wt("header",n),s=vt(Vu,t),a=bt(Vu,t);return tn(e)?de.createElement(a,Re({},s,{className:i}),Hr.create(o,{autoGenerateKey:!1}),r):de.createElement(a,Re({},s,{className:i}),e)}Vu.handledProps=["as","children","className","content","icon"],Vu.propTypes={},Vu.create=ir(Vu,function(t){return{content:t}});function hf(t){var e=t.children,n=t.className,r=t.content,o=t.direction,i=t.open,s=t.scrolling,a=wt(o,ce(i,"visible"),ce(s,"scrolling"),"menu transition",n),l=vt(hf,t),u=bt(hf,t);return de.createElement(u,Re({},l,{className:a}),tn(e)?r:e)}hf.handledProps=["as","children","className","content","direction","open","scrolling"],hf.propTypes={};var hh=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleChange=function(a){var l=ya(a,"target.value");Ze(r.props,"onChange",a,Re({},r.props,{value:l}))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.autoComplete,i=r.className,s=r.tabIndex,a=r.type,l=r.value,u=wt("search",i),c=vt(e,this.props);return de.createElement("input",Re({},c,{"aria-autocomplete":"list",autoComplete:o,className:u,onChange:this.handleChange,tabIndex:s,type:a,value:l}))},e}(z.Component);hh.handledProps=["as","autoComplete","className","tabIndex","type","value"],hh.propTypes={},hh.defaultProps={autoComplete:"off",type:"text"},hh.create=ir(hh,function(t){return{type:t}});function Bu(t){var e=t.children,n=t.className,r=t.content,o=wt("divider",n),i=vt(Bu,t),s=bt(Bu,t);return de.createElement(s,Re({"aria-atomic":!0,"aria-live":"polite",role:"alert"},i,{className:o}),tn(e)?r:e)}Bu.handledProps=["as","children","className","content"],Bu.propTypes={},Bu.create=ir(Bu,function(t){return{content:t}});var TW=/[\\^$.*+?()[\]{}|]/g,Xre=RegExp(TW.source);function Jre(t){return t=Xk(t),t&&Xre.test(t)?t.replace(TW,"\\$&"):t}function df(t){var e=t.additionLabel,n=t.additionPosition,r=t.allowAdditions,o=t.deburr,i=t.multiple,s=t.options,a=t.search,l=t.searchQuery,u=t.value,c=s;if(i&&(c=jF(c,function(v){return!Cl(u,v.value)})),a&&l)if(ef(a))c=a(c,l);else{var h=o?wW(l):l,d=new RegExp(Jre(h),"i");c=jF(c,function(v){return d.test(o?wW(v.text):v.text)})}if(r&&a&&l&&!sp(c,{text:l})){var g=de.isValidElement(e)?de.cloneElement(e,{key:"addition-label"}):e||"",p={key:"addition",text:[g,de.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};n==="top"?c.unshift(p):c.push(p)}return c}df.handledProps=[];function MW(t){var e=t.additionLabel,n=t.additionPosition,r=t.allowAdditions,o=t.deburr,i=t.multiple,s=t.options,a=t.search,l=t.searchQuery,u=t.selectedIndex,c=t.value,h=df({value:c,options:s,searchQuery:l,additionLabel:e,additionPosition:n,allowAdditions:r,deburr:o,multiple:i,search:a}),d=pW(h,function(C,w,y){return w.disabled||C.push(y),C},[]),g;if(!u||u<0){var p=d[0];g=i?p:hE(h,["value",c])||d[0]}else if(i)g=UF(d,function(C){return C>=u}),u>=h.length-1&&(g=d[d.length-1]);else{var v=hE(h,["value",c]);g=Cl(d,v)?v:void 0}return(!g||g<0)&&(g=d[0]),g}var _W=function(t,e){return qt(t)?e:t},OW=function(t){return t&&t.map(function(e){return QF(e,["key","value"])})};function AW(t){var e=t.flag,n=t.image,r=t.text;return ef(r)?r:{content:de.createElement(de.Fragment,null,ch.create(e),$o.create(n),r)}}var qn=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.searchRef=z.createRef(),r.sizerRef=z.createRef(),r.ref=z.createRef(),r.handleChange=function(a,l){Ze(r.props,"onChange",a,Re({},r.props,{value:l}))},r.closeOnChange=function(a){var l=r.props,u=l.closeOnChange,c=l.multiple,h=Ab(u)?!c:u;h&&r.close(a,uW)},r.closeOnEscape=function(a){r.props.closeOnEscape&&Nr.getCode(a)===Nr.Escape&&(a.preventDefault(),r.close(a))},r.moveSelectionOnKeyDown=function(a){var l,u=r.props,c=u.multiple,h=u.selectOnNavigation,d=r.state.open;if(d){var g=(l={},l[Nr.ArrowDown]=1,l[Nr.ArrowUp]=-1,l),p=g[Nr.getCode(a)];if(p!==void 0){a.preventDefault();var v=r.getSelectedIndexAfterMove(p);!c&&h&&r.makeSelectedItemActive(a,v),r.setState({selectedIndex:v})}}},r.openOnSpace=function(a){var l,u,c,h=r.state.focus&&!r.state.open&&Nr.getCode(a)===Nr.Spacebar,d=((l=a.target)==null?void 0:l.tagName)!=="INPUT"&&((u=a.target)==null?void 0:u.tagName)!=="TEXTAREA"&&((c=a.target)==null?void 0:c.isContentEditable)!==!0;h&&(d&&a.preventDefault(),r.open(a))},r.openOnArrow=function(a){var l=r.state,u=l.focus,c=l.open;if(u&&!c){var h=Nr.getCode(a);(h===Nr.ArrowDown||h===Nr.ArrowUp)&&(a.preventDefault(),r.open(a))}},r.makeSelectedItemActive=function(a,l){var u=r.state,c=u.open,h=u.value,d=r.props.multiple,g=r.getSelectedItem(l),p=ya(g,"value"),v=ya(g,"disabled");if(qt(p)||!c||v)return h;var C=d?kW(h,[p]):p,w=d?!!qF(C,h).length:C!==h;return w&&(r.setState({value:C}),r.handleChange(a,C),g["data-additional"]&&Ze(r.props,"onAddItem",a,Re({},r.props,{value:p}))),h},r.selectItemOnEnter=function(a){var l=r.props.search,u=r.state,c=u.open,h=u.selectedIndex;if(c){var d=Nr.getCode(a)===Nr.Enter||!l&&Nr.getCode(a)===Nr.Spacebar;if(d){a.preventDefault();var g=Qre(df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search}));if(!(l&&g===0)){var p=r.makeSelectedItemActive(a,h);r.setState({selectedIndex:MW({additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search,selectedIndex:h,value:p,options:r.props.options,searchQuery:""})}),r.closeOnChange(a),r.clearSearchQuery(),l&&Ze(r.searchRef.current,"focus")}}}},r.removeItemOnBackspace=function(a){var l=r.props,u=l.multiple,c=l.search,h=r.state,d=h.searchQuery,g=h.value;if(Nr.getCode(a)===Nr.Backspace&&!(d||!c||!u||Db(g))){a.preventDefault();var p=Ire(g);r.setState({value:p}),r.handleChange(a,p)}},r.closeOnDocumentClick=function(a){r.props.closeOnBlur&&(r.ref.current&&cp(r.ref.current,a)||r.close())},r.handleMouseDown=function(a){r.isMouseDown=!0,Ze(r.props,"onMouseDown",a,r.props),document.addEventListener("mouseup",r.handleDocumentMouseUp)},r.handleDocumentMouseUp=function(){r.isMouseDown=!1,document.removeEventListener("mouseup",r.handleDocumentMouseUp)},r.handleClick=function(a){var l=r.props,u=l.minCharacters,c=l.search,h=r.state,d=h.open,g=h.searchQuery;if(Ze(r.props,"onClick",a,r.props),a.stopPropagation(),!c)return r.toggle(a);if(d){Ze(r.searchRef.current,"focus");return}if(g.length>=u||u===1){r.open(a);return}Ze(r.searchRef.current,"focus")},r.handleIconClick=function(a){var l=r.props.clearable,u=r.hasValue();Ze(r.props,"onClick",a,r.props),a.stopPropagation(),l&&u?r.clearValue(a):r.toggle(a)},r.handleItemClick=function(a,l){var u=r.props,c=u.multiple,h=u.search,d=r.state.value,g=l.value;if(a.stopPropagation(),(c||l.disabled)&&a.nativeEvent.stopImmediatePropagation(),!l.disabled){var p=l["data-additional"],v=c?kW(r.state.value,[g]):g,C=c?!!qF(v,d).length:v!==d;C&&(r.setState({value:v}),r.handleChange(a,v)),r.clearSearchQuery(),Ze(h?r.searchRef.current:r.ref.current,"focus"),r.closeOnChange(a),p&&Ze(r.props,"onAddItem",a,Re({},r.props,{value:g}))}},r.handleFocus=function(a){var l=r.state.focus;l||(Ze(r.props,"onFocus",a,r.props),r.setState({focus:!0}))},r.handleBlur=function(a){var l=ya(a,"currentTarget");if(!(l&&l.contains(document.activeElement))){var u=r.props,c=u.closeOnBlur,h=u.multiple,d=u.selectOnBlur;r.isMouseDown||(Ze(r.props,"onBlur",a,r.props),d&&!h&&(r.makeSelectedItemActive(a,r.state.selectedIndex),c&&r.close()),r.setState({focus:!1}),r.clearSearchQuery())}},r.handleSearchChange=function(a,l){var u=l.value;a.stopPropagation();var c=r.props.minCharacters,h=r.state.open,d=u;if(Ze(r.props,"onSearchChange",a,Re({},r.props,{searchQuery:d})),r.setState({searchQuery:d,selectedIndex:0}),!h&&d.length>=c){r.open();return}h&&c!==1&&d.length<c&&r.close()},r.handleKeyDown=function(a){r.moveSelectionOnKeyDown(a),r.openOnArrow(a),r.openOnSpace(a),r.selectItemOnEnter(a),Ze(r.props,"onKeyDown",a)},r.getSelectedItem=function(a){var l=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});return ya(l,"["+a+"]")},r.getItemByValue=function(a){var l=r.props.options;return UF(l,{value:a})},r.getDropdownAriaOptions=function(){var a=r.props,l=a.loading,u=a.disabled,c=a.search,h=a.multiple,d=r.state.open,g={role:c?"combobox":"listbox","aria-busy":l,"aria-disabled":u,"aria-expanded":!!d};return g.role==="listbox"&&(g["aria-multiselectable"]=h),g},r.clearSearchQuery=function(){var a=r.state.searchQuery;a===void 0||a===""||r.setState({searchQuery:""})},r.handleLabelClick=function(a,l){a.stopPropagation(),r.setState({selectedLabel:l.value}),Ze(r.props,"onLabelClick",a,l)},r.handleLabelRemove=function(a,l){a.stopPropagation();var u=r.state.value,c=dre(u,l.value);r.setState({value:c}),r.handleChange(a,c)},r.getSelectedIndexAfterMove=function(a,l){l===void 0&&(l=r.state.selectedIndex);var u=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(!(u===void 0||Pre(u,"disabled"))){var c=u.length-1,h=r.props.wrapSelection,d=l+a;return!h&&(d>c||d<0)?d=l:d>c?d=0:d<0&&(d=c),u[d].disabled?r.getSelectedIndexAfterMove(a,d):d}},r.handleIconOverrides=function(a){var l=r.props.clearable,u=wt(l&&r.hasValue()&&"clear",a.className);return{className:u,onClick:function(c){Ze(a,"onClick",c,a),r.handleIconClick(c)}}},r.clearValue=function(a){var l=r.props.multiple,u=l?[]:"";r.setState({value:u}),r.handleChange(a,u)},r.computeSearchInputTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;return qt(u)?l?-1:0:u},r.computeSearchInputWidth=function(){var a=r.state.searchQuery;if(r.sizerRef.current&&a){r.sizerRef.current.style.display="inline",r.sizerRef.current.textContent=a;var l=Math.ceil(r.sizerRef.current.getBoundingClientRect().width);return r.sizerRef.current.style.removeProperty("display"),l}},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.search,c=a.tabIndex;if(!u)return l?-1:qt(c)?0:c},r.handleSearchInputOverrides=function(a){return{onChange:function(l,u){Ze(a,"onChange",l,u),r.handleSearchChange(l,u)}}},r.hasValue=function(){var a=r.props.multiple,l=r.state.value;return a?!Db(l):!qt(l)&&l!==""},r.scrollSelectedItemIntoView=function(){if(r.ref.current){var a=r.ref.current.querySelector(".menu.visible");if(a){var l=a.querySelector(".item.selected");if(l){var u=l.offsetTop<a.scrollTop,c=l.offsetTop+l.clientHeight>a.scrollTop+a.clientHeight;u?a.scrollTop=l.offsetTop:c&&(a.scrollTop=l.offsetTop+l.clientHeight-a.clientHeight)}}}},r.setOpenDirection=function(){if(r.ref.current){var a=r.ref.current.querySelector(".menu.visible");if(a){var l=r.ref.current.getBoundingClientRect(),u=a.clientHeight,c=document.documentElement.clientHeight-l.top-l.height-u,h=l.top-u,d=c<0&&h>c;!d!=!r.state.upward&&r.setState({upward:d})}}},r.open=function(a,l){a===void 0&&(a=null),l===void 0&&(l=!0);var u=r.props,c=u.disabled,h=u.search;c||(h&&Ze(r.searchRef.current,"focus"),Ze(r.props,"onOpen",a,r.props),l&&r.setState({open:!0}),r.scrollSelectedItemIntoView())},r.close=function(a,l){l===void 0&&(l=r.handleClose),r.state.open&&(Ze(r.props,"onClose",a,r.props),r.setState({open:!1},l))},r.handleClose=function(){var a=document.activeElement===r.searchRef.current;!a&&r.ref.current&&r.ref.current.blur();var l=document.activeElement===r.ref.current,u=a||l;r.setState({focus:u})},r.toggle=function(a){return r.state.open?r.close(a):r.open(a)},r.renderText=function(){var a=r.props,l=a.multiple,u=a.placeholder,c=a.search,h=a.text,d=r.state,g=d.searchQuery,p=d.selectedIndex,v=d.value,C=d.open,w=r.hasValue(),y=wt(u&&!w&&"default","text",c&&g&&"filtered"),x=u,T;return h?x=h:C&&!l?T=r.getSelectedItem(p):w&&(T=r.getItemByValue(v)),Bu.create(T?AW(T):x,{defaultProps:{className:y}})},r.renderSearchInput=function(){var a=r.props,l=a.search,u=a.searchInput,c=r.state.searchQuery;return l&&de.createElement(pa,{innerRef:r.searchRef},hh.create(u,{defaultProps:{style:{width:r.computeSearchInputWidth()},tabIndex:r.computeSearchInputTabIndex(),value:c},overrideProps:r.handleSearchInputOverrides}))},r.renderSearchSizer=function(){var a=r.props,l=a.search,u=a.multiple;return l&&u&&de.createElement("span",{className:"sizer",ref:r.sizerRef})},r.renderLabels=function(){var a=r.props,l=a.multiple,u=a.renderLabel,c=r.state,h=c.selectedLabel,d=c.value;if(!(!l||Db(d))){var g=af(d,r.getItemByValue);return af(_re(g),function(p,v){var C={active:p.value===h,as:"a",key:_W(p.key,p.value),onClick:r.handleLabelClick,onRemove:r.handleLabelRemove,value:p.value};return yi.create(u(p,v,C),{defaultProps:C})})}},r.renderOptions=function(){var a=r.props,l=a.lazyLoad,u=a.multiple,c=a.search,h=a.noResultsMessage,d=r.state,g=d.open,p=d.selectedIndex,v=d.value;if(l&&!g)return null;var C=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(h!==null&&c&&Db(C))return de.createElement("div",{className:"message"},h);var w=u?function(y){return Cl(v,y)}:function(y){return y===v};return af(C,function(y,x){return EW.create(Re({active:w(y.value),selected:p===x},y,{key:_W(y.key,y.value),style:Re({},y.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(T){return{onClick:function(_,E){T.onClick==null||T.onClick(_,E),r.handleItemClick(_,E)}}}})})},r.renderMenu=function(){var a=r.props,l=a.children,u=a.direction,c=a.header,h=r.state.open,d=r.getDropdownMenuAriaOptions();if(!tn(l)){var g=z.Children.only(l),p=wt(u,ce(h,"visible"),g.props.className);return z.cloneElement(g,Re({className:p},d))}return de.createElement(hf,Re({},d,{direction:u,open:h}),Vu.create(c,{autoGenerateKey:!1}),r.renderOptions())},r}var n=e.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},e.getAutoControlledStateFromProps=function(r,o,i){var s={__options:r.options,__value:o.value},a=!zb(i.__value,o.value)||!cre(OW(r.options),OW(i.__options));return a&&(s.selectedIndex=MW({additionLabel:r.additionLabel,additionPosition:r.additionPosition,allowAdditions:r.allowAdditions,deburr:r.deburr,multiple:r.multiple,search:r.search,selectedIndex:o.selectedIndex,value:o.value,options:r.options,searchQuery:o.searchQuery})),s},n.componentDidMount=function(){var r=this.state.open;r&&this.open(null,!1)},n.shouldComponentUpdate=function(r,o){return!zb(r,this.props)||!zb(o,this.state)},n.componentDidUpdate=function(r,o){var i=this.props,s=i.closeOnBlur,a=i.minCharacters,l=i.openOnFocus,u=i.search;if(!o.focus&&this.state.focus){if(!this.isMouseDown){var c=!u||u&&a===1&&!this.state.open;l&&c&&this.open()}}else o.focus&&!this.state.focus&&!this.isMouseDown&&s&&this.close();!o.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):o.open&&this.state.open,o.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var r=this.props,o=r.search,i=r.multiple,s={};return o&&(s["aria-multiselectable"]=i,s.role="listbox"),s},n.render=function(){var r=this.props,o=r.basic,i=r.button,s=r.className,a=r.compact,l=r.disabled,u=r.error,c=r.fluid,h=r.floating,d=r.icon,g=r.inline,p=r.item,v=r.labeled,C=r.loading,w=r.multiple,y=r.pointing,x=r.search,T=r.selection,_=r.scrolling,E=r.simple,O=r.trigger,N=this.state,H=N.focus,L=N.open,G=N.upward,ue=wt("ui",ce(L,"active visible"),ce(l,"disabled"),ce(u,"error"),ce(C,"loading"),ce(o,"basic"),ce(i,"button"),ce(a,"compact"),ce(c,"fluid"),ce(h,"floating"),ce(g,"inline"),ce(v,"labeled"),ce(p,"item"),ce(w,"multiple"),ce(x,"search"),ce(T,"selection"),ce(E,"simple"),ce(_,"scrolling"),ce(G,"upward"),so(y,"pointing"),"dropdown",s),B=vt(e,this.props),he=bt(e,this.props),Ee=this.getDropdownAriaOptions(he,this.props);return de.createElement(pa,{innerRef:this.ref},de.createElement(he,Re({},B,Ee,{className:ue,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),O||this.renderText(),Hr.create(d,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),L&&de.createElement(bl,{name:"keydown",on:this.closeOnEscape}),L&&de.createElement(bl,{name:"click",on:this.closeOnDocumentClick}),H&&de.createElement(bl,{name:"keydown",on:this.removeItemOnBackspace})))},e}(cE);qn.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],qn.propTypes={},qn.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:AW,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},qn.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],qn.Divider=pp,qn.Header=Vu,qn.Item=EW,qn.Menu=hf,qn.SearchInput=hh,qn.Text=Bu;function dh(t){return de.createElement(qn,Re({},t,{selection:!0}))}dh.handledProps=["options"],dh.propTypes={},dh.Divider=qn.Divider,dh.Header=qn.Header,dh.Item=qn.Item,dh.Menu=qn.Menu;var $b=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.ref=z.createRef(),r.focus=function(){return r.ref.current.focus()},r.handleChange=function(a){var l=ya(a,"target.value");Ze(r.props,"onChange",a,Re({},r.props,{value:l}))},r.handleInput=function(a){var l=ya(a,"target.value");Ze(r.props,"onInput",a,Re({},r.props,{value:l}))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.rows,i=r.value,s=vt(e,this.props),a=bt(e,this.props);return de.createElement(pa,{innerRef:this.ref},de.createElement(a,Re({},s,{onChange:this.handleChange,onInput:this.handleInput,rows:o,value:i})))},e}(z.Component);$b.handledProps=["as","onChange","onInput","rows","value"],$b.propTypes={},$b.defaultProps={as:"textarea",rows:3};const Go=$b;function Ki(t){var e=t.children,n=t.className,r=t.content,o=t.control,i=t.disabled,s=t.error,a=t.inline,l=t.label,u=t.required,c=t.type,h=t.width,d=t.id,g=wt(ce(i,"disabled"),ce(s,"error"),ce(a,"inline"),ce(u,"required"),Yi(h,"wide"),"field",n),p=vt(Ki,t),v=bt(Ki,t),C=ya(s,"pointing","above"),w=yi.create(s,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:C,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),y=(C==="below"||C==="right")&&w,x=(C==="above"||C==="left")&&w;if(qt(o))return qt(l)?de.createElement(v,Re({},p,{className:g,id:d}),tn(e)?r:e):de.createElement(v,Re({},p,{className:g,id:d}),y,bE(l,{autoGenerateKey:!1}),x);var T=d&&s?d+"-error-message":null,_={"aria-describedby":T,"aria-invalid":s?!0:void 0},E=Re({},p,{content:r,children:e,disabled:i,required:u,type:c,id:d});return o==="input"&&(c==="checkbox"||c==="radio")?de.createElement(v,{className:g},de.createElement("label",null,y,z.createElement(o,Re({},_,E))," ",l,x)):o===kn||o===cf?de.createElement(v,{className:g},y,z.createElement(o,Re({},_,E,{label:l})),x):de.createElement(v,{className:g},bE(l,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),y,z.createElement(o,Re({},_,E)),x)}Ki.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],Ki.propTypes={};function ff(t){var e=t.control,n=vt(ff,t),r=bt(ff,t);return de.createElement(r,Re({},n,{control:e}))}ff.handledProps=["as","control"],ff.propTypes={},ff.defaultProps={as:Ki,control:hr};function gf(t){var e=t.control,n=vt(gf,t),r=bt(gf,t);return de.createElement(r,Re({},n,{control:e}))}gf.handledProps=["as","control"],gf.propTypes={},gf.defaultProps={as:Ki,control:kn};function mf(t){var e=t.control,n=vt(mf,t),r=bt(mf,t);return de.createElement(r,Re({},n,{control:e}))}mf.handledProps=["as","control"],mf.propTypes={},mf.defaultProps={as:Ki,control:qn};function vp(t){var e=t.children,n=t.className,r=t.grouped,o=t.inline,i=t.unstackable,s=t.widths,a=wt(ce(r,"grouped"),ce(o,"inline"),ce(i,"unstackable"),Yi(s,null,!0),"fields",n),l=vt(vp,t),u=bt(vp,t);return de.createElement(u,Re({},l,{className:a}),e)}vp.handledProps=["as","children","className","grouped","inline","unstackable","widths"],vp.propTypes={};var pf=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.inputRef=z.createRef(),r.computeIcon=function(){var a=r.props,l=a.loading,u=a.icon;if(!qt(u))return u;if(l)return"spinner"},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;if(!qt(u))return u;if(l)return-1},r.focus=function(a){return r.inputRef.current.focus(a)},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(a){var l=ya(a,"target.value");Ze(r.props,"onChange",a,Re({},r.props,{value:l}))},r.handleChildOverrides=function(a,l){return Re({},l,a.props,{ref:function(u){ma(a.ref,u),r.inputRef.current=u}})},r.partitionProps=function(){var a=r.props,l=a.disabled,u=a.type,c=r.computeTabIndex(),h=vt(e,r.props),d=CE(h),g=d[0],p=d[1];return[Re({},g,{disabled:l,type:u,tabIndex:c,onChange:r.handleChange,ref:r.inputRef}),p]},r}var n=e.prototype;return n.render=function(){var r=this,o=this.props,i=o.action,s=o.actionPosition,a=o.children,l=o.className,u=o.disabled,c=o.error,h=o.fluid,d=o.focus,g=o.icon,p=o.iconPosition,v=o.input,C=o.inverted,w=o.label,y=o.labelPosition,x=o.loading,T=o.size,_=o.transparent,E=o.type,O=wt("ui",T,ce(u,"disabled"),ce(c,"error"),ce(h,"fluid"),ce(d,"focus"),ce(C,"inverted"),ce(x,"loading"),ce(_,"transparent"),Gi(s,"action")||ce(i,"action"),Gi(p,"icon")||ce(g||x,"icon"),Gi(y,"labeled")||ce(w,"labeled"),"input",l),N=bt(e,this.props),H=this.partitionProps(),L=H[0],G=H[1];if(!tn(a)){var ue=af(z.Children.toArray(a),function(Ee){return Ee.type!=="input"?Ee:z.cloneElement(Ee,r.handleChildOverrides(Ee,L))});return de.createElement(N,Re({},G,{className:O}),ue)}var B=hr.create(i,{autoGenerateKey:!1}),he=yi.create(w,{defaultProps:{className:wt("label",Cl(y,"corner")&&y)},autoGenerateKey:!1});return de.createElement(N,Re({},G,{className:O}),s==="left"&&B,y!=="right"&&he,qne(v||E,{defaultProps:L,autoGenerateKey:!1}),Hr.create(this.computeIcon(),{autoGenerateKey:!1}),s!=="left"&&B,y==="right"&&he)},e}(z.Component);pf.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],pf.propTypes={},pf.defaultProps={type:"text"},pf.create=ir(pf,function(t){return{type:t}});const En=pf;function wf(t){var e=t.control,n=vt(wf,t),r=bt(wf,t);return de.createElement(r,Re({},n,{control:e}))}wf.handledProps=["as","control"],wf.propTypes={},wf.defaultProps={as:Ki,control:En};function vf(t){var e=t.control,n=vt(vf,t),r=bt(vf,t);return de.createElement(r,Re({},n,{control:e}))}vf.handledProps=["as","control"],vf.propTypes={},vf.defaultProps={as:Ki,control:cf};function yf(t){var e=t.control,n=t.options,r=vt(yf,t),o=bt(yf,t);return de.createElement(o,Re({},r,{control:e,options:n}))}yf.handledProps=["as","control","options"],yf.propTypes={},yf.defaultProps={as:Ki,control:dh};function bf(t){var e=t.control,n=vt(bf,t),r=bt(bf,t);return de.createElement(r,Re({},n,{control:e}))}bf.handledProps=["as","control"],bf.propTypes={},bf.defaultProps={as:Ki,control:Go};var bi=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleSubmit=function(a){var l=r.props.action;typeof l!="string"&&Ze(a,"preventDefault");for(var u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];Ze.apply(void 0,[r.props,"onSubmit",a,r.props].concat(c))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.action,i=r.children,s=r.className,a=r.error,l=r.inverted,u=r.loading,c=r.reply,h=r.size,d=r.success,g=r.unstackable,p=r.warning,v=r.widths,C=wt("ui",h,ce(a,"error"),ce(l,"inverted"),ce(u,"loading"),ce(c,"reply"),ce(d,"success"),ce(g,"unstackable"),ce(p,"warning"),Yi(v,null,!0),"form",s),w=vt(e,this.props),y=bt(e,this.props);return de.createElement(y,Re({},w,{action:o,className:C,onSubmit:this.handleSubmit}),i)},e}(z.Component);bi.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],bi.propTypes={},bi.defaultProps={as:"form"},bi.Field=Ki,bi.Button=ff,bi.Checkbox=gf,bi.Dropdown=mf,bi.Group=vp,bi.Input=wf,bi.Radio=vf,bi.Select=yf,bi.TextArea=bf;const Gb=bi;function pe(t){var e=t.children,n=t.className,r=t.computer,o=t.color,i=t.floated,s=t.largeScreen,a=t.mobile,l=t.only,u=t.stretched,c=t.tablet,h=t.textAlign,d=t.verticalAlign,g=t.widescreen,p=t.width,v=wt(o,ce(u,"stretched"),jb(l,"only"),dE(h),Gi(i,"floated"),ap(d),Yi(r,"wide computer"),Yi(s,"wide large screen"),Yi(a,"wide mobile"),Yi(c,"wide tablet"),Yi(g,"wide widescreen"),Yi(p,"wide"),"column",n),C=vt(pe,t),w=bt(pe,t);return de.createElement(w,Re({},C,{className:v}),e)}pe.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],pe.propTypes={},pe.create=ir(pe,function(t){return{children:t}});function Ge(t){var e=t.centered,n=t.children,r=t.className,o=t.color,i=t.columns,s=t.divided,a=t.only,l=t.reversed,u=t.stretched,c=t.textAlign,h=t.verticalAlign,d=wt(o,ce(e,"centered"),ce(s,"divided"),ce(u,"stretched"),jb(a,"only"),jb(l,"reversed"),dE(c),ap(h),Yi(i,"column",!0),"row",r),g=vt(Ge,t),p=bt(Ge,t);return de.createElement(p,Re({},g,{className:d}),n)}Ge.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Ge.propTypes={};function Yo(t){var e=t.celled,n=t.centered,r=t.children,o=t.className,i=t.columns,s=t.container,a=t.divided,l=t.doubling,u=t.inverted,c=t.padded,h=t.relaxed,d=t.reversed,g=t.stackable,p=t.stretched,v=t.textAlign,C=t.verticalAlign,w=wt("ui",ce(n,"centered"),ce(s,"container"),ce(l,"doubling"),ce(u,"inverted"),ce(g,"stackable"),ce(p,"stretched"),so(e,"celled"),so(a,"divided"),so(c,"padded"),so(h,"relaxed"),jb(d,"reversed"),dE(v),ap(C),Yi(i,"column",!0),"grid",o),y=vt(Yo,t),x=bt(Yo,t);return de.createElement(x,Re({},y,{className:w}),r)}Yo.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Yo.Column=pe,Yo.Row=Ge,Yo.propTypes={};function Cf(t){var e=t.children,n=t.className,r=t.content,o=wt("content",n),i=vt(Cf,t),s=bt(Cf,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}Cf.handledProps=["as","children","className","content"],Cf.propTypes={};function ba(t){var e=t.children,n=t.className,r=t.content,o=wt("header",n),i=vt(ba,t),s=bt(ba,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}ba.handledProps=["as","children","className","content"],ba.propTypes={},ba.create=ir(ba,function(t){return{content:t}});function xl(t){var e=t.children,n=t.className,r=t.content,o=wt("content",n),i=vt(xl,t),s=bt(xl,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}xl.handledProps=["as","children","className","content"],xl.propTypes={},xl.defaultProps={as:"li"},xl.create=ir(xl,function(t){return{content:t}});function Rl(t){var e=t.children,n=t.className,r=t.items,o=wt("list",n),i=vt(Rl,t),s=bt(Rl,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?af(r,xl.create):e)}Rl.handledProps=["as","children","className","items"],Rl.propTypes={},Rl.defaultProps={as:"ul"},Rl.create=ir(Rl,function(t){return{items:t}});var kl=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleDismiss=function(a){var l=r.props.onDismiss;l&&l(a,r.props)},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.attached,i=r.children,s=r.className,a=r.color,l=r.compact,u=r.content,c=r.error,h=r.floating,d=r.header,g=r.hidden,p=r.icon,v=r.info,C=r.list,w=r.negative,y=r.onDismiss,x=r.positive,T=r.size,_=r.success,E=r.visible,O=r.warning,N=wt("ui",a,T,ce(l,"compact"),ce(c,"error"),ce(h,"floating"),ce(g,"hidden"),ce(p,"icon"),ce(v,"info"),ce(w,"negative"),ce(x,"positive"),ce(_,"success"),ce(E,"visible"),ce(O,"warning"),so(o,"attached"),"message",s),H=y&&de.createElement(Hr,{name:"close",onClick:this.handleDismiss}),L=vt(e,this.props),G=bt(e,this.props);return tn(i)?de.createElement(G,Re({},L,{className:N}),H,Hr.create(p,{autoGenerateKey:!1}),(!qt(d)||!qt(u)||!qt(C))&&de.createElement(Cf,null,ba.create(d,{autoGenerateKey:!1}),Rl.create(C,{autoGenerateKey:!1}),Kne(u,{autoGenerateKey:!1}))):de.createElement(G,Re({},L,{className:N}),H,i)},e}(z.Component);kl.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],kl.propTypes={},kl.Content=Cf,kl.Header=ba,kl.List=Rl,kl.Item=xl;function Gt(t){var e=t.children,n=t.className,r=t.clearing,o=t.content,i=t.fitted,s=t.hidden,a=t.horizontal,l=t.inverted,u=t.section,c=t.vertical,h=wt("ui",ce(r,"clearing"),ce(i,"fitted"),ce(s,"hidden"),ce(a,"horizontal"),ce(l,"inverted"),ce(u,"section"),ce(c,"vertical"),"divider",n),d=vt(Gt,t),g=bt(Gt,t);return de.createElement(g,Re({},d,{className:h}),tn(e)?o:e)}Gt.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],Gt.propTypes={};function yp(t){var e=t.active,n=t.children,r=t.className,o=t.content,i=t.disabled,s=t.indeterminate,a=t.inline,l=t.inverted,u=t.size,c=wt("ui",u,ce(e,"active"),ce(i,"disabled"),ce(s,"indeterminate"),ce(l,"inverted"),ce(n||o,"text"),so(a,"inline"),"loader",r),h=vt(yp,t),d=bt(yp,t);return de.createElement(d,Re({},h,{className:c}),tn(n)?o:n)}yp.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],yp.propTypes={};function Zre(t){return $i(t)&&t.nodeType===1&&!JF(t)}var eoe=z.createContext();z.createContext();var toe=function(t){return Array.isArray(t)?t[0]:t},noe=function(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}},roe=function(t,e){if(typeof t=="function")return noe(t,e);t!=null&&(t.current=e)},PW=function(t){return t.reduce(function(e,n){var r=n[0],o=n[1];return e[r]=o,e},{})},IW=typeof window<"u"&&window.document&&window.document.createElement?z.useLayoutEffect:z.useEffect,qo="top",Qi="bottom",Xi="right",Ko="left",ME="auto",bp=[qo,Qi,Xi,Ko],Sf="start",Cp="end",ooe="clippingParents",HW="viewport",Sp="popper",ioe="reference",NW=bp.reduce(function(t,e){return t.concat([e+"-"+Sf,e+"-"+Cp])},[]),DW=[].concat(bp,[ME]).reduce(function(t,e){return t.concat([e,e+"-"+Sf,e+"-"+Cp])},[]),soe="beforeRead",aoe="read",loe="afterRead",uoe="beforeMain",coe="main",hoe="afterMain",doe="beforeWrite",foe="write",goe="afterWrite",moe=[soe,aoe,loe,uoe,coe,hoe,doe,foe,goe];function Ca(t){return t?(t.nodeName||"").toLowerCase():null}function Ci(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function fh(t){var e=Ci(t).Element;return t instanceof e||t instanceof Element}function Ji(t){var e=Ci(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _E(t){if(typeof ShadowRoot>"u")return!1;var e=Ci(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function poe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!Ji(i)||!Ca(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function woe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Ji(o)||!Ca(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const voe={name:"applyStyles",enabled:!0,phase:"write",fn:poe,effect:woe,requires:["computeStyles"]};function Sa(t){return t.split("-")[0]}var gh=Math.max,Yb=Math.min,xf=Math.round;function OE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function LW(){return!/^((?!chrome|android).)*safari/i.test(OE())}function Rf(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&Ji(t)&&(o=t.offsetWidth>0&&xf(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&xf(r.height)/t.offsetHeight||1);var s=fh(t)?Ci(t):window,a=s.visualViewport,l=!LW()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/o,c=(r.top+(l&&a?a.offsetTop:0))/i,h=r.width/o,d=r.height/i;return{width:h,height:d,top:c,right:u+h,bottom:c+d,left:u,x:u,y:c}}function AE(t){var e=Rf(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function jW(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_E(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function El(t){return Ci(t).getComputedStyle(t)}function yoe(t){return["table","td","th"].indexOf(Ca(t))>=0}function Uu(t){return((fh(t)?t.ownerDocument:t.document)||window.document).documentElement}function qb(t){return Ca(t)==="html"?t:t.assignedSlot||t.parentNode||(_E(t)?t.host:null)||Uu(t)}function FW(t){return!Ji(t)||El(t).position==="fixed"?null:t.offsetParent}function boe(t){var e=/firefox/i.test(OE()),n=/Trident/i.test(OE());if(n&&Ji(t)){var r=El(t);if(r.position==="fixed")return null}var o=qb(t);for(_E(o)&&(o=o.host);Ji(o)&&["html","body"].indexOf(Ca(o))<0;){var i=El(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function xp(t){for(var e=Ci(t),n=FW(t);n&&yoe(n)&&El(n).position==="static";)n=FW(n);return n&&(Ca(n)==="html"||Ca(n)==="body"&&El(n).position==="static")?e:n||boe(t)||e}function PE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Rp(t,e,n){return gh(t,Yb(e,n))}function Coe(t,e,n){var r=Rp(t,e,n);return r>n?n:r}function WW(){return{top:0,right:0,bottom:0,left:0}}function VW(t){return Object.assign({},WW(),t)}function BW(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Soe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,VW(typeof t!="number"?t:BW(t,bp))};function xoe(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Sa(n.placement),l=PE(a),u=[Ko,Xi].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!s)){var h=Soe(o.padding,n),d=AE(i),g=l==="y"?qo:Ko,p=l==="y"?Qi:Xi,v=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],C=s[l]-n.rects.reference[l],w=xp(i),y=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,x=v/2-C/2,T=h[g],_=y-d[c]-h[p],E=y/2-d[c]/2+x,O=Rp(T,E,_),N=l;n.modifiersData[r]=(e={},e[N]=O,e.centerOffset=O-E,e)}}function Roe(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||jW(e.elements.popper,o)&&(e.elements.arrow=o))}const koe={name:"arrow",enabled:!0,phase:"main",fn:xoe,effect:Roe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kf(t){return t.split("-")[1]}var Eoe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Toe(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:xf(n*o)/o||0,y:xf(r*o)/o||0}}function UW(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,d=s.x,g=d===void 0?0:d,p=s.y,v=p===void 0?0:p,C=typeof c=="function"?c({x:g,y:v}):{x:g,y:v};g=C.x,v=C.y;var w=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),x=Ko,T=qo,_=window;if(u){var E=xp(n),O="clientHeight",N="clientWidth";if(E===Ci(n)&&(E=Uu(n),El(E).position!=="static"&&a==="absolute"&&(O="scrollHeight",N="scrollWidth")),E=E,o===qo||(o===Ko||o===Xi)&&i===Cp){T=Qi;var H=h&&E===_&&_.visualViewport?_.visualViewport.height:E[O];v-=H-r.height,v*=l?1:-1}if(o===Ko||(o===qo||o===Qi)&&i===Cp){x=Xi;var L=h&&E===_&&_.visualViewport?_.visualViewport.width:E[N];g-=L-r.width,g*=l?1:-1}}var G=Object.assign({position:a},u&&Eoe),ue=c===!0?Toe({x:g,y:v},Ci(n)):{x:g,y:v};if(g=ue.x,v=ue.y,l){var B;return Object.assign({},G,(B={},B[T]=y?"0":"",B[x]=w?"0":"",B.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",B))}return Object.assign({},G,(e={},e[T]=y?v+"px":"",e[x]=w?g+"px":"",e.transform="",e))}function Moe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Sa(e.placement),variation:kf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UW(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UW(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Moe,data:{}};var Kb={passive:!0};function Ooe(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,l=Ci(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,Kb)}),a&&l.addEventListener("resize",n.update,Kb),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Kb)}),a&&l.removeEventListener("resize",n.update,Kb)}}const Aoe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ooe,data:{}};var Poe={left:"right",right:"left",bottom:"top",top:"bottom"};function Qb(t){return t.replace(/left|right|bottom|top/g,function(e){return Poe[e]})}var Ioe={start:"end",end:"start"};function zW(t){return t.replace(/start|end/g,function(e){return Ioe[e]})}function IE(t){var e=Ci(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function HE(t){return Rf(Uu(t)).left+IE(t).scrollLeft}function Hoe(t,e){var n=Ci(t),r=Uu(t),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var u=LW();(u||!u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+HE(t),y:l}}function Noe(t){var e,n=Uu(t),r=IE(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=gh(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=gh(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+HE(t),l=-r.scrollTop;return El(o||n).direction==="rtl"&&(a+=gh(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function NE(t){var e=El(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function $W(t){return["html","body","#document"].indexOf(Ca(t))>=0?t.ownerDocument.body:Ji(t)&&NE(t)?t:$W(qb(t))}function kp(t,e){var n;e===void 0&&(e=[]);var r=$W(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ci(r),s=o?[i].concat(i.visualViewport||[],NE(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(kp(qb(s)))}function DE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Doe(t,e){var n=Rf(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function GW(t,e,n){return e===HW?DE(Hoe(t,n)):fh(e)?Doe(e,n):DE(Noe(Uu(t)))}function Loe(t){var e=kp(qb(t)),n=["absolute","fixed"].indexOf(El(t).position)>=0,r=n&&Ji(t)?xp(t):t;return fh(r)?e.filter(function(o){return fh(o)&&jW(o,r)&&Ca(o)!=="body"}):[]}function joe(t,e,n,r){var o=e==="clippingParents"?Loe(t):[].concat(e),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(l,u){var c=GW(t,u,r);return l.top=gh(c.top,l.top),l.right=Yb(c.right,l.right),l.bottom=Yb(c.bottom,l.bottom),l.left=gh(c.left,l.left),l},GW(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function YW(t){var e=t.reference,n=t.element,r=t.placement,o=r?Sa(r):null,i=r?kf(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case qo:l={x:s,y:e.y-n.height};break;case Qi:l={x:s,y:e.y+e.height};break;case Xi:l={x:e.x+e.width,y:a};break;case Ko:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=o?PE(o):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Sf:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Cp:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Ep(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?ooe:a,u=n.rootBoundary,c=u===void 0?HW:u,h=n.elementContext,d=h===void 0?Sp:h,g=n.altBoundary,p=g===void 0?!1:g,v=n.padding,C=v===void 0?0:v,w=VW(typeof C!="number"?C:BW(C,bp)),y=d===Sp?ioe:Sp,x=t.rects.popper,T=t.elements[p?y:d],_=joe(fh(T)?T:T.contextElement||Uu(t.elements.popper),l,c,s),E=Rf(t.elements.reference),O=YW({reference:E,element:x,strategy:"absolute",placement:o}),N=DE(Object.assign({},x,O)),H=d===Sp?N:E,L={top:_.top-H.top+w.top,bottom:H.bottom-_.bottom+w.bottom,left:_.left-H.left+w.left,right:H.right-_.right+w.right},G=t.modifiersData.offset;if(d===Sp&&G){var ue=G[o];Object.keys(L).forEach(function(B){var he=[Xi,Qi].indexOf(B)>=0?1:-1,Ee=[qo,Qi].indexOf(B)>=0?"y":"x";L[B]+=ue[Ee]*he})}return L}function Foe(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?DW:l,c=kf(r),h=c?a?NW:NW.filter(function(p){return kf(p)===c}):bp,d=h.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=h);var g=d.reduce(function(p,v){return p[v]=Ep(t,{placement:v,boundary:o,rootBoundary:i,padding:s})[Sa(v)],p},{});return Object.keys(g).sort(function(p,v){return g[p]-g[v]})}function Woe(t){if(Sa(t)===ME)return[];var e=Qb(t);return[zW(t),e,zW(e)]}function Voe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,g=n.flipVariations,p=g===void 0?!0:g,v=n.allowedAutoPlacements,C=e.options.placement,w=Sa(C),y=w===C,x=l||(y||!p?[Qb(C)]:Woe(C)),T=[C].concat(x).reduce(function(U,se){return U.concat(Sa(se)===ME?Foe(e,{placement:se,boundary:c,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:v}):se)},[]),_=e.rects.reference,E=e.rects.popper,O=new Map,N=!0,H=T[0],L=0;L<T.length;L++){var G=T[L],ue=Sa(G),B=kf(G)===Sf,he=[qo,Qi].indexOf(ue)>=0,Ee=he?"width":"height",Me=Ep(e,{placement:G,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),ye=he?B?Xi:Ko:B?Qi:qo;_[Ee]>E[Ee]&&(ye=Qb(ye));var te=Qb(ye),S=[];if(i&&S.push(Me[ue]<=0),a&&S.push(Me[ye]<=0,Me[te]<=0),S.every(function(U){return U})){H=G,N=!1;break}O.set(G,S)}if(N)for(var R=p?3:1,M=function(U){var se=T.find(function(ae){var Se=O.get(ae);if(Se)return Se.slice(0,U).every(function(Ce){return Ce})});if(se)return H=se,"break"},D=R;D>0;D--){var W=M(D);if(W==="break")break}e.placement!==H&&(e.modifiersData[r]._skip=!0,e.placement=H,e.reset=!0)}}const Boe={name:"flip",enabled:!0,phase:"main",fn:Voe,requiresIfExists:["offset"],data:{_skip:!1}};function qW(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function KW(t){return[qo,Xi,Qi,Ko].some(function(e){return t[e]>=0})}function Uoe(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Ep(e,{elementContext:"reference"}),a=Ep(e,{altBoundary:!0}),l=qW(s,r),u=qW(a,o,i),c=KW(l),h=KW(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const zoe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Uoe};function $oe(t,e,n){var r=Sa(t),o=[Ko,qo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Ko,Xi].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Goe(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=DW.reduce(function(c,h){return c[h]=$oe(h,e.rects,i),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const Yoe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Goe};function qoe(t){var e=t.state,n=t.name;e.modifiersData[n]=YW({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Koe={name:"popperOffsets",enabled:!0,phase:"read",fn:qoe,data:{}};function Qoe(t){return t==="x"?"y":"x"}function Xoe(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,d=n.tether,g=d===void 0?!0:d,p=n.tetherOffset,v=p===void 0?0:p,C=Ep(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),w=Sa(e.placement),y=kf(e.placement),x=!y,T=PE(w),_=Qoe(T),E=e.modifiersData.popperOffsets,O=e.rects.reference,N=e.rects.popper,H=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,L=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),G=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ue={x:0,y:0};if(E){if(i){var B,he=T==="y"?qo:Ko,Ee=T==="y"?Qi:Xi,Me=T==="y"?"height":"width",ye=E[T],te=ye+C[he],S=ye-C[Ee],R=g?-N[Me]/2:0,M=y===Sf?O[Me]:N[Me],D=y===Sf?-N[Me]:-O[Me],W=e.elements.arrow,U=g&&W?AE(W):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:WW(),ae=se[he],Se=se[Ee],Ce=Rp(0,O[Me],U[Me]),we=x?O[Me]/2-R-Ce-ae-L.mainAxis:M-Ce-ae-L.mainAxis,ve=x?-O[Me]/2+R+Ce+Se+L.mainAxis:D+Ce+Se+L.mainAxis,fe=e.elements.arrow&&xp(e.elements.arrow),je=fe?T==="y"?fe.clientTop||0:fe.clientLeft||0:0,xe=(B=G==null?void 0:G[T])!=null?B:0,oe=ye+we-xe-je,at=ye+ve-xe,Ye=Rp(g?Yb(te,oe):te,ye,g?gh(S,at):S);E[T]=Ye,ue[T]=Ye-ye}if(a){var Xe,lt=T==="x"?qo:Ko,Ne=T==="x"?Qi:Xi,A=E[_],I=_==="y"?"height":"width",j=A+C[lt],J=A-C[Ne],V=[qo,Ko].indexOf(w)!==-1,Z=(Xe=G==null?void 0:G[_])!=null?Xe:0,q=V?j:A-O[I]-N[I]-Z+L.altAxis,K=V?A+O[I]+N[I]-Z-L.altAxis:J,ne=g&&V?Coe(q,A,K):Rp(g?q:j,A,g?K:J);E[_]=ne,ue[_]=ne-A}e.modifiersData[r]=ue}}const Joe={name:"preventOverflow",enabled:!0,phase:"main",fn:Xoe,requiresIfExists:["offset"]};function Zoe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function eie(t){return t===Ci(t)||!Ji(t)?IE(t):Zoe(t)}function tie(t){var e=t.getBoundingClientRect(),n=xf(e.width)/t.offsetWidth||1,r=xf(e.height)/t.offsetHeight||1;return n!==1||r!==1}function nie(t,e,n){n===void 0&&(n=!1);var r=Ji(e),o=Ji(e)&&tie(e),i=Uu(e),s=Rf(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ca(e)!=="body"||NE(i))&&(a=eie(e)),Ji(e)?(l=Rf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=HE(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function rie(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function oie(t){var e=rie(t);return moe.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function iie(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function sie(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var QW={placement:"bottom",modifiers:[],strategy:"absolute"};function XW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function aie(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?QW:o;return function(s,a,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},QW,i),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},c=[],h=!1,d={state:u,setOptions:function(v){var C=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},i,u.options,C),u.scrollParents={reference:fh(s)?kp(s):s.contextElement?kp(s.contextElement):[],popper:kp(a)};var w=oie(sie([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(y){return y.enabled}),g(),d.update()},forceUpdate:function(){if(!h){var v=u.elements,C=v.reference,w=v.popper;if(XW(C,w)){u.rects={reference:nie(C,xp(w),u.options.strategy==="fixed"),popper:AE(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var x=u.orderedModifiers[y],T=x.fn,_=x.options,E=_===void 0?{}:_,O=x.name;typeof T=="function"&&(u=T({state:u,options:E,name:O,instance:d})||u)}}}},update:iie(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),h=!0}};if(!XW(s,a))return d;d.setOptions(l).then(function(v){!h&&l.onFirstUpdate&&l.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var C=v.name,w=v.options,y=w===void 0?{}:w,x=v.effect;if(typeof x=="function"){var T=x({state:u,name:C,instance:d,options:y}),_=function(){};c.push(T||_)}})}function p(){c.forEach(function(v){return v()}),c=[]}return d}}var lie=[Aoe,Koe,_oe,voe,Yoe,Boe,Joe,koe,zoe],uie=aie({defaultModifiers:lie}),cie=typeof Element<"u",hie=typeof Map=="function",die=typeof Set=="function",fie=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xb(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Xb(t[r],e[r]))return!1;return!0}var i;if(hie&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Xb(r.value[1],e.get(r.value[0])))return!1;return!0}if(die&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(fie&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;if(cie&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&t.$$typeof)&&!Xb(t[o[r]],e[o[r]]))return!1;return!0}return t!==t&&e!==e}var gie=function(t,e){try{return Xb(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const mie=gu(gie);var pie=[],wie=function(t,e,n){n===void 0&&(n={});var r=z.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||pie},i=z.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=i[0],a=i[1],l=z.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var d=h.state,g=Object.keys(d.elements);Jc.flushSync(function(){a({styles:PW(g.map(function(p){return[p,d.styles[p]||{}]})),attributes:PW(g.map(function(p){return[p,d.attributes[p]]}))})})},requires:["computeStyles"]}},[]),u=z.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[l,{name:"applyStyles",enabled:!1}])};return mie(r.current,h)?r.current||h:(r.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,l]),c=z.useRef();return IW(function(){c.current&&c.current.setOptions(u)},[u]),IW(function(){if(!(t==null||e==null)){var h=n.createPopper||uie,d=h(t,e,u);return c.current=d,function(){d.destroy(),c.current=null}}},[t,e,n.createPopper]),{state:c.current?c.current.state:null,styles:s.styles,attributes:s.attributes,update:c.current?c.current.update:null,forceUpdate:c.current?c.current.forceUpdate:null}},vie=function(){},yie=function(){return Promise.resolve(null)},bie=[];function Cie(t){var e=t.placement,n=e===void 0?"bottom":e,r=t.strategy,o=r===void 0?"absolute":r,i=t.modifiers,s=i===void 0?bie:i,a=t.referenceElement,l=t.onFirstUpdate,u=t.innerRef,c=t.children,h=z.useContext(eoe),d=z.useState(null),g=d[0],p=d[1],v=z.useState(null),C=v[0],w=v[1];z.useEffect(function(){roe(u,g)},[u,g]);var y=z.useMemo(function(){return{placement:n,strategy:o,onFirstUpdate:l,modifiers:[].concat(s,[{name:"arrow",enabled:C!=null,options:{element:C}}])}},[n,o,l,s,C]),x=wie(a||h,g,y),T=x.state,_=x.styles,E=x.forceUpdate,O=x.update,N=z.useMemo(function(){return{ref:p,style:_.popper,placement:T?T.placement:n,hasPopperEscaped:T&&T.modifiersData.hide?T.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:T&&T.modifiersData.hide?T.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:_.arrow,ref:w},forceUpdate:E||vie,update:O||yie}},[p,w,n,T,_,O,E]);return toe(c)(N)}function Sie(t,e,n,r){return vF(t,function(o,i,s){e(r,n(o),i,s)}),r}function xie(t,e){return function(n,r){return Sie(n,t,e(r),{})}}var Rie=Object.prototype,kie=Rie.toString,Eie=xie(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=kie.call(e)),t[e]=n},rF(op)),LE={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};nf(LE);var Tie=Eie(LE);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Mie(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ie(t){var e=Mie(t,"string");return Tp(e)=="symbol"?e:String(e)}function JW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_ie(r.key),r)}}function Oie(t,e,n){return e&&JW(t.prototype,e),n&&JW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Aie=function(){function t(n){this.ref=n}var e=t.prototype;return e.getBoundingClientRect=function(){return Ze(this.ref.current,"getBoundingClientRect")||{}},Oie(t,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}},{key:"contextElement",get:function(){return this.ref.current}}]),t}(),Pie=Rb(function(t){return new Aie(hJ(t)?t:{current:t})});const Iie=Pie;function zu(t){var e=t.children,n=t.className,r=t.content,o=wt("content",n),i=vt(zu,t),s=bt(zu,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}zu.handledProps=["as","children","className","content"],zu.propTypes={},zu.create=ir(zu,function(t){return{children:t}});function $u(t){var e=t.children,n=t.className,r=t.content,o=wt("header",n),i=vt($u,t),s=bt($u,t);return de.createElement(s,Re({},i,{className:o}),tn(e)?r:e)}$u.handledProps=["as","children","className","content"],$u.propTypes={},$u.create=ir($u,function(t){return{children:t}});var Tl=function(t){wr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.state={},r.open=!1,r.zIndexWasSynced=!1,r.triggerRef=de.createRef(),r.elementRef=de.createRef(),r.getPortalProps=function(){var a={},l=r.props,u=l.on,c=l.hoverable,h=vr(u)?u:[u];return c&&(a.closeOnPortalMouseLeave=!0,a.mouseLeaveDelay=300),Cl(h,"hover")&&(a.openOnTriggerClick=!1,a.closeOnTriggerClick=!1,a.openOnTriggerMouseEnter=!0,a.closeOnTriggerMouseLeave=!0,a.mouseLeaveDelay=70,a.mouseEnterDelay=50),Cl(h,"click")&&(a.openOnTriggerClick=!0,a.closeOnTriggerClick=!0,a.closeOnDocumentClick=!0),Cl(h,"focus")&&(a.openOnTriggerFocus=!0,a.closeOnTriggerBlur=!0),a},r.hideOnScroll=function(a){Zre(a.target)&&r.elementRef.current.contains(a.target)||(r.setState({closed:!0}),Dne.unsub("scroll",r.hideOnScroll,{target:window}),r.timeoutId=setTimeout(function(){r.setState({closed:!1})},50),r.handleClose(a))},r.handleClose=function(a){Ze(r.props,"onClose",a,Re({},r.props,{open:!1}))},r.handleOpen=function(a){Ze(r.props,"onOpen",a,Re({},r.props,{open:!0}))},r.handlePortalMount=function(a){Ze(r.props,"onMount",a,r.props)},r.handlePortalUnmount=function(a){r.positionUpdate=null,Ze(r.props,"onUnmount",a,r.props)},r.renderContent=function(a){var l=a.placement,u=a.ref,c=a.update,h=a.style,d=r.props,g=d.basic,p=d.children,v=d.className,C=d.content,w=d.hideOnScroll,y=d.flowing,x=d.header,T=d.inverted,_=d.popper,E=d.size,O=d.style,N=d.wide,H=r.state.contentRestProps;r.positionUpdate=c;var L=wt("ui",Tie[l],E,so(N,"wide"),ce(g,"basic"),ce(y,"flowing"),ce(T,"inverted"),"popup transition visible",v),G=bt(e,r.props),ue=Re({left:"auto",right:"auto",position:"initial"},O),B=de.createElement(G,Re({},H,{className:L,style:ue,ref:r.elementRef}),tn(p)?de.createElement(de.Fragment,null,$u.create(x,{autoGenerateKey:!1}),zu.create(C,{autoGenerateKey:!1})):p,w&&de.createElement(bl,{on:r.hideOnScroll,name:"scroll",target:"window"}));return Yne(_||{},{overrideProps:{children:B,ref:u,style:Re({display:"flex"},h)}})},r}e.getDerivedStateFromProps=function(r,o){if(o.closed||o.disabled)return{};var i=vt(e,r),s=pW(i,function(l,u,c){return Cl(Ub.handledProps,c)||(l[c]=u),l},{}),a=QF(i,Ub.handledProps);return{contentRestProps:s,portalRestProps:a}};var n=e.prototype;return n.componentDidUpdate=function(r){var o=zb(this.props.popperDependencies,r.popperDependencies);o||this.handleUpdate()},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},n.render=function(){var r=this,o=this.props,i=o.context,s=o.disabled,a=o.eventsEnabled,l=o.offset,u=o.pinned,c=o.popper,h=o.popperModifiers,d=o.position,g=o.positionFixed,p=o.trigger,v=this.state,C=v.closed,w=v.portalRestProps;if(C||s)return p;var y=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!a,resize:!!a}},{name:"flip",enabled:!u},{name:"preventOverflow",enabled:!!l},{name:"offset",enabled:!!l,options:{offset:l}}].concat(h,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(_){var E,O=_.state;if(!r.zIndexWasSynced){var N=c==null||(E=c.style)==null?void 0:E.zIndex;Ab(N)&&(O.elements.popper.style.zIndex=window.getComputedStyle(O.elements.popper.firstChild).zIndex),r.zIndexWasSynced=!0}},effect:function(){return function(){r.zIndexWasSynced=!1}}}]),x=Iie(qt(i)?this.triggerRef:i),T=Re({},this.getPortalProps(),w);return de.createElement(Ub,Re({},T,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:p,triggerRef:this.triggerRef}),de.createElement(Cie,{modifiers:y,placement:LE[d],strategy:g?"fixed":null,referenceElement:x},this.renderContent))},e}(z.Component);Tl.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"],Tl.propTypes={},Tl.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"},Tl.Content=zu,Tl.Header=$u;function _t({content:t,required:e=!1,wide:n=!1}){let r=m.jsx(Hr,{name:"help circle"});return e&&(r=m.jsxs(lh,{children:[r,m.jsx(Hr,{corner:"top right",name:"asterisk",color:"red"})]})),m.jsx(Tl,{content:m.jsxs(m.Fragment,{children:[t,e&&m.jsxs(m.Fragment,{children:[m.jsx("hr",{}),"(required)"]})]}),mouseLeaveDelay:1500,on:"hover",inverted:!0,position:"bottom center",wide:n,trigger:r,style:{zIndex:"1000"}})}var Mp=function(t){return t&&t.Math===Math&&t},ao=Mp(typeof globalThis=="object"&&globalThis)||Mp(typeof window=="object"&&window)||Mp(typeof self=="object"&&self)||Mp(typeof Uv=="object"&&Uv)||Mp(typeof Uv=="object"&&Uv)||function(){return this}()||Function("return this")(),jE={},Zi=function(t){try{return!!t()}catch{return!0}},Hie=Zi,As=!Hie(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Nie=Zi,Jb=!Nie(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Die=Jb,Zb=Function.prototype.call,mh=Die?Zb.bind(Zb):function(){return Zb.apply(Zb,arguments)},ZW={},e2={}.propertyIsEnumerable,t2=Object.getOwnPropertyDescriptor,Lie=t2&&!e2.call({1:2},1);ZW.f=Lie?function(t){var e=t2(this,t);return!!e&&e.enumerable}:e2;var e0=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},n2=Jb,r2=Function.prototype,FE=r2.call,jie=n2&&r2.bind.bind(FE,FE),Eo=n2?jie:function(t){return function(){return FE.apply(t,arguments)}},o2=Eo,Fie=o2({}.toString),Wie=o2("".slice),Ef=function(t){return Wie(Fie(t),8,-1)},Vie=Eo,Bie=Zi,Uie=Ef,WE=Object,zie=Vie("".split),$ie=Bie(function(){return!WE("z").propertyIsEnumerable(0)})?function(t){return Uie(t)==="String"?zie(t,""):WE(t)}:WE,VE=function(t){return t==null},Gie=VE,Yie=TypeError,i2=function(t){if(Gie(t))throw new Yie("Can't call method on "+t);return t},qie=$ie,Kie=i2,t0=function(t){return qie(Kie(t))},BE=typeof document=="object"&&document.all,lo=typeof BE>"u"&&BE!==void 0?function(t){return typeof t=="function"||t===BE}:function(t){return typeof t=="function"},Qie=lo,Gu=function(t){return typeof t=="object"?t!==null:Qie(t)},UE=ao,Xie=lo,Jie=function(t){return Xie(t)?t:void 0},_p=function(t,e){return arguments.length<2?Jie(UE[t]):UE[t]&&UE[t][e]},Zie=Eo,zE=Zie({}.isPrototypeOf),$E=typeof navigator<"u"&&String(navigator.userAgent)||"",s2=ao,GE=$E,a2=s2.process,l2=s2.Deno,u2=a2&&a2.versions||l2&&l2.version,c2=u2&&u2.v8,Ps,n0;c2&&(Ps=c2.split("."),n0=Ps[0]>0&&Ps[0]<4?1:+(Ps[0]+Ps[1])),!n0&&GE&&(Ps=GE.match(/Edge\/(\d+)/),(!Ps||Ps[1]>=74)&&(Ps=GE.match(/Chrome\/(\d+)/),Ps&&(n0=+Ps[1])));var ese=n0,h2=ese,tse=Zi,nse=ao,rse=nse.String,YE=!!Object.getOwnPropertySymbols&&!tse(function(){var t=Symbol("symbol detection");return!rse(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h2&&h2<41}),ose=YE,d2=ose&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ise=_p,sse=lo,ase=zE,lse=d2,use=Object,qE=lse?function(t){return typeof t=="symbol"}:function(t){var e=ise("Symbol");return sse(e)&&ase(e.prototype,use(t))},cse=String,r0=function(t){try{return cse(t)}catch{return"Object"}},hse=lo,dse=r0,fse=TypeError,o0=function(t){if(hse(t))return t;throw new fse(dse(t)+" is not a function")},gse=o0,mse=VE,KE=function(t,e){var n=t[e];return mse(n)?void 0:gse(n)},QE=mh,XE=lo,JE=Gu,pse=TypeError,wse=function(t,e){var n,r;if(e==="string"&&XE(n=t.toString)&&!JE(r=QE(n,t))||XE(n=t.valueOf)&&!JE(r=QE(n,t))||e!=="string"&&XE(n=t.toString)&&!JE(r=QE(n,t)))return r;throw new pse("Can't convert object to primitive value")},f2={exports:{}},g2=ao,vse=Object.defineProperty,ZE=function(t,e){try{vse(g2,t,{value:e,configurable:!0,writable:!0})}catch{g2[t]=e}return e},yse=ao,bse=ZE,m2="__core-js_shared__",p2=f2.exports=yse[m2]||bse(m2,{});(p2.versions||(p2.versions=[])).push({version:"3.36.0",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var eT=f2.exports,w2=eT,v2=function(t,e){return w2[t]||(w2[t]=e||{})},Cse=i2,Sse=Object,i0=function(t){return Sse(Cse(t))},xse=Eo,Rse=i0,kse=xse({}.hasOwnProperty),Ml=Object.hasOwn||function(t,e){return kse(Rse(t),e)},Ese=Eo,Tse=0,Mse=Math.random(),_se=Ese(1 .toString),y2=function(t){return"Symbol("+(t===void 0?"":t)+")_"+_se(++Tse+Mse,36)},Ose=ao,Ase=v2,b2=Ml,Pse=y2,Ise=YE,Hse=d2,Tf=Ose.Symbol,tT=Ase("wks"),Nse=Hse?Tf.for||Tf:Tf&&Tf.withoutSetter||Pse,Mf=function(t){return b2(tT,t)||(tT[t]=Ise&&b2(Tf,t)?Tf[t]:Nse("Symbol."+t)),tT[t]},Dse=mh,C2=Gu,S2=qE,Lse=KE,jse=wse,Fse=Mf,Wse=TypeError,Vse=Fse("toPrimitive"),Bse=function(t,e){if(!C2(t)||S2(t))return t;var n=Lse(t,Vse),r;if(n){if(e===void 0&&(e="default"),r=Dse(n,t,e),!C2(r)||S2(r))return r;throw new Wse("Can't convert object to primitive value")}return e===void 0&&(e="number"),jse(t,e)},Use=Bse,zse=qE,x2=function(t){var e=Use(t,"string");return zse(e)?e:e+""},$se=ao,R2=Gu,nT=$se.document,Gse=R2(nT)&&R2(nT.createElement),rT=function(t){return Gse?nT.createElement(t):{}},Yse=As,qse=Zi,Kse=rT,k2=!Yse&&!qse(function(){return Object.defineProperty(Kse("div"),"a",{get:function(){return 7}}).a!==7}),Qse=As,Xse=mh,Jse=ZW,Zse=e0,eae=t0,tae=x2,nae=Ml,rae=k2,E2=Object.getOwnPropertyDescriptor;jE.f=Qse?E2:function(t,e){if(t=eae(t),e=tae(e),rae)try{return E2(t,e)}catch{}if(nae(t,e))return Zse(!Xse(Jse.f,t,e),t[e])};var Yu={},oae=As,iae=Zi,T2=oae&&iae(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),sae=Gu,aae=String,lae=TypeError,qu=function(t){if(sae(t))return t;throw new lae(aae(t)+" is not an object")},uae=As,cae=k2,hae=T2,s0=qu,M2=x2,dae=TypeError,oT=Object.defineProperty,fae=Object.getOwnPropertyDescriptor,iT="enumerable",sT="configurable",aT="writable";Yu.f=uae?hae?function(t,e,n){if(s0(t),e=M2(e),s0(n),typeof t=="function"&&e==="prototype"&&"value"in n&&aT in n&&!n[aT]){var r=fae(t,e);r&&r[aT]&&(t[e]=n.value,n={configurable:sT in n?n[sT]:r[sT],enumerable:iT in n?n[iT]:r[iT],writable:!1})}return oT(t,e,n)}:oT:function(t,e,n){if(s0(t),e=M2(e),s0(n),cae)try{return oT(t,e,n)}catch{}if("get"in n||"set"in n)throw new dae("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var gae=As,mae=Yu,pae=e0,Op=gae?function(t,e,n){return mae.f(t,e,pae(1,n))}:function(t,e,n){return t[e]=n,t},_2={exports:{}},lT=As,wae=Ml,O2=Function.prototype,vae=lT&&Object.getOwnPropertyDescriptor,uT=wae(O2,"name"),yae=uT&&(function(){}).name==="something",bae=uT&&(!lT||lT&&vae(O2,"name").configurable),Cae={EXISTS:uT,PROPER:yae,CONFIGURABLE:bae},Sae=Eo,xae=lo,cT=eT,Rae=Sae(Function.toString);xae(cT.inspectSource)||(cT.inspectSource=function(t){return Rae(t)});var kae=cT.inspectSource,Eae=ao,Tae=lo,A2=Eae.WeakMap,Mae=Tae(A2)&&/native code/.test(String(A2)),_ae=v2,Oae=y2,P2=_ae("keys"),I2=function(t){return P2[t]||(P2[t]=Oae(t))},hT={},Aae=Mae,H2=ao,Pae=Gu,Iae=Op,dT=Ml,fT=eT,Hae=I2,Nae=hT,N2="Object already initialized",gT=H2.TypeError,Dae=H2.WeakMap,a0,Ap,l0,Lae=function(t){return l0(t)?Ap(t):a0(t,{})},jae=function(t){return function(e){var n;if(!Pae(e)||(n=Ap(e)).type!==t)throw new gT("Incompatible receiver, "+t+" required");return n}};if(Aae||fT.state){var xa=fT.state||(fT.state=new Dae);xa.get=xa.get,xa.has=xa.has,xa.set=xa.set,a0=function(t,e){if(xa.has(t))throw new gT(N2);return e.facade=t,xa.set(t,e),e},Ap=function(t){return xa.get(t)||{}},l0=function(t){return xa.has(t)}}else{var _f=Hae("state");Nae[_f]=!0,a0=function(t,e){if(dT(t,_f))throw new gT(N2);return e.facade=t,Iae(t,_f,e),e},Ap=function(t){return dT(t,_f)?t[_f]:{}},l0=function(t){return dT(t,_f)}}var Fae={set:a0,get:Ap,has:l0,enforce:Lae,getterFor:jae},mT=Eo,Wae=Zi,Vae=lo,u0=Ml,pT=As,Bae=Cae.CONFIGURABLE,Uae=kae,D2=Fae,zae=D2.enforce,$ae=D2.get,L2=String,c0=Object.defineProperty,Gae=mT("".slice),Yae=mT("".replace),qae=mT([].join),Kae=pT&&!Wae(function(){return c0(function(){},"length",{value:8}).length!==8}),Qae=String(String).split("String"),Xae=_2.exports=function(t,e,n){Gae(L2(e),0,7)==="Symbol("&&(e="["+Yae(L2(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!u0(t,"name")||Bae&&t.name!==e)&&(pT?c0(t,"name",{value:e,configurable:!0}):t.name=e),Kae&&n&&u0(n,"arity")&&t.length!==n.arity&&c0(t,"length",{value:n.arity});try{n&&u0(n,"constructor")&&n.constructor?pT&&c0(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=zae(t);return u0(r,"source")||(r.source=qae(Qae,typeof e=="string"?e:"")),t};Function.prototype.toString=Xae(function(){return Vae(this)&&$ae(this).source||Uae(this)},"toString");var Jae=_2.exports,Zae=lo,ele=Yu,tle=Jae,nle=ZE,rle=function(t,e,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:e;if(Zae(n)&&tle(n,i,r),r.global)o?t[e]=n:nle(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch{}o?t[e]=n:ele.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},j2={},ole=Math.ceil,ile=Math.floor,sle=Math.trunc||function(t){var e=+t;return(e>0?ile:ole)(e)},ale=sle,wT=function(t){var e=+t;return e!==e||e===0?0:ale(e)},lle=wT,ule=Math.max,cle=Math.min,hle=function(t,e){var n=lle(t);return n<0?ule(n+e,0):cle(n,e)},dle=wT,fle=Math.min,gle=function(t){var e=dle(t);return e>0?fle(e,9007199254740991):0},mle=gle,Pp=function(t){return mle(t.length)},ple=t0,wle=hle,vle=Pp,F2=function(t){return function(e,n,r){var o=ple(e),i=vle(o);if(i===0)return!t&&-1;var s=wle(r,i),a;if(t&&n!==n){for(;i>s;)if(a=o[s++],a!==a)return!0}else for(;i>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},yle={includes:F2(!0),indexOf:F2(!1)},ble=Eo,vT=Ml,Cle=t0,Sle=yle.indexOf,xle=hT,W2=ble([].push),V2=function(t,e){var n=Cle(t),r=0,o=[],i;for(i in n)!vT(xle,i)&&vT(n,i)&&W2(o,i);for(;e.length>r;)vT(n,i=e[r++])&&(~Sle(o,i)||W2(o,i));return o},yT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rle=V2,kle=yT,Ele=kle.concat("length","prototype");j2.f=Object.getOwnPropertyNames||function(t){return Rle(t,Ele)};var B2={};B2.f=Object.getOwnPropertySymbols;var Tle=_p,Mle=Eo,_le=j2,Ole=B2,Ale=qu,Ple=Mle([].concat),Ile=Tle("Reflect","ownKeys")||function(t){var e=_le.f(Ale(t)),n=Ole.f;return n?Ple(e,n(t)):e},U2=Ml,Hle=Ile,Nle=jE,Dle=Yu,z2=function(t,e,n){for(var r=Hle(e),o=Dle.f,i=Nle.f,s=0;s<r.length;s++){var a=r[s];!U2(t,a)&&!(n&&U2(n,a))&&o(t,a,i(e,a))}},Lle=Zi,jle=lo,Fle=/#|\.prototype\./,Ip=function(t,e){var n=Vle[Wle(t)];return n===Ule?!0:n===Ble?!1:jle(e)?Lle(e):!!e},Wle=Ip.normalize=function(t){return String(t).replace(Fle,".").toLowerCase()},Vle=Ip.data={},Ble=Ip.NATIVE="N",Ule=Ip.POLYFILL="P",zle=Ip,h0=ao,$le=jE.f,Gle=Op,Yle=rle,qle=ZE,Kle=z2,Qle=zle,Ku=function(t,e){var n=t.target,r=t.global,o=t.stat,i,s,a,l,u,c;if(r?s=h0:o?s=h0[n]||qle(n,{}):s=h0[n]&&h0[n].prototype,s)for(a in e){if(u=e[a],t.dontCallGetSet?(c=$le(s,a),l=c&&c.value):l=s[a],i=Qle(r?a:n+(o?".":"#")+a,t.forced),!i&&l!==void 0){if(typeof u==typeof l)continue;Kle(u,l)}(t.sham||l&&l.sham)&&Gle(u,"sham",!0),Yle(s,a,u,t)}},Xle=Ef,$2=Array.isArray||function(t){return Xle(t)==="Array"},Jle=As,Zle=$2,eue=TypeError,tue=Object.getOwnPropertyDescriptor,nue=Jle&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),G2=nue?function(t,e){if(Zle(t)&&!tue(t,"length").writable)throw new eue("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},rue=TypeError,oue=9007199254740991,Y2=function(t){if(t>oue)throw rue("Maximum allowed index exceeded");return t},iue=Ku,sue=i0,aue=Pp,lue=G2,uue=Y2,cue=Zi,hue=cue(function(){return[].push.call({length:4294967296},1)!==4294967297}),due=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},fue=hue||!due();iue({target:"Array",proto:!0,arity:1,forced:fue},{push:function(t){var e=sue(this),n=aue(e),r=arguments.length;uue(n+r);for(var o=0;o<r;o++)e[n]=arguments[o],n++;return lue(e,n),n}});var gue=Jb,q2=Function.prototype,K2=q2.apply,Q2=q2.call,d0=typeof Reflect=="object"&&Reflect.apply||(gue?Q2.bind(K2):function(){return Q2.apply(K2,arguments)}),mue=Eo,pue=o0,wue=function(t,e,n){try{return mue(pue(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},vue=Gu,yue=function(t){return vue(t)||t===null},bue=yue,Cue=String,Sue=TypeError,xue=function(t){if(bue(t))return t;throw new Sue("Can't set "+Cue(t)+" as a prototype")},Rue=wue,kue=qu,Eue=xue,X2=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=Rue(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(r,o){return kue(r),Eue(o),t?n(r,o):r.__proto__=o,r}}():void 0),Tue=Yu.f,Mue=function(t,e,n){n in t||Tue(t,n,{configurable:!0,get:function(){return e[n]},set:function(r){e[n]=r}})},_ue=lo,Oue=Gu,J2=X2,Aue=function(t,e,n){var r,o;return J2&&_ue(r=e.constructor)&&r!==n&&Oue(o=r.prototype)&&o!==n.prototype&&J2(t,o),t},Pue=Mf,Iue=Pue("toStringTag"),Z2={};Z2[Iue]="z";var Hue=String(Z2)==="[object z]",Nue=Hue,Due=lo,f0=Ef,Lue=Mf,jue=Lue("toStringTag"),Fue=Object,Wue=f0(function(){return arguments}())==="Arguments",Vue=function(t,e){try{return t[e]}catch{}},eV=Nue?f0:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=Vue(e=Fue(t),jue))=="string"?n:Wue?f0(e):(r=f0(e))==="Object"&&Due(e.callee)?"Arguments":r},Bue=eV,Uue=String,tV=function(t){if(Bue(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Uue(t)},zue=tV,$ue=function(t,e){return t===void 0?arguments.length<2?"":e:zue(t)},Gue=Gu,Yue=Op,que=function(t,e){Gue(e)&&"cause"in e&&Yue(t,"cause",e.cause)},Kue=Eo,nV=Error,Que=Kue("".replace),Xue=function(t){return String(new nV(t).stack)}("zxcasd"),rV=/\n\s*at [^:]*:[^\n]*/,Jue=rV.test(Xue),Zue=function(t,e){if(Jue&&typeof t=="string"&&!nV.prepareStackTrace)for(;e--;)t=Que(t,rV,"");return t},ece=Zi,tce=e0,nce=!ece(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",tce(1,7)),t.stack!==7):!0}),rce=Op,oce=Zue,ice=nce,oV=Error.captureStackTrace,sce=function(t,e,n,r){ice&&(oV?oV(t,e):rce(t,"stack",oce(n,r)))},iV=_p,ace=Ml,sV=Op,lce=zE,aV=X2,lV=z2,uV=Mue,uce=Aue,cce=$ue,hce=que,dce=sce,fce=As,gce=function(t,e,n,r){var o="stackTraceLimit",i=r?2:1,s=t.split("."),a=s[s.length-1],l=iV.apply(null,s);if(l){var u=l.prototype;if(ace(u,"cause")&&delete u.cause,!n)return l;var c=iV("Error"),h=e(function(d,g){var p=cce(r?g:d,void 0),v=r?new l(d):new l;return p!==void 0&&sV(v,"message",p),dce(v,h,v.stack,2),this&&lce(u,this)&&uce(v,this,h),arguments.length>i&&hce(v,arguments[i]),v});h.prototype=u,a!=="Error"?aV?aV(h,c):lV(h,c,{name:!0}):fce&&o in l&&(uV(h,l,o),uV(h,l,"prepareStackTrace")),lV(h,l);try{u.name!==a&&sV(u,"name",a),u.constructor=h}catch{}return h}},cV=Ku,mce=ao,Ra=d0,hV=gce,bT="WebAssembly",dV=mce[bT],g0=new Error("e",{cause:7}).cause!==7,ph=function(t,e){var n={};n[t]=hV(t,e,g0),cV({global:!0,constructor:!0,arity:1,forced:g0},n)},CT=function(t,e){if(dV&&dV[t]){var n={};n[t]=hV(bT+"."+t,e,g0),cV({target:bT,stat:!0,constructor:!0,arity:1,forced:g0},n)}};ph("Error",function(t){return function(e){return Ra(t,this,arguments)}}),ph("EvalError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("RangeError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("ReferenceError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("SyntaxError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("TypeError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("URIError",function(t){return function(e){return Ra(t,this,arguments)}}),CT("CompileError",function(t){return function(e){return Ra(t,this,arguments)}}),CT("LinkError",function(t){return function(e){return Ra(t,this,arguments)}}),CT("RuntimeError",function(t){return function(e){return Ra(t,this,arguments)}});var pce=Ef,wce=Eo,vce=function(t){if(pce(t)==="Function")return wce(t)},fV=vce,yce=o0,bce=Jb,Cce=fV(fV.bind),gV=function(t,e){return yce(t),e===void 0?t:bce?Cce(t,e):function(){return t.apply(e,arguments)}},Sce=_p,mV=Sce("document","documentElement"),xce=Eo,ST=xce([].slice),Rce=TypeError,pV=function(t,e){if(t<e)throw new Rce("Not enough arguments");return t},kce=$E,Ece=/(?:ipad|iphone|ipod).*applewebkit/i.test(kce),Tce=ao,Mce=Ef,_ce=Mce(Tce.process)==="process",Si=ao,Oce=d0,Ace=gV,wV=lo,Pce=Ml,vV=Zi,yV=mV,Ice=ST,bV=rT,Hce=pV,Nce=Ece,Dce=_ce,xT=Si.setImmediate,RT=Si.clearImmediate,Lce=Si.process,kT=Si.Dispatch,jce=Si.Function,CV=Si.MessageChannel,Fce=Si.String,ET=0,Hp={},SV="onreadystatechange",Np,wh,TT,MT;vV(function(){Np=Si.location});var _T=function(t){if(Pce(Hp,t)){var e=Hp[t];delete Hp[t],e()}},OT=function(t){return function(){_T(t)}},xV=function(t){_T(t.data)},RV=function(t){Si.postMessage(Fce(t),Np.protocol+"//"+Np.host)};(!xT||!RT)&&(xT=function(t){Hce(arguments.length,1);var e=wV(t)?t:jce(t),n=Ice(arguments,1);return Hp[++ET]=function(){Oce(e,void 0,n)},wh(ET),ET},RT=function(t){delete Hp[t]},Dce?wh=function(t){Lce.nextTick(OT(t))}:kT&&kT.now?wh=function(t){kT.now(OT(t))}:CV&&!Nce?(TT=new CV,MT=TT.port2,TT.port1.onmessage=xV,wh=Ace(MT.postMessage,MT)):Si.addEventListener&&wV(Si.postMessage)&&!Si.importScripts&&Np&&Np.protocol!=="file:"&&!vV(RV)?(wh=RV,Si.addEventListener("message",xV,!1)):SV in bV("script")?wh=function(t){yV.appendChild(bV("script"))[SV]=function(){yV.removeChild(this),_T(t)}}:wh=function(t){setTimeout(OT(t),0)});var kV={set:xT,clear:RT},Wce=Ku,Vce=ao,EV=kV.clear;Wce({global:!0,bind:!0,enumerable:!0,forced:Vce.clearImmediate!==EV},{clearImmediate:EV});var Bce=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",TV=ao,Uce=d0,zce=lo,$ce=Bce,Gce=$E,Yce=ST,qce=pV,Kce=TV.Function,Qce=/MSIE .\./.test(Gce)||$ce&&function(){var t=TV.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),Xce=function(t,e){var n=e?2:1;return Qce?function(r,o){var i=qce(arguments.length,1)>n,s=zce(r)?r:Kce(r),a=i?Yce(arguments,n):[],l=i?function(){Uce(s,this,a)}:s;return e?t(l,o):t(l)}:t},Jce=Ku,MV=ao,_V=kV.set,Zce=Xce,OV=MV.setImmediate?Zce(_V,!1):_V;Jce({global:!0,bind:!0,enumerable:!0,forced:MV.setImmediate!==OV},{setImmediate:OV});/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function AT(t,e){return AT=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},AT(t,e)}function ehe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m0(t,e,n){return ehe()?m0=Reflect.construct:m0=function(r,o,i){var s=[null];s.push.apply(s,o);var a=Function.bind.apply(r,s),l=new a;return i&&AT(l,i.prototype),l},m0.apply(null,arguments)}function Is(t){return the(t)||nhe(t)||rhe(t)||ohe()}function the(t){if(Array.isArray(t))return PT(t)}function nhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rhe(t,e){if(t){if(typeof t=="string")return PT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(t,e)}}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ihe=Object.hasOwnProperty,AV=Object.setPrototypeOf,she=Object.isFrozen,ahe=Object.getPrototypeOf,lhe=Object.getOwnPropertyDescriptor,To=Object.freeze,Hs=Object.seal,uhe=Object.create,PV=typeof Reflect<"u"&&Reflect,p0=PV.apply,IT=PV.construct;p0||(p0=function(t,e,n){return t.apply(e,n)}),To||(To=function(t){return t}),Hs||(Hs=function(t){return t}),IT||(IT=function(t,e){return m0(t,Is(e))});var che=es(Array.prototype.forEach),IV=es(Array.prototype.pop),Dp=es(Array.prototype.push),w0=es(String.prototype.toLowerCase),HT=es(String.prototype.toString),hhe=es(String.prototype.match),Ns=es(String.prototype.replace),dhe=es(String.prototype.indexOf),fhe=es(String.prototype.trim),Mo=es(RegExp.prototype.test),NT=ghe(TypeError);function es(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return p0(t,e,r)}}function ghe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return IT(t,n)}}function Dt(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:w0,AV&&AV(t,null);for(var o=e.length;o--;){var i=e[o];if(typeof i=="string"){var s=n(i);s!==i&&(she(e)||(e[o]=s),i=s)}t[i]=!0}return t}function vh(t){var e=uhe(null),n;for(n in t)p0(ihe,t,[n])===!0&&(e[n]=t[n]);return e}function v0(t,e){for(;t!==null;){var n=lhe(t,e);if(n){if(n.get)return es(n.get);if(typeof n.value=="function")return es(n.value)}t=ahe(t)}function r(o){return console.warn("fallback value for",o),null}return r}var HV=To(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),DT=To(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),LT=To(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mhe=To(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jT=To(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),phe=To(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NV=To(["#text"]),DV=To(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),FT=To(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),LV=To(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),y0=To(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),whe=Hs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vhe=Hs(/<%[\w\W]*|[\w\W]*%>/gm),yhe=Hs(/\${[\w\W]*}/gm),bhe=Hs(/^data-[\-\w.\u00B7-\uFFFF]/),Che=Hs(/^aria-[\-\w]+$/),She=Hs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xhe=Hs(/^(?:\w+script|data):/i),Rhe=Hs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),khe=Hs(/^html$/i),Ehe=function(){return typeof window>"u"?null:window},The=function(t,e){if(Qu(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(i){return i},createScriptURL:function(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function jV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ehe(),e=function(Y){return jV(Y)};if(e.version="2.4.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,o=t.DocumentFragment,i=t.HTMLTemplateElement,s=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,p=a.prototype,v=v0(p,"cloneNode"),C=v0(p,"nextSibling"),w=v0(p,"childNodes"),y=v0(p,"parentNode");if(typeof i=="function"){var x=r.createElement("template");x.content&&x.content.ownerDocument&&(r=x.content.ownerDocument)}var T=The(g,n),_=T?T.createHTML(""):"",E=r,O=E.implementation,N=E.createNodeIterator,H=E.createDocumentFragment,L=E.getElementsByTagName,G=n.importNode,ue={};try{ue=vh(r).documentMode?r.documentMode:{}}catch{}var B={};e.isSupported=typeof y=="function"&&O&&O.createHTMLDocument!==void 0&&ue!==9;var he=whe,Ee=vhe,Me=yhe,ye=bhe,te=Che,S=xhe,R=Rhe,M=She,D=null,W=Dt({},[].concat(Is(HV),Is(DT),Is(LT),Is(jT),Is(NV))),U=null,se=Dt({},[].concat(Is(DV),Is(FT),Is(LV),Is(y0))),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,Ce=null,we=!0,ve=!0,fe=!1,je=!0,xe=!1,oe=!1,at=!1,Ye=!1,Xe=!1,lt=!1,Ne=!1,A=!0,I=!1,j="user-content-",J=!0,V=!1,Z={},q=null,K=Dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ne=null,X=Dt({},["audio","video","img","source","image","track"]),re=null,Pe=Dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fe="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",ut="http://www.w3.org/1999/xhtml",pt=ut,ln=!1,St=null,ze=Dt({},[Fe,tt,ut],HT),cn,bs=["application/xhtml+xml","text/html"],aa="text/html",hn,Q=null,ie=r.createElement("form"),me=function(Y){return Y instanceof RegExp||Y instanceof Function},ee=function(Y){Q&&Q===Y||((!Y||Qu(Y)!=="object")&&(Y={}),Y=vh(Y),cn=bs.indexOf(Y.PARSER_MEDIA_TYPE)===-1?cn=aa:cn=Y.PARSER_MEDIA_TYPE,hn=cn==="application/xhtml+xml"?HT:w0,D="ALLOWED_TAGS"in Y?Dt({},Y.ALLOWED_TAGS,hn):W,U="ALLOWED_ATTR"in Y?Dt({},Y.ALLOWED_ATTR,hn):se,St="ALLOWED_NAMESPACES"in Y?Dt({},Y.ALLOWED_NAMESPACES,HT):ze,re="ADD_URI_SAFE_ATTR"in Y?Dt(vh(Pe),Y.ADD_URI_SAFE_ATTR,hn):Pe,ne="ADD_DATA_URI_TAGS"in Y?Dt(vh(X),Y.ADD_DATA_URI_TAGS,hn):X,q="FORBID_CONTENTS"in Y?Dt({},Y.FORBID_CONTENTS,hn):K,Se="FORBID_TAGS"in Y?Dt({},Y.FORBID_TAGS,hn):{},Ce="FORBID_ATTR"in Y?Dt({},Y.FORBID_ATTR,hn):{},Z="USE_PROFILES"in Y?Y.USE_PROFILES:!1,we=Y.ALLOW_ARIA_ATTR!==!1,ve=Y.ALLOW_DATA_ATTR!==!1,fe=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,je=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=Y.SAFE_FOR_TEMPLATES||!1,oe=Y.WHOLE_DOCUMENT||!1,Xe=Y.RETURN_DOM||!1,lt=Y.RETURN_DOM_FRAGMENT||!1,Ne=Y.RETURN_TRUSTED_TYPE||!1,Ye=Y.FORCE_BODY||!1,A=Y.SANITIZE_DOM!==!1,I=Y.SANITIZE_NAMED_PROPS||!1,J=Y.KEEP_CONTENT!==!1,V=Y.IN_PLACE||!1,M=Y.ALLOWED_URI_REGEXP||M,pt=Y.NAMESPACE||ut,ae=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&me(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&me(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(ve=!1),lt&&(Xe=!0),Z&&(D=Dt({},Is(NV)),U=[],Z.html===!0&&(Dt(D,HV),Dt(U,DV)),Z.svg===!0&&(Dt(D,DT),Dt(U,FT),Dt(U,y0)),Z.svgFilters===!0&&(Dt(D,LT),Dt(U,FT),Dt(U,y0)),Z.mathMl===!0&&(Dt(D,jT),Dt(U,LV),Dt(U,y0))),Y.ADD_TAGS&&(D===W&&(D=vh(D)),Dt(D,Y.ADD_TAGS,hn)),Y.ADD_ATTR&&(U===se&&(U=vh(U)),Dt(U,Y.ADD_ATTR,hn)),Y.ADD_URI_SAFE_ATTR&&Dt(re,Y.ADD_URI_SAFE_ATTR,hn),Y.FORBID_CONTENTS&&(q===K&&(q=vh(q)),Dt(q,Y.FORBID_CONTENTS,hn)),J&&(D["#text"]=!0),oe&&Dt(D,["html","head","body"]),D.table&&(Dt(D,["tbody"]),delete Se.tbody),To&&To(Y),Q=Y)},He=Dt({},["mi","mo","mn","ms","mtext"]),ct=Dt({},["foreignobject","desc","title","annotation-xml"]),ft=Dt({},["title","style","font","a","script"]),it=Dt({},DT);Dt(it,LT),Dt(it,mhe);var nt=Dt({},jT);Dt(nt,phe);var Mt=function(Y){var De=y(Y);(!De||!De.tagName)&&(De={namespaceURI:pt,tagName:"template"});var Oe=w0(Y.tagName),Ft=w0(De.tagName);return St[Y.namespaceURI]?Y.namespaceURI===tt?De.namespaceURI===ut?Oe==="svg":De.namespaceURI===Fe?Oe==="svg"&&(Ft==="annotation-xml"||He[Ft]):!!it[Oe]:Y.namespaceURI===Fe?De.namespaceURI===ut?Oe==="math":De.namespaceURI===tt?Oe==="math"&&ct[Ft]:!!nt[Oe]:Y.namespaceURI===ut?De.namespaceURI===tt&&!ct[Ft]||De.namespaceURI===Fe&&!He[Ft]?!1:!nt[Oe]&&(ft[Oe]||!it[Oe]):!!(cn==="application/xhtml+xml"&&St[Y.namespaceURI]):!1},yn=function(Y){Dp(e.removed,{element:Y});try{Y.parentNode.removeChild(Y)}catch{try{Y.outerHTML=_}catch{Y.remove()}}},st=function(Y,De){try{Dp(e.removed,{attribute:De.getAttributeNode(Y),from:De})}catch{Dp(e.removed,{attribute:null,from:De})}if(De.removeAttribute(Y),Y==="is"&&!U[Y])if(Xe||lt)try{yn(De)}catch{}else try{De.setAttribute(Y,"")}catch{}},sn=function(Y){var De,Oe;if(Ye)Y="<remove></remove>"+Y;else{var Ft=hhe(Y,/^[\r\n\t ]+/);Oe=Ft&&Ft[0]}cn==="application/xhtml+xml"&&pt===ut&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");var mt=T?T.createHTML(Y):Y;if(pt===ut)try{De=new d().parseFromString(mt,cn)}catch{}if(!De||!De.documentElement){De=O.createDocument(pt,"template",null);try{De.documentElement.innerHTML=ln?_:mt}catch{}}var Nt=De.body||De.documentElement;return Y&&Oe&&Nt.insertBefore(r.createTextNode(Oe),Nt.childNodes[0]||null),pt===ut?L.call(De,oe?"html":"body")[0]:oe?De.documentElement:Nt},Sn=function(Y){return N.call(Y.ownerDocument||Y,Y,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Zr=function(Y){return Y instanceof h&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof c)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},xn=function(Y){return Qu(s)==="object"?Y instanceof s:Y&&Qu(Y)==="object"&&typeof Y.nodeType=="number"&&typeof Y.nodeName=="string"},$r=function(Y,De,Oe){B[Y]&&che(B[Y],function(Ft){Ft.call(e,De,Oe,Q)})},lr=function(Y){var De;if($r("beforeSanitizeElements",Y,null),Zr(Y)||Mo(/[\u0080-\uFFFF]/,Y.nodeName))return yn(Y),!0;var Oe=hn(Y.nodeName);if($r("uponSanitizeElement",Y,{tagName:Oe,allowedTags:D}),Y.hasChildNodes()&&!xn(Y.firstElementChild)&&(!xn(Y.content)||!xn(Y.content.firstElementChild))&&Mo(/<[/\w]/g,Y.innerHTML)&&Mo(/<[/\w]/g,Y.textContent)||Oe==="select"&&Mo(/<template/i,Y.innerHTML))return yn(Y),!0;if(!D[Oe]||Se[Oe]){if(!Se[Oe]&&Di(Oe)&&(ae.tagNameCheck instanceof RegExp&&Mo(ae.tagNameCheck,Oe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Oe)))return!1;if(J&&!q[Oe]){var Ft=y(Y)||Y.parentNode,mt=w(Y)||Y.childNodes;if(mt&&Ft)for(var Nt=mt.length,Zt=Nt-1;Zt>=0;--Zt)Ft.insertBefore(v(mt[Zt],!0),C(Y))}return yn(Y),!0}return Y instanceof a&&!Mt(Y)||(Oe==="noscript"||Oe==="noembed"||Oe==="noframes")&&Mo(/<\/no(script|embed|frames)/i,Y.innerHTML)?(yn(Y),!0):(xe&&Y.nodeType===3&&(De=Y.textContent,De=Ns(De,he," "),De=Ns(De,Ee," "),De=Ns(De,Me," "),Y.textContent!==De&&(Dp(e.removed,{element:Y.cloneNode()}),Y.textContent=De)),$r("afterSanitizeElements",Y,null),!1)},Cs=function(Y,De,Oe){if(A&&(De==="id"||De==="name")&&(Oe in r||Oe in ie))return!1;if(!(ve&&!Ce[De]&&Mo(ye,De))&&!(we&&Mo(te,De))){if(!U[De]||Ce[De]){if(!(Di(Y)&&(ae.tagNameCheck instanceof RegExp&&Mo(ae.tagNameCheck,Y)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Y))&&(ae.attributeNameCheck instanceof RegExp&&Mo(ae.attributeNameCheck,De)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(De))||De==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&Mo(ae.tagNameCheck,Oe)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Oe))))return!1}else if(!re[De]&&!Mo(M,Ns(Oe,R,""))&&!((De==="src"||De==="xlink:href"||De==="href")&&Y!=="script"&&dhe(Oe,"data:")===0&&ne[Y])&&!(fe&&!Mo(S,Ns(Oe,R,"")))&&Oe)return!1}return!0},Di=function(Y){return Y.indexOf("-")>0},ci=function(Y){var De,Oe,Ft,mt;$r("beforeSanitizeAttributes",Y,null);var Nt=Y.attributes;if(Nt){var Zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};for(mt=Nt.length;mt--;){De=Nt[mt];var Co=De,hi=Co.name,_r=Co.namespaceURI;if(Oe=hi==="value"?De.value:fhe(De.value),Ft=hn(hi),Zt.attrName=Ft,Zt.attrValue=Oe,Zt.keepAttr=!0,Zt.forceKeepAttr=void 0,$r("uponSanitizeAttribute",Y,Zt),Oe=Zt.attrValue,!Zt.forceKeepAttr&&(st(hi,Y),!!Zt.keepAttr)){if(!je&&Mo(/\/>/i,Oe)){st(hi,Y);continue}xe&&(Oe=Ns(Oe,he," "),Oe=Ns(Oe,Ee," "),Oe=Ns(Oe,Me," "));var Lv=hn(Y.nodeName);if(Cs(Lv,Ft,Oe)){if(I&&(Ft==="id"||Ft==="name")&&(st(hi,Y),Oe=j+Oe),T&&Qu(g)==="object"&&typeof g.getAttributeType=="function"&&!_r)switch(g.getAttributeType(Lv,Ft)){case"TrustedHTML":{Oe=T.createHTML(Oe);break}case"TrustedScriptURL":{Oe=T.createScriptURL(Oe);break}}try{_r?Y.setAttributeNS(_r,hi,Oe):Y.setAttribute(hi,Oe),IV(e.removed)}catch{}}}}$r("afterSanitizeAttributes",Y,null)}},Dc=function Y(De){var Oe,Ft=Sn(De);for($r("beforeSanitizeShadowDOM",De,null);Oe=Ft.nextNode();)$r("uponSanitizeShadowNode",Oe,null),!lr(Oe)&&(Oe.content instanceof o&&Y(Oe.content),ci(Oe));$r("afterSanitizeShadowDOM",De,null)};return e.sanitize=function(Y){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe,Ft,mt,Nt,Zt;if(ln=!Y,ln&&(Y="<!-->"),typeof Y!="string"&&!xn(Y))if(typeof Y.toString=="function"){if(Y=Y.toString(),typeof Y!="string")throw NT("dirty is not a string, aborting")}else throw NT("toString is not a function");if(!e.isSupported){if(Qu(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Y=="string")return t.toStaticHTML(Y);if(xn(Y))return t.toStaticHTML(Y.outerHTML)}return Y}if(at||ee(De),e.removed=[],typeof Y=="string"&&(V=!1),V){if(Y.nodeName){var Co=hn(Y.nodeName);if(!D[Co]||Se[Co])throw NT("root node is forbidden and cannot be sanitized in-place")}}else if(Y instanceof s)Oe=sn("<!---->"),Ft=Oe.ownerDocument.importNode(Y,!0),Ft.nodeType===1&&Ft.nodeName==="BODY"||Ft.nodeName==="HTML"?Oe=Ft:Oe.appendChild(Ft);else{if(!Xe&&!xe&&!oe&&Y.indexOf("<")===-1)return T&&Ne?T.createHTML(Y):Y;if(Oe=sn(Y),!Oe)return Xe?null:Ne?_:""}Oe&&Ye&&yn(Oe.firstChild);for(var hi=Sn(V?Y:Oe);mt=hi.nextNode();)mt.nodeType===3&&mt===Nt||lr(mt)||(mt.content instanceof o&&Dc(mt.content),ci(mt),Nt=mt);if(Nt=null,V)return Y;if(Xe){if(lt)for(Zt=H.call(Oe.ownerDocument);Oe.firstChild;)Zt.appendChild(Oe.firstChild);else Zt=Oe;return(U.shadowroot||U.shadowrootmod)&&(Zt=G.call(n,Zt,!0)),Zt}var _r=oe?Oe.outerHTML:Oe.innerHTML;return oe&&D["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&Mo(khe,Oe.ownerDocument.doctype.name)&&(_r="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+_r),xe&&(_r=Ns(_r,he," "),_r=Ns(_r,Ee," "),_r=Ns(_r,Me," ")),T&&Ne?T.createHTML(_r):_r},e.setConfig=function(Y){ee(Y),at=!0},e.clearConfig=function(){Q=null,at=!1},e.isValidAttribute=function(Y,De,Oe){Q||ee({});var Ft=hn(Y),mt=hn(De);return Cs(Ft,mt,Oe)},e.addHook=function(Y,De){typeof De=="function"&&(B[Y]=B[Y]||[],Dp(B[Y],De))},e.removeHook=function(Y){if(B[Y])return IV(B[Y])},e.removeHooks=function(Y){B[Y]&&(B[Y]=[])},e.removeAllHooks=function(){B={}},e}var Mhe=jV();//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var FV;function ke(){return FV.apply(null,arguments)}function _he(t){FV=t}function Ds(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function yh(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function WT(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(nn(t,e))return!1;return!0}function Qo(t){return t===void 0}function _l(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Lp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function WV(t,e){var n=[],r,o=t.length;for(r=0;r<o;++r)n.push(e(t[r],r));return n}function Xu(t,e){for(var n in e)nn(e,n)&&(t[n]=e[n]);return nn(e,"toString")&&(t.toString=e.toString),nn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ka(t,e,n,r){return fB(t,e,n,r,!0).utc()}function Ohe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function At(t){return t._pf==null&&(t._pf=Ohe()),t._pf}var VT;Array.prototype.some?VT=Array.prototype.some:VT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function BT(t){if(t._isValid==null){var e=At(t),n=VT.call(e.parsedDateParts,function(o){return o!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function b0(t){var e=ka(NaN);return t!=null?Xu(At(e),t):At(e).userInvalidated=!0,e}var VV=ke.momentProperties=[],UT=!1;function zT(t,e){var n,r,o,i=VV.length;if(Qo(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Qo(e._i)||(t._i=e._i),Qo(e._f)||(t._f=e._f),Qo(e._l)||(t._l=e._l),Qo(e._strict)||(t._strict=e._strict),Qo(e._tzm)||(t._tzm=e._tzm),Qo(e._isUTC)||(t._isUTC=e._isUTC),Qo(e._offset)||(t._offset=e._offset),Qo(e._pf)||(t._pf=At(e)),Qo(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=VV[n],o=e[r],Qo(o)||(t[r]=o);return t}function jp(t){zT(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),UT===!1&&(UT=!0,ke.updateOffset(this),UT=!1)}function Ls(t){return t instanceof jp||t!=null&&t._isAMomentObject!=null}function BV(t){ke.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ts(t,e){var n=!0;return Xu(function(){if(ke.deprecationHandler!=null&&ke.deprecationHandler(null,t),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])nn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}BV(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var UV={};function zV(t,e){ke.deprecationHandler!=null&&ke.deprecationHandler(t,e),UV[t]||(BV(e),UV[t]=!0)}ke.suppressDeprecationWarnings=!1,ke.deprecationHandler=null;function Ea(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Ahe(t){var e,n;for(n in t)nn(t,n)&&(e=t[n],Ea(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $T(t,e){var n=Xu({},t),r;for(r in e)nn(e,r)&&(yh(t[r])&&yh(e[r])?(n[r]={},Xu(n[r],t[r]),Xu(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)nn(t,r)&&!nn(e,r)&&yh(t[r])&&(n[r]=Xu({},n[r]));return n}function GT(t){t!=null&&this.set(t)}var YT;Object.keys?YT=Object.keys:YT=function(t){var e,n=[];for(e in t)nn(t,e)&&n.push(e);return n};var Phe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ihe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ea(r)?r.call(e,n):r}function Ta(t,e,n){var r=""+Math.abs(t),o=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var qT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KT={},Of={};function ht(t,e,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),t&&(Of[t]=o),e&&(Of[e[0]]=function(){return Ta(o.apply(this,arguments),e[1],e[2])}),n&&(Of[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Hhe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Nhe(t){var e=t.match(qT),n,r;for(n=0,r=e.length;n<r;n++)Of[e[n]]?e[n]=Of[e[n]]:e[n]=Hhe(e[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Ea(e[s])?e[s].call(o,t):e[s];return i}}function S0(t,e){return t.isValid()?(e=$V(e,t.localeData()),KT[e]=KT[e]||Nhe(e),KT[e](t)):t.localeData().invalidDate()}function $V(t,e){var n=5;function r(o){return e.longDateFormat(o)||o}for(C0.lastIndex=0;n>=0&&C0.test(t);)t=t.replace(C0,r),C0.lastIndex=0,n-=1;return t}var Dhe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Lhe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(qT).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var jhe="Invalid date";function Fhe(){return this._invalidDate}var Whe="%d",Vhe=/\d{1,2}/;function Bhe(t){return this._ordinal.replace("%d",t)}var Uhe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zhe(t,e,n,r){var o=this._relativeTime[n];return Ea(o)?o(t,e,n,r):o.replace(/%d/i,t)}function $he(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ea(n)?n(e):n.replace(/%s/i,e)}var Fp={};function uo(t,e){var n=t.toLowerCase();Fp[n]=Fp[n+"s"]=Fp[e]=t}function ns(t){return typeof t=="string"?Fp[t]||Fp[t.toLowerCase()]:void 0}function QT(t){var e={},n,r;for(r in t)nn(t,r)&&(n=ns(r),n&&(e[n]=t[r]));return e}var GV={};function co(t,e){GV[t]=e}function Ghe(t){var e=[],n;for(n in t)nn(t,n)&&e.push({unit:n,priority:GV[n]});return e.sort(function(r,o){return r.priority-o.priority}),e}function x0(t){return t%4===0&&t%100!==0||t%400===0}function rs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ut(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=rs(e)),n}function Af(t,e){return function(n){return n!=null?(YV(this,t,n),ke.updateOffset(this,e),this):R0(this,t)}}function R0(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function YV(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&x0(t.year())&&t.month()===1&&t.date()===29?(n=Ut(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),A0(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Yhe(t){return t=ns(t),Ea(this[t])?this[t]():this}function qhe(t,e){if(typeof t=="object"){t=QT(t);var n=Ghe(t),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](t[n[r].unit])}else if(t=ns(t),Ea(this[t]))return this[t](e);return this}var qV=/\d/,xi=/\d\d/,KV=/\d{3}/,XT=/\d{4}/,k0=/[+-]?\d{6}/,In=/\d\d?/,QV=/\d\d\d\d?/,XV=/\d\d\d\d\d\d?/,E0=/\d{1,3}/,JT=/\d{1,4}/,T0=/[+-]?\d{1,6}/,Pf=/\d+/,M0=/[+-]?\d+/,Khe=/Z|[+-]\d\d:?\d\d/gi,_0=/Z|[+-]\d\d(?::?\d\d)?/gi,Qhe=/[+-]?\d+(\.\d{1,3})?/,Wp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,O0;O0={};function qe(t,e,n){O0[t]=Ea(e)?e:function(r,o){return r&&n?n:e}}function Xhe(t,e){return nn(O0,t)?O0[t](e._strict,e._locale):new RegExp(Jhe(t))}function Jhe(t){return Ri(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,o,i){return n||r||o||i}))}function Ri(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ZT={};function mn(t,e){var n,r=e,o;for(typeof t=="string"&&(t=[t]),_l(e)&&(r=function(i,s){s[e]=Ut(i)}),o=t.length,n=0;n<o;n++)ZT[t[n]]=r}function Vp(t,e){mn(t,function(n,r,o,i){o._w=o._w||{},e(n,o._w,o,i)})}function Zhe(t,e,n){e!=null&&nn(ZT,t)&&ZT[t](e,n._a,n,t)}var ho=0,Ol=1,Ma=2,Er=3,js=4,Al=5,bh=6,ede=7,tde=8;function nde(t,e){return(t%e+e)%e}var dr;Array.prototype.indexOf?dr=Array.prototype.indexOf:dr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function A0(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=nde(e,12);return t+=(e-n)/12,n===1?x0(t)?29:28:31-n%7%2}ht("M",["MM",2],"Mo",function(){return this.month()+1}),ht("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),ht("MMMM",0,0,function(t){return this.localeData().months(this,t)}),uo("month","M"),co("month",8),qe("M",In),qe("MM",In,xi),qe("MMM",function(t,e){return e.monthsShortRegex(t)}),qe("MMMM",function(t,e){return e.monthsRegex(t)}),mn(["M","MM"],function(t,e){e[Ol]=Ut(t)-1}),mn(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);o!=null?e[Ol]=o:At(n).invalidMonth=t});var rde="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),JV="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ZV=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ode=Wp,ide=Wp;function sde(t,e){return t?Ds(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ZV).test(e)?"format":"standalone"][t.month()]:Ds(this._months)?this._months:this._months.standalone}function ade(t,e){return t?Ds(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ZV.test(e)?"format":"standalone"][t.month()]:Ds(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lde(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=ka([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(o=dr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=dr.call(this._longMonthsParse,s),o!==-1?o:null):e==="MMM"?(o=dr.call(this._shortMonthsParse,s),o!==-1?o:(o=dr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=dr.call(this._longMonthsParse,s),o!==-1?o:(o=dr.call(this._shortMonthsParse,s),o!==-1?o:null))}function ude(t,e,n){var r,o,i;if(this._monthsParseExact)return lde.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if(o=ka([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t)||n&&e==="MMM"&&this._shortMonthsParse[r].test(t)||!n&&this._monthsParse[r].test(t))return r}function eB(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ut(e);else if(e=t.localeData().monthsParse(e),!_l(e))return t}return n=Math.min(t.date(),A0(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function tB(t){return t!=null?(eB(this,t),ke.updateOffset(this,!0),this):R0(this,"Month")}function cde(){return A0(this.year(),this.month())}function hde(t){return this._monthsParseExact?(nn(this,"_monthsRegex")||nB.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(nn(this,"_monthsShortRegex")||(this._monthsShortRegex=ode),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dde(t){return this._monthsParseExact?(nn(this,"_monthsRegex")||nB.call(this),t?this._monthsStrictRegex:this._monthsRegex):(nn(this,"_monthsRegex")||(this._monthsRegex=ide),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function nB(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=ka([2e3,o]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),r.sort(t),o=0;o<12;o++)e[o]=Ri(e[o]),n[o]=Ri(n[o]);for(o=0;o<24;o++)r[o]=Ri(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ht("Y",0,0,function(){var t=this.year();return t<=9999?Ta(t,4):"+"+t}),ht(0,["YY",2],0,function(){return this.year()%100}),ht(0,["YYYY",4],0,"year"),ht(0,["YYYYY",5],0,"year"),ht(0,["YYYYYY",6,!0],0,"year"),uo("year","y"),co("year",1),qe("Y",M0),qe("YY",In,xi),qe("YYYY",JT,XT),qe("YYYYY",T0,k0),qe("YYYYYY",T0,k0),mn(["YYYYY","YYYYYY"],ho),mn("YYYY",function(t,e){e[ho]=t.length===2?ke.parseTwoDigitYear(t):Ut(t)}),mn("YY",function(t,e){e[ho]=ke.parseTwoDigitYear(t)}),mn("Y",function(t,e){e[ho]=parseInt(t,10)});function Bp(t){return x0(t)?366:365}ke.parseTwoDigitYear=function(t){return Ut(t)+(Ut(t)>68?1900:2e3)};var rB=Af("FullYear",!0);function fde(){return x0(this.year())}function gde(t,e,n,r,o,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,o,i,s),a}function Up(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function P0(t,e,n){var r=7+e-n,o=(7+Up(t,0,r).getUTCDay()-e)%7;return-o+r-1}function oB(t,e,n,r,o){var i=(7+n-r)%7,s=P0(t,r,o),a=1+7*(e-1)+i+s,l,u;return a<=0?(l=t-1,u=Bp(l)+a):a>Bp(t)?(l=t+1,u=a-Bp(t)):(l=t,u=a),{year:l,dayOfYear:u}}function zp(t,e,n){var r=P0(t.year(),e,n),o=Math.floor((t.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=t.year()-1,i=o+Pl(s,e,n)):o>Pl(t.year(),e,n)?(i=o-Pl(t.year(),e,n),s=t.year()+1):(s=t.year(),i=o),{week:i,year:s}}function Pl(t,e,n){var r=P0(t,e,n),o=P0(t+1,e,n);return(Bp(t)-r+o)/7}ht("w",["ww",2],"wo","week"),ht("W",["WW",2],"Wo","isoWeek"),uo("week","w"),uo("isoWeek","W"),co("week",5),co("isoWeek",5),qe("w",In),qe("ww",In,xi),qe("W",In),qe("WW",In,xi),Vp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ut(t)});function mde(t){return zp(t,this._week.dow,this._week.doy).week}var pde={dow:0,doy:6};function wde(){return this._week.dow}function vde(){return this._week.doy}function yde(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function bde(t){var e=zp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ht("d",0,"do","day"),ht("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),ht("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),ht("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),ht("e",0,0,"weekday"),ht("E",0,0,"isoWeekday"),uo("day","d"),uo("weekday","e"),uo("isoWeekday","E"),co("day",11),co("weekday",11),co("isoWeekday",11),qe("d",In),qe("e",In),qe("E",In),qe("dd",function(t,e){return e.weekdaysMinRegex(t)}),qe("ddd",function(t,e){return e.weekdaysShortRegex(t)}),qe("dddd",function(t,e){return e.weekdaysRegex(t)}),Vp(["dd","ddd","dddd"],function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);o!=null?e.d=o:At(n).invalidWeekday=t}),Vp(["d","e","E"],function(t,e,n,r){e[r]=Ut(t)});function Cde(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Sde(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function eM(t,e){return t.slice(e,7).concat(t.slice(0,e))}var xde="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iB="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rde="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kde=Wp,Ede=Wp,Tde=Wp;function Mde(t,e){var n=Ds(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?eM(n,this._week.dow):t?n[t.day()]:n}function _de(t){return t===!0?eM(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ode(t){return t===!0?eM(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ade(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=ka([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(o=dr.call(this._weekdaysParse,s),o!==-1?o:null):e==="ddd"?(o=dr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null):e==="dddd"?(o=dr.call(this._weekdaysParse,s),o!==-1||(o=dr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null)):e==="ddd"?(o=dr.call(this._shortWeekdaysParse,s),o!==-1||(o=dr.call(this._weekdaysParse,s),o!==-1)?o:(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=dr.call(this._minWeekdaysParse,s),o!==-1||(o=dr.call(this._weekdaysParse,s),o!==-1)?o:(o=dr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function Pde(t,e,n){var r,o,i;if(this._weekdaysParseExact)return Ade.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if(o=ka([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t)||n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t)||n&&e==="dd"&&this._minWeekdaysParse[r].test(t)||!n&&this._weekdaysParse[r].test(t))return r}function Ide(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Cde(t,this.localeData()),this.add(t-e,"d")):e}function Hde(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Nde(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Sde(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Dde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||tM.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(nn(this,"_weekdaysRegex")||(this._weekdaysRegex=kde),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Lde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||tM.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(nn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ede),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||tM.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(nn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tde),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function tM(){function t(c,h){return h.length-c.length}var e=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=ka([2e3,1]).day(i),a=Ri(this.weekdaysMin(s,"")),l=Ri(this.weekdaysShort(s,"")),u=Ri(this.weekdays(s,"")),e.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);e.sort(t),n.sort(t),r.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function nM(){return this.hours()%12||12}function Fde(){return this.hours()||24}ht("H",["HH",2],0,"hour"),ht("h",["hh",2],0,nM),ht("k",["kk",2],0,Fde),ht("hmm",0,0,function(){return""+nM.apply(this)+Ta(this.minutes(),2)}),ht("hmmss",0,0,function(){return""+nM.apply(this)+Ta(this.minutes(),2)+Ta(this.seconds(),2)}),ht("Hmm",0,0,function(){return""+this.hours()+Ta(this.minutes(),2)}),ht("Hmmss",0,0,function(){return""+this.hours()+Ta(this.minutes(),2)+Ta(this.seconds(),2)});function sB(t,e){ht(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}sB("a",!0),sB("A",!1),uo("hour","h"),co("hour",13);function aB(t,e){return e._meridiemParse}qe("a",aB),qe("A",aB),qe("H",In),qe("h",In),qe("k",In),qe("HH",In,xi),qe("hh",In,xi),qe("kk",In,xi),qe("hmm",QV),qe("hmmss",XV),qe("Hmm",QV),qe("Hmmss",XV),mn(["H","HH"],Er),mn(["k","kk"],function(t,e,n){var r=Ut(t);e[Er]=r===24?0:r}),mn(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),mn(["h","hh"],function(t,e,n){e[Er]=Ut(t),At(n).bigHour=!0}),mn("hmm",function(t,e,n){var r=t.length-2;e[Er]=Ut(t.substr(0,r)),e[js]=Ut(t.substr(r)),At(n).bigHour=!0}),mn("hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[Er]=Ut(t.substr(0,r)),e[js]=Ut(t.substr(r,2)),e[Al]=Ut(t.substr(o)),At(n).bigHour=!0}),mn("Hmm",function(t,e,n){var r=t.length-2;e[Er]=Ut(t.substr(0,r)),e[js]=Ut(t.substr(r))}),mn("Hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[Er]=Ut(t.substr(0,r)),e[js]=Ut(t.substr(r,2)),e[Al]=Ut(t.substr(o))});function Wde(t){return(t+"").toLowerCase().charAt(0)==="p"}var Vde=/[ap]\.?m?\.?/i,Bde=Af("Hours",!0);function Ude(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var lB={calendar:Phe,longDateFormat:Dhe,invalidDate:jhe,ordinal:Whe,dayOfMonthOrdinalParse:Vhe,relativeTime:Uhe,months:rde,monthsShort:JV,week:pde,weekdays:xde,weekdaysMin:Rde,weekdaysShort:iB,meridiemParse:Vde},Wn={},$p={},Gp;function zde(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function uB(t){return t&&t.toLowerCase().replace("_","-")}function $de(t){for(var e=0,n,r,o,i;e<t.length;){for(i=uB(t[e]).split("-"),n=i.length,r=uB(t[e+1]),r=r?r.split("-"):null;n>0;){if(o=I0(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&zde(i,r)>=n-1)break;n--}e++}return Gp}function Gde(t){return t.match("^[^/\\\\]*$")!=null}function I0(t){var e=null,n;if(Wn[t]===void 0&&typeof jn<"u"&&jn&&jn.exports&&Gde(t))try{e=Gp._abbr,n=require,n("./locale/"+t),Ju(e)}catch{Wn[t]=null}return Wn[t]}function Ju(t,e){var n;return t&&(Qo(e)?n=Il(t):n=rM(t,e),n?Gp=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Gp._abbr}function rM(t,e){if(e!==null){var n,r=lB;if(e.abbr=t,Wn[t]!=null)zV("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Wn[t]._config;else if(e.parentLocale!=null)if(Wn[e.parentLocale]!=null)r=Wn[e.parentLocale]._config;else if(n=I0(e.parentLocale),n!=null)r=n._config;else return $p[e.parentLocale]||($p[e.parentLocale]=[]),$p[e.parentLocale].push({name:t,config:e}),null;return Wn[t]=new GT($T(r,e)),$p[t]&&$p[t].forEach(function(o){rM(o.name,o.config)}),Ju(t),Wn[t]}else return delete Wn[t],null}function Yde(t,e){if(e!=null){var n,r,o=lB;Wn[t]!=null&&Wn[t].parentLocale!=null?Wn[t].set($T(Wn[t]._config,e)):(r=I0(t),r!=null&&(o=r._config),e=$T(o,e),r==null&&(e.abbr=t),n=new GT(e),n.parentLocale=Wn[t],Wn[t]=n),Ju(t)}else Wn[t]!=null&&(Wn[t].parentLocale!=null?(Wn[t]=Wn[t].parentLocale,t===Ju()&&Ju(t)):Wn[t]!=null&&delete Wn[t]);return Wn[t]}function Il(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gp;if(!Ds(t)){if(e=I0(t),e)return e;t=[t]}return $de(t)}function qde(){return YT(Wn)}function oM(t){var e,n=t._a;return n&&At(t).overflow===-2&&(e=n[Ol]<0||n[Ol]>11?Ol:n[Ma]<1||n[Ma]>A0(n[ho],n[Ol])?Ma:n[Er]<0||n[Er]>24||n[Er]===24&&(n[js]!==0||n[Al]!==0||n[bh]!==0)?Er:n[js]<0||n[js]>59?js:n[Al]<0||n[Al]>59?Al:n[bh]<0||n[bh]>999?bh:-1,At(t)._overflowDayOfYear&&(e<ho||e>Ma)&&(e=Ma),At(t)._overflowWeeks&&e===-1&&(e=ede),At(t)._overflowWeekday&&e===-1&&(e=tde),At(t).overflow=e),t}var Kde=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qde=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xde=/Z|[+-]\d\d(?::?\d\d)?/,H0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],iM=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Jde=/^\/?Date\((-?\d+)/i,Zde=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,efe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cB(t){var e,n,r=t._i,o=Kde.exec(r)||Qde.exec(r),i,s,a,l,u=H0.length,c=iM.length;if(o){for(At(t).iso=!0,e=0,n=u;e<n;e++)if(H0[e][1].exec(o[1])){s=H0[e][0],i=H0[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(o[3]){for(e=0,n=c;e<n;e++)if(iM[e][1].exec(o[3])){a=(o[2]||" ")+iM[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(o[4])if(Xde.exec(o[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),aM(t)}else t._isValid=!1}function tfe(t,e,n,r,o,i){var s=[nfe(t),JV.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function nfe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function rfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ofe(t,e,n){if(t){var r=iB.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(r!==o)return At(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ife(t,e,n){if(t)return efe[t];if(e)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function hB(t){var e=Zde.exec(rfe(t._i)),n;if(e){if(n=tfe(e[4],e[3],e[2],e[5],e[6],e[7]),!ofe(e[1],n,t))return;t._a=n,t._tzm=ife(e[8],e[9],e[10]),t._d=Up.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),At(t).rfc2822=!0}else t._isValid=!1}function sfe(t){var e=Jde.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(cB(t),t._isValid===!1)delete t._isValid;else return;if(hB(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ke.createFromInputFallback(t)}ke.createFromInputFallback=ts("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function If(t,e,n){return t??e??n}function afe(t){var e=new Date(ke.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function sM(t){var e,n,r=[],o,i,s;if(!t._d){for(o=afe(t),t._w&&t._a[Ma]==null&&t._a[Ol]==null&&lfe(t),t._dayOfYear!=null&&(s=If(t._a[ho],o[ho]),(t._dayOfYear>Bp(s)||t._dayOfYear===0)&&(At(t)._overflowDayOfYear=!0),n=Up(s,0,t._dayOfYear),t._a[Ol]=n.getUTCMonth(),t._a[Ma]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=o[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Er]===24&&t._a[js]===0&&t._a[Al]===0&&t._a[bh]===0&&(t._nextDay=!0,t._a[Er]=0),t._d=(t._useUTC?Up:gde).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Er]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(At(t).weekdayMismatch=!0)}}function lfe(t){var e,n,r,o,i,s,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,s=4,n=If(e.GG,t._a[ho],zp(Hn(),1,4).year),r=If(e.W,1),o=If(e.E,1),(o<1||o>7)&&(l=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=zp(Hn(),i,s),n=If(e.gg,t._a[ho],u.year),r=If(e.w,u.week),e.d!=null?(o=e.d,(o<0||o>6)&&(l=!0)):e.e!=null?(o=e.e+i,(e.e<0||e.e>6)&&(l=!0)):o=i),r<1||r>Pl(n,i,s)?At(t)._overflowWeeks=!0:l!=null?At(t)._overflowWeekday=!0:(a=oB(n,r,o,i,s),t._a[ho]=a.year,t._dayOfYear=a.dayOfYear)}ke.ISO_8601=function(){},ke.RFC_2822=function(){};function aM(t){if(t._f===ke.ISO_8601){cB(t);return}if(t._f===ke.RFC_2822){hB(t);return}t._a=[],At(t).empty=!0;var e=""+t._i,n,r,o,i,s,a=e.length,l=0,u,c;for(o=$V(t._f,t._locale).match(qT)||[],c=o.length,n=0;n<c;n++)i=o[n],r=(e.match(Xhe(i,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&At(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Of[i]?(r?At(t).empty=!1:At(t).unusedTokens.push(i),Zhe(i,r,t)):t._strict&&!r&&At(t).unusedTokens.push(i);At(t).charsLeftOver=a-l,e.length>0&&At(t).unusedInput.push(e),t._a[Er]<=12&&At(t).bigHour===!0&&t._a[Er]>0&&(At(t).bigHour=void 0),At(t).parsedDateParts=t._a.slice(0),At(t).meridiem=t._meridiem,t._a[Er]=ufe(t._locale,t._a[Er],t._meridiem),u=At(t).era,u!==null&&(t._a[ho]=t._locale.erasConvertYear(u,t._a[ho])),sM(t),oM(t)}function ufe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function cfe(t){var e,n,r,o,i,s,a=!1,l=t._f.length;if(l===0){At(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,e=zT({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],aM(e),BT(e)&&(s=!0),i+=At(e).charsLeftOver,i+=At(e).unusedTokens.length*10,At(e).score=i,a?i<r&&(r=i,n=e):(r==null||i<r||s)&&(r=i,n=e,s&&(a=!0));Xu(t,n||e)}function hfe(t){if(!t._d){var e=QT(t._i),n=e.day===void 0?e.date:e.day;t._a=WV([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),sM(t)}}function dfe(t){var e=new jp(oM(dB(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function dB(t){var e=t._i,n=t._f;return t._locale=t._locale||Il(t._l),e===null||n===void 0&&e===""?b0({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ls(e)?new jp(oM(e)):(Lp(e)?t._d=e:Ds(n)?cfe(t):n?aM(t):ffe(t),BT(t)||(t._d=null),t))}function ffe(t){var e=t._i;Qo(e)?t._d=new Date(ke.now()):Lp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?sfe(t):Ds(e)?(t._a=WV(e.slice(0),function(n){return parseInt(n,10)}),sM(t)):yh(e)?hfe(t):_l(e)?t._d=new Date(e):ke.createFromInputFallback(t)}function fB(t,e,n,r,o){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(yh(t)&&WT(t)||Ds(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=t,i._f=e,i._strict=r,dfe(i)}function Hn(t,e,n,r){return fB(t,e,n,r,!1)}var gfe=ts("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Hn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b0()}),mfe=ts("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Hn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:b0()});function gB(t,e){var n,r;if(e.length===1&&Ds(e[0])&&(e=e[0]),!e.length)return Hn();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function pfe(){var t=[].slice.call(arguments,0);return gB("isBefore",t)}function wfe(){var t=[].slice.call(arguments,0);return gB("isAfter",t)}var vfe=function(){return Date.now?Date.now():+new Date},Yp=["year","quarter","month","week","day","hour","minute","second","millisecond"];function yfe(t){var e,n=!1,r,o=Yp.length;for(e in t)if(nn(t,e)&&!(dr.call(Yp,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<o;++r)if(t[Yp[r]]){if(n)return!1;parseFloat(t[Yp[r]])!==Ut(t[Yp[r]])&&(n=!0)}return!0}function bfe(){return this._isValid}function Cfe(){return Fs(NaN)}function N0(t){var e=QT(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=yfe(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=Il(),this._bubble()}function D0(t){return t instanceof N0}function lM(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Sfe(t,e,n){var r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),i=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&Ut(t[s])!==Ut(e[s]))&&i++;return i+o}function mB(t,e){ht(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ta(~~(n/60),2)+e+Ta(~~n%60,2)})}mB("Z",":"),mB("ZZ",""),qe("Z",_0),qe("ZZ",_0),mn(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=uM(_0,t)});var xfe=/([\+\-]|\d\d)/gi;function uM(t,e){var n=(e||"").match(t),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(xfe)||["-",0,0],i=+(o[1]*60)+Ut(o[2]),i===0?0:o[0]==="+"?i:-i)}function cM(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ls(t)||Lp(t)?t.valueOf():Hn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ke.updateOffset(n,!1),n):Hn(t).local()}function hM(t){return-Math.round(t._d.getTimezoneOffset())}ke.updateOffset=function(){};function Rfe(t,e,n){var r=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=uM(_0,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=hM(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?yB(this,Fs(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ke.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:hM(this)}function kfe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Efe(t){return this.utcOffset(0,t)}function Tfe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(hM(this),"m")),this}function Mfe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=uM(Khe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function _fe(t){return this.isValid()?(t=t?Hn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ofe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Afe(){if(!Qo(this._isDSTShifted))return this._isDSTShifted;var t={},e;return zT(t,this),t=dB(t),t._a?(e=t._isUTC?ka(t._a):Hn(t._a),this._isDSTShifted=this.isValid()&&Sfe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Pfe(){return this.isValid()?!this._isUTC:!1}function Ife(){return this.isValid()?this._isUTC:!1}function pB(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Hfe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nfe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fs(t,e){var n=t,r=null,o,i,s;return D0(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:_l(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Hfe.exec(t))?(o=r[1]==="-"?-1:1,n={y:0,d:Ut(r[Ma])*o,h:Ut(r[Er])*o,m:Ut(r[js])*o,s:Ut(r[Al])*o,ms:Ut(lM(r[bh]*1e3))*o}):(r=Nfe.exec(t))?(o=r[1]==="-"?-1:1,n={y:Ch(r[2],o),M:Ch(r[3],o),w:Ch(r[4],o),d:Ch(r[5],o),h:Ch(r[6],o),m:Ch(r[7],o),s:Ch(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Dfe(Hn(n.from),Hn(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new N0(n),D0(t)&&nn(t,"_locale")&&(i._locale=t._locale),D0(t)&&nn(t,"_isValid")&&(i._isValid=t._isValid),i}Fs.fn=N0.prototype,Fs.invalid=Cfe;function Ch(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function wB(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Dfe(t,e){var n;return t.isValid()&&e.isValid()?(e=cM(e,t),t.isBefore(e)?n=wB(t,e):(n=wB(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function vB(t,e){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(zV(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Fs(n,r),yB(this,o,t),this}}function yB(t,e,n,r){var o=e._milliseconds,i=lM(e._days),s=lM(e._months);t.isValid()&&(r=r??!0,s&&eB(t,R0(t,"Month")+s*n),i&&YV(t,"Date",R0(t,"Date")+i*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&ke.updateOffset(t,i||s))}var Lfe=vB(1,"add"),jfe=vB(-1,"subtract");function bB(t){return typeof t=="string"||t instanceof String}function Ffe(t){return Ls(t)||Lp(t)||bB(t)||_l(t)||Vfe(t)||Wfe(t)||t===null||t===void 0}function Wfe(t){var e=yh(t)&&!WT(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||nn(t,i);return e&&n}function Vfe(t){var e=Ds(t),n=!1;return e&&(n=t.filter(function(r){return!_l(r)&&bB(t)}).length===0),e&&n}function Bfe(t){var e=yh(t)&&!WT(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||nn(t,i);return e&&n}function Ufe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zfe(t,e){arguments.length===1&&(arguments[0]?Ffe(arguments[0])?(t=arguments[0],e=void 0):Bfe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Hn(),r=cM(n,this).startOf("day"),o=ke.calendarFormat(this,r)||"sameElse",i=e&&(Ea(e[o])?e[o].call(this,n):e[o]);return this.format(i||this.localeData().calendar(o,this,Hn(n)))}function $fe(){return new jp(this)}function Gfe(t,e){var n=Ls(t)?t:Hn(t);return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Yfe(t,e){var n=Ls(t)?t:Hn(t);return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function qfe(t,e,n,r){var o=Ls(t)?t:Hn(t),i=Ls(e)?e:Hn(e);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Kfe(t,e){var n=Ls(t)?t:Hn(t),r;return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Qfe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Xfe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Jfe(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(r=cM(t,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,e=ns(e),e){case"year":i=L0(this,r)/12;break;case"month":i=L0(this,r);break;case"quarter":i=L0(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:rs(i)}function L0(t,e){if(t.date()<e.date())return-L0(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),o,i;return e-r<0?(o=t.clone().add(n-1,"months"),i=(e-r)/(r-o)):(o=t.clone().add(n+1,"months"),i=(e-r)/(o-r)),-(n+i)||0}ke.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",ke.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Zfe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ege(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?S0(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ea(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",S0(n,"Z")):S0(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tge(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,o,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+o+i)}function nge(t){t||(t=this.isUtc()?ke.defaultFormatUtc:ke.defaultFormat);var e=S0(this,t);return this.localeData().postformat(e)}function rge(t,e){return this.isValid()&&(Ls(t)&&t.isValid()||Hn(t).isValid())?Fs({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oge(t){return this.from(Hn(),t)}function ige(t,e){return this.isValid()&&(Ls(t)&&t.isValid()||Hn(t).isValid())?Fs({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sge(t){return this.to(Hn(),t)}function CB(t){var e;return t===void 0?this._locale._abbr:(e=Il(t),e!=null&&(this._locale=e),this)}var SB=ts("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function xB(){return this._locale}var j0=1e3,Hf=60*j0,F0=60*Hf,RB=(365*400+97)*24*F0;function Nf(t,e){return(t%e+e)%e}function kB(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-RB:new Date(t,e,n).valueOf()}function EB(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-RB:Date.UTC(t,e,n)}function age(t){var e,n;if(t=ns(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?EB:kB,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Nf(e+(this._isUTC?0:this.utcOffset()*Hf),F0);break;case"minute":e=this._d.valueOf(),e-=Nf(e,Hf);break;case"second":e=this._d.valueOf(),e-=Nf(e,j0);break}return this._d.setTime(e),ke.updateOffset(this,!0),this}function lge(t){var e,n;if(t=ns(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?EB:kB,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=F0-Nf(e+(this._isUTC?0:this.utcOffset()*Hf),F0)-1;break;case"minute":e=this._d.valueOf(),e+=Hf-Nf(e,Hf)-1;break;case"second":e=this._d.valueOf(),e+=j0-Nf(e,j0)-1;break}return this._d.setTime(e),ke.updateOffset(this,!0),this}function uge(){return this._d.valueOf()-(this._offset||0)*6e4}function cge(){return Math.floor(this.valueOf()/1e3)}function hge(){return new Date(this.valueOf())}function dge(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function fge(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function gge(){return this.isValid()?this.toISOString():null}function mge(){return BT(this)}function pge(){return Xu({},At(this))}function wge(){return At(this).overflow}function vge(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ht("N",0,0,"eraAbbr"),ht("NN",0,0,"eraAbbr"),ht("NNN",0,0,"eraAbbr"),ht("NNNN",0,0,"eraName"),ht("NNNNN",0,0,"eraNarrow"),ht("y",["y",1],"yo","eraYear"),ht("y",["yy",2],0,"eraYear"),ht("y",["yyy",3],0,"eraYear"),ht("y",["yyyy",4],0,"eraYear"),qe("N",dM),qe("NN",dM),qe("NNN",dM),qe("NNNN",_ge),qe("NNNNN",Oge),mn(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var o=n._locale.erasParse(t,r,n._strict);o?At(n).era=o:At(n).invalidEra=t}),qe("y",Pf),qe("yy",Pf),qe("yyy",Pf),qe("yyyy",Pf),qe("yo",Age),mn(["y","yy","yyy","yyyy"],ho),mn(["yo"],function(t,e,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[ho]=n._locale.eraYearOrdinalParse(t,o):e[ho]=parseInt(t,10)});function yge(t,e){var n,r,o,i=this._eras||Il("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=ke(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=ke(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function bge(t,e,n){var r,o,i=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[r];break;case"NNNN":if(s===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([s,a,l].indexOf(t)>=0)return i[r]}function Cge(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ke(t.since).year():ke(t.since).year()+(e-t.offset)*n}function Sge(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function xge(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Rge(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function kge(){var t,e,n,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until||o[t].until<=r&&r<=o[t].since)return(this.year()-ke(o[t].since).year())*n+o[t].offset;return this.year()}function Ege(t){return nn(this,"_erasNameRegex")||fM.call(this),t?this._erasNameRegex:this._erasRegex}function Tge(t){return nn(this,"_erasAbbrRegex")||fM.call(this),t?this._erasAbbrRegex:this._erasRegex}function Mge(t){return nn(this,"_erasNarrowRegex")||fM.call(this),t?this._erasNarrowRegex:this._erasRegex}function dM(t,e){return e.erasAbbrRegex(t)}function _ge(t,e){return e.erasNameRegex(t)}function Oge(t,e){return e.erasNarrowRegex(t)}function Age(t,e){return e._eraYearOrdinalRegex||Pf}function fM(){var t=[],e=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)e.push(Ri(s[o].name)),t.push(Ri(s[o].abbr)),n.push(Ri(s[o].narrow)),r.push(Ri(s[o].name)),r.push(Ri(s[o].abbr)),r.push(Ri(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ht(0,["gg",2],0,function(){return this.weekYear()%100}),ht(0,["GG",2],0,function(){return this.isoWeekYear()%100});function W0(t,e){ht(0,[t,t.length],0,e)}W0("gggg","weekYear"),W0("ggggg","weekYear"),W0("GGGG","isoWeekYear"),W0("GGGGG","isoWeekYear"),uo("weekYear","gg"),uo("isoWeekYear","GG"),co("weekYear",1),co("isoWeekYear",1),qe("G",M0),qe("g",M0),qe("GG",In,xi),qe("gg",In,xi),qe("GGGG",JT,XT),qe("gggg",JT,XT),qe("GGGGG",T0,k0),qe("ggggg",T0,k0),Vp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ut(t)}),Vp(["gg","GG"],function(t,e,n,r){e[r]=ke.parseTwoDigitYear(t)});function Pge(t){return TB.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ige(t){return TB.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Hge(){return Pl(this.year(),1,4)}function Nge(){return Pl(this.isoWeekYear(),1,4)}function Dge(){var t=this.localeData()._week;return Pl(this.year(),t.dow,t.doy)}function Lge(){var t=this.localeData()._week;return Pl(this.weekYear(),t.dow,t.doy)}function TB(t,e,n,r,o){var i;return t==null?zp(this,r,o).year:(i=Pl(t,r,o),e>i&&(e=i),jge.call(this,t,e,n,r,o))}function jge(t,e,n,r,o){var i=oB(t,e,n,r,o),s=Up(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ht("Q",0,"Qo","quarter"),uo("quarter","Q"),co("quarter",7),qe("Q",qV),mn("Q",function(t,e){e[Ol]=(Ut(t)-1)*3});function Fge(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ht("D",["DD",2],"Do","date"),uo("date","D"),co("date",9),qe("D",In),qe("DD",In,xi),qe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),mn(["D","DD"],Ma),mn("Do",function(t,e){e[Ma]=Ut(t.match(In)[0])});var MB=Af("Date",!0);ht("DDD",["DDDD",3],"DDDo","dayOfYear"),uo("dayOfYear","DDD"),co("dayOfYear",4),qe("DDD",E0),qe("DDDD",KV),mn(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ut(t)});function Wge(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ht("m",["mm",2],0,"minute"),uo("minute","m"),co("minute",14),qe("m",In),qe("mm",In,xi),mn(["m","mm"],js);var Vge=Af("Minutes",!1);ht("s",["ss",2],0,"second"),uo("second","s"),co("second",15),qe("s",In),qe("ss",In,xi),mn(["s","ss"],Al);var Bge=Af("Seconds",!1);ht("S",0,0,function(){return~~(this.millisecond()/100)}),ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ht(0,["SSS",3],0,"millisecond"),ht(0,["SSSS",4],0,function(){return this.millisecond()*10}),ht(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ht(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ht(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ht(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ht(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),uo("millisecond","ms"),co("millisecond",16),qe("S",E0,qV),qe("SS",E0,xi),qe("SSS",E0,KV);var Zu,_B;for(Zu="SSSS";Zu.length<=9;Zu+="S")qe(Zu,Pf);function Uge(t,e){e[bh]=Ut(("0."+t)*1e3)}for(Zu="S";Zu.length<=9;Zu+="S")mn(Zu,Uge);_B=Af("Milliseconds",!1),ht("z",0,0,"zoneAbbr"),ht("zz",0,0,"zoneName");function zge(){return this._isUTC?"UTC":""}function $ge(){return this._isUTC?"Coordinated Universal Time":""}var Ie=jp.prototype;Ie.add=Lfe,Ie.calendar=zfe,Ie.clone=$fe,Ie.diff=Jfe,Ie.endOf=lge,Ie.format=nge,Ie.from=rge,Ie.fromNow=oge,Ie.to=ige,Ie.toNow=sge,Ie.get=Yhe,Ie.invalidAt=wge,Ie.isAfter=Gfe,Ie.isBefore=Yfe,Ie.isBetween=qfe,Ie.isSame=Kfe,Ie.isSameOrAfter=Qfe,Ie.isSameOrBefore=Xfe,Ie.isValid=mge,Ie.lang=SB,Ie.locale=CB,Ie.localeData=xB,Ie.max=mfe,Ie.min=gfe,Ie.parsingFlags=pge,Ie.set=qhe,Ie.startOf=age,Ie.subtract=jfe,Ie.toArray=dge,Ie.toObject=fge,Ie.toDate=hge,Ie.toISOString=ege,Ie.inspect=tge,typeof Symbol<"u"&&Symbol.for!=null&&(Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ie.toJSON=gge,Ie.toString=Zfe,Ie.unix=cge,Ie.valueOf=uge,Ie.creationData=vge,Ie.eraName=Sge,Ie.eraNarrow=xge,Ie.eraAbbr=Rge,Ie.eraYear=kge,Ie.year=rB,Ie.isLeapYear=fde,Ie.weekYear=Pge,Ie.isoWeekYear=Ige,Ie.quarter=Ie.quarters=Fge,Ie.month=tB,Ie.daysInMonth=cde,Ie.week=Ie.weeks=yde,Ie.isoWeek=Ie.isoWeeks=bde,Ie.weeksInYear=Dge,Ie.weeksInWeekYear=Lge,Ie.isoWeeksInYear=Hge,Ie.isoWeeksInISOWeekYear=Nge,Ie.date=MB,Ie.day=Ie.days=Ide,Ie.weekday=Hde,Ie.isoWeekday=Nde,Ie.dayOfYear=Wge,Ie.hour=Ie.hours=Bde,Ie.minute=Ie.minutes=Vge,Ie.second=Ie.seconds=Bge,Ie.millisecond=Ie.milliseconds=_B,Ie.utcOffset=Rfe,Ie.utc=Efe,Ie.local=Tfe,Ie.parseZone=Mfe,Ie.hasAlignedHourOffset=_fe,Ie.isDST=Ofe,Ie.isLocal=Pfe,Ie.isUtcOffset=Ife,Ie.isUtc=pB,Ie.isUTC=pB,Ie.zoneAbbr=zge,Ie.zoneName=$ge,Ie.dates=ts("dates accessor is deprecated. Use date instead.",MB),Ie.months=ts("months accessor is deprecated. Use month instead",tB),Ie.years=ts("years accessor is deprecated. Use year instead",rB),Ie.zone=ts("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",kfe),Ie.isDSTShifted=ts("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Afe);function Gge(t){return Hn(t*1e3)}function Yge(){return Hn.apply(null,arguments).parseZone()}function OB(t){return t}var rn=GT.prototype;rn.calendar=Ihe,rn.longDateFormat=Lhe,rn.invalidDate=Fhe,rn.ordinal=Bhe,rn.preparse=OB,rn.postformat=OB,rn.relativeTime=zhe,rn.pastFuture=$he,rn.set=Ahe,rn.eras=yge,rn.erasParse=bge,rn.erasConvertYear=Cge,rn.erasAbbrRegex=Tge,rn.erasNameRegex=Ege,rn.erasNarrowRegex=Mge,rn.months=sde,rn.monthsShort=ade,rn.monthsParse=ude,rn.monthsRegex=dde,rn.monthsShortRegex=hde,rn.week=mde,rn.firstDayOfYear=vde,rn.firstDayOfWeek=wde,rn.weekdays=Mde,rn.weekdaysMin=Ode,rn.weekdaysShort=_de,rn.weekdaysParse=Pde,rn.weekdaysRegex=Dde,rn.weekdaysShortRegex=Lde,rn.weekdaysMinRegex=jde,rn.isPM=Wde,rn.meridiem=Ude;function V0(t,e,n,r){var o=Il(),i=ka().set(r,e);return o[n](i,t)}function AB(t,e,n){if(_l(t)&&(e=t,t=void 0),t=t||"",e!=null)return V0(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=V0(t,r,n,"month");return o}function gM(t,e,n,r){typeof t=="boolean"?(_l(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,_l(e)&&(n=e,e=void 0),e=e||"");var o=Il(),i=t?o._week.dow:0,s,a=[];if(n!=null)return V0(e,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=V0(e,(s+i)%7,r,"day");return a}function qge(t,e){return AB(t,e,"months")}function Kge(t,e){return AB(t,e,"monthsShort")}function Qge(t,e,n){return gM(t,e,n,"weekdays")}function Xge(t,e,n){return gM(t,e,n,"weekdaysShort")}function Jge(t,e,n){return gM(t,e,n,"weekdaysMin")}Ju("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ut(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}}),ke.lang=ts("moment.lang is deprecated. Use moment.locale instead.",Ju),ke.langData=ts("moment.langData is deprecated. Use moment.localeData instead.",Il);var Hl=Math.abs;function Zge(){var t=this._data;return this._milliseconds=Hl(this._milliseconds),this._days=Hl(this._days),this._months=Hl(this._months),t.milliseconds=Hl(t.milliseconds),t.seconds=Hl(t.seconds),t.minutes=Hl(t.minutes),t.hours=Hl(t.hours),t.months=Hl(t.months),t.years=Hl(t.years),this}function PB(t,e,n,r){var o=Fs(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function eme(t,e){return PB(this,t,e,1)}function tme(t,e){return PB(this,t,e,-1)}function IB(t){return t<0?Math.floor(t):Math.ceil(t)}function nme(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,o,i,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=IB(mM(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,o=rs(t/1e3),r.seconds=o%60,i=rs(o/60),r.minutes=i%60,s=rs(i/60),r.hours=s%24,e+=rs(s/24),l=rs(HB(e)),n+=l,e-=IB(mM(l)),a=rs(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function HB(t){return t*4800/146097}function mM(t){return t*146097/4800}function rme(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=ns(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+HB(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(mM(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ome(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ut(this._months/12)*31536e6:NaN}function Nl(t){return function(){return this.as(t)}}var ime=Nl("ms"),sme=Nl("s"),ame=Nl("m"),lme=Nl("h"),ume=Nl("d"),cme=Nl("w"),hme=Nl("M"),dme=Nl("Q"),fme=Nl("y");function gme(){return Fs(this)}function mme(t){return t=ns(t),this.isValid()?this[t+"s"]():NaN}function Sh(t){return function(){return this.isValid()?this._data[t]:NaN}}var pme=Sh("milliseconds"),wme=Sh("seconds"),vme=Sh("minutes"),yme=Sh("hours"),bme=Sh("days"),Cme=Sh("months"),Sme=Sh("years");function xme(){return rs(this.days()/7)}var Dl=Math.round,Df={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Rme(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}function kme(t,e,n,r){var o=Fs(t).abs(),i=Dl(o.as("s")),s=Dl(o.as("m")),a=Dl(o.as("h")),l=Dl(o.as("d")),u=Dl(o.as("M")),c=Dl(o.as("w")),h=Dl(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,Rme.apply(null,d)}function Eme(t){return t===void 0?Dl:typeof t=="function"?(Dl=t,!0):!1}function Tme(t,e){return Df[t]===void 0?!1:e===void 0?Df[t]:(Df[t]=e,t==="s"&&(Df.ss=e-1),!0)}function Mme(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Df,o,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Df,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),o=this.localeData(),i=kme(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var pM=Math.abs;function Lf(t){return(t>0)-(t<0)||+t}function B0(){if(!this.isValid())return this.localeData().invalidDate();var t=pM(this._milliseconds)/1e3,e=pM(this._days),n=pM(this._months),r,o,i,s,a=this.asSeconds(),l,u,c,h;return a?(r=rs(t/60),o=rs(r/60),t%=60,r%=60,i=rs(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Lf(this._months)!==Lf(a)?"-":"",c=Lf(this._days)!==Lf(a)?"-":"",h=Lf(this._milliseconds)!==Lf(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(o||r||t?"T":"")+(o?h+o+"H":"")+(r?h+r+"M":"")+(t?h+s+"S":"")):"P0D"}var Qt=N0.prototype;Qt.isValid=bfe,Qt.abs=Zge,Qt.add=eme,Qt.subtract=tme,Qt.as=rme,Qt.asMilliseconds=ime,Qt.asSeconds=sme,Qt.asMinutes=ame,Qt.asHours=lme,Qt.asDays=ume,Qt.asWeeks=cme,Qt.asMonths=hme,Qt.asQuarters=dme,Qt.asYears=fme,Qt.valueOf=ome,Qt._bubble=nme,Qt.clone=gme,Qt.get=mme,Qt.milliseconds=pme,Qt.seconds=wme,Qt.minutes=vme,Qt.hours=yme,Qt.days=bme,Qt.weeks=xme,Qt.months=Cme,Qt.years=Sme,Qt.humanize=Mme,Qt.toISOString=B0,Qt.toString=B0,Qt.toJSON=B0,Qt.locale=CB,Qt.localeData=xB,Qt.toIsoString=ts("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",B0),Qt.lang=SB,ht("X",0,0,"unix"),ht("x",0,0,"valueOf"),qe("x",M0),qe("X",Qhe),mn("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)}),mn("x",function(t,e,n){n._d=new Date(Ut(t))});//! moment.js
ke.version="2.29.4",_he(Hn),ke.fn=Ie,ke.min=pfe,ke.max=wfe,ke.now=vfe,ke.utc=ka,ke.unix=Gge,ke.months=qge,ke.isDate=Lp,ke.locale=Ju,ke.invalid=b0,ke.duration=Fs,ke.isMoment=Ls,ke.weekdays=Qge,ke.parseZone=Yge,ke.localeData=Il,ke.isDuration=D0,ke.monthsShort=Kge,ke.weekdaysMin=Jge,ke.defineLocale=rM,ke.updateLocale=Yde,ke.locales=qde,ke.weekdaysShort=Xge,ke.normalizeUnits=ns,ke.relativeTimeRounding=Eme,ke.relativeTimeThreshold=Tme,ke.calendarFormat=Ufe,ke.prototype=Ie,ke.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function _me(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function NB(t,e){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}function U0(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,r=t[0].length;for(let o=0;o<n;o++)for(let i=0;i<r;i++)e[i]||(e[i]=[]),e[i][o]=t[o][i];return e}function fo(t,e,n,r){let o=-1,i=t,s=n;Array.isArray(t)||(i=Array.from(t));const a=i.length;for(r&&a&&(o+=1,s=i[o]),o+=1;o<a;)s=e(s,i[o],o,i),o+=1;return s}function os(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length,i=[];let s=-1;for(;n<o;){const a=r[n];e(a,n,r)&&(s+=1,i[s]=a),n+=1}return i}function Pt(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length,i=[];let s=-1;for(;n<o;){const a=r[n];s+=1,i[s]=e(a,n,r),n+=1}return i}function F(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length;for(;n<o&&e(r[n],n,r)!==!1;)n+=1;return t}function DB(t){const e=[];return F(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function LB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...o]=[...e];let i=r;return F(o,s=>{i=i.filter(a=>!s.includes(a))}),i}function jB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fo(t,(o,i,s)=>{const a=i.replace(/\r?\n\s*/g,""),l=n[s]?n[s]:"";return o+a+l},"").trim()}function fr(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function Be(t){return typeof t<"u"}function Tn(t){return typeof t>"u"}function Tr(t){return t===null||t===""||Tn(t)}function Ome(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const qp="length",Kp=t=>parseInt(t,16),FB=t=>parseInt(t,10),z0=(t,e,n)=>t.substr(e,n),Qp=t=>t.codePointAt(0)-65,wM=t=>`${t}`.replace(/\-/g,""),Ame=t=>Kp(z0(wM(t),Kp("12"),Qp("F")))/(Kp(z0(wM(t),Qp("B"),~~![][qp]))||9),Pme=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let WB=!1;const VB={invalid:()=>un`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return un`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>un`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},BB={invalid:()=>un`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return un`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>un`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function Ime(t,e){const n=!Tr(t),r=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",o="14.1.0";let i,s="invalid",a="invalid";t=wM(t||"");const l=Hme(t);if(n||r||l)if(l){const u=ke("16/01/2024","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),h=Ame(t);i=ke((h+1)*864e5,"x").format("MMMM DD, YYYY"),c>h?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(Pme()&&(s="valid",a="valid"),!WB&&s!=="valid"&&(VB[s]({keyValidityDate:i,hotVersion:o})&&console[s==="non_commercial"?"info":"warn"](VB[s]({keyValidityDate:i,hotVersion:o})),WB=!0),a!=="valid"&&e.parentNode&&BB[a]({keyValidityDate:i,hotVersion:o})){const u=document.createElement("div");u.className="hot-display-license-info",u.innerHTML=BB[a]({keyValidityDate:i,hotVersion:o}),e.parentNode.insertBefore(u,e.nextSibling)}}function Hme(t){let e=[][qp],n=e;if(t[qp]!==Qp("Z"))return!1;for(let r="",o="B<H4P+".split(""),i=Qp(o.shift());i;i=Qp(o.shift()||"A"))--i<""[qp]?n=n|(FB(`${FB(Kp(r)+(Kp(z0(t,Math.abs(i),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=z0(t,i,i?o[qp]===1?9:8:6);return n===e}function Ws(t){return t[0].toUpperCase()+t.substr(1)}function UB(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function zB(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function $B(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,r)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[r]===void 0?"":e[r])}function GB(t){return vM(`${t}`,{ALLOWED_TAGS:[]})}function vM(t,e){return Mhe.sanitize(t,e)}const jf=t=>["tabindex",t],Nme=()=>["role","treegrid"],_a=()=>["role","presentation"],Dme=()=>["role","gridcell"],Lme=()=>["role","rowheader"],YB=()=>["role","rowgroup"],jme=()=>["role","columnheader"],yM=()=>["role","row"],Fme=()=>["role","menu"],Wme=()=>["role","menuitem"],Vme=()=>["role","combobox"],qB=()=>["role","listbox"],Bme=()=>["role","option"],Ume=()=>["role","checkbox"],zme=()=>["scope","col"],$me=()=>["scope","row"],Gme=()=>["type","text"],bM=t=>["aria-label",t],Ll=()=>["aria-hidden","true"],Yme=()=>["aria-disabled","true"],qme=()=>["aria-multiselectable","true"],KB=t=>["aria-haspopup",t],QB=t=>["aria-rowcount",t],$0=t=>["aria-colcount",t],XB=t=>["aria-rowindex",t],CM=t=>["aria-colindex",t],is=t=>["aria-expanded",t],Kme=t=>["aria-sort",t],JB=()=>["aria-readonly","true"],ZB=()=>["aria-invalid","true"],Qme=t=>["aria-checked",t],SM=()=>["aria-selected","true"],Xme=()=>["aria-autocomplete","list"],Jme=t=>["aria-controls",t],Zme=t=>["aria-activedescendant",t],epe=t=>["aria-live",t],tpe=t=>["aria-relevant",t],npe=t=>["aria-setsize",t],rpe=t=>["aria-posinset",t];function ope(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=null,o=t;for(;o!==null;){if(n===e){r=o;break}o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:(n+=1,o=o.parentNode)}return r}function ipe(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function spe(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function G0(t){return spe(t)&&t.parent}function xh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:o}=Node;let i=t;for(;i!=null&&i!==n;){const{nodeType:s,nodeName:a}=i;if(s===r&&(e.includes(a)||e.includes(i)))return i;const{host:l}=i;l&&s===o?i=l:i=i.parentNode}return null}function Y0(t,e,n){const r=[];let o=t;for(;o&&(o=xh(o,e,n),!(!o||n&&!n.contains(o)));)r.push(o),o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:o=o.parentNode;const i=r.length;return i?r[i-1]:null}function Rh(t,e){let n=t.parentNode,r=[];for(typeof e=="string"?t.defaultView?r=Array.prototype.slice.call(t.querySelectorAll(e),0):r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);n!==null;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function ape(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function kh(t,e,n){const r=n.parentElement.querySelector(`.ht_clone_${t}`);return r?r.contains(e):null}function eU(t){return!t||!t.length?[]:t.filter(e=>!!e)}function tU(t,e){if(!t||!t.length)return e?{regexFree:[],regexes:[]}:[];const n=[],r=[];return r.push(...t.filter(o=>{const i=o instanceof RegExp;return i&&e&&n.push(o),!i})),e?{regexFree:r,regexes:n}:r}function yt(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function _e(t,e){typeof e=="string"&&(e=e.split(" ")),e=eU(e),e.length>0&&t.classList.add(...e)}function Rt(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:r}=tU(e,!0);n=eU(n),n.length>0&&t.classList.remove(...n),r.forEach(o=>{t.classList.forEach(i=>{o.test(i)&&t.classList.remove(i)})})}function dt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(r=>{Array.isArray(r)&&r[0]!==""&&t.setAttribute(...r)})}function Ff(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:r}=tU(e,!0);n.forEach(o=>{o!==""&&t.removeAttribute(o)}),r.forEach(o=>{t.getAttributeNames().forEach(i=>{o.test(i)&&t.removeAttribute(i)})})}function nU(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)nU(e[n])}}function Oa(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const lpe=/(<(.*)>|&(.*);)/;function Wf(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;lpe.test(e)?t.innerHTML=n?vM(e):e:Eh(t,e)}function Eh(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(Oa(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function Th(t){const e=t.ownerDocument.documentElement;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return Th(n.host.impl);if(n.host)return Th(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(ec(n).display==="none")return!1;n=n.parentNode}return!0}function Dr(t){const e=t.ownerDocument,n=e.defaultView,r=e.documentElement;let o=t,i,s,a;for(i=o.offsetLeft,s=o.offsetTop,a=o;(o=o.offsetParent)&&!(o===e.body||!("offsetLeft"in o));)i+=o.offsetLeft,s+=o.offsetTop,a=o;return a&&a.style.position==="fixed"&&(i+=n.pageXOffset||r.scrollLeft,s+=n.pageYOffset||r.scrollTop),{left:i,top:s}}function rU(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function xM(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function RM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?rU(e):t.scrollTop}function oU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?xM(e):t.scrollLeft}function q0(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const r=["auto","scroll"];let o=t.parentNode;for(;o&&o.style&&e.body!==o;){let{overflow:i,overflowX:s,overflowY:a}=o.style;if([i,s,a].includes("scroll")||({overflow:i,overflowX:s,overflowY:a}=n.getComputedStyle(o),r.includes(i)||r.includes(s)||r.includes(a)||o.clientHeight<=o.scrollHeight+1&&(r.includes(a)||r.includes(i))||o.clientWidth<=o.scrollWidth+1&&(r.includes(s)||r.includes(i))))return o;o=o.parentNode}return n}function Vf(t){const e=t.ownerDocument,n=e.defaultView;let r=t.parentNode;for(;r&&r.style&&e.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;const o=ec(r,n),i=["scroll","hidden","auto"],s=o.getPropertyValue("overflow"),a=o.getPropertyValue("overflow-y"),l=o.getPropertyValue("overflow-x");if(i.includes(s)||i.includes(a)||i.includes(l))return r;r=r.parentNode}return n}function Xp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const r=t.style[e];if(r!==""&&r!==void 0)return r;const o=ec(t,n);if(o[e]!==""&&o[e]!==void 0)return o[e]}function ec(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function pn(t){return t.offsetWidth}function Kn(t){return t.offsetHeight}function Bf(t){return t.clientHeight||t.innerHeight}function iU(t){return t.clientWidth||t.innerWidth}function sU(t){return t.selectionStart?t.selectionStart:0}function upe(t){return t.selectionEnd?t.selectionEnd:0}function aU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function K0(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const r=t.parentNode,o=r.style.display;r.style.display="block",t.setSelectionRange(e,n),r.style.display=o}}}let kM;function cpe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;return r===o&&(o=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-o}function Lr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return kM===void 0&&(kM=cpe(t)),kM}function hpe(t){return t.offsetWidth!==t.clientWidth}function dpe(t){return t.offsetHeight!==t.clientHeight}function EM(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function Q0(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function X0(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function lU(t){return X0(t)&&t.hasAttribute("data-hot-input")===!1}function uU(t){return!t.parentNode}function fpe(t,e){new IntersectionObserver((n,r)=>{n.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),r.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function cU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=t.ownerDocument,o=r.createRange(),i=r.defaultView.getSelection();dt(t,"contenteditable",!0),n&&dt(t,...Ll()),e&&_e(t,"invisibleSelection"),o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o)}function hU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&Rt(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function gpe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;cU(t,n),e(),hU(t,n)}function Mn(t){return typeof t=="function"}function TM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,r;function o(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{r=t.apply(this,s)},e),r}return o}function dU(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t.apply(this,n.concat(i))}}function mpe(t){const e=t.length;function n(r){return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const a=r.concat(i);let l;return a.length>=e?l=t.apply(this,a):l=n(a),l}}return n([])}function MM(t,e,n,r,o,i,s,a){return Be(a)?t.call(e,n,r,o,i,s,a):Be(s)?t.call(e,n,r,o,i,s):Be(i)?t.call(e,n,r,o,i):Be(o)?t.call(e,n,r,o):Be(r)?t.call(e,n,r):Be(n)?t.call(e,n):t.call(e)}var ppe=Eo,fU=$2,wpe=lo,gU=Ef,vpe=tV,mU=ppe([].push),ype=function(t){if(wpe(t))return t;if(fU(t)){for(var e=t.length,n=[],r=0;r<e;r++){var o=t[r];typeof o=="string"?mU(n,o):(typeof o=="number"||gU(o)==="Number"||gU(o)==="String")&&mU(n,vpe(o))}var i=n.length,s=!0;return function(a,l){if(s)return s=!1,l;if(fU(this))return l;for(var u=0;u<i;u++)if(n[u]===a)return l}}},bpe=Ku,pU=_p,wU=d0,Cpe=mh,Jp=Eo,vU=Zi,yU=lo,bU=qE,CU=ST,Spe=ype,xpe=YE,Rpe=String,tc=pU("JSON","stringify"),J0=Jp(/./.exec),SU=Jp("".charAt),kpe=Jp("".charCodeAt),Epe=Jp("".replace),Tpe=Jp(1 .toString),Mpe=/[\uD800-\uDFFF]/g,xU=/^[\uD800-\uDBFF]$/,RU=/^[\uDC00-\uDFFF]$/,kU=!xpe||vU(function(){var t=pU("Symbol")("stringify detection");return tc([t])!=="[null]"||tc({a:t})!=="{}"||tc(Object(t))!=="{}"}),EU=vU(function(){return tc("\uDF06\uD834")!=='"\\udf06\\ud834"'||tc("\uDEAD")!=='"\\udead"'}),_pe=function(t,e){var n=CU(arguments),r=Spe(e);if(!(!yU(r)&&(t===void 0||bU(t))))return n[1]=function(o,i){if(yU(r)&&(i=Cpe(r,this,Rpe(o),i)),!bU(i))return i},wU(tc,null,n)},Ope=function(t,e,n){var r=SU(n,e-1),o=SU(n,e+1);return J0(xU,t)&&!J0(RU,o)||J0(RU,t)&&!J0(xU,r)?"\\u"+Tpe(kpe(t,0),16):t};tc&&bpe({target:"JSON",stat:!0,arity:3,forced:kU||EU},{stringify:function(t,e,n){var r=CU(arguments),o=wU(kU?_pe:tc,null,r);return EU&&typeof o=="string"?Epe(o,Mpe,Ope):o}});function Zp(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},It(t,(n,r)=>{r!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[r]=Zp(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[r]=[Zp(n[0])]:e[r]=[]:e[r]=null)})),e}function nc(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function yr(t,e,n){const r=Array.isArray(n);return It(e,(o,i)=>{(r===!1||n.includes(i))&&(t[i]=o)}),t}function Z0(t,e){It(e,(n,r)=>{e[r]&&typeof e[r]=="object"?(t[r]||(Array.isArray(e[r])?t[r]=[]:Object.prototype.toString.call(e[r])==="[object Date]"?t[r]=e[r]:t[r]={}),Z0(t[r],e[r])):t[r]=e[r]})}function _o(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Xo(t){const e={};return It(t,(n,r)=>{e[r]=n}),e}function bn(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return F(n,o=>{t.MIXINS.push(o.MIXIN_NAME),It(o,(i,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof i=="function")t.prototype[s]=i;else{const a=function(u,c){const h=`_${u}`,d=g=>{let p=g;return(Array.isArray(p)||Ot(p))&&(p=_o(p)),p};return function(){return this[h]===void 0&&(this[h]=d(c)),this[h]}},l=function(u){const c=`_${u}`;return function(h){this[c]=h}};Object.defineProperty(t.prototype,s,{get:a(s,i),set:l(s),configurable:!0})}})}),t}function _M(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Ot(t){return Object.prototype.toString.call(t)==="[object Object]"}function jl(t,e,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(t,e,r)}function It(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function Ape(t,e){const n=e.split(".");let r=t;return It(n,o=>{if(r=r[o],r===void 0)return r=void 0,!1}),r}function OM(t,e,n){const r=e.split(".");let o=t;r.forEach((i,s)=>{s!==r.length-1?(Qn(o,i)||(o[i]={}),o=o[i]):o[i]=n})}function AM(t){if(!Ot(t))return 0;const e=function(n){let r=0;return Ot(n)?It(n,(o,i)=>{i!=="__children"&&(r+=e(o))}):r+=1,r};return e(t)}function Aa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,r={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(r,e,{get(){return this[n]},set(o){this._touched=!0,this[n]=o},enumerable:!0,configurable:!0}),r}function Qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PM(t){return window.requestAnimationFrame(t)}function eC(t){window.cancelAnimationFrame(t)}function TU(){return"ontouchstart"in window}function Ppe(){return typeof window<"u"}let ew;function Ipe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ew||(typeof Intl=="object"?ew=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?ew=(n,r)=>`${n}`.localeCompare(r):ew=(n,r)=>n===r?0:n>r?-1:1,ew)}const ss=t=>{const e={value:!1};return e.test=(n,r)=>{e.value=t(n,r)},e},rc={chrome:ss((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:ss(t=>/CriOS/.test(t)),edge:ss(t=>/Edge/.test(t)),edgeWebKit:ss(t=>/EdgiOS/.test(t)),firefox:ss(t=>/Firefox/.test(t)),firefoxWebKit:ss(t=>/FxiOS/.test(t)),mobile:ss(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:ss((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},tw={mac:ss(t=>/^Mac/.test(t)),win:ss(t=>/^Win/.test(t)),linux:ss(t=>/^Linux/.test(t)),ios:ss(t=>/iPhone|iPad|iPod/i.test(t))};function Hpe(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(rc,n=>{let{test:r}=n;return void r(t,e)})}function Npe(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(tw,e=>{let{test:n}=e;return void n(t)})}Ppe()&&(Hpe(),Npe());function MU(){return rc.chrome.value}function Dpe(){return rc.chromeWebKit.value}function IM(){return rc.firefox.value}function Lpe(){return rc.firefoxWebKit.value}function _U(){return rc.safari.value}function jpe(){return rc.edge.value}function oc(){return rc.mobile.value}function OU(){return tw.ios.value}function AU(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&tw.mac.value}function PU(){return tw.win.value}function HM(){return tw.mac.value}const rt={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:IM()?182:174,AUDIO_MUTE:IM()?181:173,AUDIO_UP:IM()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},Fpe=[rt.ALT,rt.ARROW_DOWN,rt.ARROW_LEFT,rt.ARROW_RIGHT,rt.ARROW_UP,rt.AUDIO_DOWN,rt.AUDIO_MUTE,rt.AUDIO_UP,rt.BACKSPACE,rt.CAPS_LOCK,rt.DELETE,rt.END,rt.ENTER,rt.ESCAPE,rt.F1,rt.F2,rt.F3,rt.F4,rt.F5,rt.F6,rt.F7,rt.F8,rt.F9,rt.F10,rt.F11,rt.F12,rt.F13,rt.F14,rt.F15,rt.F16,rt.F17,rt.F18,rt.F19,rt.HOME,rt.INSERT,rt.MEDIA_NEXT,rt.MEDIA_PLAY_PAUSE,rt.MEDIA_PREV,rt.MEDIA_STOP,rt.NULL,rt.NUM_LOCK,rt.PAGE_DOWN,rt.PAGE_UP,rt.PAUSE,rt.SCROLL_LOCK,rt.SHIFT,rt.TAB];function Wpe(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function IU(t){return Fpe.includes(t)}function Vpe(t){return[rt.CONTROL,rt.COMMAND_LEFT,rt.COMMAND_RIGHT,rt.COMMAND_FIREFOX].includes(t)}function nw(t,e){const n=e.split("|");let r=!1;return F(n,o=>{if(t===rt[o])return r=!0,!1}),r}function Vs(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function Mh(t){return t.isImmediatePropagationEnabled===!1}function _h(t){return t.button===2}function NM(t){return t.button===0}function Bpe(t,e){const n={x:t.offsetX,y:t.offsetY};let r=t.target;if(!(e instanceof HTMLElement)||r!==e&&r.contains(e))return n;for(;r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}function wn(){Be(console)&&console.warn(...arguments)}function DM(){Be(console)&&console.error(...arguments)}function Upe(t,e,n){return e=zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zpe(t){var e=$pe(t,"string");return typeof e=="symbol"?e:String(e)}function $pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Uf=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],Gpe=un`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,LM=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),jM=new Map([[]]);class $e{static getSingleton(){return qpe()}constructor(){Upe(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return F(Uf,n=>e[n]=[]),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(Array.isArray(n))F(n,o=>this.add(e,o,r));else{LM.has(e)&&wn($B(Gpe,{hookName:e,removedInVersion:LM.get(e)})),jM.has(e)&&wn(jM.get(e));const o=this.getBucket(r);if(typeof o[e]>"u"&&(this.register(e),o[e]=[]),n.skip=!1,o[e].indexOf(n)===-1){let i=!1;n.initialHook&&F(o[e],(s,a)=>{if(s.initialHook)return o[e][a]=n,i=!0,!1}),i||o[e].push(n)}}return this}once(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Array.isArray(n)?F(n,o=>this.once(e,o,r)):(n.runOnce=!0,this.add(e,n,r))}remove(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const o=this.getBucket(r);return typeof o[e]<"u"&&o[e].indexOf(n)>=0?(n.skip=!0,!0):!1}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=this.getBucket(n);return!!(r[e]!==void 0&&r[e].length)}run(e,n,r,o,i,s,a,l){{const u=this.globalBucket[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=MM(u[h],e,r,o,i,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h]),h+=1}}{const u=this.getBucket(e)[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=MM(u[h],e,r,o,i,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h],e),h+=1}}return r}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;It(this.getBucket(e),(n,r,o)=>o[r].length=0)}register(e){this.isRegistered(e)||Uf.push(e)}deregister(e){this.isRegistered(e)&&Uf.splice(Uf.indexOf(e),1)}isDeprecated(e){return jM.has(e)||LM.has(e)}isRegistered(e){return Uf.indexOf(e)>=0}getRegistered(){return Uf}}const Ype=new $e;function qpe(){return Ype}const FM=new Map;function Bs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";FM.has(t)||FM.set(t,new Map);const e=FM.get(t);function n(a,l){e.set(a,l)}function r(a){return e.get(a)}function o(a){return e.has(a)}function i(){return[...e.keys()]}function s(){return[...e.values()]}return{register:n,getItem:r,hasItem:o,getNames:i,getValues:s}}const WM=new WeakMap,{register:Kpe,getItem:HU,hasItem:NU,getNames:MWe,getValues:_We}=Bs("editors");function Qpe(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new n(r)),e[r.guid]},$e.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function DU(t,e){let n;if(typeof t=="function")WM.get(t)||ki(null,t),n=WM.get(t);else if(typeof t=="string")n=HU(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function LU(t){if(typeof t=="function")return t;if(!NU(t))throw Error(`No registered editor found under "${t}" name`);return HU(t).getConstructor()}function ki(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new Qpe(e);typeof t=="string"&&Kpe(t,n),WM.set(e,n)}function Xpe(t,e,n){return e=Jpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=Zpe(t,"string");return typeof e=="symbol"?e:String(e)}function Zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Us{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Xpe(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function i(s){r.call(this,ewe(s))}return this.context.eventListeners.push({element:e,event:n,callback:r,callbackProxy:i,options:o,eventManager:this}),e.addEventListener(n,i,o),()=>{this.removeEventListener(e,n,r)}}removeEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=this.context.eventListeners.length,s;for(;i;)if(i-=1,s=this.context.eventListeners[i],s.event===n&&s.element===e){if(r&&r!==s.callback||o&&s.eventManager!==this)continue;this.context.eventListeners.splice(i,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const r=this.context.eventListeners[n];e&&r.eventManager!==this||(this.context.eventListeners.splice(n,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let r=e.document,o=e;r||(r=e.ownerDocument?e.ownerDocument:e,o=r.defaultView);const i={bubbles:!0,cancelable:n!=="mousemove",view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let s;r.createEvent?(s=r.createEvent("MouseEvents"),s.initMouseEvent(n,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,r.body.parentNode)):s=r.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${n}`,s)}}function ewe(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),Vs(this)},t}function jU(t,e){twe(t,e),e.add(t)}function twe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ic(t,e,n){return e=nwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nwe(t){var e=rwe(t,"string");return typeof e=="symbol"?e:String(e)}function rwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FU(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const tC="editorManager.navigation";var WU=new WeakSet,VU=new WeakSet;class VM{constructor(e,n,r){jU(this,VU),jU(this,WU),ic(this,"hot",void 0),ic(this,"tableMeta",void 0),ic(this,"selection",void 0),ic(this,"eventManager",void 0),ic(this,"destroyed",!1),ic(this,"lock",!1),ic(this,"activeEditor",void 0),ic(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=r,this.eventManager=new Us(e),this.hot.addHook("afterDocumentKeyDown",o=>FU(this,WU,owe).call(this,o)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",o=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",o)}),this.hot.view._wt.update("onCellDblClick",(o,i,s)=>FU(this,VU,iwe).call(this,o,i,s))}lockEditor(){this.lock=!0}unlockEditor(){this.lock=!1}destroyEditor(e){this.lock||this.closeEditor(e)}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.lock)return;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,u=>{u&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:r,col:o}=n,i=this.hot.runHooks("modifyGetCellCoords",r,o);let s=r,a=o;if(Array.isArray(i)&&([s,a]=i),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(r,o,!0);if(l){const u=this.hot.getCellEditor(this.cellProperties),c=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=DU(u,this.hot),this.activeEditor.prepare(r,o,c,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(r&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,r){this.activeEditor?this.activeEditor.finishEditing(e,n,r):r&&r(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:r,col:o}=e.highlight,{rowIndexMapper:i,columnIndexMapper:s}=this.hot,a=i.isHidden(this.hot.toPhysicalRow(r))||s.isHidden(this.hot.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n=typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;e?this.selection.transformStart(-n.row,-n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function owe(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||Mh(t))return;const{keyCode:n}=t,r=(t.ctrlKey||t.metaKey)&&!t.altKey;if((!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!IU(n)&&!Vpe(n)&&!r&&!this.isEditorOpened()){const o=this.hot.getShortcutManager().getContext("editor"),i={runOnlyIf:()=>Be(this.hot.getSelected()),group:tC};o.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],i),this.openEditor("",t)}}function iwe(t,e,n){n.nodeName==="TD"&&this.openEditor(null,t,!0)}const BU=new WeakMap;VM.getInstance=function(t,e,n){let r=BU.get(t);return r||(r=new VM(t,e,n),BU.set(t,r)),r};function nC(t,e){UU(t,e),e.add(t)}function rw(t,e,n){UU(t,e),e.set(t,n)}function UU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zf(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Xn(t,e){var n=zU(t,e,"get");return swe(t,n)}function swe(t,e){return e.get?e.get.call(t):e.value}function ow(t,e,n){var r=zU(t,e,"set");return awe(t,r,n),n}function zU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function awe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const sc=Object.freeze({CELL:"cell",MIXED:"mixed"});var Kr=new WeakMap,rC=new WeakMap,oC=new WeakMap,iC=new WeakMap,sC=new WeakMap,aC=new WeakSet,$U=new WeakSet,GU=new WeakSet,YU=new WeakSet;class lwe{constructor(e){var n=this;nC(this,YU),nC(this,GU),nC(this,$U),nC(this,aC),rw(this,Kr,{writable:!0,value:void 0}),rw(this,rC,{writable:!0,value:void 0}),rw(this,oC,{writable:!0,value:50}),rw(this,iC,{writable:!0,value:null}),rw(this,sC,{writable:!0,value:new Map});const r=e.getSettings();ow(this,Kr,e),ow(this,rC,r.imeFastEdit?sc.MIXED:sc.CELL),Xn(this,Kr).addHook("afterUpdateSettings",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return zf(n,YU,hwe).call(n,...i)}),Xn(this,Kr).addHook("afterSelection",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return zf(n,$U,uwe).call(n,...i)}),Xn(this,Kr).addHook("afterSelectionEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return zf(n,GU,cwe).call(n,...i)})}getFocusMode(){return Xn(this,rC)}setFocusMode(e){Object.values(sc).includes(e)?ow(this,rC,e):wn(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return Xn(this,oC)}setRefocusDelay(e){ow(this,oC,e)}setRefocusElementGetter(e){ow(this,iC,e)}getRefocusElement(){if(typeof Xn(this,iC)=="function")return Xn(this,iC).call(this);var e;return(e=Xn(this,Kr).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=r=>{var o,i;const s=(o=Xn(this,Kr).getSelectedRangeLast())===null||o===void 0?void 0:o.highlight;if(!s)return;let a=Xn(this,Kr).runHooks("modifyFocusedElement",s.row,s.col,r);a instanceof HTMLElement||(a=r),a&&!((i=Xn(this,Kr).getActiveEditor())!==null&&i!==void 0&&i.isOpened())&&a.focus({preventScroll:!0})};e?n(e):zf(this,aC,BM).call(this,r=>n(r))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xn(this,oC);const r=this.getRefocusElement();Xn(this,Kr).getSettings().imeFastEdit&&!((e=Xn(this,Kr).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&r&&(Xn(this,sC).has(n)||Xn(this,sC).set(n,TM(()=>{r.select()},n)),Xn(this,sC).get(n)())}}function BM(t){var e;const n=(e=Xn(this,Kr).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!Xn(this,Kr).selection.isCellVisible(n)){t(null);return}const r=Xn(this,Kr).getCell(n.row,n.col,!0);r===null?Xn(this,Kr).addHookOnce("afterScroll",()=>{t(Xn(this,Kr).getCell(n.row,n.col,!0))}):t(r)}function uwe(){zf(this,aC,BM).call(this,t=>{const{activeElement:e}=Xn(this,Kr).rootDocument;e&&lU(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function cwe(){zf(this,aC,BM).call(this,t=>{this.getFocusMode()===sc.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function hwe(t){t.imeFastEdit&&this.getFocusMode()!==sc.MIXED?this.setFocusMode(sc.MIXED):!t.imeFastEdit&&this.getFocusMode()!==sc.CELL&&this.setFocusMode(sc.CELL)}const qU={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},dwe=new RegExp(Object.keys(qU).map(t=>`(${t})`).join("|"),"gi");function fwe(t){return(t&&t.nodeName||"")==="TABLE"}function KU(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),r=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],o=t.getData(...r),i=o.length,s=i>0?o[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,h=e?1:0;for(let d=0;d<i;d+=1){const g=e&&d===0,p=[];for(let C=0;C<s;C+=1){const w=!g&&n&&C===0;let y="";if(g)y=`<th>${t.getColHeader(C-c)}</th>`;else if(w)y=`<th>${t.getRowHeader(d-h)}</th>`;else{const x=o[d][C],{hidden:T,rowspan:_,colspan:E}=t.getCellMeta(d-h,C-c);if(!T){const O=[];if(_&&O.push(`rowspan="${_}"`),E&&O.push(`colspan="${E}"`),Tr(x))y=`<td ${O.join(" ")}></td>`;else{const N=x.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");y=`<td ${O.join(" ")}>${N}</td>`}}}p.push(y)}const v=["<tr>",...p,"</tr>"].join("");g?l.splice(1,0,v):u.splice(-1,0,v)}return a.splice(1,0,l.join(""),u.join("")),a.join("")}function QU(t){const e=t.length,n=["<table>"];for(let r=0;r<e;r+=1){const o=t[r],i=o.length,s=[];r===0&&n.push("<tbody>");for(let a=0;a<i;a+=1){const l=o[a],u=Tr(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,c=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(c.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${u}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function gwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},r=e.createDocumentFragment(),o=e.createElement("div");r.appendChild(o);let i=t;if(typeof i=="string"){const x=i.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,T=>{const _=T.match(/<td\b[^>]*?>/g)[0],E=T.substring(_.length,T.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return`${_}${E}</td>`});o.insertAdjacentHTML("afterbegin",`${x}`),i=o.querySelector("table")}if(!i||!fwe(i))return;const s=o.querySelector('meta[name$="enerator"]'),a=i.querySelector("tbody th")!==null,l=i.querySelector("tr"),u=l?Array.from(l.cells).reduce((x,T)=>x+T.colSpan,0)-(a?1:0):0,c=i.tFoot&&Array.from(i.tFoot.rows)||[],h=[];let d=!1,g=0,p=0;if(i.tHead){const x=Array.from(i.tHead.rows).filter(T=>{const _=T.querySelector("td")!==null;return _&&h.push(T),!_});g=x.length,d=g>0,g>1?n.nestedHeaders=Array.from(x).reduce((T,_)=>{const E=Array.from(_.cells).reduce((O,N,H)=>{if(a&&H===0)return O;const{colSpan:L,innerHTML:G}=N,ue=L>1?{label:G,colspan:L}:G;return O.push(ue),O},[]);return T.push(E),T},[]):d&&(n.colHeaders=Array.from(x[0].children).reduce((T,_,E)=>(a&&E===0||T.push(_.innerHTML),T),[]))}h.length&&(n.fixedRowsTop=h.length),c.length&&(n.fixedRowsBottom=c.length);const v=[...h,...Array.from(i.tBodies).reduce((x,T)=>(x.push(...Array.from(T.rows)),x),[]),...c];p=v.length;const C=new Array(p);for(let x=0;x<p;x++)C[x]=new Array(u);const w=[],y=[];for(let x=0;x<p;x++){const T=v[x],_=Array.from(T.cells),E=_.length;for(let O=0;O<E;O++){const N=_[O],{nodeName:H,innerHTML:L,rowSpan:G,colSpan:ue}=N,B=C[x].findIndex(he=>he===void 0);if(H==="TD"){if(G>1||ue>1){for(let Me=x;Me<x+G;Me++)if(Me<p)for(let ye=B;ye<B+ue;ye++)C[Me][ye]=null;const Ee=N.getAttribute("style");Ee&&Ee.includes("mso-ignore:colspan")||w.push({col:B,row:x,rowspan:G,colspan:ue})}let he="";s&&/excel/gi.test(s.content)?he=L.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):he=L.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),C[x][B]=he.replace(dwe,Ee=>qU[Ee])}else y.push(L)}}return w.length&&(n.mergeCells=w),y.length&&(n.rowHeaders=y),C.length&&(n.data=C),n}function Jo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const r=Array.from(new Set([".",...e])).map(o=>`\\${o}`).join("|");return new RegExp(`^[+-]?\\s*(((${r})?\\d+((${r})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function mwe(t){return Jo(t,[","])}function Je(t,e,n){let r=-1;for(typeof e=="function"?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function UM(t,e,n){let r=t+1;for(typeof e=="function"&&(n=e,e=0);--r>=e&&n(r)!==!1;);}function XU(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function Ei(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}const zM="asc",pwe="desc",JU=new Map([[zM,[-1,1]],[pwe,[1,-1]]]),wwe=t=>`The priority '${t}' is already declared in a map.`,vwe=t=>`The priority '${t}' is not a number.`;function ywe(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=Mn(t)?t:wwe,e=Mn(e)?e:vwe;function r(i,s){if(!Jo(i))throw new Error(e(i));if(n.has(i))throw new Error(t(i));n.set(i,s)}function o(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zM;const[s,a]=JU.get(i)||JU.get(zM);return[...n].sort((l,u)=>l[0]<u[0]?s:a).map(l=>l[1])}return{addItem:r,getItems:o}}const bwe=t=>`The id '${t}' is already declared in a map.`;function lC(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=Mn(t)?t:bwe;function n(u,c){if(l(u))throw new Error(t(u));e.set(u,c)}function r(u){return e.delete(u)}function o(){e.clear()}function i(u){const[c]=a().find(h=>{let[d,g]=h;return u===g?d:!1})||[null];return c}function s(u){return e.get(u)}function a(){return[...e]}function l(u){return e.has(u)}return{addItem:n,clear:o,getId:i,getItem:s,getItems:a,hasItem:l,removeItem:r}}const Cwe=t=>`'${t}' value is already declared in a unique set.`;function Swe(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=Mn(t)?t:Cwe;function n(i){if(e.has(i))throw new Error(t(i));e.add(i)}function r(){return[...e]}function o(){e.clear()}return{addItem:n,clear:o,getItems:r}}const $M=t=>`There is already registered "${t}" plugin.`,xwe=t=>`There is already registered plugin on priority "${t}".`,Rwe=t=>`The priority "${t}" is not a number.`,ZU=ywe({errorPriorityExists:xwe,errorPriorityNaN:Rwe}),e3=Swe({errorItemExists:$M}),GM=lC({errorIdExists:$M});function t3(){return[...ZU.getItems(),...e3.getItems()]}function YM(t){const e=Ws(t);return GM.getItem(e)}function kwe(t){return!!YM(t)}function Jt(t,e,n){[t,e,n]=Twe(t,e,n),YM(t)===void 0&&Ewe(t,e,n)}function Ewe(t,e,n){const r=Ws(t);if(GM.hasItem(r))throw new Error($M(r));n===void 0?e3.addItem(r):ZU.addItem(n,r),GM.addItem(r,e)}function Twe(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}const{register:Mwe,getItem:_we,hasItem:n3,getNames:OWe,getValues:AWe}=Bs("renderers");function r3(t){if(typeof t=="function")return t;if(!n3(t))throw Error(`No registered renderer found under "${t}" name`);return _we(t)}function as(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),Mwe(t,e)}const{register:Owe,getItem:Awe,hasItem:o3,getNames:PWe,getValues:IWe}=Bs("validators");function Pwe(t){if(typeof t=="function")return t;if(!o3(t))throw Error(`No registered validator found under "${t}" name`);return Awe(t)}function $f(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),Owe(t,e)}function uC(t,e,n){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iwe(t){var e=Hwe(t,"string");return typeof e=="symbol"?e:String(e)}function Hwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nwe{constructor(e){uC(this,"count",0),uC(this,"startColumn",0),uC(this,"endColumn",0),uC(this,"startPosition",0),this.count=e.totalColumns,this.endColumn=this.count-1}}function cC(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=Lwe(t,"string");return typeof e=="symbol"?e:String(e)}function Lwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jwe{constructor(e){cC(this,"count",0),cC(this,"startRow",0),cC(this,"endRow",0),cC(this,"startPosition",0),this.count=e.totalRows,this.endRow=this.count-1}}var i3={},Fwe=V2,Wwe=yT,Vwe=Object.keys||function(t){return Fwe(t,Wwe)},Bwe=As,Uwe=T2,zwe=Yu,$we=qu,Gwe=t0,Ywe=Vwe;i3.f=Bwe&&!Uwe?Object.defineProperties:function(t,e){$we(t);for(var n=Gwe(e),r=Ywe(e),o=r.length,i=0,s;o>i;)zwe.f(t,s=r[i++],n[s]);return t};var qwe=qu,Kwe=i3,s3=yT,Qwe=hT,Xwe=mV,Jwe=rT,Zwe=I2,a3=">",l3="<",qM="prototype",KM="script",u3=Zwe("IE_PROTO"),QM=function(){},c3=function(t){return l3+KM+a3+t+l3+"/"+KM+a3},h3=function(t){t.write(c3("")),t.close();var e=t.parentWindow.Object;return t=null,e},eve=function(){var t=Jwe("iframe"),e="java"+KM+":",n;return t.style.display="none",Xwe.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(c3("document.F=Object")),n.close(),n.F},hC,dC=function(){try{hC=new ActiveXObject("htmlfile")}catch{}dC=typeof document<"u"?document.domain&&hC?h3(hC):eve():h3(hC);for(var t=s3.length;t--;)delete dC[qM][s3[t]];return dC()};Qwe[u3]=!0;var tve=Object.create||function(t,e){var n;return t!==null?(QM[qM]=qwe(t),n=new QM,QM[qM]=null,n[u3]=t):n=dC(),e===void 0?n:Kwe.f(n,e)},nve=Mf,rve=tve,ove=Yu.f,XM=nve("unscopables"),JM=Array.prototype;JM[XM]===void 0&&ove(JM,XM,{configurable:!0,value:rve(null)});var d3=function(t){JM[XM][t]=!0},ive=Ku,sve=i0,ave=Pp,lve=wT,uve=d3;ive({target:"Array",proto:!0},{at:function(t){var e=sve(this),n=ave(e),r=lve(t),o=r>=0?r:n+r;return o<0||o>=n?void 0:e[o]}}),uve("at");const ac=1,go=2;function cve(t,e,n){hve(t,e),e.set(t,n)}function hve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iw(t,e,n){return e=dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=fve(t,"string");return typeof e=="symbol"?e:String(e)}function fve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(t,e){var n=f3(t,e,"get");return gve(t,n)}function gve(t,e){return e.get?e.get.call(t):e.value}function mve(t,e,n){var r=f3(t,e,"set");return pve(t,r,n),n}function f3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function pve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var lc=new WeakMap;class sw{static get DEFAULT_WIDTH(){return 50}constructor(e){iw(this,"count",0),iw(this,"startColumn",null),iw(this,"endColumn",null),iw(this,"startPosition",null),iw(this,"isVisibleInTrimmingContainer",!1),cve(this,lc,{writable:!0,value:void 0}),mve(this,lc,e),this.calculate()}calculate(){const{calculationType:e,overrideFn:n,scrollOffset:r,totalColumns:o,viewportWidth:i}=Gf(this,lc),s=Math.max(Gf(this,lc).scrollOffset,0),a=s>0?i+1:i;let l=0,u=!0;const c=[];let h,d=0,g=0;for(let w=0;w<o;w++)if(h=this._getColumnWidth(w),l<=s&&e!==go&&(this.startColumn=w,d=h),l>=s&&l+(e===go?h:0)<=s+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=w,d=h),this.endColumn=w),c.push(l),l+=h,g=h,e!==go&&(this.endColumn=w),l>=s+i){u=!1;break}const p=r+i-a,v=e===go?0:g,C=e===go?d:0;if(p<-1*Gf(this,lc).inlineStartOffset||r>c.at(-1)+v||-1*Gf(this,lc).scrollOffset-Gf(this,lc).viewportWidth>-1*C?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===o-1&&u)for(this.startColumn=this.endColumn;this.startColumn>0;){const w=c[this.endColumn]+h-c[this.startColumn-1];if((w<=i||e!==go)&&(this.startColumn-=1),w>i)break}e===ac&&this.startColumn!==null&&n&&n(this),this.startPosition=c[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),o<this.endColumn&&(this.endColumn=o-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(e){let n=Gf(this,lc).columnWidthFn(e);return isNaN(n)&&(n=sw.DEFAULT_WIDTH),n}}function wve(t,e,n){vve(t,e),e.set(t,n)}function vve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aw(t,e,n){return e=yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=bve(t,"string");return typeof e=="symbol"?e:String(e)}function bve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZM(t,e){var n=g3(t,e,"get");return Cve(t,n)}function Cve(t,e){return e.get?e.get.call(t):e.value}function Sve(t,e,n){var r=g3(t,e,"set");return xve(t,r,n),n}function g3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function xve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var lw=new WeakMap;class fC{static get DEFAULT_HEIGHT(){return 23}constructor(e){aw(this,"count",0),aw(this,"startRow",null),aw(this,"endRow",null),aw(this,"startPosition",null),aw(this,"isVisibleInTrimmingContainer",!1),wve(this,lw,{writable:!0,value:void 0}),Sve(this,lw,e),this.calculate()}calculate(){const{calculationType:e,overrideFn:n,rowHeightFn:r,scrollOffset:o,totalRows:i,viewportHeight:s}=ZM(this,lw),a=Math.max(ZM(this,lw).scrollOffset,0),l=ZM(this,lw).horizontalScrollbarHeight||0;let u=0,c=!0;const h=[];let d,g=0,p=0;for(let y=0;y<i;y++)if(d=r(y),isNaN(d)&&(d=fC.DEFAULT_HEIGHT),u<=a&&e!==go&&(this.startRow=y,g=d),u>=a&&u+(e===go?d:0)<=a+s-l&&(this.startRow===null&&(this.startRow=y,g=d),this.endRow=y),h.push(u),u+=d,p=d,e!==go&&(this.endRow=y),u>=a+s-l){c=!1;break}const v=o+s-l,C=e===go?g:0,w=e===go?0:p;if(v<C||o>h.at(-1)+w?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===i-1&&c)for(this.startRow=this.endRow;this.startRow>0;){const y=h[this.endRow]+d-h[this.startRow-1];if((y<=s-l||e!==go)&&(this.startRow-=1),y>=s-l)break}e===ac&&this.startRow!==null&&n&&n(this),this.startPosition=h[this.startRow],this.startPosition===void 0&&(this.startPosition=null),i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function Rve(t,e,n){kve(t,e),e.set(t,n)}function kve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m3(t,e,n){return e=Eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eve(t){var e=Tve(t,"string");return typeof e=="symbol"?e:String(e)}function Tve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yf(t,e){var n=w3(t,e,"get");return Mve(t,n)}function Mve(t,e){return e.get?e.get.call(t):e.value}function p3(t,e,n){var r=w3(t,e,"set");return _ve(t,r,n),n}function w3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function _ve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Fl=new WeakMap;class gC{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;m3(this,"row",null),m3(this,"col",null),Rve(this,Fl,{writable:!0,value:!1}),p3(this,Fl,r),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:r,countRowHeaders:o,countColHeaders:i}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-i||this.col<-o||this.row>=n||this.col>=r)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Yf(this,Fl)}isSouthEastOf(e){return this.row>=e.row&&(Yf(this,Fl)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(Yf(this,Fl)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(Yf(this,Fl)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(Yf(this,Fl)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof gC&&p3(this,Fl,e.isRtl()),this}clone(){return new gC(this.row,this.col,Yf(this,Fl))}toObject(){return{row:this.row,col:this.col}}}const mC=gC;function Ove(t,e,n){Ave(t,e),e.set(t,n)}function Ave(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e_(t,e,n){return e=Pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=Ive(t,"string");return typeof e=="symbol"?e:String(e)}function Ive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(t,e){var n=v3(t,e,"get");return Hve(t,n)}function Hve(t,e){return e.get?e.get.call(t):e.value}function Nve(t,e,n){var r=v3(t,e,"set");return Dve(t,r,n),n}function v3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Dve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Zo=new WeakMap;class t_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e_(this,"highlight",null),e_(this,"from",null),e_(this,"to",null),Ove(this,Zo,{writable:!0,value:!1}),this.highlight=e.clone(),this.from=n.clone(),this.to=r.clone(),Nve(this,Zo,o)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:r}=e,o=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return o.row<=n&&i.row>=n&&o.col<=r&&i.col>=r}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>r.row||e.col>r.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1}expandByRange(e){if(this.includesRange(e)||!this.overlaps(e))return!1;const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),o=this.getDirection(),i=e.getOuterTopStartCorner(),s=e.getOuterBottomEndCorner(),a=Math.min(n.row,i.row),l=Math.min(n.col,i.col),u=Math.max(r.row,s.row),c=Math.max(r.col,s.col),h=this._createCellCoords(a,l),d=this._createCellCoords(u,c);return this.from=h,this.to=d,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally(),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return ls(this,Zo)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return ls(this,Zo)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return ls(this,Zo)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return ls(this,Zo)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return ls(this,Zo)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return ls(this,Zo)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return ls(this,Zo)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return ls(this,Zo)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof mC))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},o=[];return n.top===r.top&&o.push("top"),n.right===r.right&&o.push(ls(this,Zo)?"left":"right"),n.bottom===r.bottom&&o.push("bottom"),n.left===r.left&&o.push(ls(this,Zo)?"right":"left"),o}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let o=e.row;o<=n.row;o++)for(let i=e.col;i<=n.col;i++)!(this.from.row===o&&this.from.col===i)&&!(this.to.row===o&&this.to.col===i)&&r.push(this._createCellCoords(o,i));return r}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let o=e.row;o<=n.row;o++)for(let i=e.col;i<=n.col;i++)e.row===o&&e.col===i?r.push(e):n.row===o&&n.col===i?r.push(n):r.push(this._createCellCoords(o,i));return r}forAll(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();for(let o=n.row;o<=r.row;o++)for(let i=n.col;i<=r.col;i++)if(e(o,i)===!1)return}clone(){return new t_(this.highlight,this.from,this.to,ls(this,Zo))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new mC(e,n,ls(this,Zo))}}const n_=t_;function Pa(t,e,n){Lve(t,e),e.set(t,n)}function Lve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function et(t,e){var n=y3(t,e,"get");return jve(t,n)}function jve(t,e){return e.get?e.get.call(t):e.value}function uc(t,e,n){var r=y3(t,e,"set");return Fve(t,r,n),n}function y3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Fve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var us=new WeakMap,r_=new WeakMap,jr=new WeakMap,qf=new WeakMap,pC=new WeakMap,zs=new WeakMap,o_=new WeakMap,uw=new WeakMap,Oh=new WeakMap,Ia=new WeakMap;let b3=class{constructor(t,e,n,r,o,i){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Pa(this,us,{writable:!0,value:void 0}),Pa(this,r_,{writable:!0,value:void 0}),Pa(this,jr,{writable:!0,value:void 0}),Pa(this,qf,{writable:!0,value:void 0}),Pa(this,pC,{writable:!0,value:void 0}),Pa(this,zs,{writable:!0,value:void 0}),Pa(this,o_,{writable:!0,value:void 0}),Pa(this,uw,{writable:!0,value:void 0}),Pa(this,Oh,{writable:!0,value:[null,null]}),Pa(this,Ia,{writable:!0,value:[null,null]}),uc(this,us,n),uc(this,r_,e),uc(this,jr,o),uc(this,qf,i),uc(this,pC,s),uc(this,zs,r),uc(this,o_,t),this.registerEvents()}registerEvents(){et(this,zs).addEventListener(et(this,jr).holder,"contextmenu",n=>this.onContextMenu(n)),et(this,zs).addEventListener(et(this,jr).TABLE,"mouseover",n=>this.onMouseOver(n)),et(this,zs).addEventListener(et(this,jr).TABLE,"mouseout",n=>this.onMouseOut(n));const t=()=>{et(this,zs).addEventListener(et(this,jr).holder,"touchstart",n=>this.onTouchStart(n)),et(this,zs).addEventListener(et(this,jr).holder,"touchend",n=>this.onTouchEnd(n)),this.momentumScrolling||(this.momentumScrolling={}),et(this,zs).addEventListener(et(this,jr).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||et(this,us).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,et(this,us).getSetting("onAfterMomentumScroll"))},200)})},e=()=>{et(this,zs).addEventListener(et(this,jr).holder,"mouseup",n=>this.onMouseUp(n)),et(this,zs).addEventListener(et(this,jr).holder,"mousedown",n=>this.onMouseDown(n))};oc()?t():(TU()&&t(),e())}selectedCellWasTouched(t){const e=this.parentCell(t).coords;if(et(this,uw)&&e){const[n,r]=[e.row,et(this,uw).from.row],[o,i]=[e.col,et(this,uw).from.col];return n===r&&o===i}return!1}parentCell(t){const e={},n=et(this,jr).TABLE,r=Y0(t,["TD","TH"],n);return r?(e.coords=et(this,jr).getCoords(r),e.TD=r):yt(t,"wtBorder")&&yt(t,"current")?(e.coords=et(this,qf).getFocusSelection().cellRange.highlight,e.TD=et(this,jr).getCell(e.coords)):yt(t,"wtBorder")&&yt(t,"area")&&et(this,qf).getAreaSelection().cellRange&&(e.coords=et(this,qf).getAreaSelection().cellRange.to,e.TD=et(this,jr).getCell(e.coords)),e}onMouseDown(t){const e=et(this,r_).rootDocument.activeElement,n=dU(ope,t.target),r=t.target;if(!["TD","TH"].includes(e.nodeName)&&(r===e||n(0)===e||n(1)===e))return;const o=this.parentCell(r);yt(r,"corner")?et(this,us).getSetting("onCellCornerMouseDown",t,r):o.TD&&et(this,us).has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,o.coords,o.TD),(t.button===0||this.touchApplied)&&o.TD&&(et(this,Ia)[0]=o.TD,clearTimeout(et(this,Oh)[0]),et(this,Oh)[0]=setTimeout(()=>{et(this,Ia)[0]=null},1e3))}onContextMenu(t){if(et(this,us).has("onCellContextMenu")){const e=this.parentCell(t.target);e.TD&&this.callListener("onCellContextMenu",t,e.coords,e.TD)}}onMouseOver(t){if(!et(this,us).has("onCellMouseOver"))return;const e=et(this,jr).TABLE,n=Y0(t.target,["TD","TH"],e),r=et(this,pC)||this;n&&n!==r.lastMouseOver&&Rh(n,e)&&(r.lastMouseOver=n,this.callListener("onCellMouseOver",t,et(this,jr).getCoords(n),n))}onMouseOut(t){if(!et(this,us).has("onCellMouseOut"))return;const e=et(this,jr).TABLE,n=Y0(t.target,["TD","TH"],e),r=Y0(t.relatedTarget,["TD","TH"],e),o=et(this,pC)||this;n&&n!==r&&Rh(n,e)&&(this.callListener("onCellMouseOut",t,et(this,jr).getCoords(n),n),r===null&&(o.lastMouseOver=null))}onMouseUp(t){const e=this.parentCell(t.target);e.TD&&et(this,us).has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,e.coords,e.TD),!(t.button!==0&&!this.touchApplied)&&(e.TD===et(this,Ia)[0]&&e.TD===et(this,Ia)[1]?(yt(t.target,"corner")?this.callListener("onCellCornerDblClick",t,e.coords,e.TD):this.callListener("onCellDblClick",t,e.coords,e.TD),et(this,Ia)[0]=null,et(this,Ia)[1]=null):e.TD===et(this,Ia)[0]&&(et(this,Ia)[1]=e.TD,clearTimeout(et(this,Oh)[1]),et(this,Oh)[1]=setTimeout(()=>{et(this,Ia)[1]=null},500)))}onTouchStart(t){uc(this,uw,et(this,qf).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(t)}onTouchEnd(t){var e;const n=t.target,r=(e=this.parentCell(n))===null||e===void 0?void 0:e.coords,o=Be(r)&&r.row>=0&&r.col>=0;if(t.cancelable&&o&&et(this,us).getSetting("isDataViewInstance")){const i=["A","BUTTON","INPUT"];OU()&&(Dpe()||Lpe())&&this.selectedCellWasTouched(n)&&!i.includes(n.tagName)?t.preventDefault():this.selectedCellWasTouched(n)||t.preventDefault()}this.onMouseUp(t),this.touchApplied=!1}callListener(t,e,n,r){const o=et(this,us).getSettingPure(t);o&&o(e,n,r,et(this,o_).call(this))}destroy(){clearTimeout(et(this,Oh)[0]),clearTimeout(et(this,Oh)[1]),et(this,zs).destroy()}};function i_(t,e,n){return e=Wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t){var e=Vve(t,"string");return typeof e=="symbol"?e:String(e)}function Vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bve{constructor(e,n,r){i_(this,"offset",void 0),i_(this,"total",void 0),i_(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function s_(t,e,n){return e=Uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uve(t){var e=zve(t,"string");return typeof e=="symbol"?e:String(e)}function zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $ve{constructor(e,n,r){s_(this,"offset",void 0),s_(this,"total",void 0),s_(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}const Gve=0,wC=1,vC=2;function yC(t,e,n){return e=Yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=qve(t,"string");return typeof e=="symbol"?e:String(e)}function qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C3{constructor(){yC(this,"currentSize",0),yC(this,"nextSize",0),yC(this,"currentOffset",0),yC(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function a_(t,e,n){return e=Kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Qve(t,"string");return typeof e=="symbol"?e:String(e)}function Qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xve{constructor(){a_(this,"size",new C3),a_(this,"workingSpace",Gve),a_(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof C3}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=wC,e.workingSpace=vC,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=vC,e.workingSpace=wC,this.sharedSize=e.getViewSize()}}function Kf(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Zve(t,"string");return typeof e=="symbol"?e:String(e)}function Zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class S3{constructor(e,n,r){Kf(this,"rootNode",void 0),Kf(this,"nodesPool",void 0),Kf(this,"sizeSet",new Xve),Kf(this,"childNodeType",void 0),Kf(this,"visualIndex",0),Kf(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=n,this.childNodeType=r.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:n}=this;let r=0;if(this.isSharedViewSet()){let o=e.firstElementChild;for(;o;){if(o.tagName===this.childNodeType)r+=1;else if(n.isPlaceOn(wC))break;o=o.nextElementSibling}}else r=e.childElementCount;return r}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:n}=this,r=this.isSharedViewSet(),{nextSize:o}=n.getViewSize();let i=this.getRenderedChildCount();for(;i<o;){const a=this.nodesPool();!r||r&&n.isPlaceOn(vC)?e.appendChild(a):e.insertBefore(a,e.firstChild),i+=1}const s=r&&n.isPlaceOn(wC);for(;i>o;)e.removeChild(s?e.firstChild:e.lastChild),i-=1}render(){const{rootNode:e,sizeSet:n}=this;let r=this.visualIndex;this.isSharedViewSet()&&n.isPlaceOn(vC)&&(r+=n.sharedSize.nextSize);let o=e.childNodes[r];if(o.tagName!==this.childNodeType){const i=this.nodesPool();e.replaceChild(i,o),o=i}this.collectedNodes.push(o),this.visualIndex+=1}end(){}}class x3 extends S3{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function eye(t,e,n){return e=tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:String(e)}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rye{constructor(e){eye(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function cw(t,e,n){return e=oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=iye(t,"string");return typeof e=="symbol"?e:String(e)}function iye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hw{constructor(e,n){cw(this,"nodesPool",null),cw(this,"nodeType",void 0),cw(this,"rootNode",void 0),cw(this,"table",null),cw(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new rye(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function R3(t,e,n){return e=sye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sye(t){var e=aye(t,"string");return typeof e=="symbol"?e:String(e)}function aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lye extends hw{constructor(){super("TH"),R3(this,"orderViews",new WeakMap),R3(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new x3(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:r,rows:o,cells:i}=this.table;for(let s=0;s<e;s++){const a=this.table.renderedRowToSource(s),l=o.getRenderedNode(s);this.sourceRowIndex=a;const u=this.obtainOrderView(l),c=i.obtainOrderView(l);u.appendView(c).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<r;h++){u.render();const d=u.getCurrentNode();d.className="",d.removeAttribute("style"),Ff(d,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&dt(d,[Lme(),$me(),CM(h+1),jf(-1)]),n[h](a,d,h)}u.end()}}}class uye extends hw{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let r=this.rootNode.firstChild;if(e){const{columnsToRender:o}=this.table,i=o+n;for(let a=0,l=e;a<l;a++){for(r=this.rootNode.childNodes[a],r||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<i;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>i;)r.removeChild(r.lastChild),this.renderedNodes-=1}const s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Oa(r)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&dt(this.rootNode,[YB()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:r,columnsToRender:o,rowHeadersCount:i}=this.table,s=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&dt(s,[yM(),XB(n+1)]);for(let a=-1*i;a<o;a+=1){const l=this.table.renderedColumnToSource(a),u=s.childNodes[a+i];u.className="",u.removeAttribute("style"),Ff(u,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&dt(u,[CM(a+1+this.table.rowHeadersCount),jf(-1),jme(),...a>=0?[zme()]:[yM()]]),r[n](l,u,n)}}}}let k3=!1;class cye extends hw{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,r=e+n;for(;this.renderedNodes<r;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>r;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!k3&&e>1e3&&(k3=!0,wn(un`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let o=0;o<n;o++){const i=this.table.renderedColumnToSource(o),s=this.table.columnUtils.getHeaderWidth(i);this.rootNode.childNodes[o].style.width=`${s}px`}for(let o=0;o<e;o++){const i=this.table.renderedColumnToSource(o),s=this.table.columnUtils.getStretchedColumnWidth(i);this.rootNode.childNodes[o+n].style.width=`${s}px`}const r=this.rootNode.firstChild;r&&_e(r,"rowHeader")}}function hye(t,e,n){return e=dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dye(t){var e=fye(t,"string");return typeof e=="symbol"?e:String(e)}function fye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let E3=!1;class gye extends hw{constructor(e){super("TR",e),hye(this,"orderView",void 0),this.orderView=new S3(e,n=>this.nodesPool.obtain(n),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!E3&&e>1e3&&(E3=!0,wn(un`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&dt(this.rootNode,[YB()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let o=0;o<e;o++){this.orderView.render();const i=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(o);if(this.table.isAriaEnabled()){var n,r;dt(i,[yM(),XB(s+((n=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}}this.orderView.end()}}function T3(t,e,n){return e=mye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=pye(t,"string");return typeof e=="symbol"?e:String(e)}function pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wye extends hw{constructor(){super("TD"),T3(this,"orderViews",new WeakMap),T3(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new x3(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:r,rowHeaders:o}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),u=r.getRenderedNode(a);this.sourceRowIndex=l;const c=this.obtainOrderView(u),h=o.obtainOrderView(u);c.prependView(h).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let d=0;d<n;d++){c.render();const g=c.getCurrentNode(),p=this.table.renderedColumnToSource(d);if(yt(g,"hide")||(g.className=""),g.removeAttribute("style"),g.removeAttribute("dir"),Ff(g,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,p,g),this.table.isAriaEnabled()){var i,s;dt(g,[...g.hasAttribute("role")?[]:[Dme()],jf(-1),CM(p+((i=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&i!==void 0?i:0)+1)])}}c.end()}}}function Fr(t,e,n){return e=vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=yye(t,"string");return typeof e=="symbol"?e:String(e)}function yye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bye{constructor(e){let{cellRenderer:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fr(this,"rootNode",void 0),Fr(this,"rootDocument",void 0),Fr(this,"rowHeaders",null),Fr(this,"columnHeaders",null),Fr(this,"colGroup",null),Fr(this,"rows",null),Fr(this,"cells",null),Fr(this,"rowFilter",null),Fr(this,"columnFilter",null),Fr(this,"rowUtils",null),Fr(this,"columnUtils",null),Fr(this,"rowsToRender",0),Fr(this,"columnsToRender",0),Fr(this,"rowHeaderFunctions",[]),Fr(this,"rowHeadersCount",0),Fr(this,"columnHeaderFunctions",[]),Fr(this,"columnHeadersCount",0),Fr(this,"cellRenderer",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:r,rows:o,cells:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),r.setTable(this),o.setTable(this),i.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=r,this.rows=o,this.cells=i}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let r=0;r<e;r++){const o=n.getRenderedNode(r);if(o.firstChild){const i=this.renderedRowToSource(r),s=this.rowUtils.getHeight(i);s?o.firstChild.style.height=`${s-1}px`:o.firstChild.style.height=""}}}}class Cye{constructor(){let{TABLE:e,THEAD:n,COLGROUP:r,TBODY:o,rowUtils:i,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new bye(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new lye,columnHeaders:new uye(n),colGroup:new cye(r),rows:new gye(o),cells:new wye}),this.renderer.setAxisUtils(i,s)}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function dw(t,e,n){Sye(t,e),e.set(t,n)}function Sye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bC(t,e,n){return e=xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xye(t){var e=Rye(t,"string");return typeof e=="symbol"?e:String(e)}function Rye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(t,e){var n=M3(t,e,"get");return kye(t,n)}function kye(t,e){return e.get?e.get.call(t):e.value}function fw(t,e,n){var r=M3(t,e,"set");return Eye(t,r,n),n}function M3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Eye(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var CC=new WeakMap,Qf=new WeakMap,gw=new WeakMap,SC=new WeakMap,Ah=new WeakMap;class l_{static get DEFAULT_WIDTH(){return 50}constructor(e){let{totalColumns:n,stretchMode:r,stretchingColumnWidthFn:o,columnWidthFn:i}=e;bC(this,"stretchAllRatio",0),bC(this,"stretchLastWidth",0),bC(this,"stretchAllColumnsWidth",[]),dw(this,CC,{writable:!0,value:0}),bC(this,"needVerifyLastColumnWidth",!0),dw(this,Qf,{writable:!0,value:()=>0}),dw(this,gw,{writable:!0,value:s=>s}),dw(this,SC,{writable:!0,value:s=>s}),dw(this,Ah,{writable:!0,value:()=>"none"}),fw(this,Qf,n),fw(this,Ah,r),fw(this,gw,o??mo(this,gw)),fw(this,SC,i??mo(this,SC))}refreshStretching(e){if(mo(this,Ah).call(this)==="none")return;fw(this,CC,e);let n=0;for(let o=0;o<mo(this,Qf).call(this);o++){const i=this._getColumnWidth(o),s=mo(this,gw).call(this,void 0,o);typeof s=="number"?e-=s:n+=i}const r=e-n;if(mo(this,Ah).call(this)==="all"&&r>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(mo(this,Ah).call(this)==="last"&&e!==1/0){const o=this._getColumnWidth(mo(this,Qf).call(this)-1),i=r+o;this.stretchLastWidth=i>=0?i:o}}getStretchedColumnWidth(e,n){let r=null;return mo(this,Ah).call(this)==="all"&&this.stretchAllRatio!==0?r=this._getStretchedAllColumnWidth(e,n):mo(this,Ah).call(this)==="last"&&this.stretchLastWidth!==0&&(r=this._getStretchedLastColumnWidth(e)),r}_getStretchedAllColumnWidth(e,n){let r=0;if(!this.stretchAllColumnsWidth[e]){const o=Math.round(n*this.stretchAllRatio),i=mo(this,gw).call(this,o,e);i===void 0?this.stretchAllColumnsWidth[e]=o:this.stretchAllColumnsWidth[e]=isNaN(i)?this._getColumnWidth(e):i}if(this.stretchAllColumnsWidth.length===mo(this,Qf).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let o=0;o<this.stretchAllColumnsWidth.length;o++)r+=this.stretchAllColumnsWidth[o];r!==mo(this,CC)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=mo(this,CC)-r)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===mo(this,Qf).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let n=mo(this,SC).call(this,e);return isNaN(n)&&(n=l_.DEFAULT_WIDTH),n}}function xC(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Mye(t,"string");return typeof e=="symbol"?e:String(e)}function Mye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ye{constructor(e,n){xC(this,"dataAccessObject",void 0),xC(this,"wtSettings",void 0),xC(this,"headerWidths",new Map),xC(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=n,this.stretching=new l_({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(r,o)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",r,o),columnWidthFn:r=>this.dataAccessObject.wtTable.getColumnWidth(r)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let n=this.getWidth(e);const r=this.stretching.getStretchedColumnWidth(e,n);return r&&(n=r),n}getHeaderHeight(e){let n=this.wtSettings.getSetting("defaultRowHeight");const r=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return r!==void 0&&(n=n?Math.max(n,r):r),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:n,cloneSource:r}=this.dataAccessObject,o=r?r.wtTable.holder:e.holder,i=o.offsetHeight<o.scrollHeight?Lr():0;this.stretching.refreshStretching(n.getViewportWidth()-i)}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const r=e.getSetting("rowHeaders").length,o=e.getSetting("defaultColumnWidth");for(let i=0;i<r;i++){let s=Array.isArray(n)?n[i]:n;s=s??o,this.headerWidths.set(i,s)}}}}function _3(t,e,n){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=Aye(t,"string");return typeof e=="symbol"?e:String(e)}function Aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pye{constructor(e,n){_3(this,"dataAccessObject",void 0),_3(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}}function Ha(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Hye(t,"string");return typeof e=="symbol"?e:String(e)}function Hye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xf{constructor(e,n,r,o,i){Ha(this,"wtSettings",null),Ha(this,"domBindings",void 0),Ha(this,"TBODY",null),Ha(this,"THEAD",null),Ha(this,"COLGROUP",null),Ha(this,"hasTableHeight",!0),Ha(this,"hasTableWidth",!0),Ha(this,"isTableVisible",!1),Ha(this,"tableOffset",0),Ha(this,"holderOffset",0),this.domBindings=r,this.isMaster=i==="master",this.name=i,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=o,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,nU(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new Pye(this.dataAccessObject,this.wtSettings),this.columnUtils=new _ye(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Cye({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",this.wtSettings.getSetting("ariaTags")&&dt(r,[_a()]),r}createHider(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,e),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&dt(r,[_a()]),r}createHolder(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.style.position="relative",r.className="wtHolder",n&&n.insertBefore(r,e),this.isMaster&&(r.parentNode.className+="ht_master handsontable",r.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&dt(r.parentNode,[_a()])),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&dt(r,[_a()]),r}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:r,wtViewport:o}=this.dataAccessObject,i=n.getSetting("totalRows"),s=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),l=a.length,u=n.getSetting("columnHeaders"),c=u.length;let h=!1,d=e;if(this.isMaster&&(this.holderOffset=Dr(this.holder),d=o.createRenderCalculators(d),l&&!n.getSetting("fixedColumnsStart"))){const p=r.inlineStartOverlay.getScrollPosition(),v=this.correctHeaderWidth;this.correctHeaderWidth=p!==0,v!==this.correctHeaderWidth&&(d=!1)}if(this.isMaster&&(h=r.updateStateOfRendering()),d)this.isMaster&&o.createVisibleCalculators(),r&&r.refresh(!0);else{this.isMaster?this.tableOffset=Dr(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const p=i>0?this.getFirstRenderedRow():0,v=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new $ve(p,i,c),this.columnFilter=new Bve(v,s,l);let C=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const w={};this.wtSettings.getSetting("beforeDraw",!0,w),C=w.skipRender!==!0}if(C){this.tableRenderer.setHeaderContentRenderers(a,u),(this.is(Na)||this.is(cc))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let w;if(this.isMaster&&(w=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Na))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();const y=pn(this.hider),x=pn(this.TABLE);y!==0&&x!==y&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),w!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Na)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let g=!1;return this.isMaster&&(g=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(g=r.bottomOverlay.resetFixedPosition()||g),g=r.inlineStartOverlay.resetFixedPosition()||g,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),g?(r.refreshAll(),r.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(d),h&&r.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let r=this.wtSettings.getSetting("columnHeaders").length;const o=this.wtSettings.getSetting("defaultRowHeight");let i,s,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;r;)r-=1,i=this.getColumnHeaderHeight(r),s=this.getColumnHeader(n,r),s&&(a=Bf(s),(!i&&o<a||i<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(l)?l[r]!==null&&l[r]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]<(l[r]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,r=this.dataAccessObject.wtViewport.oversizedColumnHeaders,o=e.getSetting("columnHeaders");for(let i=0,s=o.length;i<s;i++)if(r[i]){if(!n[i]||n[i].childNodes.length===0)return;n[i].childNodes[0].style.height=`${r[i]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(Na))&&!e.getSetting("externalRowCalculator")){const r=this.getRenderedRowsCount();for(let o=0;o<r;o++){const i=this.rowFilter.renderedToSource(o);n.oversizedRows&&n.oversizedRows[i]&&(n.oversizedRows[i]=void 0)}}}getCell(e){let n=e.row,r=e.col;const o=this.wtSettings.getSetting("onModifyGetCellCoords",n,r);if(o&&Array.isArray(o)&&([n,r]=o),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(r))return-3;if(this.isColumnAfterRenderedColumns(r))return-4;const i=this.getRow(n);if(!i&&n>=0)throw new Error("TR was expected to be rendered but is not");const s=i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)];if(!s&&r>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let n=null,r=null;if(e<0){var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceRowToVisibleColHeadedRow(e),r=this.THEAD}else{var i;n=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceToRendered(e),r=this.TBODY}return n!==void 0&&r!==void 0?r.childNodes.length<n+1?!1:r.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.THEAD.childNodes[n];return r==null?void 0:r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],r=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(o=>{const i=o.childNodes[r];i&&n.push(i)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.wtSettings.getSetting("rowHeaders").length;if(n>=r)return;const o=this.rowFilter.sourceToRendered(e),i=o<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):o,s=(o<0?this.THEAD:this.TBODY).childNodes[i];return s==null?void 0:s.childNodes[n]}getRowHeaders(e){const n=[],r=this.wtSettings.getSetting("rowHeaders").length;for(let o=0;o<r;o++){const i=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=i==null?void 0:i.childNodes[o];s&&n.push(s)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=xh(n,["TD","TH"])),n===null)return null;const r=n.parentNode,o=r.parentNode;let i=ape(r),s=n.cellIndex;return kh(Hh,n,this.wtRootElement)||kh(Ph,n,this.wtRootElement)?o.nodeName==="THEAD"&&(i-=o.childNodes.length):kh(cc,n,this.wtRootElement)||kh(Na,n,this.wtRootElement)?i=this.wtSettings.getSetting("totalRows")-o.childNodes.length+i:o===this.THEAD?i=this.rowFilter.visibleColHeadedRowToSourceRow(i):i=this.rowFilter.renderedToSource(i),kh(Hh,n,this.wtRootElement)||kh(Ih,n,this.wtRootElement)||kh(cc,n,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(i,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.wtSettings.getSetting("defaultRowHeight"),r=Bf(this.TBODY)-1;let o,i,s,a,l;if(!(n===r&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,s=this.rowFilter.renderedToSource(e),o=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?i=Bf(l):i=Bf(a)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<i||o<i)&&(i+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=i)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=n}isRowHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=n}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return pn(this.TABLE)}getHeight(){return Kn(this.TABLE)}getTotalWidth(){const e=pn(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=Kn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return Th(this.TABLE)}_modifyRowHeaderWidth(e){let n=Mn(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const Nye="stickyRowsBottom",O3={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return t===0||e===0?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};jl(O3,"MIXIN_NAME",Nye,{writable:!1,enumerable:!1});const A3=O3,Dye="stickyColumnsStart",P3={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};jl(P3,"MIXIN_NAME",Dye,{writable:!1,enumerable:!1});const u_=P3;class c_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,cc)}}bn(c_,A3),bn(c_,u_);const Ph="top",Na="bottom",Ih="inline_start",Hh="top_inline_start_corner",cc="bottom_inline_start_corner",Lye=[Ph,Na,Ih,Hh,cc],jye=new Map([[Ph,`ht_clone_${Ph}`],[Na,`ht_clone_${Na}`],[Ih,`ht_clone_${Ih} ht_clone_left`],[Hh,`ht_clone_${Hh} ht_clone_top_left_corner`],[cc,`ht_clone_${cc} ht_clone_bottom_left_corner`]]);function h_(t,e,n){return e=Fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:String(e)}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vye{constructor(e){h_(this,"dataAccessObject",void 0),h_(this,"lastScrolledColumnPos",-1),h_(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}scrollViewport(e,n,r,o,i){const s=this.scrollViewportHorizontally(e.col,r,i),a=this.scrollViewportVertically(e.row,n,o);return s||a}scrollViewportHorizontally(e,n,r){const{drawn:o,totalColumns:i}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>i)return!1;const s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn(),l=n===void 0&&r===void 0,{fixedColumnsStart:u,inlineStartOverlay:c}=this.dataAccessObject;if(l&&e<u)return!1;let h=!1;return e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),s===-1?h=c.scrollTo(e,l?e>this.lastScrolledColumnPos:n):(l&&(e<s||e>a)||!l)&&(h=c.scrollTo(e,l?e>a:n)),h&&(this.lastScrolledColumnPos=e),h}scrollViewportVertically(e,n,r){const{drawn:o,totalRows:i}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>i)return!1;const s=this.getFirstVisibleRow(),a=this.getLastVisibleRow(),l=n===void 0&&r===void 0,{fixedRowsBottom:u,fixedRowsTop:c,topOverlay:h}=this.dataAccessObject;if(l&&(e<c||e>i-u-1))return!1;let d=!1;return e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),s===-1?d=h.scrollTo(e,l?e>this.lastScrolledRowPos:r):(l&&(e<s||e>a)||!l)&&(d=h.scrollTo(e,l?e>a:r)),d&&(this.lastScrolledRowPos=e),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){const{topOverlay:e,wtTable:n,wtViewport:r,totalRows:o,rootWindow:i}=this.dataAccessObject;let s=n.getLastVisibleRow();if(e.mainTableScrollableElement===i){const a=Dr(n.wtRootElement),l=RM(i,i);if(a.top>l){const u=Bf(i);let c=r.getColumnHeaderHeight();for(let h=1;h<=o;h++)if(c+=e.sumCellSizes(h-1,h),a.top+c-l>=u){s=h-2;break}}}return s}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){const{wtSettings:e,inlineStartOverlay:n,wtTable:r,wtViewport:o,totalColumns:i,rootWindow:s}=this.dataAccessObject;let a=r.getLastVisibleColumn();if(n.mainTableScrollableElement===s){const l=e.getSetting("rtlMode");let u=null;if(l){const h=r.TABLE.getBoundingClientRect(),d=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;u=Math.abs(h.right-d)}else u=Dr(r.wtRootElement).left;const c=Math.abs(oU(s,s));if(u>c){const h=iU(s);let d=o.getRowHeaderWidth();for(let g=1;g<=i;g++)if(d+=n.sumCellSizes(g-1,g),u+d-c>=h){a=g-2;break}}}return a}}function $s(t,e,n){return e=Bye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bye(t){var e=Uye(t,"string");return typeof e=="symbol"?e:String(e)}function Uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class d_{get eventManager(){return new Us(this)}constructor(e,n){$s(this,"wtTable",void 0),$s(this,"wtScroll",void 0),$s(this,"wtViewport",void 0),$s(this,"wtOverlays",void 0),$s(this,"selectionManager",void 0),$s(this,"wtEvent",void 0),$s(this,"guid",`wt_${UB()}`),$s(this,"drawInterrupted",!1),$s(this,"drawn",!1),$s(this,"domBindings",void 0),$s(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new Vye(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;n<r;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,r){Eh(r,e[n])}])}}createCellCoords(e,n){return new mC(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,r){return new n_(e,n,r,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,!e&&!this.wtTable.isVisible()?this.drawInterrupted=!0:this.wtTable.draw(e),this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0&&arguments[1]))return this.wtTable.getCell(e);const n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),i=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<r&&e.col<i)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<i&&e.row>=n-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<i)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,r,o,i){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return e<0?!1:this.wtScroll.scrollViewportVertically(e,n,r)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function I3(t,e,n){return e=zye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zye(t){var e=$ye(t,"string");return typeof e=="symbol"?e:String(e)}function $ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gye extends d_{constructor(e,n,r){super(e,n),I3(this,"cloneSource",void 0),I3(this,"cloneOverlay",void 0);const o=this.wtSettings.getSetting("facade",this);this.cloneSource=r.source,this.cloneOverlay=r.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),o,this.domBindings,this.wtSettings),this.wtViewport=r.viewport,this.selectionManager=r.selectionManager,this.wtEvent=new b3(o,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,r.event),this.findOriginalHeaders()}}function Yye(t,e,n){return e=qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t){var e=Kye(t,"string");return typeof e=="symbol"?e:String(e)}function Kye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mw{constructor(e,n,r,o,i){Yye(this,"wtSettings",null),jl(this,"wot",e,{writable:!1}),this.domBindings=i,this.facadeGetter=n,this.wtSettings=o;const{TABLE:s,hider:a,spreader:l,holder:u,wtRootElement:c}=this.wot.wtTable;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=u,this.wtRootElement=c,this.trimmingContainer=Vf(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}updateStateOfRendering(){const e=this.needFullRender;this.needFullRender=this.shouldBeRendered();const n=e!==this.needFullRender;return n&&!this.needFullRender&&this.reset(),n}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Vf(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=q0(e.TABLE)}getRelativeCellPosition(e,n,r){if(this.clone.wtTable.holder.contains(e)===!1){wn(`The provided element is not a child of the ${this.type} overlay`);return}const o=this.mainTableScrollableElement===this.domBindings.rootWindow,i=r<this.wtSettings.getSetting("fixedColumnsStart"),s=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,u={start:this.getRelativeStartPosition(l),top:l.offsetTop},c={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return o?h=this.getRelativeCellPositionWithinWindow(s,i,c,u):h=this.getRelativeCellPositionWithinHolder(s,a,i,c,u),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,r,o){const i=this.wot.wtTable.wtRootElement.getBoundingClientRect();let s=0,a=0;if(!n)s=o.start;else{let l=i.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(i.left+i.width+Lr())),s=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-i.top:a=o.top,{start:r.start+s,top:r.top+a}}getRelativeCellPositionWithinHolder(e,n,r,o,i){const s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(r||(a=s.horizontal-i.start),n){const u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+u.top}else e||(l=s.vertical-i.top);return{start:o.start-a,top:o.top-l}}makeClone(){if(Lye.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:r,rootWindow:o}=this.domBindings,i=r.createElement("div"),s=r.createElement("table"),a=e.wtRootElement.parentNode;i.className=`${jye.get(this.type)} handsontable`,i.setAttribute("dir",this.isRtl()?"rtl":"ltr"),i.style.position="absolute",i.style.top=0,i.style.overflow="visible",this.isRtl()?i.style.right=0:i.style.left=0,n.getSetting("ariaTags")&&dt(i,[_a()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),i.appendChild(s),a.appendChild(i);const l=this.wtSettings.getSetting("preventOverflow");return l===!0||l==="horizontal"&&this.type===Ph||l==="vertical"&&this.type===Ih?this.mainTableScrollableElement=o:o.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=q0(e.TABLE),new Gye(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.shouldBeRendered();this.clone&&(this.needFullRender||n)&&this.clone.draw(e),this.needFullRender=n}reset(){if(!this.clone)return;const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=e.style,o=n.style,i=e.parentNode.style;F([r,o,i],s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class Qye extends mw{constructor(e,n,r,o,i,s){super(e,n,cc,r,o),this.bottomOverlay=i,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new c_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${i}px`,n.style.bottom=`${s}px`}else Q0(n),this.repositionOverlay();let r=Kn(this.clone.wtTable.TABLE);const o=pn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),n.style.height=`${r}px`,n.style.width=`${o}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let i=0;n.hasVerticalScroll()||(i+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(i+=Lr(r)),o.style.bottom=`${i}px`}}const Xye="calculatedColumns",H3={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};jl(H3,"MIXIN_NAME",Xye,{writable:!1,enumerable:!1});const f_=H3;class g_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,Na)}}bn(g_,A3),bn(g_,f_);function Jye(t,e,n){return e=Zye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zye(t){var e=ebe(t,"string");return typeof e=="symbol"?e:String(e)}function ebe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tbe extends mw{constructor(e,n,r,o){super(e,n,Na,r,o),Jye(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new g_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let r=0;const o=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!o||o!=="vertical")?(r=this.getOverlayOffset(),n.style.bottom=`${r}px`):(r=this.getScrollPosition(),this.repositionOverlay());const i=this.adjustHeaderBordersPosition(r);return this.adjustElementsSize(),i}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let i=0;n.hasVerticalScroll()||(i+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(i+=Lr(r)),o.style.bottom=`${i}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.mainTableScrollableElement===n?(n.scrollTo(xM(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:r,wtSettings:o}=this.wot,i=o.getSetting("defaultRowHeight");let s=e,a=0;for(;s<n;){const l=r.getRowHeight(s);a+=l===void 0?i:l,s+=1}return a}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:o}=this.domBindings,i=Lr(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==o||a==="horizontal"){let u=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(u-=i),u=Math.min(u,e.wtRootElement.scrollWidth),s.width=`${u}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Kn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let i=0;n&&o.offsetHeight!==o.clientHeight&&(i=Lr(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight(),r+=1):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),r+=i,this.setScrollPosition(r)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return RM(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),i=this.clone.wtTable.getTotalHeight(),s=o-i,a=this.domBindings.rootDocument.documentElement.clientHeight;r=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+o,0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),r=this.cachedFixedRowsBottom!==n,o=this.wtSettings.getSetting("columnHeaders");let i=!1;if((r||n===0)&&o.length>0){const s=this.wot.wtTable.holder.parentNode,a=yt(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(_e(s,"innerBorderBottom"),i=!a):(Rt(s,"innerBorderBottom"),i=a)}return i}}const nbe="calculatedRows",N3={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};jl(N3,"MIXIN_NAME",nbe,{writable:!1,enumerable:!1});const D3=N3;class m_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,Ih)}}bn(m_,D3),bn(m_,u_);const rbe="localHooks",L3={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,r,o,i,s){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)MM(this._localHooks[t][l],this,e,n,r,o,i,s)}},clearLocalHooks(){return this._localHooks={},this}};jl(L3,"MIXIN_NAME",rbe,{writable:!1,enumerable:!1});const ei=L3;let j3=class{constructor(t,e){this.settings=t,this.cellRange=e||null}isEmpty(){return this.cellRange===null}add(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}replace(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const t=this.cellRange.getOuterTopStartCorner(),e=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,e.row,e.col]}destroy(){this.runLocalHooks("destroy")}};bn(j3,ei);const F3="active-header",p_="header",w_="area",v_="focus",obe="fill",ibe="row",sbe="column",abe="custom-selection",y_=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var lbe=d3;lbe("flat");function ube(t,e){V3(t,e),e.add(t)}function W3(t,e,n){V3(t,e),e.set(t,n)}function V3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b_(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function gr(t,e){var n=U3(t,e,"get");return cbe(t,n)}function cbe(t,e){return e.get?e.get.call(t):e.value}function B3(t,e,n){var r=U3(t,e,"set");return hbe(t,r,n),n}function U3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function hbe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Gs=new WeakMap,ti=new WeakMap,RC=new WeakSet;class dbe{constructor(){ube(this,RC),W3(this,Gs,{writable:!0,value:void 0}),W3(this,ti,{writable:!0,value:void 0})}setActiveOverlay(e){return B3(this,ti,e),this}setActiveSelection(e){return B3(this,Gs,e),this}scan(){const e=gr(this,Gs).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="area"?this.scanCellsRange(r=>n.add(r)):e==="focus"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r)),this.scanCellsRange(r=>n.add(r))):e==="fill"?this.scanCellsRange(r=>n.add(r)):e==="header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="row"?(this.scanRowsInHeadersRange(r=>n.add(r)),this.scanRowsInCellsRange(r=>n.add(r))):e==="column"&&(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanColumnsInCellsRange(r=>n.add(r))),n}scanColumnsInHeadersRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount();let u=0;for(let c=-s.getRowHeadersCount();c<a;c++){const h=s.columnFilter.renderedToSource(c);if(!(h<r||h>i)){for(let d=-l;d<0;d++){if(d<n||d>o)continue;const g=d+l;let p=s.getColumnHeader(h,g);const v=gr(this,ti).getSetting("onBeforeHighlightingColumnHeader",h,g,{selectionType:gr(this,Gs).settings.selectionType,columnCursor:u,selectionWidth:i-r+1});v!==null&&(v!==h&&(p=s.getColumnHeader(v,g)),e(p))}u+=1}}}scanRowsInHeadersRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount();let u=0;for(let c=-s.getColumnHeadersCount();c<a;c++){const h=s.rowFilter.renderedToSource(c);if(!(h<n||h>o)){for(let d=-l;d<0;d++){if(d<r||d>i)continue;const g=d+l;let p=s.getRowHeader(h,g);const v=gr(this,ti).getSetting("onBeforeHighlightingRowHeader",h,g,{selectionType:gr(this,Gs).settings.selectionType,rowCursor:u,selectionHeight:o-n+1});v!==null&&(v!==h&&(p=s.getRowHeader(v,g)),e(p))}u+=1}}}scanCellsRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti);b_(this,RC,C_).call(this,(a,l)=>{if(a>=n&&a<=o&&l>=r&&l<=i){const u=s.getCell(gr(this,ti).createCellCoords(a,l)),c=gr(this,ti).getSetting("onAfterDrawSelection",a,l,gr(this,Gs).settings.layerLevel);typeof c=="string"&&_e(u,c),e(u)}})}scanRowsInCellsRange(e){const[n,,r]=gr(this,Gs).getCorners(),{wtTable:o}=gr(this,ti);b_(this,RC,C_).call(this,(i,s)=>{if(i>=n&&i<=r){const a=o.getCell(gr(this,ti).createCellCoords(i,s));e(a)}})}scanColumnsInCellsRange(e){const[,n,,r]=gr(this,Gs).getCorners(),{wtTable:o}=gr(this,ti);b_(this,RC,C_).call(this,(i,s)=>{if(s>=n&&s<=r){const a=o.getCell(gr(this,ti).createCellCoords(i,s));e(a)}})}}function C_(t){const{wtTable:e}=gr(this,ti),n=e.getRenderedRowsCount(),r=e.getRenderedColumnsCount();for(let o=0;o<n;o+=1){const i=e.rowFilter.renderedToSource(o);for(let s=0;s<r;s+=1)t(i,e.columnFilter.renderedToSource(s))}}class z3{constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=y_,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,r=this.main.childNodes.length;n<r;n++){const o=this.main.childNodes[n];this.eventManager.addEventListener(o,"mouseenter",i=>this.onMouseEnter(i,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),Vs(e);const r=this,o=this.wot.rootDocument.body,i=n.getBoundingClientRect();n.style.display="none";function s(l){if(l.clientY<Math.floor(i.top)||l.clientY>Math.ceil(i.top+i.height)||l.clientX<Math.floor(i.left)||l.clientX>Math.ceil(i.left+i.width))return!0}function a(l){s(l)&&(r.eventManager.removeEventListener(o,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(o,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const r=["top","start","bottom","end","corner"];let o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(let a=0;a<5;a++){const l=r[a],u=n.createElement("div");u.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(u.className+=" hidden"),o=u.style,o.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,o.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,o.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),oc()&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:i}=this.wot;let s=i.bordersHolder;s||(s=n.createElement("div"),s.className="htBorders",i.bordersHolder=s,i.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const n=10,r=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const o={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`};It(o,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});const i={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};It(i,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const r=this.wot.selectionManager.getAreaSelection();return!!(r.cellRange&&(e!==r.cellRange.to.row||n!==r.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,r,o,i,s){const a=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:l,topHitArea:u,bottom:c,bottomHitArea:h}=this.selectionHandles.styles,d=parseInt(l.borderWidth,10),g=parseInt(l.width,10),p=parseInt(u.width,10),v=this.wot.wtTable.getWidth(),C=this.wot.wtTable.getHeight();l.top=`${parseInt(r-g-1,10)}px`,l[a]=`${parseInt(o-g-1,10)}px`,u.top=`${parseInt(r-p/4*3,10)}px`,u[a]=`${parseInt(o-p/4*3,10)}px`;const w=Math.min(parseInt(o+i,10),v-g-d*2),y=Math.min(parseInt(o+i-p/4,10),v-p-d*2);c[a]=`${w}px`,h[a]=`${y}px`;const x=Math.min(parseInt(r+s,10),C-g-d*2),T=Math.min(parseInt(r+s-p/4,10),C-p-d*2);c.top=`${x}px`,h.top=`${T}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(l.display="block",u.display="block",this.isPartRange(e,n)?(c.display="none",h.display="none"):(c.display="block",h.display="block")):(l.display="none",c.display="none",u.display="none",h.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(l.zIndex="9999",u.zIndex="9999"):(l.zIndex="",u.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:n,rootDocument:r,rootWindow:o}=this.wot;let i,s,a,l,u,c;const h=n.getRenderedRowsCount();for(let te=0;te<h;te+=1){const S=n.rowFilter.renderedToSource(te);if(S>=e[0]&&S<=e[2]){i=S,u=e[0];break}}for(let te=h-1;te>=0;te-=1){const S=n.rowFilter.renderedToSource(te);if(S>=e[0]&&S<=e[2]){s=S;break}}const d=n.getRenderedColumnsCount();for(let te=0;te<d;te+=1){const S=n.columnFilter.renderedToSource(te);if(S>=e[1]&&S<=e[3]){a=S,c=e[1];break}}for(let te=d-1;te>=0;te-=1){const S=n.columnFilter.renderedToSource(te);if(S>=e[1]&&S<=e[3]){l=S;break}}if(i===void 0||a===void 0){this.disappear();return}let g=n.getCell(this.wot.createCellCoords(i,a));const p=i!==s||a!==l,v=p?n.getCell(this.wot.createCellCoords(s,l)):g,C=Dr(g),w=p?Dr(v):C,y=Dr(n.TABLE),x=pn(n.TABLE),T=C.top,_=C.left,E=this.wot.wtSettings.getSetting("rtlMode");let O=0,N=0;if(E){const te=pn(g),S=o.innerWidth-y.left-x;N=_+te-w.left,O=o.innerWidth-_-te-S-1}else N=w.left+pn(v)-_,O=_-y.left-1;if(this.isEntireColumnSelected(i,s)){const te=this.getDimensionsFromHeader("columns",a,l,u,y);let S=null;te&&([S,O,N]=te),S&&(g=S)}let H=T-y.top-1,L=w.top+Kn(v)-T;if(this.isEntireRowSelected(a,l)){const te=this.getDimensionsFromHeader("rows",i,s,c,y);let S=null;te&&([S,H,L]=te),S&&(g=S)}const G=ec(g,o);parseInt(G.borderTopWidth,10)>0&&(H+=1,L=L>0?L-1:0),parseInt(G[E?"borderRightWidth":"borderLeftWidth"],10)>0&&(O+=1,N=N>0?N-1:0);const ue=E?"right":"left";this.topStyle.top=`${H}px`,this.topStyle[ue]=`${O}px`,this.topStyle.width=`${N}px`,this.topStyle.display="block",this.startStyle.top=`${H}px`,this.startStyle[ue]=`${O}px`,this.startStyle.height=`${L}px`,this.startStyle.display="block";const B=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${H+L-B}px`,this.bottomStyle[ue]=`${O}px`,this.bottomStyle.width=`${N}px`,this.bottomStyle.display="block",this.endStyle.top=`${H}px`,this.endStyle[ue]=`${O+N-B}px`,this.endStyle.height=`${L+1}px`,this.endStyle.display="block";let he=this.settings.border.cornerVisible;he=typeof he=="function"?he(this.settings.layerLevel):he;const Ee=this.wot.getSetting("onModifyGetCellCoords",s,l);let[Me,ye]=[s,l];if(Ee&&Array.isArray(Ee)&&([,,Me,ye]=Ee),oc()||!he||this.isPartRange(Me,ye))this.cornerStyle.display="none";else{this.cornerStyle.top=`${H+L+this.cornerCenterPointOffset-1}px`,this.cornerStyle[ue]=`${O+N+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let te=Vf(n.TABLE);const S=te===o;S&&(te=r.documentElement);const R=parseInt(this.cornerDefaultStyle.width,10)/2,M=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){const D=S?v.getBoundingClientRect().left:v.offsetLeft;let W=!1,U=0;E?(U=D-parseInt(this.cornerDefaultStyle.width,10)/2,W=U<0):(U=D+pn(v)+parseInt(this.cornerDefaultStyle.width,10)/2,W=U>=iU(te)),W&&(this.cornerStyle[ue]=`${Math.floor(O+N+this.cornerCenterPointOffset-R)}px`,this.cornerStyle[E?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(S?v.getBoundingClientRect().top:v.offsetTop)+Kn(v)+parseInt(this.cornerDefaultStyle.height,10)/2>=Bf(te)&&(this.cornerStyle.top=`${Math.floor(H+L+this.cornerCenterPointOffset-M)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}oc()&&this.updateMultipleSelectionHandlesPosition(s,l,H,O,N,L)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,r,o,i){const{wtTable:s}=this.wot,a=s.wtRootElement.parentNode;let l=null,u=null,c=null,h=null,d=null,g=null,p=null,v=null;switch(e){case"rows":l=function(){return s.getRowHeader(...arguments)},u=function(){return Kn(...arguments)},c="ht__selection--rows",g="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},u=function(){return pn(...arguments)},c="ht__selection--columns",g="left";break}if(a.classList.contains(c)){const C=this.wot.getSetting("columnHeaders").length;if(p=l(n,C-o),v=l(r,C-o),!p||!v)return!1;const w=Dr(p),y=Dr(v);return p&&v&&(h=w[g]-i[g]-1,d=y[g]+u(v)-w[g]),[p,h,d]}return!1}changeBorderStyle(e,n){const r=this[e].style,o=n[e];!o||o.hide?_e(this[e],"hidden"):(yt(this[e],"hidden")&&Rt(this[e],"hidden"),r.backgroundColor=o.color,(e==="top"||e==="bottom")&&(r.height=`${o.width}px`),(e==="start"||e==="end")&&(r.width=`${o.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},r=this[e].style;r.backgroundColor=n.color,r.width=`${n.width}px`,r.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?_e(this[e],"hidden"):Rt(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",oc()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function fbe(t,e){$3(t,e),e.add(t)}function Jf(t,e,n){$3(t,e),e.set(t,n)}function $3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gbe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Lt(t,e){var n=Y3(t,e,"get");return mbe(t,n)}function mbe(t,e){return e.get?e.get.call(t):e.value}function G3(t,e,n){var r=Y3(t,e,"set");return pbe(t,r,n),n}function Y3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function pbe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var po=new WeakMap,ni=new WeakMap,S_=new WeakMap,pw=new WeakMap,x_=new WeakMap,Nh=new WeakMap,q3=new WeakSet;class wbe{constructor(e){fbe(this,q3),Jf(this,po,{writable:!0,value:void 0}),Jf(this,ni,{writable:!0,value:void 0}),Jf(this,S_,{writable:!0,value:new dbe}),Jf(this,pw,{writable:!0,value:new WeakMap}),Jf(this,x_,{writable:!0,value:new WeakSet}),Jf(this,Nh,{writable:!0,value:new Map}),G3(this,ni,e)}setActiveOverlay(e){return G3(this,po,e),Lt(this,S_).setActiveOverlay(Lt(this,po)),Lt(this,pw).has(Lt(this,po))||Lt(this,pw).set(Lt(this,po),new Set),this}getFocusSelection(){return Lt(this,ni)!==null?Lt(this,ni).getFocus():null}getAreaSelection(){return Lt(this,ni)!==null?Lt(this,ni).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(Lt(this,Nh).has(e)){const r=Lt(this,Nh).get(e);if(r.has(Lt(this,po)))return r.get(Lt(this,po));const o=new z3(Lt(this,po),e.settings);return r.set(Lt(this,po),o),o}const n=new z3(Lt(this,po),e.settings);return Lt(this,Nh).set(e,new Map([[Lt(this,po),n]])),n}getBorderInstances(e){var n,r;return Array.from((n=(r=Lt(this,Nh).get(e))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:[])}destroyBorders(e){Lt(this,Nh).get(e).forEach(n=>n.destroy()),Lt(this,Nh).delete(e)}render(e){if(Lt(this,ni)===null)return;e&&gbe(this,q3,vbe).call(this);const n=Array.from(Lt(this,ni)),r=new Map,o=new Map;for(let i=0;i<n.length;i++){const s=n[i],{className:a,headerAttributes:l,createLayers:u,selectionType:c}=s.settings;Lt(this,x_).has(s)||(Lt(this,x_).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));const h=this.getBorderInstance(s);if(s.isEmpty()){h==null||h.disappear();continue}a&&Lt(this,S_).setActiveSelection(s).scan().forEach(g=>{if(r.has(g)){const p=r.get(g);p.has(a)&&u===!0?p.set(a,p.get(a)+1):p.set(a,1)}else r.set(g,new Map([[a,1]]));l&&(o.has(g)||o.set(g,[]),g.nodeName==="TH"&&o.get(g).push(...l))});const d=s.getCorners();Lt(this,po).getSetting("onBeforeDrawBorders",d,c),h==null||h.appear(d)}r.forEach((i,s)=>{var a;const l=Array.from(i).map(u=>{let[c,h]=u;return h===1?c:[c,...Array.from({length:h-1},(d,g)=>`${c}-${g+1}`)]}).flat();l.forEach(u=>Lt(this,pw).get(Lt(this,po)).add(u)),_e(s,l),s.nodeName==="TD"&&Array.isArray((a=Lt(this,ni).options)===null||a===void 0?void 0:a.cellAttributes)&&dt(s,Lt(this,ni).options.cellAttributes)}),Array.from(o.keys()).forEach(i=>{dt(i,[...o.get(i)])})}}function vbe(){const t=Lt(this,pw).get(Lt(this,po)),e=Lt(this,po).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var r,o;const i=Lt(this,po).wtTable.TABLE.querySelectorAll(`.${n}`);let s=[];Array.isArray((r=Lt(this,ni).options)===null||r===void 0?void 0:r.cellAttributes)&&(s=Lt(this,ni).options.cellAttributes.map(a=>a[0])),Array.isArray((o=Lt(this,ni).options)===null||o===void 0?void 0:o.headerAttributes)&&(s=[...s,...Lt(this,ni).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=i.length;a<l;a++)Rt(i[a],n),Ff(i[a],s)}),t.clear()}class ybe extends mw{constructor(e,n,r,o){super(e,n,Ih,r,o)}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new m_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,o=this.wtSettings.getSetting("preventOverflow");let i=0;this.trimmingContainer===n&&(!o||o!=="horizontal")?(i=this.getOverlayOffset()*(this.isRtl()?-1:1),EM(r,`${i}px`,"0px")):(i=this.getScrollPosition(),Q0(r));const s=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===n&&n.scrollX!==e?(n.scrollTo(e,rU(n)),r=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultColumnWidth");let o=e,i=0;for(;o<n;)i+=this.wot.wtTable.getStretchedColumnWidth(o)||r,o+=1;return i}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=Lr(n),i=this.clone.wtTable.holder.parentNode.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||s==="vertical"){let l=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(l-=o),l=Math.min(l,e.wtRootElement.scrollHeight),i.height=`${l}px`}else i.height="";this.clone.wtTable.holder.style.height=i.height;const a=pn(this.clone.wtTable.TABLE);i.width=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(y_.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let i=0;if(n){const s=this.wot.wtTable.getColumnWidth(e),a=this.wot.wtViewport.getViewportWidth();s>a&&(n=!1)}return n&&o.offsetWidth!==o.clientWidth&&(i=Lr(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportWidth()):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),r+=i,this.setScrollPosition(r)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(oU(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?r=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const o=this.wot.wtTable.getTotalWidth(),i=this.clone.wtTable.getTotalWidth(),s=o-i;r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wot.wtTable.holder.parentNode,r=this.wtSettings.getSetting("rowHeaders"),o=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Rt(n,"emptyRows"):_e(n,"emptyRows");let i=!1;if(o&&!r.length)_e(n,"innerBorderLeft innerBorderInlineStart");else if(!o&&r.length){const s=yt(n,"innerBorderInlineStart");e?(_e(n,"innerBorderLeft innerBorderInlineStart"),i=!s):(Rt(n,"innerBorderLeft innerBorderInlineStart"),i=s)}return i}}const bbe="stickyRowsTop",K3={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};jl(K3,"MIXIN_NAME",bbe,{writable:!1,enumerable:!1});const Q3=K3;class R_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,Hh)}}bn(R_,Q3),bn(R_,u_);function X3(t,e,n){return e=Cbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cbe(t){var e=Sbe(t,"string");return typeof e=="symbol"?e:String(e)}function Sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xbe extends mw{constructor(e,n,r,o,i,s){super(e,n,Hh,r,o),X3(this,"topOverlay",void 0),X3(this,"inlineStartOverlay",void 0),this.topOverlay=i,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new R_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),i=this.topOverlay.getOverlayOffset();EM(e,`${o}px`,`${i}px`)}else Q0(e);let n=Kn(this.clone.wtTable.TABLE);const r=pn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${r}px`,!1}}class k_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,Ph)}}bn(k_,Q3),bn(k_,f_);function Rbe(t,e,n){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=Ebe(t,"string");return typeof e=="symbol"?e:String(e)}function Ebe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tbe extends mw{constructor(e,n,r,o){super(e,n,Ph,r,o),Rbe(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new k_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let o=0,i=!1;if(this.trimmingContainer===n&&(!r||r!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),u=Math.ceil(l.bottom),c=e.offsetHeight;i=u===c,o=this.getOverlayOffset(),EM(e,"0px",`${o}px`)}else o=this.getScrollPosition(),Q0(e);const s=this.adjustHeaderBordersPosition(o,i);return this.adjustElementsSize(),s}setScrollPosition(e){const n=this.domBindings.rootWindow;let r=!1;return this.mainTableScrollableElement===n&&n.scrollY!==e?(n.scrollTo(xM(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultRowHeight");let o=e,i=0;for(;o<n;){const s=this.wot.wtTable.getRowHeight(o);i+=s===void 0?r:s,o+=1}return i}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=Lr(n),i=this.clone.wtTable.holder.parentNode.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||s==="horizontal"){let l=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(l-=o),l=Math.min(l,e.wtRootElement.scrollWidth),i.width=`${l}px`}else i.width="";this.clone.wtTable.holder.style.width=i.width;let a=Kn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(a=0),i.height=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(y_.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:r,wtSettings:o}=this,i=(r.cloneSource?r.cloneSource:r).wtTable.holder;let s=this.getTableParentOffset(),a=0;if(n){const l=this.wot.wtTable.getRowHeight(e),u=this.wot.wtViewport.getViewportHeight();l>u&&(n=!1)}if(n&&i.offsetHeight!==i.clientHeight&&(a=Lr(this.domBindings.rootDocument)),n){const l=o.getSetting("fixedRowsBottom"),u=o.getSetting("totalRows");s+=this.sumCellSizes(0,e+1),s-=r.wtViewport.getViewportHeight()-this.sumCellSizes(u-l,u),s+=1}else s+=this.sumCellSizes(o.getSetting("fixedRowsTop"),e);return s+=a,this.setScrollPosition(s)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return RM(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),i=this.clone.wtTable.getTotalHeight(),s=o-i;r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.wot.wtTable.holder.parentNode;this.wtSettings.getSetting("totalColumns")?Rt(r,"emptyColumns"):_e(r,"emptyColumns");let o=!1;if(!n){const i=this.wtSettings.getSetting("fixedRowsTop"),s=this.cachedFixedRowsTop!==i,a=this.wtSettings.getSetting("columnHeaders");if((s||i===0)&&a.length>0){const l=yt(r,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),e||this.wtSettings.getSetting("totalRows")===0?(_e(r,"innerBorderTop"),o=!l):(Rt(r,"innerBorderTop"),o=l)}}return o}}function Wl(t,e,n){return e=Mbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mbe(t){var e=_be(t,"string");return typeof e=="symbol"?e:String(e)}function _be(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Obe{constructor(e,n,r,o,i,s){Wl(this,"wot",null),Wl(this,"topOverlay",null),Wl(this,"bottomOverlay",null),Wl(this,"inlineStartOverlay",null),Wl(this,"topInlineStartCornerOverlay",null),Wl(this,"bottomInlineStartCornerOverlay",null),Wl(this,"browserLineHeight",void 0),Wl(this,"wtSettings",null),Wl(this,"resizeObserver",new ResizeObserver(c=>{PM(()=>{!Array.isArray(c)||!c.length||this.wtSettings.getSetting("onContainerElementResize")})})),this.wot=e,this.wtSettings=o,this.domBindings=r,this.facadeGetter=n,this.wtTable=s;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=i,this.scrollbarSize=Lr(a);const u=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=u?s.holder:q0(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[this.topOverlay,this.topInlineStartCornerOverlay,this.inlineStartOverlay,this.bottomOverlay,this.bottomInlineStartCornerOverlay];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,r=e.getComputedStyle(n.body),o=parseInt(r.lineHeight,10),i=parseInt(r.fontSize,10)*1.2;this.browserLineHeight=o||i}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new Tbe(...e),this.bottomOverlay=new tbe(...e),this.inlineStartOverlay=new ybe(...e),this.topInlineStartCornerOverlay=new xbe(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new Qye(...e,this.bottomOverlay,this.inlineStartOverlay)}updateStateOfRendering(){let e=this.topOverlay.updateStateOfRendering();return e=this.bottomOverlay.updateStateOfRendering()||e,e=this.inlineStartOverlay.updateStateOfRendering()||e,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(e=this.topInlineStartCornerOverlay.updateStateOfRendering()||e),this.bottomOverlay.needFullRender&&(e=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||e)),e}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:r}=this.topOverlay,{mainTableScrollableElement:o}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",c=>this.onKeyDown(c)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(r,"scroll",c=>this.onTableScroll(c),{passive:!0}),r!==o&&this.eventManager.addEventListener(o,"scroll",c=>this.onTableScroll(c),{passive:!0});const i=n.devicePixelRatio&&n.devicePixelRatio>1,s=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||i||!MU())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",c=>this.onCloneWheel(c,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(c=>{if(c&&c.needFullRender){const{holder:h}=c.clone.wtTable;this.eventManager.addEventListener(h,"wheel",d=>this.onCloneWheel(d,a),l)}});let u;this.eventManager.addEventListener(n,"resize",()=>{clearTimeout(u),u=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize")},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,i=e.target;this.keyPressed&&(o!==n&&i!==n&&!e.target.contains(o)||r!==n&&i!==n&&!e.target.contains(r))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:r}=this.domBindings,o=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,s=e.target,a=i!==r&&s!==r&&!s.contains(i),l=o!==r&&s!==r&&!s.contains(o);if(this.keyPressed&&(a||l))return;const u=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==r&&u)&&e.preventDefault()}onKeyDown(e){this.keyPressed=nw(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight);const o=this.scrollVertically(n),i=this.scrollHorizontally(r);return o||i}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,n=this.topOverlay.clone.wtTable.holder,r=this.inlineStartOverlay.clone.wtTable.holder,[o,i]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=n.scrollLeft!==o||this.lastScrollX!==e.scrollX,this.verticalScrolling=r.scrollTop!==i||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){n.scrollLeft=o;const s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=o)}this.verticalScrolling&&(r.scrollTop=i),this.refreshAll()}syncScrollWithMaster(){const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:r}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=r)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=q0(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,r=e.clientHeight,o=n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height;return o&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r),o}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtViewport:n}=this.wot,{wtTable:r}=this,o=this.wtSettings.getSetting("totalColumns"),i=this.wtSettings.getSetting("totalRows"),s=n.getRowHeaderWidth(),a=n.getColumnHeaderHeight(),l=r.hider.style;if(l.width=`${s+this.inlineStartOverlay.sumCellSizes(0,o)}px`,l.height=`${a+this.topOverlay.sumCellSizes(0,i)+1}px`,this.scrollbarSize>0){const{scrollHeight:u,scrollWidth:c}=r.wtRootElement,{scrollHeight:h,scrollWidth:d}=r.holder;this.hasScrollbarRight=u<h,this.hasScrollbarBottom=c<d,this.hasScrollbarRight&&r.hider.scrollWidth+this.scrollbarSize>c?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&r.hider.scrollHeight+this.scrollbarSize>u&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(e),this.inlineStartOverlay.adjustElementsSize(e),this.bottomOverlay.adjustElementsSize(e)}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let r=null;return F(n,o=>{o&&o.clone&&o.clone.wtTable.TABLE.contains(e)&&(r=o.clone)}),r}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];F(n,r=>{r&&(r.clone.wtTable.TABLE.className=e.className)})}}function J3(t,e,n){return e=Abe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Abe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:String(e)}function Pbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ibe{constructor(e){J3(this,"settings",{}),J3(this,"defaults",Object.freeze(this.getDefaults())),It(this.defaults,(n,r)=>{if(e[r]!==void 0)this.settings[r]=e[r];else{if(n===void 0)throw new Error(`A required setting "${r}" was not provided`);this.settings[r]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,r)=>{const o=this.getSetting("data",e,n);Eh(r,o??"")},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?It(e,(r,o)=>{this.settings[o]=r}):this.settings[e]=n,this}getSetting(e,n,r,o,i){return typeof this.settings[e]=="function"?this.settings[e](n,r,o,i):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class E_ extends Xf{constructor(e,n,r,o){super(e,n,r,o,"master")}alignOverlaysWithTrimmingContainer(){const e=Vf(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const r=e.parentElement,o=Xp(e,"height",n),i=Xp(e,"overflow",n),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let u=e.offsetWidth,c=e.offsetHeight;if(r&&["auto","hidden","scroll"].includes(i)){const h=e.cloneNode(!1);h.style.overflow="auto",h.style.position="absolute",e.nextElementSibling?r.insertBefore(h,e.nextElementSibling):r.appendChild(h);const d=parseInt(ec(h,n).height,10);r.removeChild(h),d===0&&(c=0)}c=Math.min(c,l),s.height=o==="auto"?"auto":`${c}px`,u=Math.min(u,a),s.width=`${u}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:c>0,this.hasTableWidth=u>0}this.isTableVisible=Th(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,r="master",o=e.getSetting("columnHeaders").length;if(o&&!n.hasOversizedColumnHeadersMarked[r]){const i=e.getSetting("rowHeaders").length,s=this.getRenderedColumnsCount();for(let a=0;a<o;a++)for(let l=-1*i;l<s;l++)this.markIfOversizedColumnHeader(l);n.hasOversizedColumnHeadersMarked[r]=!0}}}bn(E_,D3),bn(E_,f_);class Hbe{constructor(e,n,r,o,i){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=i,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=o,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let r=0;return n===this.domBindings.rootWindow?r=e.documentElement.clientHeight:r=Kn(n)>0&&n.clientHeight>0?n.clientHeight:1/0,r}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:n,rootWindow:r}=this.domBindings,o=this.dataAccessObject.inlineStartOverlayTrimmingContainer,i=n.documentElement.offsetWidth,s=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),l=e.getSetting("rtlMode"),u=this.wtTable.TABLE.getBoundingClientRect(),c=l?u.right-i:u.left,h=i-c;let d,g;if(a)return pn(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?d=Math.min(h,i):d=Math.min(this.getContainerFillWidth(),h,i),o===r&&s>0&&this.sumColumnWidths(0,s-1)>d)return n.documentElement.clientWidth;if(o!==r&&(g=Xp(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",r),g==="scroll"||g==="hidden"||g==="auto"))return Math.max(d,o.clientWidth);const p=e.getSetting("stretchH");return p==="none"||!p?Math.max(d,pn(this.wtTable.TABLE)):d}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,n){let r=0,o=e;for(;o<n;)r+=this.wtTable.getColumnWidth(o),o+=1;return r}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,n=this.domBindings.rootDocument.createElement("div");n.style.width="100%",n.style.height="1px",e.appendChild(n);const r=n.offsetWidth;return this.containerWidth=r,e.removeChild(n),r}getWorkspaceOffset(){return Dr(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Kn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let r=0,o=n.length;r<o;r++)this.rowHeaderWidth+=e[r]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let r=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let o=0,i=n.length;o<i;o++)r?(this.rowHeaderWidth+=pn(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ac;const{wtSettings:n,wtTable:r}=this;if(n.getSetting("renderAllRows")&&e===ac)return new jwe({totalRows:n.getSetting("totalRows")});let o=this.getViewportHeight(),i,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=n.getSetting("fixedRowsTop"),u=n.getSetting("fixedRowsBottom"),c=n.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,o-=s),u&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(c-u,c),o-=s),r.holder.clientHeight===r.holder.offsetHeight?i=0:i=Lr(this.domBindings.rootDocument),new fC({viewportHeight:o,scrollOffset:a,totalRows:n.getSetting("totalRows"),rowHeightFn:h=>r.getRowHeight(h),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),calculationType:e,horizontalScrollbarHeight:i})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ac;const{wtSettings:n,wtTable:r}=this;if(n.getSetting("renderAllColumns")&&e===ac)return new Nwe({totalColumns:n.getSetting("totalColumns")});let o=this.getViewportWidth(),i=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const s=n.getSetting("fixedColumnsStart");if(s&&i>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);i+=a,o-=a}return r.holder.clientWidth!==r.holder.offsetWidth&&(o-=Lr(this.domBindings.rootDocument)),new sw({viewportWidth:o,scrollOffset:i,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>r.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),calculationType:e,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this;if(e&&!n.getSetting("renderAllRows")){const r=this.createRowsCalculator(go);e=this.areAllProposedVisibleRowsAlreadyRendered(r)}if(e&&!n.getSetting("renderAllColumns")){const r=this.createColumnsCalculator(go);e=this.areAllProposedVisibleColumnsAlreadyRendered(r)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(ac),this.columnsRenderCalculator=this.createColumnsCalculator(ac)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(go),this.columnsVisibleCalculator=this.createColumnsCalculator(go)}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;const{startRow:n,endRow:r,isVisibleInTrimmingContainer:o}=e;if(n===null&&r===null)return!o;const{startRow:i,endRow:s}=this.rowsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>s||r===s&&r<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;const{startColumn:n,endColumn:r,isVisibleInTrimmingContainer:o}=e;if(n===null&&r===null)return!o;const{startColumn:i,endColumn:s}=this.columnsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>s||r===s&&r<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){It(this.hasOversizedColumnHeadersMarked,(e,n,r)=>{r[n]=void 0})}}class Nbe extends d_{constructor(e,n){super(e,new Ibe(n));const r=this.wtSettings.getSetting("facade",this);this.wtTable=new E_(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=new Hbe(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new wbe(this.wtSettings.getSetting("selections")),this.wtEvent=new b3(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new Obe(this,r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],r=[];It(e,(o,i)=>{this.wtSettings.getSetting(i).length&&r.push(o),n.push(o)}),Rt(this.wtTable.wtRootElement.parentNode,n),_e(this.wtTable.wtRootElement.parentNode,r)}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class T_{constructor(e){e instanceof d_?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const r=new T_(n);return()=>r},this._wot=new Nbe(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,r){return this._wot.createCellRange(e,n,r)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,r,o,i){return this._wot.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return this._wot.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wot.scrollViewportVertically(e,n,r)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,r,o,i){return this._wot.wtSettings.getSetting(e,n,r,o,i)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function Z3(t){let{isShiftKey:e,isLeftClick:n,isRightClick:r,coords:o,selection:i,controller:s,cellCoordsFactory:a}=t;const l=i.isSelected()?i.getSelectedRange().current():null,u=i.isSelectedByCorner(),c=i.isSelectedByRowHeader();if(e&&l)o.row>=0&&o.col>=0&&!s.cell?i.setRangeEnd(o):(u||c)&&o.row>=0&&o.col>=0&&!s.cell?i.setRangeEnd(a(o.row,o.col)):u&&o.row<0&&!s.column?i.setRangeEnd(a(l.to.row,o.col)):c&&o.col<0&&!s.row?i.setRangeEnd(a(o.row,l.to.col)):(!u&&!c&&o.col<0||u&&o.col<0)&&!s.row?i.selectRows(Math.max(l.from.row,0),o.row,o.col):(!u&&!c&&o.row<0||c&&o.row<0)&&!s.column&&i.selectColumns(Math.max(l.from.col,0),o.col,o.row);else{const h=!i.inInSelection(o),d=n||r&&h;o.row<0&&o.col>=0&&!s.column?d&&i.selectColumns(o.col,o.col,o.row):o.col<0&&o.row>=0&&!s.row?d&&i.selectRows(o.row,o.row,o.col):o.col>=0&&o.row>=0&&!s.cell?d&&i.setRangeStart(o):o.col<0&&o.row<0&&i.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}}function Dbe(t){let{isLeftClick:e,coords:n,selection:r,controller:o,cellCoordsFactory:i}=t;if(!e)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();a&&!o.column?r.setRangeEnd(i(u-1,n.col)):s&&!o.row?r.setRangeEnd(i(n.row,l-1)):o.cell||r.setRangeEnd(n)}const Lbe=new Map([["mousedown",Z3],["mouseover",Dbe],["touchstart",Z3]]);function ez(t,e){let{coords:n,selection:r,controller:o,cellCoordsFactory:i}=e;Lbe.get(t.type)({coords:n,selection:r,controller:o,cellCoordsFactory:i,isShiftKey:t.shiftKey,isLeftClick:NM(t)||t.type==="touchstart",isRightClick:_h(t)})}const tz=new WeakMap,M_=Symbol("rootInstance");function jbe(t){tz.set(t,!0)}function Fbe(t){return t===M_}function kC(t){return tz.has(t)}function nz(t,e){rz(t,e),e.add(t)}function Dh(t,e,n){rz(t,e),e.set(t,n)}function rz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hc(t,e,n){return e=Wbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t){var e=Vbe(t,"string");return typeof e=="symbol"?e:String(e)}function Vbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Wr(t,e){var n=oz(t,e,"get");return Bbe(t,n)}function Bbe(t,e){return e.get?e.get.call(t):e.value}function cs(t,e,n){var r=oz(t,e,"set");return Ube(t,r,n),n}function oz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Ube(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var O_=new WeakMap,EC=new WeakMap,TC=new WeakMap,Vl=new WeakMap,Ys=new WeakMap,A_=new WeakMap,P_=new WeakMap,I_=new WeakSet,iz=new WeakSet;class zbe{constructor(e){nz(this,iz),nz(this,I_),hc(this,"hot",void 0),hc(this,"eventManager",void 0),hc(this,"settings",void 0),hc(this,"THEAD",void 0),hc(this,"TBODY",void 0),hc(this,"_wt",void 0),hc(this,"activeWt",void 0),Dh(this,O_,{writable:!0,value:0}),Dh(this,EC,{writable:!0,value:0}),hc(this,"postponedAdjustElementsSize",!1),Dh(this,TC,{writable:!0,value:!1}),Dh(this,Vl,{writable:!0,value:void 0}),Dh(this,Ys,{writable:!0,value:void 0}),Dh(this,A_,{writable:!0,value:0}),Dh(this,P_,{writable:!0,value:0}),this.hot=e,this.eventManager=new Us(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(e)}getCellAtCoords(e,n){const r=this._wt.getCell(e,n);return r<0?null:r}scrollViewport(e,n,r,o,i){return this._wt.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return this._wt.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wt.scrollViewportVertically(e,n,r)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,r=e.getAttribute("style");r&&e.setAttribute("data-originalstyle",r),_e(e,"handsontable"),cs(this,Ys,n.createElement("TABLE")),_e(Wr(this,Ys),"htCore"),this.hot.getSettings().tableClassName&&_e(Wr(this,Ys),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(dt(Wr(this,Ys),[_a()]),dt(e,[Nme(),QB(-1),$0(this.hot.countCols()),qme()])),this.THEAD=n.createElement("THEAD"),Wr(this,Ys).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),Wr(this,Ys).appendChild(this.TBODY),this.hot.table=Wr(this,Ys),this.hot.container.insertBefore(Wr(this,Ys),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:r}=this.hot,o=n.documentElement;this.eventManager.addEventListener(e,"mousedown",i=>{if(cs(this,TC,!0),!this.isTextSelectionAllowed(i.target)){const{rootWindow:s}=this.hot;aU(s),i.preventDefault(),s.focus()}}),this.eventManager.addEventListener(e,"mouseup",()=>{cs(this,TC,!1)}),this.eventManager.addEventListener(e,"mousemove",i=>{Wr(this,TC)&&!this.isTextSelectionAllowed(i.target)&&(this.settings.fragmentSelection&&aU(this.hot.rootWindow),i.preventDefault())}),this.eventManager.addEventListener(o,"keyup",i=>{r.isInProgress()&&!i.shiftKey&&r.finish()}),this.eventManager.addEventListener(o,"mouseup",i=>{r.isInProgress()&&NM(i)&&r.finish(),cs(this,Vl,!1);const s=lU(n.activeElement);X0(n.activeElement)&&!s||(s||!r.isSelected()&&!r.isSelectedByAnyHeader()&&!e.contains(i.target)&&!_h(i))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",i=>{r.isInProgress()&&_h(i)&&(r.finish(),cs(this,Vl,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{r.isInProgress()&&r.finish(),cs(this,Vl,!1)}),this.eventManager.addEventListener(o,"mousedown",i=>{const s=i.target,a=i.x||i.clientX,l=i.y||i.clientY;let u=i.target;if(Wr(this,Vl)||!e||!this.hot.view)return;const{holder:c}=this.hot.view._wt.wtTable;if(u===c){const h=Lr(n);if(n.elementFromPoint(a+h,l)!==c||n.elementFromPoint(a,l+h)!==c)return}else for(;u!==o;){if(u===null){if(i.isTargetWebComponent)break;return}if(u===e)return;u=u.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(s):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)}),this.eventManager.addEventListener(Wr(this,Ys),"selectstart",i=>{this.settings.fragmentSelection||X0(i.target)||i.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:r}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,r))}translateFromRenderableToVisualIndex(e,n){let r=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,o=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return r===null&&(r=e),o===null&&(o=n),[r,o]}countRenderableIndexes(e,n){const r=Math.min(e.getNotTrimmedIndexesLength(),n),o=e.getNearestNotHiddenIndex(r-1,-1);return o===null?0:e.getRenderableFromVisualIndex(o)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,r,o){if(isNaN(e)||e<0)return 0;const i=r.getNearestNotHiddenIndex(e,n),s=r.getRenderableFromVisualIndex(i);if(!Number.isInteger(s))return 0;let a=0;return n<0?a=s+1:n>0&&(a=o-s),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let r=0;for(let o=e;o<=n;o++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(o)!==null&&(r+=1);return r}countRenderableRowsInRange(e,n){let r=0;for(let o=e;o<=n;o++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(o)!==null&&(r+=1);return r}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Wr(this,Ys),isDataViewInstance:()=>kC(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(i,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(i,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const i=[];return this.hot.hasRowHeaders()&&i.push((s,a)=>{const l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",i),cs(this,EC,i.length),this.hot.getSettings().ariaTags&&__(this,I_,sz).call(this)===this.hot.countCols()&&__(this,iz,$be).call(this,Wr(this,EC)),i},columnHeaders:()=>{const i=[];return this.hot.hasColHeaders()&&i.push((s,a)=>{const l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",i),cs(this,O_,i.length),i},columnWidth:i=>{const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i);return this.hot.getColWidth(s===null?i:s)},rowHeight:i=>{const s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(i);return this.hot.getRowHeight(s===null?i:s)},cellRenderer:(i,s,a)=>{const[l,u]=this.translateFromRenderableToVisualIndex(i,s),c=this.hot.runHooks("modifyGetCellCoords",l,u);let h=l,d=u;Array.isArray(c)&&([h,d]=c);const g=this.hot.getCellMeta(h,d),p=this.hot.colToProp(d);let v=this.hot.getDataAtRowProp(h,p);this.hot.hasHook("beforeValueRender")&&(v=this.hot.runHooks("beforeValueRender",v,g)),this.hot.runHooks("beforeRenderer",a,l,u,p,v,g),this.hot.getCellRenderer(g)(this.hot,a,l,u,p,v,g),this.hot.runHooks("afterRenderer",a,l,u,p,v,g)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Th(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,cs(this,Vl,!0),this.hot.runHooks("beforeOnCellMouseDown",i,u,a,c),!Mh(i)&&(ez(i,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseDown",i,u,a),this.activeWt=this._wt)},onCellContextMenu:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,cs(this,Vl,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",i,u,a),!Mh(i)&&(this.hot.runHooks("afterOnCellContextMenu",i,u,a),this.activeWt=this._wt)},onCellMouseOut:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",i,u,a),!Mh(i)&&(this.hot.runHooks("afterOnCellMouseOut",i,u,a),this.activeWt=this._wt)},onCellMouseOver:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",i,u,a,c),!Mh(i)&&(Wr(this,Vl)&&ez(i,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseOver",i,u,a),this.activeWt=this._wt)},onCellMouseUp:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",i,u,a),!(Mh(i)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",i,u,a),this.activeWt=this._wt)},onCellCornerMouseDown:i=>{i.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",i)},onCellCornerDblClick:i=>{i.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",i)},beforeDraw:(i,s)=>this.beforeRender(i,s),onDraw:i=>this.afterRender(i),onBeforeViewportScrollVertically:i=>{const s=this.hot.rowIndexMapper,a=i<0;let l=i;return!a&&(l=s.getVisualFromRenderableIndex(i),l===null)?i:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:i=>{const s=this.hot.columnIndexMapper,a=i<0;let l=i;return!a&&(l=s.getVisualFromRenderableIndex(i),l===null)?i:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(i,s,a)=>{const l=this.hot.rowIndexMapper,u=i<0;let c=i;u||(c=l.getVisualFromRenderableIndex(i));const h=this.hot.runHooks("beforeHighlightingRowHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(i,s,a)=>{const l=this.hot.columnIndexMapper,u=i<0;let c=i;u||(c=l.getVisualFromRenderableIndex(i));const h=this.hot.runHooks("beforeHighlightingColumnHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(i,s,a)=>{let l;const[u,c]=this.translateFromRenderableToVisualIndex(i,s),h=this.hot.selection.getSelectedRange();if(h.size()>0){const d=h.peekByIndex(a??0);l=[d.from.row,d.from.col,d.to.row,d.to.col]}return this.hot.runHooks("afterDrawSelection",u,c,l,a)},onBeforeDrawBorders:(i,s)=>{const[a,l,u,c]=i,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(u),this.hot.columnIndexMapper.getVisualFromRenderableIndex(c)];return this.hot.runHooks("beforeDrawBorders",h,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(i,s)=>{const a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",i,a)},onModifyRowHeaderWidth:i=>this.hot.runHooks("modifyRowHeaderWidth",i),onModifyGetCellCoords:(i,s,a)=>{const l=this.hot.rowIndexMapper,u=this.hot.columnIndexMapper,c=s>=0?u.getVisualFromRenderableIndex(s):s,h=i>=0?l.getVisualFromRenderableIndex(i):i,d=this.hot.runHooks("modifyGetCellCoords",h,c,a);if(Array.isArray(d)){const[g,p,v,C]=d;return[g>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(g,1)):g,p>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,1)):p,v>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(v,-1)):v,C>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1)):C]}},viewportRowCalculatorOverride:i=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){const a=this.countRenderableRows(),l=i.startRow,u=i.endRow;if(typeof s=="number")i.startRow=Math.max(l-s,0),i.endRow=Math.min(u+s,a-1);else if(s==="auto"){const c=Math.ceil(u/a*12);i.startRow=Math.max(l-c,0),i.endRow=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",i)},viewportColumnCalculatorOverride:i=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){const a=this.countRenderableColumns(),l=i.startColumn,u=i.endColumn;if(typeof s=="number"&&(i.startColumn=Math.max(l-s,0),i.endColumn=Math.min(u+s,a-1)),s==="auto"){const c=Math.ceil(u/a*6);i.startColumn=Math.max(l-c,0),i.endColumn=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",i)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const i=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||i}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new T_(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:r,height:o}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(r,o),this.eventManager.addEventListener(n,"mousedown",i=>{i.target===n&&i.which===3&&i.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",i=>{i.target===n&&i.which===3&&i.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(X0(e))return!0;const n=Rh(e,this.hot.view._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Wr(this,Vl)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const r=n.firstChild;if(!yt(r,"relative")){Oa(n),this.appendRowHeader(e,n);return}this.updateCellHeader(r.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:r,getRowHeader:o}=this.hot,i=r.createElement("div"),s=r.createElement("span");i.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,o),i.appendChild(s),n.appendChild(i)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n.firstChild){const i=n.firstChild;yt(i,"relative")?this.updateCellHeader(i.querySelector(".colHeader"),e,r,o):(Oa(n),this.appendColHeader(e,n,r,o))}else{const{rootDocument:i}=this.hot,s=i.createElement("div"),a=i.createElement("span");s.className="relative",a.className="colHeader",this.settings.ariaTags&&(dt(s,..._a()),dt(a,..._a())),this.updateCellHeader(a,e,r,o),s.appendChild(a),n.appendChild(s)}this.hot.runHooks("afterGetColHeader",e,n,o)}updateCellHeader(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=n;const s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(yt(e,"colHeader")?i=s.wtTable.columnFilter.sourceToRendered(n):yt(e,"rowHeader")&&(i=s.wtTable.rowFilter.sourceToRendered(n))),i>-1?Wf(e,r(n,o)):(Eh(e,"\xA0"),_e(e,"cornerHeader"))}maximumVisibleElementWidth(e){const n=this._wt.wtViewport.getWorkspaceWidth()-e;return n>0?n:0}maximumVisibleElementHeight(e){const n=this._wt.wtViewport.getWorkspaceHeight()-e;return n>0?n:0}setLastSize(e,n){cs(this,A_,e),cs(this,P_,n)}getLastSize(){return{width:Wr(this,A_),height:Wr(this,P_)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getColumnHeadersCount(){return Wr(this,O_)}getRowHeadersCount(){return Wr(this,EC)}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function sz(){return parseInt(this.hot.rootElement.getAttribute($0()[0]),10)}function $be(t){const e=__(this,I_,sz).call(this)+t;dt(this.hot.rootElement,...$0(e))}const Gbe="ABCDEFGHIJKLMNOPQRSTUVWXYZ",az=Gbe.length;function Ybe(t){let e=t+1,n="",r;for(;e>0;)r=(e-1)%az,n=String.fromCharCode(65+r)+n,e=parseInt((e-r)/az,10);return n}function lz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const r=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((o,i)=>{Array.isArray(o)?o.forEach((s,a)=>{r.push([i+e,a,s])}):Object.keys(o).forEach(s=>{r.push([i+e,s,o[s]])})}),r}function uz(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&Ot(t[0])&&(e=AM(t[0]))),e}function qbe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function Kbe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function ww(t,e,n){return e=Qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qbe(t){var e=Xbe(t,"string");return typeof e=="symbol"?e:String(e)}function Xbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jbe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];ww(this,"hot",void 0),ww(this,"data",void 0),ww(this,"dataType","array"),ww(this,"colToProp",()=>{}),ww(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return F(this.data,(r,o)=>{const i=this.getAtCell(o,e);n.push(i)}),n}getAtRow(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=n===void 0&&r===void 0;let s=null,a=null;if(s=this.modifyRowData(e),Array.isArray(s))a=[],i?s.forEach((l,u)=>{a[u]=this.getAtPhysicalCell(e,u,s)}):Je(n,r,l=>{a[l-n]=this.getAtPhysicalCell(e,l,s)});else if(Ot(s)||Mn(s))if(o?a=[]:a={},!i||o){const l=this.countFirstRowKeys()-1;Je(0,l,u=>{const c=this.colToProp(u);if(u>=(n||0)&&u<=(r||l)&&!Number.isInteger(c)){const h=this.getAtPhysicalCell(e,c,s);o?a.push(h):OM(a,c,h)}})}else It(s,(l,u)=>{OM(a,u,this.getAtPhysicalCell(e,u,s))});return a}setAtCell(e,n,r){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const o=Aa(r);this.hot.runHooks("modifySourceData",e,n,o,"set"),o.isTouched()&&(r=o.value)}Number.isInteger(n)?this.data[e][n]=r:OM(this.data[e],n,r)}}getAtPhysicalCell(e,n,r){let o=null;if(r&&(typeof n=="string"?o=Ape(r,n):typeof n=="function"?o=n(r):o=r[n]),this.hot.hasHook("modifySourceData")){const i=Aa(o);this.hot.runHooks("modifySourceData",e,n,i,"get"),i.isTouched()&&(o=i.value)}return o}getAtCell(e,n){const r=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),r)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=!1,i=null,s=null,a=null,l=null;e===null||n===null?(o=!0,i=0,a=this.countRows()-1):(i=Math.min(e.row,n.row),s=Math.min(e.col,n.col),a=Math.max(e.row,n.row),l=Math.max(e.col,n.col));const u=[];return Je(i,a,c=>{u.push(o?this.getAtRow(c,void 0,void 0,r):this.getAtRow(c,s,l,r))}),u}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return uz(this.data)}destroy(){this.data=null,this.hot=null}}function cz(t,e,n){return e=Zbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zbe(t){var e=e0e(t,"string");return typeof e=="symbol"?e:String(e)}function e0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;cz(this,"indexedValues",[]),cz(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Mn(this.initValueOrFn)?Je(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Je(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}bn(Lh,ei);function H_(t,e,n,r){const o=n.length?n[0]:void 0;return[...t.slice(0,o),...n.map((i,s)=>Mn(r)?r(i,s):r),...o===void 0?[]:t.slice(o)]}function N_(t,e){return os(t,(n,r)=>e.includes(r)===!1)}class dc extends Lh{insert(e,n){this.indexedValues=H_(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=N_(this.indexedValues,e),super.remove(e)}}class MC extends dc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return fo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}function D_(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function vw(t,e){return os(t,n=>e.includes(n)===!1)}function L_(t,e){return Pt(t,n=>n-e.filter(r=>r<n).length)}function j_(t,e){const n=e[0],r=e.length;return Pt(t,o=>o>=n?o+r:o)}function t0e(t,e,n){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return typeof e=="symbol"?e:String(e)}function r0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _C extends Lh{constructor(){super(...arguments),t0e(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(r,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=vw(this.orderOfIndexes,[e]),Mn(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=H_(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=j_(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=N_(this.indexedValues,e),this.orderOfIndexes=vw(this.orderOfIndexes,e),this.orderOfIndexes=L_(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class yw extends dc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return fo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}const hz=new Map([["indexesSequence",{getListWithInsertedItems:D_,getListWithRemovedItems:vw}],["physicallyIndexed",{getListWithInsertedItems:H_,getListWithRemovedItems:N_}]]),dz=t=>{if(hz.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return hz.get(t)};class fz extends Lh{constructor(){super(e=>e)}insert(e,n){const r=j_(this.indexedValues,n);this.indexedValues=D_(r,e,n),super.insert(e,n)}remove(e){const n=vw(this.indexedValues,e);this.indexedValues=L_(n,e),super.remove(e)}}const gz=new Map([["hiding",MC],["index",Lh],["linkedPhysicalIndexToValue",_C],["physicalIndexToValue",dc],["trimming",yw]]);function o0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!gz.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(gz.get(t))(e)}function i0e(t,e,n){return e=s0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s0e(t){var e=a0e(t,"string");return typeof e=="symbol"?e:String(e)}function a0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class F_{constructor(){i0e(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);Be(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return Tn(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(r=>{r.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}bn(F_,ei);function W_(t,e,n){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:String(e)}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mz extends F_{constructor(e,n){super(),W_(this,"mergedValuesCache",[]),W_(this,"aggregationFunction",void 0),W_(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const e=Pt(this.get(),o=>o.getValues()),n=[],r=Be(e[0])&&e[0].length||0;for(let o=0;o<r;o+=1){const i=[];for(let s=0;s<this.getLength();s+=1)i.push(e[s][o]);n.push(i)}return Pt(n,this.aggregationFunction)}getMergedValueAtIndex(e,n){const r=this.getMergedValues(n)[e];return Be(r)?r:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function c0e(t,e,n){h0e(t,e),e.set(t,n)}function h0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d0e(t,e,n){var r=pz(t,e,"set");return f0e(t,r,n),n}function f0e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function g0e(t,e){var n=pz(t,e,"get");return m0e(t,n)}function pz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function m0e(t,e){return e.get?e.get.call(t):e.value}var V_=new WeakMap;class wz{constructor(){c0e(this,V_,{writable:!0,value:[]})}subscribe(e){return this.addLocalHook("change",e),this._write(g0e(this,V_)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){d0e(this,V_,e)}}bn(wz,ei);function vz(t,e){const n=[];let r=0,o=0;for(;r<t.length&&o<e.length;r++,o++)t[r]!==e[o]&&n.push({op:"replace",index:o,oldValue:t[r],newValue:e[o]});for(;r<e.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;o<t.length;o++)n.push({op:"remove",index:o,oldValue:t[o],newValue:void 0});return n}function bw(t,e,n){p0e(t,e),e.set(t,n)}function p0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hs(t,e){var n=yz(t,e,"get");return w0e(t,n)}function w0e(t,e){return e.get?e.get.call(t):e.value}function OC(t,e,n){var r=yz(t,e,"set");return v0e(t,r,n),n}function yz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function v0e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var AC=new WeakMap,Cw=new WeakMap,PC=new WeakMap,IC=new WeakMap,HC=new WeakMap;class y0e{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bw(this,AC,{writable:!0,value:new Set}),bw(this,Cw,{writable:!0,value:[]}),bw(this,PC,{writable:!0,value:[]}),bw(this,IC,{writable:!0,value:!1}),bw(this,HC,{writable:!0,value:!1}),OC(this,HC,e??!1)}createObserver(){const e=new wz;return hs(this,AC).add(e),e.addLocalHook("unsubscribe",()=>{hs(this,AC).delete(e)}),e._writeInitialChanges(vz(hs(this,Cw),hs(this,PC))),e}emit(e){let n=hs(this,PC);(!hs(this,IC)||hs(this,Cw).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(hs(this,HC)):OC(this,Cw,new Array(e.length).fill(hs(this,HC))),hs(this,IC)||(OC(this,IC,!0),n=hs(this,Cw)));const r=vz(n,e);hs(this,AC).forEach(o=>o._write(r)),OC(this,PC,e)}}function Oo(t,e,n){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=C0e(t,"string");return typeof e=="symbol"?e:String(e)}function C0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class B_{constructor(){Oo(this,"indexesSequence",new fz),Oo(this,"trimmingMapsCollection",new mz(e=>e.some(n=>n===!0),!1)),Oo(this,"hidingMapsCollection",new mz(e=>e.some(n=>n===!0),!1)),Oo(this,"variousMapsCollection",new F_),Oo(this,"hidingChangesObservable",new y0e({initialIndexValue:!1})),Oo(this,"notTrimmedIndexesCache",[]),Oo(this,"notHiddenIndexesCache",[]),Oo(this,"isBatched",!1),Oo(this,"indexesSequenceChanged",!1),Oo(this,"indexesChangeSource",void 0),Oo(this,"trimmedIndexesChanged",!1),Oo(this,"hiddenIndexesChanged",!1),Oo(this,"renderablePhysicalIndexesCache",[]),Oo(this,"fromPhysicalToVisualIndexesCache",new Map),Oo(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,r){return this.registerMap(e,o0e(n,r))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof yw?this.trimmingMapsCollection.register(e,n):n instanceof MC?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const r=this.getNumberOfIndexes();return r>0&&n.init(r),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return Be(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return Be(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return Be(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return Be(n)?n:null}getNearestNotHiddenIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const o=Array.from(this.fromVisualToRenderableIndexesCache.keys());let i=-1;return n>0?i=o.findIndex(s=>s>e):i=o.reverse().findIndex(s=>s<e),i===-1?r?this.getNearestNotHiddenIndex(e,-n,!1):null:o[i]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const r=[...Array(this.getNumberOfIndexes()-e).keys()].map(o=>o+e);this.removeIndexes(r)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(e=>this.isTrimmed(e)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(e=>this.isHidden(e)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(e=>this.isHidden(e)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const r=Pt(e,u=>this.getPhysicalFromVisualIndex(u)),o=this.getNotTrimmedIndexesLength(),i=e.length,s=vw(this.getIndexesSequence(),r),a=s.filter(u=>this.isTrimmed(u)===!1);let l=s.indexOf(a[a.length-1])+1;if(n+i<o){const u=a[n];l=s.indexOf(u)}this.indexesChangeSource="move",this.setIndexesSequence(D_(s,l,r)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const r=this.getNotTrimmedIndexes()[e],o=Be(r)?r:this.getNumberOfIndexes(),i=this.getIndexesSequence().includes(r)?this.getIndexesSequence().indexOf(r):this.getNumberOfIndexes(),s=Pt(new Array(n).fill(o),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(i,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(i,s),this.hidingMapsCollection.insertToEvery(i,s),this.variousMapsCollection.insertToEvery(i,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(r,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromRenderableIndex(n),o=this.getVisualFromPhysicalIndex(r);this.fromVisualToRenderableIndexesCache.set(o,n)}}}bn(B_,ei);function S0e(t,e){return It(e,(n,r)=>{Tn(t[r])&&(t[r]=n)}),t}function bz(t){const e=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return e?`${e[1].toLowerCase()}-${e[2].toUpperCase()}`:t}function Cz(t){Be(t)&&DM(un`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function x0e(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:R0e,getValues:k0e}=Bs("phraseFormatters");function E0e(t,e){R0e(t,e)}function T0e(){return k0e()}E0e("pluralize",x0e);const Sz="ContextMenu:items",Tt=Sz,U_=`${Tt}.noItems`,z_=`${Tt}.insertRowAbove`,$_=`${Tt}.insertRowBelow`,G_=`${Tt}.insertColumnOnTheLeft`,Y_=`${Tt}.insertColumnOnTheRight`,q_=`${Tt}.removeRow`,K_=`${Tt}.removeColumn`,Q_=`${Tt}.undo`,X_=`${Tt}.redo`,J_=`${Tt}.readOnly`,Z_=`${Tt}.clearColumn`,eO=`${Tt}.copy`,tO=`${Tt}.copyWithHeaders`,nO=`${Tt}.copyWithGroupHeaders`,rO=`${Tt}.copyHeadersOnly`,oO=`${Tt}.cut`,iO=`${Tt}.freezeColumn`,sO=`${Tt}.unfreezeColumn`,aO=`${Tt}.mergeCells`,lO=`${Tt}.unmergeCells`,uO=`${Tt}.addComment`,cO=`${Tt}.editComment`,hO=`${Tt}.removeComment`,dO=`${Tt}.readOnlyComment`,fO=`${Tt}.align`,gO=`${Tt}.align.left`,mO=`${Tt}.align.center`,pO=`${Tt}.align.right`,wO=`${Tt}.align.justify`,vO=`${Tt}.align.top`,yO=`${Tt}.align.middle`,bO=`${Tt}.align.bottom`,CO=`${Tt}.borders`,SO=`${Tt}.borders.top`,xO=`${Tt}.borders.right`,RO=`${Tt}.borders.bottom`,kO=`${Tt}.borders.left`,EO=`${Tt}.borders.remove`,TO=`${Tt}.nestedHeaders.insertChildRow`,MO=`${Tt}.nestedHeaders.detachFromParent`,_O=`${Tt}.hideColumn`,OO=`${Tt}.showColumn`,AO=`${Tt}.hideRow`,PO=`${Tt}.showRow`,Ao="Filters:",Jn=`${Ao}conditions`,NC=`${Jn}.none`,IO=`${Jn}.isEmpty`,HO=`${Jn}.isNotEmpty`,NO=`${Jn}.isEqualTo`,DO=`${Jn}.isNotEqualTo`,LO=`${Jn}.beginsWith`,jO=`${Jn}.endsWith`,FO=`${Jn}.contains`,WO=`${Jn}.doesNotContain`,M0e=`${Jn}.byValue`,VO=`${Jn}.greaterThan`,BO=`${Jn}.greaterThanOrEqualTo`,UO=`${Jn}.lessThan`,zO=`${Jn}.lessThanOrEqualTo`,$O=`${Jn}.isBetween`,GO=`${Jn}.isNotBetween`,YO=`${Jn}.after`,qO=`${Jn}.before`,KO=`${Jn}.today`,QO=`${Jn}.tomorrow`,XO=`${Jn}.yesterday`,JO=`${Ao}labels.filterByCondition`,ZO=`${Ao}labels.filterByValue`,eA=`${Ao}labels.conjunction`,DC=`${Ao}labels.disjunction`,LC=`${Ao}values.blankCells`,tA=`${Ao}buttons.selectAll`,nA=`${Ao}buttons.clear`,rA=`${Ao}buttons.ok`,oA=`${Ao}buttons.cancel`,iA=`${Ao}buttons.placeholder.search`,sA=`${Ao}buttons.placeholder.value`,aA=`${Ao}buttons.placeholder.secondValue`,lA="CheckboxRenderer:",uA=`${lA}checked`,cA=`${lA}unchecked`,_0e=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:uA,CHECKBOX_RENDERER_NAMESPACE:lA,CHECKBOX_UNCHECKED:cA,CONTEXTMENU_ITEMS_ADD_COMMENT:uO,CONTEXTMENU_ITEMS_ALIGNMENT:fO,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:bO,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:mO,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:wO,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:gO,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:yO,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:pO,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:vO,CONTEXTMENU_ITEMS_BORDERS:CO,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:RO,CONTEXTMENU_ITEMS_BORDERS_LEFT:kO,CONTEXTMENU_ITEMS_BORDERS_RIGHT:xO,CONTEXTMENU_ITEMS_BORDERS_TOP:SO,CONTEXTMENU_ITEMS_CLEAR_COLUMN:Z_,CONTEXTMENU_ITEMS_COPY:eO,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:rO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:nO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:tO,CONTEXTMENU_ITEMS_CUT:oO,CONTEXTMENU_ITEMS_EDIT_COMMENT:cO,CONTEXTMENU_ITEMS_FREEZE_COLUMN:iO,CONTEXTMENU_ITEMS_HIDE_COLUMN:_O,CONTEXTMENU_ITEMS_HIDE_ROW:AO,CONTEXTMENU_ITEMS_INSERT_LEFT:G_,CONTEXTMENU_ITEMS_INSERT_RIGHT:Y_,CONTEXTMENU_ITEMS_MERGE_CELLS:aO,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:MO,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:TO,CONTEXTMENU_ITEMS_NO_ITEMS:U_,CONTEXTMENU_ITEMS_READ_ONLY:J_,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:dO,CONTEXTMENU_ITEMS_REDO:X_,CONTEXTMENU_ITEMS_REMOVE_BORDERS:EO,CONTEXTMENU_ITEMS_REMOVE_COLUMN:K_,CONTEXTMENU_ITEMS_REMOVE_COMMENT:hO,CONTEXTMENU_ITEMS_REMOVE_ROW:q_,CONTEXTMENU_ITEMS_ROW_ABOVE:z_,CONTEXTMENU_ITEMS_ROW_BELOW:$_,CONTEXTMENU_ITEMS_SHOW_COLUMN:OO,CONTEXTMENU_ITEMS_SHOW_ROW:PO,CONTEXTMENU_ITEMS_UNDO:Q_,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:sO,CONTEXTMENU_ITEMS_UNMERGE_CELLS:lO,CONTEXT_MENU_ITEMS_NAMESPACE:Sz,FILTERS_BUTTONS_CANCEL:oA,FILTERS_BUTTONS_CLEAR:nA,FILTERS_BUTTONS_OK:rA,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:iA,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:aA,FILTERS_BUTTONS_PLACEHOLDER_VALUE:sA,FILTERS_BUTTONS_SELECT_ALL:tA,FILTERS_CONDITIONS_AFTER:YO,FILTERS_CONDITIONS_BEFORE:qO,FILTERS_CONDITIONS_BEGINS_WITH:LO,FILTERS_CONDITIONS_BETWEEN:$O,FILTERS_CONDITIONS_BY_VALUE:M0e,FILTERS_CONDITIONS_CONTAINS:FO,FILTERS_CONDITIONS_EMPTY:IO,FILTERS_CONDITIONS_ENDS_WITH:jO,FILTERS_CONDITIONS_EQUAL:NO,FILTERS_CONDITIONS_GREATER_THAN:VO,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:BO,FILTERS_CONDITIONS_LESS_THAN:UO,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:zO,FILTERS_CONDITIONS_NAMESPACE:Jn,FILTERS_CONDITIONS_NONE:NC,FILTERS_CONDITIONS_NOT_BETWEEN:GO,FILTERS_CONDITIONS_NOT_CONTAIN:WO,FILTERS_CONDITIONS_NOT_EMPTY:HO,FILTERS_CONDITIONS_NOT_EQUAL:DO,FILTERS_CONDITIONS_TODAY:KO,FILTERS_CONDITIONS_TOMORROW:QO,FILTERS_CONDITIONS_YESTERDAY:XO,FILTERS_DIVS_FILTER_BY_CONDITION:JO,FILTERS_DIVS_FILTER_BY_VALUE:ZO,FILTERS_LABELS_CONJUNCTION:eA,FILTERS_LABELS_DISJUNCTION:DC,FILTERS_NAMESPACE:Ao,FILTERS_VALUES_BLANK_CELLS:LC},Symbol.toStringTag,{value:"Module"}));/**
* @preserve
* Authors: Handsoncode
* Last updated: Nov 15, 2017
*
* Description: Definition file for English - United States language-country.
*/const xz={languageCode:"en-US",[U_]:"No available options",[z_]:"Insert row above",[$_]:"Insert row below",[G_]:"Insert column left",[Y_]:"Insert column right",[q_]:["Remove row","Remove rows"],[K_]:["Remove column","Remove columns"],[Q_]:"Undo",[X_]:"Redo",[J_]:"Read only",[Z_]:"Clear column",[fO]:"Alignment",[gO]:"Left",[mO]:"Center",[pO]:"Right",[wO]:"Justify",[vO]:"Top",[yO]:"Middle",[bO]:"Bottom",[iO]:"Freeze column",[sO]:"Unfreeze column",[CO]:"Borders",[SO]:"Top",[xO]:"Right",[RO]:"Bottom",[kO]:"Left",[EO]:"Remove border(s)",[uO]:"Add comment",[cO]:"Edit comment",[hO]:"Delete comment",[dO]:"Read-only comment",[aO]:"Merge cells",[lO]:"Unmerge cells",[eO]:"Copy",[tO]:["Copy with header","Copy with headers"],[nO]:["Copy with group header","Copy with group headers"],[rO]:["Copy header only","Copy headers only"],[oO]:"Cut",[TO]:"Insert child row",[MO]:"Detach from parent",[_O]:["Hide column","Hide columns"],[OO]:["Show column","Show columns"],[AO]:["Hide row","Hide rows"],[PO]:["Show row","Show rows"],[NC]:"None",[IO]:"Is empty",[HO]:"Is not empty",[NO]:"Is equal to",[DO]:"Is not equal to",[LO]:"Begins with",[jO]:"Ends with",[FO]:"Contains",[WO]:"Does not contain",[VO]:"Greater than",[BO]:"Greater than or equal to",[UO]:"Less than",[zO]:"Less than or equal to",[$O]:"Is between",[GO]:"Is not between",[YO]:"After",[qO]:"Before",[KO]:"Today",[QO]:"Tomorrow",[XO]:"Yesterday",[LC]:"Blank cells",[JO]:"Filter by condition",[ZO]:"Filter by value",[eA]:"And",[DC]:"Or",[tA]:"Select all",[nA]:"Clear",[rA]:"OK",[oA]:"Cancel",[iA]:"Search",[sA]:"Value",[aA]:"Second value",[uA]:"Checked",[cA]:"Unchecked"},O0e=_0e,hA=xz.languageCode,{register:A0e,getItem:Rz,hasItem:P0e,getValues:I0e}=Bs("languagesDictionaries");kz(xz);function kz(t,e){let n=t,r=e;return Ot(t)&&(r=t,n=r.languageCode),H0e(n,r),A0e(n,_o(r)),_o(r)}function H0e(t,e){t!==hA&&S0e(e,Rz(hA))}function Ez(t){return dA(t)?_o(Rz(t)):null}function dA(t){return P0e(t)}function N0e(){return I0e()}function Tz(t,e,n){const r=Ez(t);if(r===null)return null;const o=r[e];if(Tn(o))return null;const i=D0e(o,n);return Array.isArray(i)?i[0]:i}function D0e(t,e){let n=t;return F(T0e(),r=>{n=r(t,e)}),n}function L0e(t){let e=bz(t);return dA(e)||(e=hA,Cz(t)),e}function j0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=W0e(t,"string");return typeof e=="symbol"?e:String(e)}function W0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class V0e extends j3{constructor(e,n){super(e,null),j0e(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:r}=e,o=this.getNearestNotHiddenCoords(n,1),i=this.getNearestNotHiddenCoords(r,-1);return o===null||i===null?null:((o.row>i.row||o.col>i.col)&&(o=n,i=r),this.settings.createCellRange(o,o,i))}getNearestNotHiddenCoords(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const o=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(o===null)return null;const i=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,r);return i===null?null:this.settings.createCellCoords(o,i)}getNearestNotHiddenIndex(e,n,r){return n<0?n:e.getNearestNotHiddenIndex(n,r)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),r=e.getVerticalDirection()==="N-S"?1:-1,o=e.getHorizontalDirection()==="W-E"?1:-1,i=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let s=null;if((i===null||i.col===null||i.row===null)&&(s=this.getNearestNotHiddenCoords(n,r,o)),s!==null&&e.overlaps(s)){const a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&i!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const r=this.settings.visualToRenderableCoords(e),o=this.settings.visualToRenderableCoords(n);return r.row===null||r.col===null||o.row===null||o.col===null?null:this.settings.createCellRange(r,r,o)}}const Bl=V0e;function fA(t){let{activeHeaderClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:F3})}function B0e(t){let{areaCornerVisible:e,...n}=t;return new Bl({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:w_})}function U0e(t){let{...e}=t;return new Bl({className:"highlight",...e,selectionType:w_})}function z0e(t){let{columnClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:sbe})}function $0e(t){let{cellCornerVisible:e,...n}=t;return new Bl({className:"current",headerAttributes:[SM()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:v_})}function G0e(t){let{border:e,visualCellRange:n,...r}=t;return new Bl({...e,...r,selectionType:abe},n)}function Y0e(t){let{...e}=t;return new Bl({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:obe})}function Mz(t){let{headerClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:p_})}function q0e(t){let{rowClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:ibe})}let _z;function K0e(t,e){Q0e(t,e),e.add(t)}function Q0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ri(t,e,n){return e=X0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:String(e)}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Da=new WeakSet;_z=Symbol.iterator;class Z0e{constructor(e){K0e(this,Da),ri(this,"options",void 0),ri(this,"layerLevel",0),ri(this,"focus",void 0),ri(this,"fill",void 0),ri(this,"layeredAreas",new Map),ri(this,"areas",new Map),ri(this,"rowHeaders",new Map),ri(this,"columnHeaders",new Map),ri(this,"activeRowHeaders",new Map),ri(this,"activeColumnHeaders",new Map),ri(this,"activeCornerHeaders",new Map),ri(this,"rowHighlights",new Map),ri(this,"columnHighlights",new Map),ri(this,"customSelections",[]),this.options=e,this.focus=$0e(e),this.fill=Y0e(e)}isEnabledFor(e,n){let r=e;e===v_&&(r="current");let o=this.options.disabledCellSelection(n.row,n.col);return typeof o=="string"&&(o=[o]),o===!1||Array.isArray(o)&&!o.includes(r)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return Ul(this,Da,zl).call(this,this.layeredAreas,B0e)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return Ul(this,Da,zl).call(this,this.areas,U0e)}getAreas(){return[...this.areas.values()]}createRowHeader(){return Ul(this,Da,zl).call(this,this.rowHeaders,Mz)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return Ul(this,Da,zl).call(this,this.columnHeaders,Mz)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return Ul(this,Da,zl).call(this,this.activeRowHeaders,fA)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return Ul(this,Da,zl).call(this,this.activeColumnHeaders,fA)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return Ul(this,Da,zl).call(this,this.activeCornerHeaders,fA)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return Ul(this,Da,zl).call(this,this.rowHighlights,q0e)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return Ul(this,Da,zl).call(this,this.columnHighlights,z0e)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(G0e({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),F(this.areas.values(),e=>void e.clear()),F(this.layeredAreas.values(),e=>void e.clear()),F(this.rowHeaders.values(),e=>void e.clear()),F(this.columnHeaders.values(),e=>void e.clear()),F(this.activeRowHeaders.values(),e=>void e.clear()),F(this.activeColumnHeaders.values(),e=>void e.clear()),F(this.activeCornerHeaders.values(),e=>void e.clear()),F(this.rowHighlights.values(),e=>void e.clear()),F(this.columnHighlights.values(),e=>void e.clear())}[_z](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function zl(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const r=e({layerLevel:n,...this.options});return t.set(n,r),r}let Oz;function Az(t,e,n){return e=eCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eCe(t){var e=tCe(t,"string");return typeof e=="symbol"?e:String(e)}function tCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Oz=Symbol.iterator;class nCe{constructor(e){Az(this,"ranges",[]),Az(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[Oz](){return this.ranges[Symbol.iterator]()}}function Sw(t,e){Pz(t,e),e.add(t)}function gA(t,e,n){Pz(t,e),e.set(t,n)}function Pz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zt(t,e){var n=Iz(t,e,"get");return rCe(t,n)}function rCe(t,e){return e.get?e.get.call(t):e.value}function oi(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function mA(t,e,n){var r=Iz(t,e,"set");return oCe(t,r,n),n}function Iz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function oCe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var jC=new WeakMap,on=new WeakMap,fc=new WeakMap,pA=new WeakSet,wA=new WeakSet,vA=new WeakSet,yA=new WeakSet,jh=new WeakSet;class Hz{constructor(e,n){Sw(this,jh),Sw(this,yA),Sw(this,vA),Sw(this,wA),Sw(this,pA),gA(this,jC,{writable:!0,value:void 0}),gA(this,on,{writable:!0,value:void 0}),gA(this,fc,{writable:!0,value:{x:0,y:0}}),mA(this,jC,e),mA(this,on,n)}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;oi(this,pA,Nz).call(this,{x:zt(this,on).navigableHeaders()?zt(this,on).countRowHeaders():0,y:zt(this,on).navigableHeaders()?zt(this,on).countColHeaders():0});const o=zt(this,on).createCellCoords(e,n);let i=zt(this,jC).current().highlight;const s=zt(this,on).visualToRenderableCoords(i);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",o),s.row!==null&&s.col!==null){const{width:u,height:c}=oi(this,vA,Lz).call(this),{row:h,col:d}=oi(this,yA,jz).call(this,i),g=zt(this,on).fixedRowsBottom(),p=zt(this,on).minSpareRows(),v=zt(this,on).minSpareCols(),C=zt(this,on).autoWrapRow(),w=zt(this,on).autoWrapCol(),y=zt(this,on).createCellCoords(h+o.row,d+o.col);if(y.row>=c){const _=Aa(r&&p>0&&g===0),E=y.col+1,O=zt(this,on).createCellCoords(y.row-c,E>=u?E-u:E);this.runLocalHooks("beforeColumnWrap",_,oi(this,jh,Zf).call(this,O),E>=u),_.value?this.runLocalHooks("insertRowRequire",zt(this,on).countRenderableRows()):w&&y.assign(O)}else if(y.row<0){const _=Aa(w),E=y.col-1,O=zt(this,on).createCellCoords(c+y.row,E<0?u+E:E);this.runLocalHooks("beforeColumnWrap",_,oi(this,jh,Zf).call(this,O),E<0),w&&y.assign(O)}if(y.col>=u){const _=Aa(r&&v>0),E=y.row+1,O=zt(this,on).createCellCoords(E>=c?E-c:E,y.col-u);this.runLocalHooks("beforeRowWrap",_,oi(this,jh,Zf).call(this,O),E>=c),_.value?this.runLocalHooks("insertColRequire",zt(this,on).countRenderableColumns()):C&&y.assign(O)}else if(y.col<0){const _=Aa(C),E=y.row-1,O=zt(this,on).createCellCoords(E<0?c+E:E,u+y.col);this.runLocalHooks("beforeRowWrap",_,oi(this,jh,Zf).call(this,O),E<0),C&&y.assign(O)}const{rowDir:x,colDir:T}=oi(this,wA,Dz).call(this,y);a=x,l=T,i=oi(this,jh,Zf).call(this,y)}return this.runLocalHooks("afterTransformStart",i,a,l),i}transformEnd(e,n){oi(this,pA,Nz).call(this,{x:zt(this,on).navigableHeaders()?zt(this,on).countRowHeaders():0,y:zt(this,on).navigableHeaders()?zt(this,on).countColHeaders():0});const r=zt(this,on).createCellCoords(e,n),o=zt(this,jC).current(),i=zt(this,on).visualToRenderableCoords(o.highlight),s=o.to.clone();let a=0,l=0;if(this.runLocalHooks("beforeTransformEnd",r),i.row!==null&&i.col!==null){const{row:u,col:c}=oi(this,yA,jz).call(this,o.to),h=zt(this,on).createCellCoords(u+r.row,c+r.col),{rowDir:d,colDir:g}=oi(this,wA,Dz).call(this,h);a=d,l=g;const p=oi(this,jh,Zf).call(this,h);r.row===0&&r.col!==0?s.col=p.col:r.row!==0&&r.col===0?s.row=p.row:(s.row=p.row,s.col=p.col)}return this.runLocalHooks("afterTransformEnd",s,a,l),s}}function Nz(t){let{x:e,y:n}=t;mA(this,fc,{x:e,y:n})}function Dz(t){const{width:e,height:n}=oi(this,vA,Lz).call(this);let r=0,o=0;return t.row<0?(r=-1,t.row=0):t.row>0&&t.row>=n&&(r=1,t.row=n-1),t.col<0?(o=-1,t.col=0):t.col>0&&t.col>=e&&(o=1,t.col=e-1),{rowDir:r,colDir:o}}function Lz(){return{width:zt(this,fc).x+zt(this,on).countRenderableColumns(),height:zt(this,fc).y+zt(this,on).countRenderableRows()}}function jz(t){const{row:e,col:n}=zt(this,on).visualToRenderableCoords(t);return zt(this,on).createCellCoords(zt(this,fc).y+e,zt(this,fc).x+n)}function Zf(t){const e=t.clone();return e.col=t.col-zt(this,fc).x,e.row=t.row-zt(this,fc).y,zt(this,on).renderableToVisualCoords(e)}bn(Hz,ei);const FC=0,WC=1,Fz=2,bA=3,iCe=[bA,Fz],sCe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],CA=Symbol("root"),Wz=Symbol("child");function eg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CA;if(e!==CA&&e!==Wz)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),r=e===CA;let o=FC;if(n){const i=t[0];t.length===0?o=WC:r&&i instanceof n_?o=bA:r&&Array.isArray(i)?o=eg(i,Wz):t.length>=2&&t.length<=4&&!t.some((s,a)=>!sCe[a].includes(typeof s))&&(o=Fz)}return o}function xw(t){let{createCellCoords:e,createCellRange:n,keepDirection:r=!1,propToCol:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!iCe.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(i){const s=t===bA;let a=s?i.from.row:i[0],l=s?i.from.col:i[1],u=s?i.to.row:i[2],c=s?i.to.col:i[3];if(typeof o=="function"&&(typeof l=="string"&&(l=o(l)),typeof c=="string"&&(c=o(c))),Tn(u)&&(u=a),Tn(c)&&(c=l),!r){const g=a,p=l,v=u,C=c;a=Math.min(g,v),l=Math.min(p,C),u=Math.max(g,v),c=Math.max(p,C)}const h=e(a,l),d=e(u,c);return n(h,h,d)}}function aCe(t){const e=eg(t.getSelected());if(e===FC||e===WC)return[];const n=xw(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;F(t.getSelected(),i=>{const{from:s,to:a}=n(i),l=Math.max(s.col,0),u=a.col-l+1;F(Array.from(new Array(u),(c,h)=>l+h),c=>{r.has(c)||r.add(c)})});const o=Array.from(r).sort((i,s)=>i-s);return fo(o,(i,s,a,l)=>(a!==0&&s===l[a-1]+1?i[i.length-1][1]+=1:i.push([s,1]),i),[])}function lCe(t){const e=eg(t.getSelected());if(e===FC||e===WC)return[];const n=xw(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;F(t.getSelected(),i=>{const{from:s,to:a}=n(i),l=Math.max(s.row,0),u=a.row-l+1;F(Array.from(new Array(u),(c,h)=>l+h),c=>{r.has(c)||r.add(c)})});const o=Array.from(r).sort((i,s)=>i-s);return fo(o,(i,s,a,l)=>(a!==0&&s===l[a-1]+1?i[i.length-1][1]+=1:i.push([s,1]),i),[])}function uCe(t,e,n){cCe(t,e),e.set(t,n)}function cCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gc(t,e,n){return e=hCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hCe(t){var e=dCe(t,"string");return typeof e=="symbol"?e:String(e)}function dCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vz(t,e,n){var r=Uz(t,e,"set");return fCe(t,r,n),n}function fCe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Bz(t,e){var n=Uz(t,e,"get");return gCe(t,n)}function Uz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function gCe(t,e){return e.get?e.get.call(t):e.value}var Rw=new WeakMap;class zz{constructor(e,n){var r=this;gc(this,"settings",void 0),gc(this,"tableProps",void 0),gc(this,"inProgress",!1),gc(this,"selectedRange",new nCe((o,i,s)=>this.tableProps.createCellRange(o,i,s))),gc(this,"highlight",void 0),gc(this,"transformation",void 0),gc(this,"selectedByRowHeader",new Set),gc(this,"selectedByColumnHeader",new Set),uCe(this,Rw,{writable:!0,value:!1}),this.settings=e,this.tableProps=n,this.highlight=new Z0e({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[SM()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(o,i)=>this.tableProps.isDisabledCellSelection(o,i),cellCornerVisible:function(){return r.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible(...arguments)},visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),createCellCoords:(o,i)=>this.tableProps.createCellCoords(o,i),createCellRange:(o,i,s)=>this.tableProps.createCellRange(o,i,s)}),this.transformation=new Hz(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),countRowHeaders:()=>this.tableProps.countRowHeaders(),countColHeaders:()=>this.tableProps.countColHeaders(),visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),createCellCoords:(o,i)=>this.tableProps.createCellCoords(o,i),navigableHeaders:()=>e.navigableHeaders,fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformStart",...i)}),this.transformation.addLocalHook("afterTransformStart",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("afterModifyTransformStart",...i)}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformEnd",...i)}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("afterModifyTransformEnd",...i)}),this.transformation.addLocalHook("insertRowRequire",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("insertRowRequire",...i)}),this.transformation.addLocalHook("insertColRequire",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("insertColRequire",...i)}),this.transformation.addLocalHook("beforeRowWrap",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeRowWrap",...i)}),this.transformation.addLocalHook("beforeColumnWrap",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeColumnWrap",...i)})}getSelectedRange(){return this.selectedRange}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}isInProgress(){return this.inProgress}setRangeStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const i=this.settings.selectionMode==="multiple",s=Tn(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();this.runLocalHooks(`beforeSetRangeStart${r?"Only":""}`,a),(!i||i&&!s&&Tn(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(o.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),r||this.setRangeEnd(e)}setRangeStartOnly(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,r)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),r=this.tableProps.countRows(),o=this.tableProps.countCols(),i=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((r>0||o>0)&&(r===0&&n.col<0&&!i||o===0&&n.row<0&&!i))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const s=this.selectedRange.current();this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single"?(s.setFrom(s.highlight),s.setTo(s.highlight)):s.setTo(n),r>0&&o>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet");const a=this.highlight.getFocus();a.clear(),this.highlight.isEnabledFor(v_,s.highlight)&&a.add(this.selectedRange.current().highlight).commit().syncWith(s);const l=this.getLayerLevel();l<this.highlight.layerLevel&&(F(this.highlight.getAreas(),y=>void y.clear()),F(this.highlight.getLayeredAreas(),y=>void y.clear()),F(this.highlight.getRowHeaders(),y=>void y.clear()),F(this.highlight.getColumnHeaders(),y=>void y.clear()),F(this.highlight.getActiveRowHeaders(),y=>void y.clear()),F(this.highlight.getActiveColumnHeaders(),y=>void y.clear()),F(this.highlight.getActiveCornerHeaders(),y=>void y.clear()),F(this.highlight.getRowHighlights(),y=>void y.clear()),F(this.highlight.getColumnHighlights(),y=>void y.clear())),this.highlight.useLayerLevel(l);const u=this.highlight.createArea(),c=this.highlight.createLayeredArea(),h=this.highlight.createRowHeader(),d=this.highlight.createColumnHeader(),g=this.highlight.createActiveRowHeader(),p=this.highlight.createActiveColumnHeader(),v=this.highlight.createActiveCornerHeader(),C=this.highlight.createRowHighlight(),w=this.highlight.createColumnHighlight();if(u.clear(),c.clear(),h.clear(),d.clear(),g.clear(),p.clear(),v.clear(),C.clear(),w.clear(),this.highlight.isEnabledFor(w_,s.highlight)&&(this.isMultiple()||l>=1)&&(u.add(s.from).add(s.to).commit(),c.add(s.from).add(s.to).commit(),l===1)){const y=this.selectedRange.previous();this.highlight.useLayerLevel(l-1),this.highlight.createArea().add(y.from).commit().syncWith(y),this.highlight.createLayeredArea().add(y.from).commit().syncWith(y),this.highlight.useLayerLevel(l)}if(this.highlight.isEnabledFor(p_,s.highlight)){if(!s.isSingleHeader()){const T=this.tableProps.createCellCoords(Math.max(s.from.row,0),-1),_=this.tableProps.createCellCoords(s.to.row,-1),E=this.tableProps.createCellCoords(-1,Math.max(s.from.col,0)),O=this.tableProps.createCellCoords(-1,s.to.col);this.settings.selectionMode==="single"?(h.add(T).commit(),d.add(E).commit(),C.add(T).commit(),w.add(E).commit()):(h.add(T).add(_).commit(),d.add(E).add(O).commit(),C.add(T).add(_).commit(),w.add(E).add(O).commit())}const y=!Bz(this,Rw)&&this.isEntireRowSelected()&&(o>0&&o===s.getWidth()||o===0&&this.isSelectedByRowHeader()),x=!Bz(this,Rw)&&this.isEntireColumnSelected()&&(r>0&&r===s.getHeight()||r===0&&this.isSelectedByColumnHeader());y&&g.add(this.tableProps.createCellCoords(Math.max(s.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(s.to.row,0),-1)).commit(),x&&p.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(s.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(s.to.col,0))).commit(),y&&x&&v.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}this.runLocalHooks("afterSetRangeEnd",e)}isMultiple(){const e=Aa(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.setRangeStart(this.transformation.transformStart(e,n,r))}transformEnd(e,n){this.setRangeEnd(this.transformation.transformEnd(e,n))}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{col:i}=o.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&i<0||s===0)&&o.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{row:i}=o.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&i<0||s===0)&&o.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const i=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),u=r?-l:0,c=n?-a:0;if(u===0&&c===0&&(i===0||s===0))return;let h=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:d,disableHeadersHighlight:g}=o;Vz(this,Rw,g),d&&Number.isInteger(d==null?void 0:d.row)&&Number.isInteger(d==null?void 0:d.col)&&(h=this.tableProps.createCellCoords(Ei(d.row,u,i-1),Ei(d.col,c,s-1)));const p=this.tableProps.createCellCoords(u,c),v=this.tableProps.createCellCoords(i-1,s-1);this.clear(),this.setRangeStartOnly(p,void 0,h),c<0&&this.selectedByRowHeader.add(this.getLayerLevel()),u<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(v),this.finish(),Vz(this,Rw,!1)}selectCells(e){var n=this;const r=eg(e);if(r===WC)return!1;if(r===FC)throw new Error(un`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const o=xw(r,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),i=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:i?this.tableProps.countRowHeaders():0,countColHeaders:i?this.tableProps.countColHeaders():0},a=!e.some(l=>{const u=o(l),c=u.isValid(s);return!(c&&!u.containsHeaders()||c&&u.containsHeaders()&&u.isSingleHeader())});return a&&(this.clear(),F(e,l=>{const{from:u,to:c}=o(l);this.setRangeStartOnly(u.clone(),!1),this.setRangeEnd(c.clone()),this.finish()})),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=typeof e=="string"?this.tableProps.propToCol(e):e,i=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),u=l===0?0:-l,c=this.tableProps.createCellCoords(u,o),h=this.tableProps.createCellCoords(s-1,i),d=this.tableProps.createCellRange(c,c,h).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(d){const g=l===0?0:Ei(r,u,-1),p=s-1,v=this.tableProps.createCellCoords(g,o),C=this.tableProps.createCellCoords(p,i),w=this.tableProps.createCellCoords(Ei(r,u,s-1),o);this.runLocalHooks("beforeSelectColumns",v,C,w),v.row=g,C.row=p,this.setRangeStartOnly(v,void 0,w),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(C),this.runLocalHooks("afterSelectColumns",v,C,w),this.finish()}return d}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=this.tableProps.countRows(),i=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(e,a),u=this.tableProps.createCellCoords(n,i-1),c=this.tableProps.createCellRange(l,l,u).isValid({countRows:o,countCols:i,countRowHeaders:s,countColHeaders:0});if(c){const h=s===0?0:Ei(r,a,-1),d=i-1,g=this.tableProps.createCellCoords(e,h),p=this.tableProps.createCellCoords(n,d),v=this.tableProps.createCellCoords(e,Ei(r,a,i-1));this.runLocalHooks("beforeSelectRows",g,p,v),g.col=h,p.col=d,this.setRangeStartOnly(g,void 0,v),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(p),this.runLocalHooks("afterSelectRows",g,p,v),this.finish()}return c}refresh(){if(this.highlight.getCustomSelections().forEach(r=>{r.commit()}),!this.isSelected())return;const e=this.highlight.getFocus(),n=this.getLayerLevel();e.commit().syncWith(this.selectedRange.current());for(let r=0;r<this.selectedRange.size();r+=1){this.highlight.useLayerLevel(r);const o=this.highlight.createArea(),i=this.highlight.createLayeredArea(),s=this.highlight.createRowHeader(),a=this.highlight.createColumnHeader(),l=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),c=this.highlight.createActiveCornerHeader(),h=this.highlight.createRowHighlight(),d=this.highlight.createColumnHighlight();o.commit(),i.commit(),s.commit(),a.commit(),l.commit(),u.commit(),c.commit(),h.commit(),d.commit()}this.highlight.useLayerLevel(n)}}bn(zz,ei);const mCe=zz,$z=/^(\r\n|\n\r|\r|\n)/,pCe=/^[^\t\r\n]+/,Gz=/^\t/;function wCe(t){const e=[[""]];if(t.length===0)return e;let n=0,r=0,o;for(;t.length>0&&o!==t.length;)if(o=t.length,t.match(Gz))t=t.replace(Gz,""),n+=1,e[r][n]="";else if(t.match($z))t=t.replace($z,""),n=0,r+=1,e[r]=[""];else{let i="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(s+=1),i+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}i=i.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const s=t.match(pCe);i=s?s[0]:"",t=t.slice(i.length)}e[r][n]=i}return e}function kw(t){let e,n,r,o,i="",s;for(e=0,n=t.length;e<n;e+=1){for(o=t[e].length,r=0;r<o;r+=1)r>0&&(i+="	"),s=t[e][r],typeof s=="string"?s.indexOf(`
`)>-1?i+=`"${s.replace(/"/g,'""')}"`:i+=s:s==null?i+="":i+=s;e!==n-1&&(i+=`
`)}return i}function Fh(t,e,n){return e=vCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vCe(t){var e=yCe(t,"string");return typeof e=="symbol"?e:String(e)}function yCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tg{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,r){Fh(this,"hot",void 0),Fh(this,"metaManager",void 0),Fh(this,"tableMeta",void 0),Fh(this,"dataSource",void 0),Fh(this,"duckSchema",void 0),Fh(this,"colToPropCache",void 0),Fh(this,"propToColCache",void 0),this.hot=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=n,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let r;if(this.colToPropCache=[],this.propToColCache=new Map,n){let o=0,i=0,s=!1;if(typeof n=="function"){const a=AM(e);o=a>0?a:this.countFirstRowKeys(),s=!0}else{const a=this.tableMeta.maxCols;o=Math.min(a,n.length)}for(r=0;r<o;r++){const a=s?n(r):n[r];if(Ot(a)){if(typeof a.data<"u"){const l=s?i:r;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}i+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return uz(this.dataSource)}recursiveDuckColumns(e,n,r){let o=n,i=r,s;return typeof o>"u"&&(o=0,i=""),typeof e=="object"&&!Array.isArray(e)&&It(e,(a,l)=>{a===null?(s=i+l,this.colToPropCache.push(s),this.propToColCache.set(s,o),o+=1):o=this.recursiveDuckColumns(a,o,`${l}.`)}),o}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&Be(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(Be(n))return this.hot.toVisualColumn(n);const r=this.hot.toVisualColumn(e);return r===null?e:r}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Zp(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:o="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.hot.countSourceRows();let s=i,a=0,l=e;if((typeof l!="number"||l>=i)&&(l=i),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,n,r)===!1||s===null)return{delta:0};const u=this.tableMeta.maxRows,c=this.getSchema().length,h=[];for(;a<n&&i+a<u;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=_o(this.getSchema()):(g=[],Je(c-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},Z0(g,this.getSchema())),h.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),o==="below"&&(s=Math.min(s+1,i)),this.spliceData(s,0,h);const d=this.hot.toVisualRow(s);return this.hot.countSourceRows()===h.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):r!=="auto"&&this.metaManager.createRow(s,n)),this.hot.runHooks("afterCreateRow",d,a,r),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:o="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const i=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols();let l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,n,r)===!1)return{delta:0};let u=a;l<this.hot.countCols()&&(u=this.hot.toPhysicalColumn(l));const c=this.hot.countSourceRows();let h=this.hot.countCols(),d=0,g=u;o==="end"&&(g=Math.min(g+1,a));const p=g;for(;d<n&&h<s;){if(typeof l!="number"||l>=h)if(c>0)for(let C=0;C<c;C+=1)typeof i[C]>"u"&&(i[C]=[]),i[C].push(null);else i.push([null]);else for(let C=0;C<c;C++)i[C].splice(g,0,null);d+=1,g+=1,h+=1}this.hot.columnIndexMapper.insertIndexes(l,d),d>0&&(e==null?this.metaManager.createColumn(null,d):r!=="auto"&&this.metaManager.createColumn(p,n));const v=this.hot.toVisualColumn(p);return this.hot.runHooks("afterCreateCol",v,d,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:d,startPhysicalIndex:p}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(e)?e:-n;const i=this.visualRowsToPhysical(o,n),s=this.hot.countSourceRows();if(o=(s+o)%s,this.hot.runHooks("beforeRemoveRow",o,i.length,i,r)===!1)return!1;const a=i.length;if(this.filterData(o,a,i),o<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(i);const l=Be(this.tableMeta.columns)||Be(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&l===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return i.slice(0).sort((l,u)=>u-l).forEach(l=>{this.metaManager.removeRow(l,1)}),this.hot.runHooks("afterRemoveRow",o,a,i,r),this.hot.forceFullRender=!0,!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let o=typeof e!="number"?-n:e;o=(this.hot.countCols()+o)%this.hot.countCols();const i=this.visualColumnsToPhysical(o,n),s=i.slice(0).sort((c,h)=>h-c);if(this.hot.runHooks("beforeRemoveCol",o,n,i,r)===!1)return!1;let a=!0;const l=s.length,u=this.dataSource;for(let c=0;c<l;c++)a&&i[0]!==i[c]-c&&(a=!1);if(a)for(let c=0,h=this.hot.countSourceRows();c<h;c++)u[c].splice(i[0],n),c===0&&this.metaManager.removeColumn(i[0],n);else for(let c=0,h=this.hot.countSourceRows();c<h;c++)for(let d=0;d<l;d++)u[c].splice(s[d],1),c===0&&this.metaManager.removeColumn(s[d],1);return o<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(i),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",o,n,i,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,n,r){const o=this.hot.getDataAtCol(e),i=o.slice(n,n+r),s=o.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];NB(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return _me(l),this.hot.populateFromArray(n,e,l,null,null,"spliceCol"),i}spliceRow(e,n,r){const o=this.hot.getSourceDataAtRow(e),i=o.slice(n,n+r),s=o.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];NB(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return this.hot.populateFromArray(e,n,[l],null,null,"spliceRow"),i}spliceData(e,n,r){if(this.hot.runHooks("beforeDataSplice",e,n,r)!==!1){const o=[...this.dataSource.slice(0,e),...r,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(i=>this.dataSource.push(i))}}filterData(e,n,r){let o=this.hot.runHooks("filterData",e,n,r);Array.isArray(o)===!1&&(o=this.dataSource.filter((i,s)=>r.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}get(e,n){const r=this.hot.toPhysicalRow(e);let o=this.dataSource[r];const i=this.hot.runHooks("modifyRowData",r);o=isNaN(i)?i:o;let s=null;if(o&&o.hasOwnProperty&&Qn(o,n))s=o[n];else if(typeof n=="string"&&n.indexOf(".")>-1){const a=n.split(".");let l=o;if(!l)return null;for(let u=0,c=a.length;u<c;u++)if(l=l[a[u]],typeof l>"u")return null;s=l}else typeof n=="function"&&(s=n(this.dataSource.slice(r,r+1)[0]));if(this.hot.hasHook("modifyData")){const a=Aa(s);this.hot.runHooks("modifyData",r,this.propToCol(n),a,"get"),a.isTouched()&&(s=a.value)}return s}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,r){const o=this.hot.toPhysicalRow(e);let i=r,s=this.dataSource[o];const a=this.hot.runHooks("modifyRowData",o);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){const l=Aa(i);this.hot.runHooks("modifyData",o,this.propToCol(n),l,"set"),l.isTouched()&&(i=l.value)}if(s&&s.hasOwnProperty&&Qn(s,n))s[n]=i;else if(typeof n=="string"&&n.indexOf(".")>-1){const l=n.split(".");let u=s,c=0,h;for(c=0,h=l.length-1;c<h;c++)typeof u[l[c]]>"u"&&(u[l[c]]={}),u=u[l[c]];u[l[c]]=i}else typeof n=="function"?n(this.dataSource.slice(o,o+1)[0],i):s[n]=i}visualRowsToPhysical(e,n){const r=this.hot.countSourceRows(),o=[];let i=(r+e)%r,s=n,a;for(;i<r&&s;)a=this.hot.toPhysicalRow(i),o.push(a),s-=1,i+=1;return o}visualColumnsToPhysical(e,n){const r=this.hot.countCols(),o=[];let i=(r+e)%r,s=n;for(;i<r&&s;){const a=this.hot.toPhysicalColumn(i);o.push(a),s-=1,i+=1}return o}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(r,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,tg.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,r){const o=[];let i,s,a;const l=this.tableMeta.maxRows,u=this.tableMeta.maxCols;if(l===0||u===0)return[];const c=r===tg.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),d=Math.min(Math.max(u-1,0),Math.max(e.col,n.col));for(i=Math.min(e.row,n.row);i<=h;i++){a=[];const g=i>=0?this.hot.toPhysicalRow(i):i;for(s=Math.min(e.col,n.col);s<=d&&g!==null;s++)a.push(c.call(this,i,this.colToProp(s)));g!==null&&o.push(a)}return o}getText(e,n){return kw(this.getRange(e,n,tg.DESTINATION_RENDERER))}getCopyableText(e,n){return kw(this.getRange(e,n,tg.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}const{register:bCe,getItem:CCe,hasItem:Yz,getNames:HWe,getValues:NWe}=Bs("cellTypes");function SCe(t){if(!Yz(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return CCe(t)}function qs(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:r,validator:o}=e;n&&ki(t,n),r&&as(t,r),o&&$f(t,o),bCe(t,e)}function xCe(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!Qn(e,t)}function VC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const r=typeof e.type=="string"?SCe(e.type):e.type;if(t._automaticallyAssignedMetaProps&&It(e,(i,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!Ot(r))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const o={};It(r,(i,s)=>{if(xCe(s,n)){var a;o[s]=i,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),yr(t,o)}function RCe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}nc(n,t);for(let r=0;r<e.length;r++)n.prototype[e[r]]=void 0;return n}function BC(t){return Number.isInteger(t)&&t>=0}function UC(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function zC(t){return t==null}const qz=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,r;for(e=0,n=this.countRows();e<n;e++)if(r=this.getDataAtCell(e,t),Tr(r)===!1)return!1;return!0},isEmptyRow(t){let e,n,r,o;for(e=0,n=this.countCols();e<n;e++)if(r=this.getDataAtCell(t,e),Tr(r)===!1)return typeof r=="object"?(o=this.getCellMeta(t,e),_M(this.getSchema()[o.prop],r)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function Kz(t,e,n){return e=kCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kCe(t){var e=ECe(t,"string");return typeof e=="symbol"?e:String(e)}function ECe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TCe(){return class{}}class MCe{constructor(e){Kz(this,"metaCtor",TCe()),Kz(this,"meta",void 0),this.meta=this.metaCtor.prototype,yr(this.meta,qz()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;yr(this.meta,e),VC(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function _Ce(t,e,n){return e=OCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OCe(t){var e=ACe(t,"string");return typeof e=="symbol"?e:String(e)}function ACe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PCe{constructor(e){_Ce(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){yr(this.meta,e),VC(this.meta,e,e)}}let Qz;function $C(t,e,n){return e=ICe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ICe(t){var e=HCe(t,"string");return typeof e=="symbol"?e:String(e)}function HCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Qz=Symbol.iterator;class GC{constructor(e){$C(this,"valueFactory",void 0),$C(this,"data",[]),$C(this,"index",[]),$C(this,"holes",new Set),this.valueFactory=e}obtain(e){UC(()=>BC(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let r;if(n>=0)r=this.data[n],r===void 0&&(r=this.valueFactory(e),this.data[n]=r);else if(r=this.valueFactory(e),this.holes.size>0){const o=this.holes.values().next().value;this.holes.delete(o),this.data[o]=r,this.index[e]=o}else this.data.push(r),this.index[e]=this.data.length-1;return r}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;UC(()=>BC(e)||zC(e),"Expecting an unsigned number or null/undefined argument.");const r=[],o=this.data.length;for(let s=0;s<n;s++)r.push(o+s),this.data.push(void 0);const i=zC(e)?this.index.length:e;this.index=[...this.index.slice(0,i),...r,...this.index.slice(i)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;UC(()=>BC(e)||zC(e),"Expecting an unsigned number or null/undefined argument.");const r=this.index.splice(zC(e)?this.index.length-n:e,n);for(let o=0;o<r.length;o++){const i=r[o];typeof i=="number"&&this.holes.add(i)}}size(){return this.data.length-this.holes.size}values(){return os(this.data,(e,n)=>!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let r=0;r<this.data.length;r++){const o=this._getKeyByStorageIndex(r);o!==-1&&e.push([o,this.data[r]])}let n=0;return{next:()=>{if(n<e.length){const r=e[n];return n+=1,{value:r,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Qz](){return this.entries()}}function Xz(t,e,n){return e=NCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NCe(t){var e=DCe(t,"string");return typeof e=="symbol"?e:String(e)}function DCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const LCe=["data","width"];class jCe{constructor(e){Xz(this,"globalMeta",void 0),Xz(this,"metas",new GC(()=>this._createMeta())),this.globalMeta=e,this.metas=new GC(()=>this._createMeta())}updateMeta(e,n){const r=this.getMeta(e);yr(r,n),VC(r,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return RCe(this.globalMeta.getMetaConstructor(),LCe).prototype}}function Jz(t,e,n){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FCe(t){var e=WCe(t,"string");return typeof e=="symbol"?e:String(e)}function WCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VCe{constructor(e){Jz(this,"columnMeta",void 0),Jz(this,"metas",new GC(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,r){const o=this.getMeta(e,n);yr(o,r),VC(o,r)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).remove(e,n)}getMeta(e,n,r){const o=this.metas.obtain(e).obtain(n);return r===void 0?o:o[r]}setMeta(e,n,r,o){var i;const s=this.metas.obtain(e).obtain(n);(i=s._automaticallyAssignedMetaProps)===null||i===void 0||i.delete(r),s[r]=o}removeMeta(e,n,r){const o=this.metas.obtain(e).obtain(n);delete o[r]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let r=0;r<n.length;r++)e.push(...n[r].values());return e}getMetasAtRow(e){UC(()=>BC(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new GC(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class Zz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new MCe(e),this.tableMeta=new PCe(this.globalMeta),this.columnMeta=new jCe(this.globalMeta),this.cellMeta=new VCe(this.columnMeta),r.forEach(o=>new o(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,r){let{visualRow:o,visualColumn:i}=r;const s=this.cellMeta.getMeta(e,n);return s.visualRow=o,s.visualCol=i,s.row=e,s.col=n,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(e,n,r){if(typeof r!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,r)}setCellMeta(e,n,r,o){this.cellMeta.setMeta(e,n,r,o)}updateCellMeta(e,n,r){this.cellMeta.updateMeta(e,n,r)}removeCellMeta(e,n,r){this.cellMeta.removeMeta(e,n,r)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}bn(Zz,ei);function e$(t,e,n,r){const{hotInstance:o,dataMap:i,dataSource:s,internalSource:a,source:l,metaManager:u,firstRun:c}=r,h=Ws(a),d=o.getSettings();Array.isArray(d.dataSchema)?o.dataType="array":Mn(d.dataSchema)?o.dataType="function":o.dataType="object",i&&i.destroy(),t=o.runHooks(`before${h}`,t,c,l);const g=new tg(o,t,u);if(e(g),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const p=g.getSchema();t=[];let v,C=0,w=0;for(C=0,w=d.startRows;C<w;C++)if((o.dataType==="object"||o.dataType==="function")&&d.dataSchema)v=_o(p),t.push(v);else if(o.dataType==="array")v=_o(p[0]),t.push(v);else{v=[];for(let y=0,x=d.startCols;y<x;y++)v.push(null);t.push(v)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(o.dataType="array"),d.data=t,g.dataSource=t,s.data=t,s.dataType=o.dataType,s.colToProp=g.colToProp.bind(g),s.propToCol=g.propToCol.bind(g),s.countCachedColumns=g.countCachedColumns.bind(g),n(g),o.runHooks(`after${h}`,t,c,l),c||(o.runHooks("afterChange",null,a),o.render()),o.getSettings().ariaTags&&dt(o.rootElement,[QB(-1),$0(o.countCols()+(o.view?o.countRowHeaders():0))])}function t$(t,e,n){return e=BCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BCe(t){var e=UCe(t,"string");return typeof e=="symbol"?e:String(e)}function UCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zCe{constructor(e){t$(this,"metaManager",void 0),t$(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",n=>this.extendCellMeta(n)),$e.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:r,col:o}=e;if((n=this.metaSyncMemo.get(r))!==null&&n!==void 0&&n.has(o))return;const{visualRow:i,visualCol:s}=e,a=this.metaManager.hot,l=a.colToProp(s);e.prop=l,a.runHooks("beforeGetCellMeta",i,s,e);const u=Qn(e,"type")?e.type:null;let c=Mn(e.cells)?e.cells(r,o,l):null;if(u)if(c){var h;c.type=(h=c.type)!==null&&h!==void 0?h:u}else c={type:u};c&&this.metaManager.updateCellMeta(r,o,c),a.runHooks("afterGetCellMeta",i,s,e),this.metaSyncMemo.has(r)||this.metaSyncMemo.set(r,new Set),this.metaSyncMemo.get(r).add(o)}}function SA(t,e,n){return e=$Ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ce(t){var e=GCe(t,"string");return typeof e=="symbol"?e:String(e)}function GCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class YCe{constructor(e){SA(this,"metaManager",void 0),SA(this,"usageTracker",new Set),SA(this,"propDescriptors",new Map([["ariaTags",{onChange(n,r,o){if(!o)throw new Error(`The \`${n}\` option can not be updated after the Handsontable instance was initialized.`)}}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange(n,r,o){if(!o)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}}]])),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{target:r,onChange:o=()=>{}}=e,i=typeof r=="string",s=i?r:n,a=`_${s}`;this.metaManager.globalMeta.meta[a]=this.metaManager.globalMeta.meta[s],this.installPropWatcher(n,a,o),i&&this.installPropWatcher(r,a,o)})}installPropWatcher(e,n,r){const o=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(i){const s=!o.usageTracker.has(e);o.usageTracker.add(e),r.call(o,e,i,s),this[n]=i},enumerable:!0,configurable:!0})}}const n$="gridDefault",xA="editorManager.handlingEditor",qCe={name:"editorCloseAndSave",callback(t,e,n){const r=t._getEditorManager();r.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),r.moveSelectionAfterEnter(n.includes("shift"))}},KCe={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},QCe={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},XCe={name:"editorOpen",callback(t,e,n){const r=t._getEditorManager(),{highlight:o}=t.getSelectedRangeLast();o.isHeader()||(t.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter():r.openEditor(null,e,!0):r.moveSelectionAfterEnter(n.includes("shift")),Vs(e))}};function JCe(){return[qCe,KCe,QCe,XCe]}const ZCe={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}},eSe={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(r!==null){const o=t._createCellCoords(r,e.col),i=e.row-t.view.getFirstFullyVisibleRow(),s=Math.min(o.row-i,t.countRows()-1);t.selection.setRangeEnd(o),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}},tSe={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}},nSe={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}},rSe={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,r.col,e.row)}},oSe={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1);e.setRangeStart(o.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,i.col))}}},iSe={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r}=t.getSelectedRangeLast();r.isCell()&&e.setRangeEnd(t._createCellCoords(e.selectedRange.current().from.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},sSe={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r}=t.getSelectedRangeLast();r.isCell()&&e.setRangeEnd(t._createCellCoords(e.selectedRange.current().from.row,n.getNearestNotHiddenIndex(0,1)))}},aSe={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);e.setRangeStart(o.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(i.row,a))}}},lSe={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);e.setRangeStart(o.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(i.row,a))}}},uSe={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1);e.setRangeStart(o.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,i.col))}}},cSe={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,r.row,e.col)}},hSe={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}},dSe={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(r!==null){const o=t._createCellCoords(r,e.col),i=e.row-t.view.getFirstFullyVisibleRow(),s=Math.max(o.row-i,0);t.selection.setRangeEnd(o),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function fSe(){return[ZCe,eSe,tSe,nSe,rSe,oSe,iSe,sSe,aSe,lSe,uSe,cSe,hSe,dSe]}const gSe={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},mSe={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let o=t.countVisibleRows()+n;r===t.countRows()-1?o=1:r+o>t.countRows()&&(o=t.countRows()-r-1),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},pSe={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),r=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.transformStart(-r.row,-r.col)}},wSe={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),r=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.transformStart(r.row,r.col)}},vSe={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},ySe={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},bSe={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},CSe={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,o=parseInt(t.getSettings().fixedRowsBottom,10),i=n.getNearestNotHiddenIndex(t.countRows()-o-1,-1),s=r.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(i,s))}},SSe={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},xSe={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedColumnsStart,10),o=t.getSelectedRangeLast().highlight.row,i=n.getNearestNotHiddenIndex(r,1);e.setRangeStart(t._createCellCoords(o,i))}},RSe={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,r=t.getSelectedRangeLast().highlight.row;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);o===null&&(o=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(r,o))}},kSe={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:r}=t.getSelectedRangeLast().highlight;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);o===null&&(o=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(r,o))}},ESe={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},TSe={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,o=parseInt(t.getSettings().fixedRowsTop,10),i=parseInt(t.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(o,1),a=r.getNearestNotHiddenIndex(i,1);e.setRangeStart(t._createCellCoords(s,a))}},MSe={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},_Se={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let o=-(t.countVisibleRows()+n);r===-n?o=-1:r+o<n&&(o=-(r+n)),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function OSe(){return[gSe,mSe,pSe,wSe,vSe,ySe,bSe,CSe,SSe,xSe,RSe,kSe,ESe,TSe,MSe,_Se]}const ASe={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},PSe={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,r=t.view.getFirstFullyVisibleColumn()-1,o=t.view.getLastFullyVisibleRow()+1,i=t.view.getLastFullyVisibleColumn()+1,s=t._createCellCoords(n,r),a=t._createCellCoords(o,i);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){const l={};if(e.col>=0){const u=Math.floor(t.countVisibleCols()/2);l.col=Math.max(e.col-u,0)}if(e.row>=0){const u=Math.floor(t.countVisibleRows()/2);l.row=Math.max(e.row-u,0)}t.scrollViewportTo({...l,verticalSnap:"top",horizontalSnap:"start"})}}},ISe={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},HSe={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},NSe={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:r}=e[e.length-1].highlight.normalize(),o=t.getDataAtCell(n,r),i=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==n||l!==r)){const{readOnly:u}=t.getCellMeta(a,l);u||i.set(`${a}x${l}`,[a,l,o])}});t.setDataAtCell(Array.from(i.values()))}},DSe=[...JCe(),...fSe(),...OSe(),ASe,PSe,ISe,HSe,NSe];function r$(t){const e={};return DSe.forEach(n=>{let{name:r,callback:o}=n;e[r]=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return o(t,...s)}}),e}function LSe(t){const e=t.getShortcutManager().addContext("editor"),n=r$(t),r={group:xA};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(o,i)=>n.editorCloseAndSave(o,i)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(o,i)=>n.editorCloseAndSave(o,i)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function jSe(t){const e=t.getShortcutManager().addContext("grid"),n=r$(t),r={runOnlyIf:()=>{const{navigableHeaders:o}=t.getSettings();return Be(t.getSelected())&&(o||!o&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:n$};e.addShortcuts([{keys:[["F2"]],callback:o=>n.editorFastOpen(o)},{keys:[["Enter"],["Enter","Shift"]],callback:(o,i)=>n.editorOpen(o,i)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:xA,runOnlyIf:()=>Be(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells()},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()&&t.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:()=>n.moveCellSelectionInlineStart()},{keys:[["Shift","Tab"]],preventDefault:!1,callback:()=>n.moveCellSelectionInlineEnd()},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function FSe(t){[LSe,jSe].forEach(e=>e(t))}function WSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,r=o$(t),o=o$(t);return r.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),o.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(r),n.lastChild.after(o),{activate(){t._registerTimeout(()=>{r.tabIndex=0,o.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{r.tabIndex=-1,o.tabIndex=-1},10)}}}function o$(t){const e=t.rootDocument.createElement("input");return e.type="text",e.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&dt(e,[_a(),Ll()]),e}function VSe(t){const e=BSe(t);let n;const{activate:r,deactivate:o}=WSe(t,{onFocusFromTop(){var h;const d=(h=e(n))!==null&&h!==void 0?h:RA(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_above",d),t.selectCell(d.row,d.col)),t.listen()},onFocusFromBottom(){var h;const d=(h=e(n))!==null&&h!==void 0?h:kA(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_below",d),t.selectCell(d.row,d.col)),t.listen()}}),i={wrapped:!1,flipped:!1};let s=!0,a=!1,l=!1;t.addHook("afterListen",()=>o()),t.addHook("afterUnlisten",()=>r()),t.addHook("afterSelection",(h,d,g,p,v)=>{if(a&&(i.wrapped&&i.flipped||l)&&(l=!1,v.value=!0),s){var C;n=(C=t.getSelectedRangeLast())===null||C===void 0?void 0:C.highlight}}),t.addHook("beforeRowWrap",(h,d,g)=>{i.wrapped=!0,i.flipped=g});function u(){i.wrapped=!1,i.flipped=!1,t.deselectCell(),t.unlisten()}const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:n$,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:h}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!h&&(s=!1),h||(l=!0)},position:"before"},{...c,callback:h=>{const{tabNavigation:d,autoWrapRow:g}=t.getSettings();if(a=!1,s=!0,!d||!t.selection.isSelected()||g&&i.wrapped&&i.flipped||!g&&i.wrapped)return g&&i.wrapped&&i.flipped&&(n=h.shiftKey?RA(t):kA(t)),u(),!1;h.preventDefault()},position:"after"}])}function RA(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:r}=t.getSettings();let o=r&&t.countColHeaders()>0?-t.countColHeaders():0,i=r&&t.countRowHeaders()>0?-t.countRowHeaders():0;return o===0&&(o=e.getVisualFromRenderableIndex(o)),i===0&&(i=n.getVisualFromRenderableIndex(i)),o===null||i===null?null:t._createCellCoords(o,i)}function kA(t){var e,n;const{rowIndexMapper:r,columnIndexMapper:o}=t,{navigableHeaders:i}=t.getSettings();let s=r.getRenderableIndexesLength()-1,a=o.getRenderableIndexesLength()-1;if(s<0){if(!i||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!i||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=r.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(n=o.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function BSe(t){return e=>{if(!e)return null;const n=RA(t),r=kA(t);return e.col<n.col&&(e.col=n.col),e.col>r.col&&(e.col=r.col),e.row<n.row&&(e.row=n.row),e.row>r.row&&(e.row=r.row),e}}const i$=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),YC=t=>t.map(e=>{const n=e.toLowerCase();return i$.has(n)?i$.get(n):n}).sort().join("+"),USe=t=>t.split("+"),s$=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),zSe=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),EA=t=>{let{key:e,code:n}=t,r=e;return s$.test(n)?r=n.replace(s$,"$1"):zSe.has(n)&&(r=n),r.toLowerCase()},a$=Symbol("shortcut-context");function l$(t){return Ot(t)&&t.__kindOf===a$}const $Se=t=>{const e=lC({errorIdExists:i=>`The "${i}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:i,callback:s,group:a,runOnlyIf:l=()=>!0,captureCtrl:u=!1,preventDefault:c=!0,stopPropagation:h=!1,relativeToGroup:d,position:g,forwardToContext:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Tn(a))throw new Error("You need to define the shortcut's group.");if(Mn(s)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(i)===!1)throw new Error(un`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const v={callback:s,group:a,runOnlyIf:l,captureCtrl:u,preventDefault:c,stopPropagation:h};Be(d)&&([v.relativeToGroup,v.position]=[d,g]),l$(p)&&(v.forwardToContext=p),i.forEach(C=>{const w=YC(C);if(e.hasItem(w)){const y=e.getItem(w);let x=y.findIndex(T=>T.group===d);x!==-1?g==="before"?x-=1:x+=1:x=y.length,y.splice(x,0,v)}else e.addItem(w,[v])})},r=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.forEach(a=>{It(s,(l,u)=>{Object.prototype.hasOwnProperty.call(a,u)===!1&&(a[u]=s[u])}),n(a)})},o=i=>{const s=YC(i);e.removeItem(s)};return{__kindOf:a$,addShortcut:n,addShortcuts:r,getShortcuts:i=>{const s=YC(i),a=e.getItem(s);return Be(a)?a.slice():[]},hasShortcut:i=>{const s=YC(i);return e.hasItem(s)},removeShortcutsByKeys:o,removeShortcutsByGroup:i=>{e.getItems().forEach(s=>{let[a,l]=s;const u=l.filter(c=>c.group!==i);u.length===0?o(USe(a)):(l.length=0,l.push(...u))})}}};function GSe(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const YSe=["meta","alt","shift","control"],Ew=GSe();let qC=0;function qSe(t,e,n,r,o){const i=h=>YSe.includes(h),s=function(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const g=[];return h.altKey&&g.push("alt"),d&&(h.ctrlKey||h.metaKey)?g.push("control/meta"):(h.ctrlKey&&g.push("control"),h.metaKey&&g.push("meta")),h.shiftKey&&g.push("shift"),g},a=h=>{if(e(h)===!1)return;const d=n(h);if(h.keyCode===229||d===!1||Mh(h))return;const g=EA(h);let p=[];i(g)||(p=s(h));const v=[g].concat(p);!o(h,v)&&(HM()&&p.includes("meta")||!HM()&&p.includes("control"))&&o(h,[g].concat(s(h,!0))),r(h)},l=h=>{const d=EA(h);i(d)&&Ew.press(d)},u=h=>{const d=EA(h);i(d)&&Ew.release(d)},c=()=>{Ew.releaseAll()};return{mount:()=>{let h=t;for(qC+=1;h;)qC===1&&(h.document.documentElement.addEventListener("keydown",l),h.document.documentElement.addEventListener("keyup",u)),h.document.documentElement.addEventListener("keydown",a),h.document.documentElement.addEventListener("blur",c),h=G0(h)},unmount:()=>{let h=t;for(qC-=1;h;)qC===0&&(h.document.documentElement.removeEventListener("keydown",l),h.document.documentElement.removeEventListener("keyup",u)),h.document.documentElement.removeEventListener("keydown",a),h.document.documentElement.removeEventListener("blur",c),h=G0(h)},isPressed:h=>Ew.isPressed(h),releasePressedKeys:()=>Ew.releaseAll()}}const KSe=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:r,afterKeyDown:o}=t;const i=lC({errorIdExists:p=>`The "${p}" context name is already registered.`});let s="grid";const a=p=>{const v=$Se(p);return i.addItem(p,v),v},l=()=>s,u=p=>i.getItem(p),c=p=>{if(!i.hasItem(p))throw new Error(un`You've tried to activate the "${p}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=p};let h=!1;const d=function(p,v){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const w=l$(C)?C:u(C);let y=!1;if(!w.hasShortcut(v))return y;const x=w.getShortcuts(v);for(let T=0;T<x.length;T++){const{callback:_,runOnlyIf:E,preventDefault:O,stopPropagation:N,captureCtrl:H,forwardToContext:L}=x[T];if(E(p)===!0){if(h=H,y=_(p,v)===!1,h=!1,O&&p.preventDefault(),N&&(Vs(p),p.stopPropagation()),y)break;L&&d(p,v,L)}}return y},g=qSe(e,n,r,o,d);return g.mount(),{addContext:a,getActiveContextName:l,getContext:u,setActiveContextName:c,isCtrlPressed:()=>!h&&(g.isPressed("control")||g.isPressed("meta")),releasePressedKeys:()=>g.releasePressedKeys(),destroy:()=>g.unmount()}};let TA=null;const MA=new Map;function u$(t,e){var n,r=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=this;const a=new Us(s);let l,u,c,h,d,g=!0;Fbe(o)&&jbe(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const p=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",v=["rtl","ltr"].includes(p)?p:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",v),this.isRtl=function(){return v==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=L0e(e.language);const C=new Zz(s,e,[zCe,YCe]),w=C.getTableMeta(),y=C.getGlobalMeta(),x=lC();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),kC(this)&&Ime(e.licenseKey,t),this.guid=`ht_${UB()}`,MA.set(this.guid,this),this.columnIndexMapper=new B_,this.rowIndexMapper=new B_,this.columnIndexMapper.addLocalHook("indexesSequenceChange",S=>{s.runHooks("afterColumnSequenceChange",S)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",S=>{s.runHooks("afterRowSequenceChange",S)}),u=new Jbe(s),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const T=S=>{const{row:R,col:M}=S;return s._createCellCoords(R>=0?s.rowIndexMapper.getRenderableFromVisualIndex(R):R,M>=0?s.columnIndexMapper.getRenderableFromVisualIndex(M):M)},_=S=>{const{row:R,col:M}=S;return s._createCellCoords(R>=0?s.rowIndexMapper.getVisualFromRenderableIndex(R):R,M>=0?s.columnIndexMapper.getVisualFromRenderableIndex(M):M)};let E=new mCe(w,{rowIndexMapper:s.rowIndexMapper,columnIndexMapper:s.columnIndexMapper,countCols:()=>s.countCols(),countRows:()=>s.countRows(),propToCol:S=>l.propToCol(S),isEditorOpened:()=>s.getActiveEditor()?s.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),getShortcutManager:()=>s.getShortcutManager(),createCellCoords:(S,R)=>s._createCellCoords(S,R),createCellRange:(S,R,M)=>s._createCellRange(S,R,M),visualToRenderableCoords:T,renderableToVisualCoords:_,isDisabledCellSelection:(S,R)=>S<0||R<0?s.getSettings().disableVisualSelection:s.getCellMeta(S,R).disableVisualSelection});this.selection=E;const O=S=>{let{hiddenIndexesChanged:R}=S;R&&this.selection.refresh()};this.columnIndexMapper.addLocalHook("cacheUpdated",O),this.rowIndexMapper.addLocalHook("cacheUpdated",O),this.selection.addLocalHook("afterSetRangeEnd",S=>{const R=Aa(!1),M=this.selection.getSelectedRange(),{from:D,to:W}=M.current(),U=M.size()-1;this.runHooks("afterSelection",D.row,D.col,W.row,W.col,R,U),this.runHooks("afterSelectionByProp",D.row,s.colToProp(D.col),W.row,s.colToProp(W.col),R,U);let se=!0;i&&(se=!1),R.isTouched()&&(se=!R.value);const ae=this.selection.selectedRange.current(),Se=this.selection.isSelectedByAnyHeader(),Ce=this.selection.isSelectedByRowHeader(),we=this.selection.isSelectedByColumnHeader();if(se!==!1)if(Se)Ce?this.scrollViewportTo({row:S.row}):we&&this.scrollViewportTo({col:S.col});else if(ae&&!this.selection.isMultiple()){const{row:ve,col:fe}=ae.from;ve<0&&fe>=0?this.scrollViewportTo({col:fe}):fe<0&&ve>=0?this.scrollViewportTo({row:ve}):this.scrollViewportTo({row:ve,col:fe})}else this.scrollViewportTo(S.toObject());Ce&&we?_e(this.rootElement,["ht__selection--rows","ht__selection--columns"]):Ce?(Rt(this.rootElement,"ht__selection--columns"),_e(this.rootElement,"ht__selection--rows")):we?(Rt(this.rootElement,"ht__selection--rows"),_e(this.rootElement,"ht__selection--columns")):Rt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",S=>{const R=S.length-1,{from:M,to:D}=S[R];this.runHooks("afterSelectionEnd",M.row,M.col,D.row,D.col,R),this.runHooks("afterSelectionEndByProp",M.row,s.colToProp(M.col),D.row,s.colToProp(D.col),R)}),this.selection.addLocalHook("afterIsMultipleSelection",S=>{const R=this.runHooks("afterIsMultipleSelection",S.value);S.value&&(S.value=R)}),this.selection.addLocalHook("afterDeselect",()=>{h.destroyEditor(),this._refreshBorders(),Rt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeSetRangeStart",...R)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeSetRangeStartOnly",...R)}).addLocalHook("beforeSetRangeEnd",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeSetRangeEnd",...R)}).addLocalHook("beforeSelectColumns",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeSelectColumns",...R)}).addLocalHook("afterSelectColumns",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("afterSelectColumns",...R)}).addLocalHook("beforeSelectRows",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeSelectRows",...R)}).addLocalHook("afterSelectRows",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("afterSelectRows",...R)}).addLocalHook("beforeModifyTransformStart",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("modifyTransformStart",...R)}).addLocalHook("afterModifyTransformStart",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("afterModifyTransformStart",...R)}).addLocalHook("beforeModifyTransformEnd",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("modifyTransformEnd",...R)}).addLocalHook("afterModifyTransformEnd",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("afterModifyTransformEnd",...R)}).addLocalHook("beforeRowWrap",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeRowWrap",...R)}).addLocalHook("beforeColumnWrap",function(){for(var S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return r.runHooks("beforeColumnWrap",...R)}).addLocalHook("insertRowRequire",S=>this.alter("insert_row_above",S,1,"auto")).addLocalHook("insertColRequire",S=>this.alter("insert_col_start",S,1,"auto")),c={alter(S,R){var M,D;let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=arguments.length>3?arguments[3]:void 0,se=arguments.length>4?arguments[4]:void 0;const ae=Se=>{if(Se.length===0)return[];const Ce=[...Se];return Ce.sort((we,ve)=>{let[fe]=we,[je]=ve;return fe===je?0:fe>je?1:-1}),fo(Ce,(we,ve)=>{let[fe,je]=ve;const xe=we[we.length-1],[oe,at]=xe,Ye=oe+at;if(fe<=Ye){const Xe=Math.max(je-(Ye-fe),0);xe[1]+=Xe}else we.push([fe,je]);return we},[Ce[0]])};switch(S){case"insert_row_below":case"insert_row_above":const Se=s.countSourceRows();if(w.maxRows===Se)return;const Ce=S==="insert_row_below"?"below":"above";R=(M=R)!==null&&M!==void 0?M:Ce==="below"?Se:0;const{delta:we,startPhysicalIndex:ve}=l.createRow(R,W,{source:U,mode:Ce});if(we){const Ye=E.selectedRange.current(),Xe=Ye==null?void 0:Ye.from,lt=Xe==null?void 0:Xe.row,Ne=s.toVisualRow(ve);if(E.isSelectedByCorner())E.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(Be(lt)&&lt>=Ne){const{row:A,col:I}=Ye.to;let j=Xe.col;E.isSelectedByRowHeader()&&(j=-1),E.getSelectedRange().pop(),E.setRangeStartOnly(s._createCellCoords(lt+we,j),!0),E.setRangeEnd(s._createCellCoords(A+we,I))}else s._refreshBorders()}break;case"insert_col_start":case"insert_col_end":const fe=S==="insert_col_end"?"end":"start";R=(D=R)!==null&&D!==void 0?D:fe==="end"?s.countSourceCols():0;const{delta:je,startPhysicalIndex:xe}=l.createCol(R,W,{source:U,mode:fe});if(je){if(Array.isArray(w.colHeaders)){const A=[s.toVisualColumn(xe),0];A.length+=je,Array.prototype.splice.apply(w.colHeaders,A)}const Ye=E.selectedRange.current(),Xe=Ye==null?void 0:Ye.from,lt=Xe==null?void 0:Xe.col,Ne=s.toVisualColumn(xe);if(E.isSelectedByCorner())E.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(Be(lt)&&lt>=Ne){const{row:A,col:I}=Ye.to;let j=Xe.row;E.isSelectedByColumnHeader()&&(j=-1),E.getSelectedRange().pop(),E.setRangeStartOnly(s._createCellCoords(j,lt+je),!0),E.setRangeEnd(s._createCellCoords(A,I+je))}else s._refreshBorders()}break;case"remove_row":const oe=Ye=>{let Xe=0;F(Ye,lt=>{let[Ne,A]=lt;const I=Tr(Ne)?s.countRows()-1:Math.max(Ne-Xe,0);if(Number.isInteger(Ne)&&(Ne=Math.max(Ne-Xe,0)),!l.removeRow(Ne,A,U))return;const j=s.countRows(),J=w.fixedRowsTop;J>=I+1&&(w.fixedRowsTop-=Math.min(A,J-I));const V=w.fixedRowsBottom;V&&I>=j-V&&(w.fixedRowsBottom-=Math.min(A,V)),Xe+=A})};Array.isArray(R)?oe(ae(R)):oe([[R,W]]),c.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":const at=Ye=>{let Xe=0;F(Ye,lt=>{let[Ne,A]=lt;const I=Tr(Ne)?s.countCols()-1:Math.max(Ne-Xe,0);let j=s.toPhysicalColumn(I);if(Number.isInteger(Ne)&&(Ne=Math.max(Ne-Xe,0)),!l.removeCol(Ne,A,U))return;const J=w.fixedColumnsStart;J>=I+1&&(w.fixedColumnsStart-=Math.min(A,J-I)),Array.isArray(w.colHeaders)&&(typeof j>"u"&&(j=-1),w.colHeaders.splice(j,A)),Xe+=A})};Array.isArray(R)?at(ae(R)):at([[R,W]]),c.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error(`There is no such action "${S}"`)}se||c.adjustRowsAndCols()},adjustRowsAndCols(){const S=w.minRows,R=w.minSpareRows,M=w.minCols,D=w.minSpareCols;if(s.countRows()===0&&s.countCols()===0&&E.deselect(),S){const W=s.countRows();W<S&&l.createRow(W,S-W,{source:"auto"})}if(R){const W=s.countEmptyRows(!0);if(W<R){const U=R-W,se=Math.min(U,w.maxRows-s.countSourceRows());l.createRow(s.countRows(),se,{source:"auto"})}}{let W;(M||D)&&(W=s.countEmptyCols(!0));let U=s.countCols();if(M&&!w.columns&&U<M){const se=M-U;W+=se,l.createCol(U,se,{source:"auto"})}if(D&&!w.columns&&s.dataType==="array"&&W<D){U=s.countCols();const se=D-W,ae=Math.min(se,w.maxCols-U);l.createCol(U,ae,{source:"auto"})}}if(E.isSelected()){const W=s.countRows(),U=s.countCols();F(E.selectedRange,se=>{let ae=!1,Se=se.from.row,Ce=se.from.col,we=se.to.row,ve=se.to.col;Se>W-1?(Se=W-1,ae=!0,we>Se&&(we=Se)):we>W-1&&(we=W-1,ae=!0,Se>we&&(Se=we)),Ce>U-1?(Ce=U-1,ae=!0,ve>Ce&&(ve=Ce)):ve>U-1&&(ve=U-1,ae=!0,Ce>ve&&(Ce=ve)),ae&&(Ce<0?s.selectRows(Se,we,Ce):Se<0?s.selectColumns(Ce,ve,Se):s.selectCell(Se,Ce,we,ve))})}s.view&&s.view.adjustElementsSize()},populateFromArray(S,R,M,D,W){let U,se,ae,Se;const Ce=[],we={},ve=[],fe=S.row,je=S.col;if(se=R.length,se===0)return!1;let xe=0,oe=0;switch(Ot(M)&&(xe=M.col-je+1,oe=M.row-fe+1),W){case"shift_down":const at=U0(R),Ye=at.length,Xe=Math.max(Ye,xe),lt=s.getData().slice(fe),Ne=U0(lt).slice(je,je+Xe);for(ae=0;ae<Xe;ae+=1)if(ae<Ye){for(U=0,se=at[ae].length;U<oe-se;U+=1)at[ae].push(at[ae][U%se]);ae<Ne.length?ve.push(at[ae].concat(Ne[ae])):ve.push(at[ae].concat(new Array(lt.length).fill(null)))}else ve.push(at[ae%Ye].concat(Ne[ae]));s.populateFromArray(fe,je,U0(ve));break;case"shift_right":const A=R.length,I=Math.max(A,oe),j=s.getData().slice(fe).map(re=>re.slice(je));for(U=0;U<I;U+=1)if(U<A){for(ae=0,Se=R[U].length;ae<xe-Se;ae+=1)R[U].push(R[U][ae%Se]);if(U<j.length)for(let re=0;re<j[U].length;re+=1)R[U].push(j[U][re]);else R[U].push(...new Array(j[0].length).fill(null))}else R.push(R[U%se].slice(0,I).concat(j[U]));s.populateFromArray(fe,je,R);break;case"overwrite":default:we.row=S.row,we.col=S.col;let J=0,V=0,Z=!0,q;const K=function(re){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Fe=R[re%R.length];return Pe!==null?Fe[Pe%Fe.length]:Fe},ne=R.length,X=M?M.row-S.row+1:0;for(M?se=X:se=Math.max(ne,X),U=0;U<se&&!(M&&we.row>M.row&&X>ne||!w.allowInsertRow&&we.row>s.countRows()-1||we.row>=w.maxRows);U++){const re=U-J,Pe=K(re).length,Fe=M?M.col-S.col+1:0;if(M?Se=Fe:Se=Math.max(Pe,Fe),we.col=S.col,q=s.getCellMeta(we.row,we.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&q.skipRowOnPaste){J+=1,we.row+=1,se+=1;continue}for(V=0,ae=0;ae<Se&&!(M&&we.col>M.col&&Fe>Pe||!w.allowInsertColumn&&we.col>s.countCols()-1||we.col>=w.maxCols);ae++){if(q=s.getCellMeta(we.row,we.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&q.skipColumnOnPaste){V+=1,we.col+=1,Se+=1;continue}if(q.readOnly&&D!=="UndoRedo.undo"){we.col+=1;continue}const tt=ae-V;let ut=K(re,tt),pt=s.getDataAtCell(we.row,we.col);if(ut!==null&&typeof ut=="object")if(Array.isArray(ut)&&pt===null&&(pt=[]),pt===null||typeof pt!="object")Z=!1;else{const ln=Zp(Array.isArray(pt)?pt:pt[0]||pt),St=Zp(Array.isArray(ut)?ut:ut[0]||ut);_M(ln,St)||Array.isArray(ln)&&Array.isArray(St)?ut=_o(ut):Z=!1}else pt!==null&&typeof pt=="object"&&(Z=!1);Z&&Ce.push([we.row,we.col,ut]),Z=!0,we.col+=1}we.row+=1}s.setDataAtCell(Ce,null,null,D||"populateFromArray");break}}};function N(S){const R=bz(S);dA(R)?(s.runHooks("beforeLanguageChange",R),y.language=R,s.runHooks("afterLanguageChange",R)):Cz(S)}function H(S,R){const M=S==="className"?s.rootElement:s.table;if(g)_e(M,R);else{let D=[],W=[];y[S]&&(D=Array.isArray(y[S])?y[S]:jB(y[S])),R&&(W=Array.isArray(R)?R:jB(R));const U=LB(D,W),se=LB(W,D);U.length&&Rt(M,U),se.length&&_e(M,se)}y[S]=R}this.init=function(){u.setData(w.data),s.runHooks("beforeInit"),(oc()||AU())&&_e(s.rootElement,"mobile"),this.updateSettings(w,!0),this.view=new zbe(this),h=VM.getInstance(s,w,E),d=new lwe(s),kC(this)&&VSe(s),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),g&&s.rootElement.offsetParent===null&&fpe(s.rootElement,()=>{s.view._wt.wtOverlays.updateLastSpreaderSize(),s.render(),s.view.adjustElementsSize()}),typeof g=="object"&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")};function L(){let S=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,S=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&S===!1&&(S=!0,this.onQueueEmpty(this.valid))}}}function G(S){const R=S.replace(",",".");return isNaN(parseFloat(R))===!1?parseFloat(R):S}function ue(S,R,M){if(!S.length)return;const D=s.getActiveEditor(),W=new L;let U=!0;W.onQueueEmpty=se=>{D&&U&&D.cancelChanges(),M(se)};for(let se=S.length-1;se>=0;se--){const[ae,Se,,Ce]=S[se],we=l.propToCol(Se),ve=s.getCellMeta(ae,we);ve.type==="numeric"&&typeof Ce=="string"&&mwe(Ce)&&(S[se][3]=G(Ce)),s.getCellValidator(ve)&&(W.addValidatorToQueue(),s.validateCell(S[se][3],ve,function(fe,je){return function(xe){if(typeof xe!="boolean")throw new Error("Validation error: result is not boolean");if(xe===!1&&je.allowInvalid===!1){U=!1,S.splice(fe,1),je.valid=!0;const oe=s.getCell(je.visualRow,je.visualCol);oe!==null&&Rt(oe,w.invalidCellClassName)}W.removeValidatorFormQueue()}}(se,ve),R))}W.checkIfQueueIsEmpty()}function B(S,R){let M=S.length-1;if(M<0)return;for(;M>=0;M--){let W=!1;if(S[M]===null){S.splice(M,1);continue}if(!((S[M][2]===null||S[M][2]===void 0)&&(S[M][3]===null||S[M][3]===void 0))){if(w.allowInsertRow)for(;S[M][0]>s.countRows()-1;){const{delta:U}=l.createRow(void 0,void 0,{source:R});if(U===0){W=!0;break}}if(s.dataType==="array"&&(!w.columns||w.columns.length===0)&&w.allowInsertColumn)for(;l.propToCol(S[M][1])>s.countCols()-1;){const{delta:U}=l.createCol(void 0,void 0,{source:R});if(U===0){W=!0;break}}W||l.set(S[M][0],S[M][1],S[M][3])}}s.forceFullRender=!0,c.adjustRowsAndCols(),s.runHooks("beforeChangeRender",S,R),h.lockEditor(),s._refreshBorders(null),h.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",S,R||"edit");const D=s.getActiveEditor();D&&Be(D.refreshValue)&&D.refreshValue()}this._createCellCoords=function(S,R){return s.view._wt.createCellCoords(S,R)},this._createCellRange=function(S,R,M){return s.view._wt.createCellRange(S,R,M)},this.validateCell=function(S,R,M,D){let W=s.getCellValidator(R);function U(se){if(!(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])||R.hidden===!0){M(se);return}const ae=R.visualCol,Se=R.visualRow,Ce=s.getCell(Se,ae,!0);if(Ce&&Ce.nodeName!=="TH"){const we=s.rowIndexMapper.getRenderableFromVisualIndex(Se),ve=s.columnIndexMapper.getRenderableFromVisualIndex(ae);s.view._wt.getSetting("cellRenderer",we,ve,Ce)}M(se)}Ome(W)&&(W=function(se){return function(ae,Se){Se(se.test(ae))}}(W)),Mn(W)?(S=s.runHooks("beforeValidate",S,R.visualRow,R.prop,D),s._registerImmediate(()=>{W.call(R,S,se=>{s&&(se=s.runHooks("afterValidate",se,S,R.visualRow,R.prop,D),R.valid=se,U(se),s.runHooks("postAfterValidate",se,S,R.visualRow,R.prop,D))})})):s._registerImmediate(()=>{R.valid=!0,U(R.valid,!1)})};function he(S,R,M){return Array.isArray(S)?S:[[S,R,M]]}function Ee(S,R){const M=s.getActiveEditor(),D=s.runHooks("beforeChange",S,R||"edit"),W=S.filter(U=>U!==null);return D===!1||W.length===0?(M&&M.cancelChanges(),[]):W}this.setDataAtCell=function(S,R,M,D){const W=he(S,R,M),U=[];let se=D,ae,Se,Ce;for(ae=0,Se=W.length;ae<Se;ae++){if(typeof W[ae]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof W[ae][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");W[ae][1]>=this.countCols()?Ce=W[ae][1]:Ce=l.colToProp(W[ae][1]),U.push([W[ae][0],Ce,u.getAtCell(this.toPhysicalRow(W[ae][0]),W[ae][1]),W[ae][2]])}!se&&typeof S=="object"&&(se=R);const we=Ee(U,D);s.runHooks("afterSetDataAtCell",we,se),ue(we,se,()=>{B(we,se)})},this.setDataAtRowProp=function(S,R,M,D){const W=he(S,R,M),U=[];let se=D,ae,Se;for(ae=0,Se=W.length;ae<Se;ae++)U.push([W[ae][0],W[ae][1],u.getAtCell(this.toPhysicalRow(W[ae][0]),W[ae][1]),W[ae][2]]);!se&&typeof S=="object"&&(se=R);const Ce=Ee(U,D);s.runHooks("afterSetDataAtRowProp",Ce,se),ue(Ce,se,()=>{B(Ce,se)})},this.listen=function(){s&&!s.isListening()&&(MA.forEach(S=>{s!==S&&S.unlisten()}),TA=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(TA=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return TA===s.guid},this.destroyEditor=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s._refreshBorders(S,R)},this.populateFromArray=function(S,R,M,D,W,U,se){if(!(typeof M=="object"&&typeof M[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const ae=typeof D=="number"?s._createCellCoords(D,W):null;return c.populateFromArray(s._createCellCoords(S,R),M,ae,U,se)},this.spliceCol=function(S,R,M){for(var D=arguments.length,W=new Array(D>3?D-3:0),U=3;U<D;U++)W[U-3]=arguments[U];return l.spliceCol(S,R,M,...W)},this.spliceRow=function(S,R,M){for(var D=arguments.length,W=new Array(D>3?D-3:0),U=3;U<D;U++)W[U-3]=arguments[U];return l.spliceRow(S,R,M,...W)},this.getSelected=function(){if(E.isSelected())return Pt(E.getSelectedRange(),S=>{let{from:R,to:M}=S;return[R.row,R.col,M.row,M.col]})},this.getSelectedLast=function(){const S=this.getSelected();let R;return S&&S.length>0&&(R=S[S.length-1]),R},this.getSelectedRange=function(){if(E.isSelected())return Array.from(E.getSelectedRange())},this.getSelectedRangeLast=function(){const S=this.getSelectedRange();let R;return S&&S.length>0&&(R=S[S.length-1]),R},this.emptySelectedCells=function(S){if(!E.isSelected()||this.countRows()===0||this.countCols()===0)return;const R=[];F(E.getSelectedRange(),M=>{if(M.isSingleHeader())return;const D=M.getTopStartCorner(),W=M.getBottomEndCorner();Je(D.row,W.row,U=>{Je(D.col,W.col,se=>{this.getCellMeta(U,se).readOnly||R.push([U,se,null])})})}),R.length>0&&this.setDataAtCell(R,S)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const S=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(S,0),!this.isRenderSuspended()&&S===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(h.lockEditor(),this._refreshBorders(null),h.unlockEditor()))},this.batchRender=function(S){this.suspendRender();const R=S();return this.resumeRender(),R},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(R,0),(!this.isExecutionSuspended()&&R===this.executionSuspendedCounter||S)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const M=S();return this.resumeExecution(R),M},this.batch=function(S){this.suspendRender(),this.suspendExecution();const R=S();return this.resumeExecution(),this.resumeRender(),R},this.refreshDimensions=function(){if(!s.view)return;const{width:S,height:R}=s.view.getLastSize(),{width:M,height:D}=s.rootElement.getBoundingClientRect(),W=M!==S||D!==R;s.runHooks("beforeRefreshDimensions",{width:S,height:R},{width:M,height:D},W)!==!1&&((W||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(M,D),s.render()),s.runHooks("afterRefreshDimensions",{width:S,height:R},{width:M,height:D},W))},this.updateData=function(S,R){e$(S,M=>{l=M},M=>{l=M,s.columnIndexMapper.fitToLength(this.getInitialColumnCount()),s.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols()},{hotInstance:s,dataMap:l,dataSource:u,internalSource:"updateData",source:R,metaManager:C,firstRun:g})},this.loadData=function(S,R){e$(S,M=>{l=M},()=>{C.clearCellsCache(),s.initIndexMappers(),c.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:l,dataSource:u,internalSource:"loadData",source:R,metaManager:C,firstRun:g})},this.getInitialColumnCount=function(){const S=w.columns;let R=0;if(Array.isArray(S))R=S.length;else if(Mn(S))if(s.dataType==="array"){const M=this.countSourceCols();for(let D=0;D<M;D+=1)S(D)&&(R+=1)}else(s.dataType==="object"||s.dataType==="function")&&(R=l.colToPropCache.length);else if(Be(w.dataSchema)){const M=l.getSchema();R=Array.isArray(M)?M.length:AM(M)}else R=this.countSourceCols();return R},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(S,R,M,D){return Tn(S)?l.getAll():l.getRange(s._createCellCoords(S,R),s._createCellCoords(M,D),l.DESTINATION_RENDERER)},this.getCopyableText=function(S,R,M,D){return l.getCopyableText(s._createCellCoords(S,R),s._createCellCoords(M,D))},this.getCopyableData=function(S,R){return l.getCopyable(S,l.colToProp(R))},this.getSchema=function(){return l.getSchema()},this.updateSettings=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const M=(g?s.loadData:s.updateData).bind(this);let D=!1,W,U;if(Be(S.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Be(S.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Be(S.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(W in S)W==="data"||(W==="language"?N(S.language):W==="className"?H("className",S.className):W==="tableClassName"&&s.table?(H("tableClassName",S.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):$e.getSingleton().isRegistered(W)||$e.getSingleton().isDeprecated(W)?(Mn(S[W])||Array.isArray(S[W]))&&(S[W].initialHook=!0,s.addHook(W,S[W])):!R&&Qn(S,W)&&(y[W]=S[W]));S.data===void 0&&w.data===void 0?M(null,"updateSettings"):S.data!==void 0?M(S.data,"updateSettings"):S.columns!==void 0&&(l.createMap(),s.initIndexMappers());const se=s.countCols(),ae=w.columns;if(ae&&Mn(ae)&&(D=!0),(S.cell!==void 0||S.cells!==void 0||S.columns!==void 0)&&C.clearCache(),se>0)for(W=0,U=0;W<se;W++){if(ae){const we=D?ae(W):ae[U];we&&C.updateColumnMeta(U,we)}U+=1}Be(S.cell)&&It(S.cell,we=>{s.setCellMetaObject(we.row,we.col,we)}),s.runHooks("afterCellMetaReset");let Se=s.rootElement.style.height;Se!==""&&(Se=parseInt(s.rootElement.style.height,10));let Ce=S.height;if(Mn(Ce)&&(Ce=Ce()),R&&s.rootElement.getAttribute("style")&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style")),Ce===null){const we=s.rootElement.getAttribute("data-initialstyle");we&&(we.indexOf("height")>-1||we.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",we):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else Ce!==void 0&&(s.rootElement.style.height=isNaN(Ce)?`${Ce}`:`${Ce}px`,s.rootElement.style.overflow="hidden");if(typeof S.width<"u"){let we=S.width;Mn(we)&&(we=we()),s.rootElement.style.width=isNaN(we)?`${we}`:`${we}px`}R||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",S)),c.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,h.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),h.unlockEditor()),!R&&s.view&&(Se===""||Ce===""||Ce===void 0)&&Se!==Ce&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const S=s.getSelectedLast();if(w.getValue){if(Mn(w.getValue))return w.getValue.call(s);if(S)return s.getData()[S[0][0]][w.getValue]}else if(S)return s.getDataAtCell(S[0],S[1])},this.getSettings=function(){return w},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(S,R,M,D,W){c.alter(S,R,M,D,W)},this.getCell=function(S,R){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=R,W=S;if(R>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(R)))return null;D=this.columnIndexMapper.getRenderableFromVisualIndex(R)}if(S>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(S)))return null;W=this.rowIndexMapper.getRenderableFromVisualIndex(S)}return W===null||D===null?null:s.view.getCellAtCoords(s._createCellCoords(W,D),M)},this.getCoords=function(S){const R=this.view._wt.wtTable.getCoords(S);if(R===null)return null;const{row:M,col:D}=R;let W=M,U=D;return M>=0&&(W=this.rowIndexMapper.getVisualFromRenderableIndex(M)),D>=0&&(U=this.columnIndexMapper.getVisualFromRenderableIndex(D)),s._createCellCoords(W,U)},this.colToProp=function(S){return l.colToProp(S)},this.propToCol=function(S){return l.propToCol(S)},this.toVisualRow=S=>this.rowIndexMapper.getVisualFromPhysicalIndex(S),this.toVisualColumn=S=>this.columnIndexMapper.getVisualFromPhysicalIndex(S),this.toPhysicalRow=S=>this.rowIndexMapper.getPhysicalFromVisualIndex(S),this.toPhysicalColumn=S=>this.columnIndexMapper.getPhysicalFromVisualIndex(S),this.getDataAtCell=function(S,R){return l.get(S,l.colToProp(R))},this.getDataAtRowProp=function(S,R){return l.get(S,R)},this.getDataAtCol=function(S){const R=[],M=l.getRange(s._createCellCoords(0,S),s._createCellCoords(w.data.length-1,S),l.DESTINATION_RENDERER);for(let D=0;D<M.length;D+=1)for(let W=0;W<M[D].length;W+=1)R.push(M[D][W]);return R},this.getDataAtProp=function(S){const R=[],M=l.getRange(s._createCellCoords(0,l.propToCol(S)),s._createCellCoords(w.data.length-1,l.propToCol(S)),l.DESTINATION_RENDERER);for(let D=0;D<M.length;D+=1)for(let W=0;W<M[D].length;W+=1)R.push(M[D][W]);return R},this.getSourceData=function(S,R,M,D){let W;return S===void 0?W=u.getData():W=u.getByRange(s._createCellCoords(S,R),s._createCellCoords(M,D)),W},this.getSourceDataArray=function(S,R,M,D){let W;return S===void 0?W=u.getData(!0):W=u.getByRange(s._createCellCoords(S,R),s._createCellCoords(M,D),!0),W},this.getSourceDataAtCol=function(S){return u.getAtColumn(S)},this.setSourceDataAtCell=function(S,R,M,D){const W=he(S,R,M),U=this.hasHook("afterSetSourceDataAtCell"),se=[];U&&F(W,Se=>{let[Ce,we,ve]=Se;se.push([Ce,we,u.getAtCell(Ce,we),ve])}),F(W,Se=>{let[Ce,we,ve]=Se;u.setAtCell(Ce,we,ve)}),U&&this.runHooks("afterSetSourceDataAtCell",se,D),this.render();const ae=s.getActiveEditor();ae&&Be(ae.refreshValue)&&ae.refreshValue()},this.getSourceDataAtRow=function(S){return u.getAtRow(S)},this.getSourceDataAtCell=function(S,R){return u.getAtCell(S,R)},this.getDataAtRow=function(S){return l.getRange(s._createCellCoords(S,0),s._createCellCoords(S,this.countCols()-1),l.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(S,R,M,D){const W=S===void 0?[0,0,this.countRows(),this.countCols()]:[S,R,M,D],[U,se]=W;let[,,ae,Se]=W,Ce=null,we=null;ae===void 0&&(ae=U),Se===void 0&&(Se=se);let ve="mixed";return Je(Math.max(Math.min(U,ae),0),Math.max(U,ae),fe=>{let je=!0;return Je(Math.max(Math.min(se,Se),0),Math.max(se,Se),xe=>(we=this.getCellMeta(fe,xe).type,Ce?je=Ce===we:Ce=we,je)),ve=je?we:"mixed",je}),ve},this.removeCellMeta=function(S,R,M){const[D,W]=[this.toPhysicalRow(S),this.toPhysicalColumn(R)];let U=C.getCellMetaKeyValue(D,W,M);s.runHooks("beforeRemoveCellMeta",S,R,M,U)!==!1&&(C.removeCellMeta(D,W,M),s.runHooks("afterRemoveCellMeta",S,R,M,U)),U=null},this.spliceCellsMeta=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var M=arguments.length,D=new Array(M>2?M-2:0),W=2;W<M;W++)D[W-2]=arguments[W];if(D.length>0&&!Array.isArray(D[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");R>0&&C.removeRow(this.toPhysicalRow(S),R),D.length>0&&F(D.reverse(),U=>{C.createRow(this.toPhysicalRow(S)),F(U,(se,ae)=>this.setCellMetaObject(S,ae,se))}),s.render()},this.setCellMetaObject=function(S,R,M){typeof M=="object"&&It(M,(D,W)=>{this.setCellMeta(S,R,W,D)})},this.setCellMeta=function(S,R,M,D){if(s.runHooks("beforeSetCellMeta",S,R,M,D)===!1)return;let W=S,U=R;S<this.countRows()&&(W=this.toPhysicalRow(S)),R<this.countCols()&&(U=this.toPhysicalColumn(R)),C.setCellMeta(W,U,M,D),s.runHooks("afterSetCellMeta",S,R,M,D)},this.getCellsMeta=function(){return C.getCellsMeta()},this.getCellMeta=function(S,R){let M=this.toPhysicalRow(S),D=this.toPhysicalColumn(R);return M===null&&(M=S),D===null&&(D=R),C.getCellMeta(M,D,{visualRow:S,visualColumn:R})},this.getCellMetaAtRow=function(S){return C.getCellsMetaAtRow(S)},this.isColumnModificationAllowed=function(){return!(s.dataType==="object"||w.columns)},this.getCellRenderer=function(S,R){const M=typeof S=="number"?s.getCellMeta(S,R).renderer:S.renderer;return typeof M=="string"?r3(M):Tn(M)?r3("text"):M},this.getCellEditor=function(S,R){const M=typeof S=="number"?s.getCellMeta(S,R).editor:S.editor;return typeof M=="string"?LU(M):Tn(M)?LU("text"):M},this.getCellValidator=function(S,R){const M=typeof S=="number"?s.getCellMeta(S,R).validator:S.validator;return typeof M=="string"?Pwe(M):M},this.validateCells=function(S){this._validateCells(S)},this.validateRows=function(S,R){if(!Array.isArray(S))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(R,S)},this.validateColumns=function(S,R){if(!Array.isArray(S))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(R,void 0,S)},this._validateCells=function(S,R,M){const D=new L;S&&(D.onQueueEmpty=S);let W=s.countRows()-1;for(;W>=0;){if(R!==void 0&&R.indexOf(W)===-1){W-=1;continue}let U=s.countCols()-1;for(;U>=0;){if(M!==void 0&&M.indexOf(U)===-1){U-=1;continue}D.addValidatorToQueue(),s.validateCell(s.getDataAtCell(W,U),s.getCellMeta(W,U),se=>{if(typeof se!="boolean")throw new Error("Validation error: result is not boolean");se===!1&&(D.valid=!1),D.removeValidatorFormQueue()},"validateCells"),U-=1}W-=1}D.checkIfQueueIsEmpty()},this.getRowHeader=function(S){let R=w.rowHeaders,M=S;return M!==void 0&&(M=s.runHooks("modifyRowHeader",M)),M===void 0?(R=[],Je(s.countRows()-1,D=>{R.push(s.getRowHeader(D))})):Array.isArray(R)&&R[M]!==void 0?R=R[M]:Mn(R)?R=R(M):R&&typeof R!="string"&&typeof R!="number"&&(R=M+1),R},this.hasRowHeaders=function(){return!!w.rowHeaders},this.hasColHeaders=function(){if(w.colHeaders!==void 0&&w.colHeaders!==null)return!!w.colHeaders;for(let S=0,R=s.countCols();S<R;S++)if(s.getColHeader(S))return!0;return!1},this.getColHeader=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const M=s.runHooks("modifyColHeader",S);if(M===void 0){const ae=[],Se=s.countCols();for(let Ce=0;Ce<Se;Ce++)ae.push(s.getColHeader(Ce));return ae}let D=w.colHeaders;const W=function(ae){const Se=[],Ce=s.countCols();let we=0;for(;we<Ce;we++)Mn(w.columns)&&w.columns(we)&&Se.push(we);return Se[ae]},U=s.toPhysicalColumn(M),se=W(U);return w.colHeaders===!1?D=null:w.columns&&Mn(w.columns)&&w.columns(se)&&w.columns(se).title?D=w.columns(se).title:w.columns&&w.columns[U]&&w.columns[U].title?D=w.columns[U].title:Array.isArray(w.colHeaders)&&w.colHeaders[U]!==void 0?D=w.colHeaders[U]:Mn(w.colHeaders)?D=w.colHeaders(U):w.colHeaders&&typeof w.colHeaders!="string"&&typeof w.colHeaders!="number"&&(D=Ybe(M)),D=s.runHooks("modifyColumnHeaderValue",D,S,R),D},this._getColWidthFromSettings=function(S){let R;if(S>=0&&(R=s.getCellMeta(0,S).width),(R===void 0||R===w.width)&&(R=w.colWidths),R!=null){switch(typeof R){case"object":R=R[S];break;case"function":R=R(S);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getColWidth=function(S){let R=s._getColWidthFromSettings(S);return R=s.runHooks("modifyColWidth",R,S),R===void 0&&(R=sw.DEFAULT_WIDTH),R},this._getRowHeightFromSettings=function(S){let R=w.rowHeights;if(R!=null){switch(typeof R){case"object":R=R[S];break;case"function":R=R(S);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getRowHeight=function(S){let R=s._getRowHeightFromSettings(S);return R=s.runHooks("modifyRowHeight",R,S),R},this.countSourceRows=function(){return u.countRows()},this.countSourceCols=function(){return u.countFirstRowKeys()},this.countRows=function(){return l.getLength()},this.countCols=function(){const S=w.maxCols,R=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(S,R)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return UM(s.countRows()-1,M=>{if(s.isEmptyRow(M))R+=1;else if(S===!0)return!1}),R},this.countEmptyCols=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return UM(s.countCols()-1,M=>{if(s.isEmptyCol(M))R+=1;else if(S===!0)return!1}),R},this.isEmptyRow=function(S){return w.isEmptyRow.call(s,S)},this.isEmptyCol=function(S){return w.isEmptyCol.call(s,S)},this.selectCell=function(S,R,M,D){let W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Tn(S)||Tn(R)?!1:this.selectCells([[S,R,M,D]],W,U)},this.selectCells=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;R===!1&&(i=!0);const D=E.selectCells(S);return D&&M&&s.listen(),i=!1,D},this.selectColumns=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,M=arguments.length>2?arguments[2]:void 0;return E.selectColumns(S,R,M)},this.selectRows=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,M=arguments.length>2?arguments[2]:void 0;return E.selectRows(S,R,M)},this.deselectCell=function(){E.deselect()},this.selectAll=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,M=arguments.length>2?arguments[2]:void 0;i=!0,E.selectAll(S,R,M),i=!1};const Me=(S,R)=>S.getNearestNotHiddenIndex(R,1,!0);this.scrollViewportTo=function(S){var R;if(typeof S=="number"){var M;S={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(M=arguments[4])!==null&&M!==void 0?M:!0}}const{row:D,col:W,verticalSnap:U,horizontalSnap:se,considerHiddenIndexes:ae}=(R=S)!==null&&R!==void 0?R:{};let Se,Ce,we,ve;U!==void 0&&(Se=U==="top",Ce=!Se),se!==void 0&&(we=se==="start",ve=!we);let fe=D,je=W;if(ae===void 0||ae){const at=Number.isInteger(D)&&D>=0,Ye=Number.isInteger(W)&&W>=0,Xe=at?Me(this.rowIndexMapper,D):void 0,lt=Ye?Me(this.columnIndexMapper,W):void 0;if(Xe===null||lt===null)return!1;fe=at?s.rowIndexMapper.getRenderableFromVisualIndex(Xe):D,je=Ye?s.columnIndexMapper.getRenderableFromVisualIndex(lt):W}const xe=Number.isInteger(fe),oe=Number.isInteger(je);return xe&&fe>=0&&oe&&je>=0?s.view.scrollViewport(s._createCellCoords(fe,je),Se,ve,Ce,we):xe&&fe>=0&&(oe&&je<0||!oe)?s.view.scrollViewportVertically(fe,Se,Ce):oe&&je>=0&&(xe&&fe<0||!xe)?s.view.scrollViewportHorizontally(je,ve,we):!1},this.scrollToFocusedCell=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",S);const{highlight:R}=this.getSelectedRangeLast();this.scrollViewportTo(R.toObject())?this.view.render():(this.removeHook("afterScroll",S),this._registerImmediate(()=>S()))},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),u&&u.destroy(),u=null,this.getShortcutManager().destroy(),C.clearCache(),MA.delete(this.guid),kC(s)){const S=this.rootDocument.querySelector(".hot-display-license-info");S&&S.parentNode.removeChild(S)}Oa(s.rootElement),a.destroy(),h&&h.destroy(),s.batchExecution(()=>{s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),x.getItems().forEach(S=>{let[,R]=S;R.destroy()}),x.clear(),s.runHooks("afterDestroy")},!0),$e.getSingleton().destroy(s),It(s,(S,R,M)=>{Mn(S)?M[R]=ye(R):R!=="guid"&&(M[R]=null)}),s.isDestroyed=!0,l&&l.destroy(),l=null,c=null,E=null,h=null,s=null};function ye(S){return()=>{throw new Error(`The "${S}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return h.getActiveEditor()},this.getPlugin=function(S){const R=Ws(S);return R==="UndoRedo"?this.undoRedo:x.getItem(R)},this.getPluginName=function(S){return S===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:x.getId(S)},this.getInstance=function(){return s},this.addHook=function(S,R){$e.getSingleton().add(S,R,s)},this.hasHook=function(S){return $e.getSingleton().has(S,s)||$e.getSingleton().has(S)},this.addHookOnce=function(S,R){$e.getSingleton().once(S,R,s)},this.removeHook=function(S,R){$e.getSingleton().remove(S,R,s)},this.runHooks=function(S,R,M,D,W,U,se){return $e.getSingleton().run(s,S,R,M,D,W,U,se)},this.getTranslatedPhrase=function(S,R){return Tz(w.language,S,R)},this.toHTML=()=>KU(this),this.toTableElement=()=>{const S=this.rootDocument.createElement("div");return S.insertAdjacentHTML("afterbegin",KU(this)),S.firstElementChild},this.timeouts=[],this._registerTimeout=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=S;typeof M=="function"&&(M=setTimeout(M,R)),this.timeouts.push(M)},this._clearTimeouts=function(){F(this.timeouts,S=>{clearTimeout(S)})},this.immediates=[],this._registerImmediate=function(S){this.immediates.push(setImmediate(S))},this._clearImmediates=function(){F(this.immediates,S=>{clearImmediate(S)})},this._refreshBorders=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h.destroyEditor(S),s.view.render(),R&&E.isSelected()&&h.prepareEditor()},this._getEditorManager=function(){return h},this.isRtl=function(){return s.rootWindow.getComputedStyle(s.rootElement).direction==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};const te=KSe({handleEvent(){return s.isListening()},beforeKeyDown:S=>this.runHooks("beforeKeyDown",S),afterKeyDown:S=>{this.isDestroyed||s.runHooks("afterDocumentKeyDown",S)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",S=>{S.ctrlKey===!1&&S.metaKey===!1&&te.releasePressedKeys()}),this.getShortcutManager=function(){return te},this.getFocusManager=function(){return d},t3().forEach(S=>{const R=YM(S);x.addItem(S,new R(this))}),FSe(s),te.setActiveContextName("grid"),$e.getSingleton().run(s,"construct")}const QSe="hooksRefRegisterer",c$={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){F(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){It(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};jl(c$,"MIXIN_NAME",QSe,{writable:!1,enumerable:!1});const XSe=c$;function Ks(t,e,n){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JSe(t){var e=ZSe(t,"string");return typeof e=="symbol"?e:String(e)}function ZSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const e1e="base",br=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),_A="baseEditor";class ng{static get EDITOR_TYPE(){return e1e}constructor(e){Ks(this,"hot",void 0),Ks(this,"state",br.VIRGIN),Ks(this,"_opened",!1),Ks(this,"_fullEditMode",!1),Ks(this,"_closeCallback",null),Ks(this,"TD",null),Ks(this,"row",null),Ks(this,"col",null),Ks(this,"prop",null),Ks(this,"originalValue",null),Ks(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,r,o,i,s){this.TD=o,this.row=e,this.col=n,this.prop=r,this.originalValue=i,this.cellProperties=s,this.state=br.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let r,o,i,s;if(n){const c=this.hot.getSelectedLast();r=Math.max(Math.min(c[0],c[2]),0),o=Math.max(Math.min(c[1],c[3]),0),i=Math.max(c[0],c[2]),s=Math.max(c[1],c[3])}else[r,o,i,s]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",r,o);Array.isArray(a)&&([r,o]=a);const l=this.hot.getShortcutManager().getContext("editor"),u={runOnlyIf:()=>Be(this.hot.getSelected()),group:_A};this.isInFullEditMode()&&l.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],u),this.hot.populateFromArray(r,o,e,i,s,"edit")}beginEditing(e,n){if(this.state!==br.VIRGIN)return;const r=this.hot,o=r.rowIndexMapper.getRenderableFromVisualIndex(this.row),i=r.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(r.view.scrollViewport(r._createCellCoords(o,i)),this.state=br.EDITING,this.isInFullEditMode()){const s=typeof e=="string"?e:fr(this.originalValue);this.setValue(s)}this.open(n),this._opened=!0,this.focus(),r.view.render(),r.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,n,r){let o;if(r){const s=this._closeCallback;this._closeCallback=a=>{s&&s(a),r(a),this.hot.view.render()}}if(this.isWaiting())return;const i=this.hot.getShortcutManager().getContext("editor");if(i.removeShortcutsByGroup(_A),i.removeShortcutsByGroup(tC),this.state===br.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===br.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const s=this.getValue();this.cellProperties.trimWhitespace?o=[[typeof s=="string"?String.prototype.trim.call(s||""):s]]:o=[[s]],this.state=br.WAITING,this.saveValue(o,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",a=>{this.state=br.FINISHED,this.discardEditor(a)}):(this.state=br.FINISHED,this.discardEditor(!0))}}cancelChanges(){this.state=br.FINISHED,this.discardEditor()}discardEditor(e){this.state===br.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=br.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=br.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===br.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:r,wtViewport:o}=this.hot.view._wt,i=this.hot.rootWindow,s=Dr(n),a=pn(n),l=Dr(this.hot.rootElement),u=pn(this.hot.rootElement),c=r.topOverlay.holder,h=r.inlineStartOverlay.holder,d=c!==i?c.scrollTop:0,g=h!==i?h.scrollLeft:0,p=i.innerWidth-l.left-u,{wtTable:v}=(e=r.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,C=v.name,w=["master","inline_start"].includes(C)?d:0,y=["master","top","bottom"].includes(C)?g:0,x=s.top===l.top?0:1;let T=s.top-l.top-x-w,_=0;this.hot.isRtl()?_=i.innerWidth-s.left-a-p-1+y:_=s.left-l.left-1-y,["top","top_inline_start_corner"].includes(C)&&(T+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(C)&&(_+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));const E=this.hot.hasColHeaders(),O=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),N=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),H=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(E&&O<=0||O===H)&&(T+=1),N<=0&&(_+=1);const L=o.rowsRenderCalculator.startPosition,G=o.columnsRenderCalculator.startPosition,ue=Math.abs(r.inlineStartOverlay.getScrollPosition()),B=r.topOverlay.getScrollPosition(),he=Lr(this.hot.rootDocument);let Ee=n.offsetTop;if(["inline_start","master"].includes(C)&&(Ee+=L-B),["bottom","bottom_inline_start_corner"].includes(C)){const{wtViewport:Se,wtTable:Ce}=r.bottomOverlay.clone;Ee+=Se.getWorkspaceHeight()-Ce.getHeight()-he}let Me=n.offsetLeft;this.hot.isRtl()?(Me>=0?Me=v.getWidth()-n.offsetLeft:Me=Math.abs(Me),Me+=G-ue-a):["top","master","bottom"].includes(C)&&(Me+=G-ue);const ye=ec(this.TD,this.hot.rootWindow),te=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",S=parseInt(ye[te],10)>0?0:1,R=parseInt(ye.borderTopWidth,10)>0?0:1,M=pn(n)+S,D=Kn(n)+R,W=hpe(c)?he:0,U=dpe(h)?he:0,se=this.hot.view.maximumVisibleElementWidth(Me)-W+S,ae=Math.max(this.hot.view.maximumVisibleElementHeight(Ee)-U+R,23);return{top:T,start:_,height:D,maxHeight:ae,width:M,maxWidth:se}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}bn(ng,XSe);function h$(t,e,n){t.addEventListener(e,n,!1)}function d$(t,e,n){t.removeEventListener(e,n,!1)}function f$(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function t1e(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,r=t.createTextNode(""),o=t.createElement("span");let i;function s(){r.textContent=i.value,o.style.position="absolute",o.style.fontSize=f$(i).fontSize,o.style.fontFamily=f$(i).fontFamily,o.style.whiteSpace="pre",n.appendChild(o);const c=o.clientWidth+2;n.removeChild(o);const h=i.style;h.height=`${e.minHeight}px`,e.minWidth>c?h.width=`${e.minWidth}px`:c>e.maxWidth?h.width=`${e.maxWidth}px`:h.width=`${c}px`;const d=i.scrollHeight?i.scrollHeight-1:0;e.minHeight>d?h.height=`${e.minHeight}px`:e.maxHeight<d?(h.height=`${e.maxHeight}px`,h.overflowY="visible"):h.height=`${d}px`}function a(){t.defaultView.setTimeout(s,0)}function l(c){if(c&&c.minHeight)if(c.minHeight==="inherit")e.minHeight=i.clientHeight;else{const h=parseInt(c.minHeight,10);isNaN(h)||(e.minHeight=h)}if(c&&c.maxHeight)if(c.maxHeight==="inherit")e.maxHeight=i.clientHeight;else{const h=parseInt(c.maxHeight,10);isNaN(h)||(e.maxHeight=h)}if(c&&c.minWidth)if(c.minWidth==="inherit")e.minWidth=i.clientWidth;else{const h=parseInt(c.minWidth,10);isNaN(h)||(e.minWidth=h)}if(c&&c.maxWidth)if(c.maxWidth==="inherit")e.maxWidth=i.clientWidth;else{const h=parseInt(c.maxWidth,10);isNaN(h)||(e.maxWidth=h)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(r))}function u(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;i=c,l(h),i.nodeName==="TEXTAREA"&&(i.style.resize="none",i.style.overflowY="",i.style.height=`${e.minHeight}px`,i.style.minWidth=`${e.minWidth}px`,i.style.maxWidth=`${e.maxWidth}px`,i.style.overflowY="hidden"),d&&(h$(i,"input",s),h$(i,"keydown",a)),s()}return{init:u,resize:s,unObserve(){d$(i,"input",s),d$(i,"keydown",a)}}}function g$(t,e){const n=sU(e),r=e.value.split(`
`);let o=n,i=0;for(let s=0;s<r.length;s++){const a=r[s];s!==0&&(i+=r[s-1].length+1);const l=i+a.length;if(t==="home"?o=i:t==="end"&&(o=l),n<=l)break}K0(e,o)}function Wh(t,e,n){return e=n1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return typeof e=="symbol"?e:String(e)}function r1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const o1e="ht_editor_visible",KC="ht_editor_hidden",m$="textEditor",i1e="text";class Vh extends ng{static get EDITOR_TYPE(){return i1e}constructor(e){super(e),Wh(this,"eventManager",new Us(this)),Wh(this,"autoResize",t1e(this.hot.rootDocument)),Wh(this,"TEXTAREA",void 0),Wh(this,"textareaStyle",void 0),Wh(this,"TEXTAREA_PARENT",void 0),Wh(this,"textareaParentStyle",void 0),Wh(this,"layerClass",void 0),this.eventManager=new Us(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),ipe(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,r,o,i,s){const a=this.state;if(super.prepare(e,n,r,o,i,s),!s.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=s;l&&(this.TEXTAREA.value=""),a!==br.FINISHED&&this.hideEditableElement()}}beginEditing(e,n){this.state===br.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),K0(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),dt(this.TEXTAREA,[["data-hot-input",""],jf(-1)]),this.hot.getSettings().ariaTags&&dt(this.TEXTAREA,[Ll()]),_e(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),_e(this.TEXTAREA_PARENT,"handsontableInputHolder"),yt(this.TEXTAREA_PARENT,this.layerClass)&&Rt(this.TEXTAREA_PARENT,this.layerClass),_e(this.TEXTAREA_PARENT,KC),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){jpe()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Rt(this.TEXTAREA_PARENT,this.layerClass),_e(this.TEXTAREA_PARENT,KC)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Je(e.length-1,r=>{const o=e[r];if(yt(o,"handsontableEditor"))return n=!0,!1}),yt(this.TEXTAREA_PARENT,KC)&&Rt(this.TEXTAREA_PARENT,KC),n?(this.layerClass=o1e,_e(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),_e(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==br.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:r,width:o,maxWidth:i,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${r}px`,this.showEditableElement();const l=ec(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const u=ec(this.TEXTAREA),c=parseInt(u.paddingLeft,10)+parseInt(u.paddingRight,10),h=parseInt(u.paddingTop,10)+parseInt(u.paddingBottom,10),d=o-c,g=s-h,p=i-c,v=a-h;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(d,p),minHeight:Math.min(g,v),maxWidth:p,maxHeight:v},!0)}bindEvents(){OU()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===br.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===br.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("editor"),r=e.getContext("grid"),o={runOnlyIf:()=>Be(this.hot.getSelected()),group:m$},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Tab"],["Shift","Tab"],["PageUp"],["PageDown"]],forwardToContext:r,callback:()=>{}},{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:s=>!this.hot.selection.isMultiple()&&!s.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(s,a)=>{let[l]=a;g$(l,this.TEXTAREA)}},{keys:[["End"]],callback:(s,a)=>{let[l]=a;g$(l,this.TEXTAREA)}}],o)}unregisterShortcuts(){const e=this.hot.getShortcutManager().getContext("editor");e.removeShortcutsByGroup(tC),e.removeShortcutsByGroup(m$),e.removeShortcutsByGroup(_A)}}const s1e="base";function Tw(t,e,n,r,o,i,s){const a=s.ariaTags,l=[],u=[],c=[],h=[];s.className&&_e(e,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(JB())):a&&c.push(JB()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(ZB())):(u.push(s.invalidCellClassName),a&&c.push(ZB()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!i&&s.placeholder&&l.push(s.placeholderCellClassName),Rt(e,u),_e(e,l),Ff(e,c),dt(e,h)}Tw.RENDERER_TYPE=s1e;const a1e="text";function $l(t,e,n,r,o,i,s){Tw.apply(this,[t,e,n,r,o,i,s]);let a=i;if(!a&&s.placeholder&&(a=s.placeholder),a=fr(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Oa(e);const l=t.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=t.getSourceDataAtRow(n),e.appendChild(l)}else Eh(e,a)}$l.RENDERER_TYPE=a1e;const l1e="text",p$={CELL_TYPE:l1e,editor:Vh,renderer:$l};qs(p$),Ti.editors={BaseEditor:ng};function Ti(t,e){const n=new u$(t,e||{},M_);return n.init(),n}Ti.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new u$(t,e,M_)},Ti.DefaultSettings=qz(),Ti.hooks=$e.getSingleton(),Ti.CellCoords=mC,Ti.CellRange=n_,Ti.packageName="handsontable",Ti.buildDate="16/01/2024 10:27:23",Ti.version="14.1.0",Ti.languages={dictionaryKeys:O0e,getLanguageDictionary:Ez,getLanguagesDictionaries:N0e,registerLanguageDictionary:kz,getTranslatedPhrase:Tz};function QC(t,e,n){return e=JC(e),g1e(t,w$()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function v$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function u1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(n),!0).forEach(function(r){h1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y$(t){var e=c1e(t,"string");return typeof e=="symbol"?e:String(e)}function Mw(t){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(t)}function _w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y$(r.key),r)}}function Ow(t,e,n){return e&&b$(t.prototype,e),n&&b$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h1e(t,e,n){return e=y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JC(t)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},OA(t,e)}function d1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function f1e(t,e){if(t==null)return{};var n=d1e(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g1e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$(t)}function m1e(t){return p1e(t)||w1e(t)||v1e(t)||y1e()}function p1e(t){if(Array.isArray(t))return AA(t)}function w1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v1e(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var PA=null,b1e="Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with  the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.",C1e="The Handsontable instance bound to this component was destroyed and cannot be used properly.",ZC="global",S1e="hot-wrapper-editor-container";function x1e(){if(typeof console<"u"){var t;(t=console).warn.apply(t,arguments)}}function IA(t,e){var n=de.Children.toArray(t),r=de.Children.count(t),o=null;return r!==0&&(r===1&&n[0].props[e]?o=n[0]:o=n.find(function(i){return i.props[e]!==void 0})),o||null}function S$(t){return t?t.type.WrappedComponent?t.type.WrappedComponent:t.type:null}function x$(t,e){if(typeof t>"u"||e===null)return null;var n=k$(e.props,!1);return n.className="".concat(S1e," ").concat(n.className),Mk.createPortal(de.createElement("div",Object.assign({},n),e),t.body)}function R$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZC,r=IA(t,"hot-editor"),o=S$(r);return r?de.cloneElement(r,{emitEditorInstance:function(i,s){e.get(o)||e.set(o,new Map);var a=e.get(o);a.set(s??ZC,i)},editorColumnScope:n,isEditor:!0}):null}function R1e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;n||(n=document),PA||(PA=n.createDocumentFragment());var r=n.createElement("DIV");PA.appendChild(r);var o=de.cloneElement(t,u1e({key:"".concat(e.row,"-").concat(e.col)},e));return{portal:Mk.createPortal(o,r,"".concat(e.row,"-").concat(e.col,"-").concat(Math.random())),portalContainer:r}}function k$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{id:t.id||(e?"hot-"+Math.random().toString(36).substring(5):void 0),className:t.className||"",style:t.style||{}}}function k1e(){return typeof window<"u"}var E$=function(){function t(){_w(this,t)}return Ow(t,null,[{key:"getSettings",value:function(e){var n={};if(e.settings){var r=e.settings;for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])}for(var i in e)i!=="settings"&&i!=="children"&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}}]),t}(),E1e=function(t){XC(e,t);function e(){return _w(this,e),QC(this,e,arguments)}return Ow(e,[{key:"getSettingsProps",value:function(){var n=this;return this.internalProps=["_componentRendererColumns","_emitColumnSettings","_columnIndex","_getChildElementByType","_getRendererWrapper","_getEditorClass","_getEditorCache","_getOwnerDocument","hot-renderer","hot-editor","children"],Object.keys(this.props).filter(function(r){return!n.internalProps.includes(r)}).reduce(function(r,o){return r[o]=n.props[o],r},{})}},{key:"getLocalEditorElement",value:function(){return R$(this.props.children,this.props._getEditorCache(),this.props._columnIndex)}},{key:"createColumnSettings",value:function(){var n=this.props._getChildElementByType(this.props.children,"hot-renderer"),r=this.getLocalEditorElement();this.columnSettings=E$.getSettings(this.getSettingsProps()),n!==null&&(this.columnSettings.renderer=this.props._getRendererWrapper(n),this.props._componentRendererColumns.set(this.props._columnIndex,!0)),r!==null&&(this.columnSettings.editor=this.props._getEditorClass(r,this.props._columnIndex))}},{key:"emitColumnSettings",value:function(){this.props._emitColumnSettings(this.columnSettings,this.props._columnIndex)}},{key:"componentDidMount",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"componentDidUpdate",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"render",value:function(){var n=this.props._getOwnerDocument(),r=x$(n,this.getLocalEditorElement());return de.createElement(de.Fragment,null,r)}}]),e}(de.Component),T1e=function(t){XC(e,t);function e(){var n;return _w(this,e),n=QC(this,e,arguments),n.state={portals:[]},n}return Ow(e,[{key:"render",value:function(){return de.createElement(de.Fragment,null,this.state.portals)}}]),e}(de.Component),M1e="14.1.0";function HA(t,e){return e={exports:{}},t(e,e.exports),e.exports}/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Vr=typeof Symbol=="function"&&Symbol.for,NA=Vr?Symbol.for("react.element"):60103,DA=Vr?Symbol.for("react.portal"):60106,eS=Vr?Symbol.for("react.fragment"):60107,tS=Vr?Symbol.for("react.strict_mode"):60108,nS=Vr?Symbol.for("react.profiler"):60114,rS=Vr?Symbol.for("react.provider"):60109,oS=Vr?Symbol.for("react.context"):60110,LA=Vr?Symbol.for("react.async_mode"):60111,iS=Vr?Symbol.for("react.concurrent_mode"):60111,sS=Vr?Symbol.for("react.forward_ref"):60112,aS=Vr?Symbol.for("react.suspense"):60113,_1e=Vr?Symbol.for("react.suspense_list"):60120,lS=Vr?Symbol.for("react.memo"):60115,uS=Vr?Symbol.for("react.lazy"):60116,O1e=Vr?Symbol.for("react.block"):60121,A1e=Vr?Symbol.for("react.fundamental"):60117,P1e=Vr?Symbol.for("react.responder"):60118,I1e=Vr?Symbol.for("react.scope"):60119;function Mi(t){if(Mw(t)==="object"&&t!==null){var e=t.$$typeof;switch(e){case NA:switch(t=t.type,t){case LA:case iS:case eS:case nS:case tS:case aS:return t;default:switch(t=t&&t.$$typeof,t){case oS:case sS:case uS:case lS:case rS:return t;default:return e}}case DA:return e}}}function T$(t){return Mi(t)===iS}var H1e=LA,N1e=iS,D1e=oS,L1e=rS,j1e=NA,F1e=sS,W1e=eS,V1e=uS,B1e=lS,U1e=DA,z1e=nS,$1e=tS,G1e=aS,Y1e=function(t){return T$(t)||Mi(t)===LA},q1e=T$,K1e=function(t){return Mi(t)===oS},Q1e=function(t){return Mi(t)===rS},X1e=function(t){return Mw(t)==="object"&&t!==null&&t.$$typeof===NA},J1e=function(t){return Mi(t)===sS},Z1e=function(t){return Mi(t)===eS},exe=function(t){return Mi(t)===uS},txe=function(t){return Mi(t)===lS},nxe=function(t){return Mi(t)===DA},rxe=function(t){return Mi(t)===nS},oxe=function(t){return Mi(t)===tS},ixe=function(t){return Mi(t)===aS},sxe=function(t){return typeof t=="string"||typeof t=="function"||t===eS||t===iS||t===nS||t===tS||t===aS||t===_1e||Mw(t)==="object"&&t!==null&&(t.$$typeof===uS||t.$$typeof===lS||t.$$typeof===rS||t.$$typeof===oS||t.$$typeof===sS||t.$$typeof===A1e||t.$$typeof===P1e||t.$$typeof===I1e||t.$$typeof===O1e)},axe=Mi,lxe={AsyncMode:H1e,ConcurrentMode:N1e,ContextConsumer:D1e,ContextProvider:L1e,Element:j1e,ForwardRef:F1e,Fragment:W1e,Lazy:V1e,Memo:B1e,Portal:U1e,Profiler:z1e,StrictMode:$1e,Suspense:G1e,isAsyncMode:Y1e,isConcurrentMode:q1e,isContextConsumer:K1e,isContextProvider:Q1e,isElement:X1e,isForwardRef:J1e,isFragment:Z1e,isLazy:exe,isMemo:txe,isPortal:nxe,isProfiler:rxe,isStrictMode:oxe,isSuspense:ixe,isValidElementType:sxe,typeOf:axe},vn=HA(function(t,e){});vn.AsyncMode,vn.ConcurrentMode,vn.ContextConsumer,vn.ContextProvider,vn.Element,vn.ForwardRef,vn.Fragment,vn.Lazy,vn.Memo,vn.Portal,vn.Profiler,vn.StrictMode,vn.Suspense,vn.isAsyncMode,vn.isConcurrentMode,vn.isContextConsumer,vn.isContextProvider,vn.isElement,vn.isForwardRef,vn.isFragment,vn.isLazy,vn.isMemo,vn.isPortal,vn.isProfiler,vn.isStrictMode,vn.isSuspense,vn.isValidElementType,vn.typeOf,HA(function(t){t.exports=lxe});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var DWe=Object.getOwnPropertySymbols,LWe=Object.prototype.hasOwnProperty,jWe=Object.prototype.propertyIsEnumerable;function FWe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function uxe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}uxe();var cxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hxe=cxe;Function.call.bind(Object.prototype.hasOwnProperty);function M$(){}function _$(){}_$.resetWarningCache=M$;var dxe=function(){function t(r,o,i,s,a,l){if(l!==hxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_$,resetWarningCache:M$};return n.PropTypes=n,n},fxe=HA(function(t){t.exports=dxe()}),jA=fxe,FA=function(t){XC(e,t);function e(){var n;return _w(this,e),n=QC(this,e,arguments),n.id=null,n.__hotInstance=null,n.hotElementRef=null,n.columnSettings=[],n.renderersPortalManager=null,n.portalCacheArray=[],n.renderedCellCache=new Map,n.editorCache=new Map,n.componentRendererColumns=new Map,n}return Ow(e,[{key:"hotInstance",get:function(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(C1e),null)},set:function(n){this.__hotInstance=n}},{key:"getRenderedCellCache",value:function(){return this.renderedCellCache}},{key:"getEditorCache",value:function(){return this.editorCache}},{key:"clearCache",value:function(){this.getRenderedCellCache().clear(),this.componentRendererColumns.clear()}},{key:"getOwnerDocument",value:function(){return k1e()?this.hotElementRef?this.hotElementRef.ownerDocument:document:null}},{key:"setHotElementRef",value:function(n){this.hotElementRef=n}},{key:"getRendererWrapper",value:function(n){var r=this;return function(o,i,s,a,l,u,c){var h=r.getRenderedCellCache();if(h.has("".concat(s,"-").concat(a))&&(i.innerHTML=h.get("".concat(s,"-").concat(a)).innerHTML),i&&!i.getAttribute("ghost-table")){for(var d=R1e(n,{TD:i,row:s,col:a,prop:l,value:u,cellProperties:c,isRenderer:!0},i.ownerDocument),g=d.portal,p=d.portalContainer;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(p),r.portalCacheArray.push(g)}return h.set("".concat(s,"-").concat(a),i),i}}},{key:"getEditorClass",value:function(n){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZC,i=S$(n),s=(r=this.getEditorCache().get(i))===null||r===void 0?void 0:r.get(o);return this.makeEditorClass(s)}},{key:"makeEditorClass",value:function(n){var r=function(o){XC(i,o);function i(s){var a;return _w(this,i),a=QC(this,i,[s]),n.hotCustomEditorInstance=C$(a),a.editorComponent=n,a}return Ow(i,[{key:"focus",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}}]),i}(Ti.editors.BaseEditor);return Object.getOwnPropertyNames(Ti.editors.BaseEditor.prototype).forEach(function(o){o!=="constructor"&&(r.prototype[o]=function(){for(var i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(i=n[o]).call.apply(i,[n].concat(a))})}),r}},{key:"getGlobalRendererElement",value:function(){return IA(this.props.children,"hot-renderer")}},{key:"getGlobalEditorElement",value:function(){return R$(this.props.children,this.getEditorCache())}},{key:"createNewGlobalSettings",value:function(){var n=E$.getSettings(this.props),r=this.getGlobalRendererElement(),o=this.getGlobalEditorElement();return n.columns=this.columnSettings.length?this.columnSettings:n.columns,o?n.editor=this.getEditorClass(o,ZC):n.editor=this.props.editor||(this.props.settings?this.props.settings.editor:void 0),r?(n.renderer=this.getRendererWrapper(r),this.componentRendererColumns.set("global",!0)):n.renderer=this.props.renderer||(this.props.settings?this.props.settings.renderer:void 0),n}},{key:"displayAutoSizeWarning",value:function(n){var r,o;this.hotInstance&&((r=this.hotInstance.getPlugin("autoRowSize"))!==null&&r!==void 0&&r.enabled||(o=this.hotInstance.getPlugin("autoColumnSize"))!==null&&o!==void 0&&o.enabled)&&this.componentRendererColumns.size>0&&x1e(b1e)}},{key:"setHotColumnSettings",value:function(n,r){this.columnSettings[r]=n}},{key:"handsontableBeforeViewRender",value:function(){this.getRenderedCellCache().clear()}},{key:"handsontableAfterViewRender",value:function(){var n=this;this.renderersPortalManager.setState({portals:m1e(this.portalCacheArray)},function(){n.portalCacheArray=[]})}},{key:"updateHot",value:function(n){this.hotInstance&&this.hotInstance.updateSettings(n,!1)}},{key:"setRenderersPortalManagerRef",value:function(n){this.renderersPortalManager=n}},{key:"componentDidMount",value:function(){var n=this,r=this.createNewGlobalSettings();this.hotInstance=new Ti.Core(this.hotElementRef,r),this.hotInstance.addHook("beforeViewRender",function(){return n.handsontableBeforeViewRender()}),this.hotInstance.addHook("afterViewRender",function(){return n.handsontableAfterViewRender()}),this.hotInstance.init(),this.displayAutoSizeWarning(r)}},{key:"componentDidUpdate",value:function(){this.clearCache();var n=this.createNewGlobalSettings();this.updateHot(n),this.displayAutoSizeWarning(n)}},{key:"componentWillUnmount",value:function(){this.clearCache(),this.hotInstance&&this.hotInstance.destroy()}},{key:"render",value:function(){var n=this,r=function(l){return l.type===E1e},o=de.Children.toArray(this.props.children),i=o.filter(function(l){return r(l)}).map(function(l,u){return de.cloneElement(l,{_componentRendererColumns:n.componentRendererColumns,_emitColumnSettings:n.setHotColumnSettings.bind(n),_columnIndex:u,_getChildElementByType:IA.bind(n),_getRendererWrapper:n.getRendererWrapper.bind(n),_getEditorClass:n.getEditorClass.bind(n),_getOwnerDocument:n.getOwnerDocument.bind(n),_getEditorCache:n.getEditorCache.bind(n),children:l.props.children})}),s=k$(this.props),a=x$(this.getOwnerDocument(),this.getGlobalEditorElement());return de.createElement(de.Fragment,null,de.createElement("div",Object.assign({ref:this.setHotElementRef.bind(this)},s),i),de.createElement(T1e,{ref:this.setRenderersPortalManagerRef.bind(this)}),a)}}],[{key:"version",get:function(){return M1e}}]),e}(de.Component);FA.propTypes={style:jA.object,id:jA.string,className:jA.string};var gxe=["children"],rg=de.forwardRef(function(t,e){var n,r=t.children,o=f1e(t,gxe),i=typeof de.useId=="function"?de.useId():void 0,s=(n=o.id)!==null&&n!==void 0?n:i;return de.createElement(FA,Object.assign({id:s},o,{ref:e}),r)});rg.version=FA.version,de.Component;const O$=(t,e,n,r,o,i,s)=>((i||"").match(/^https?:\/\//)===null?e.innerText=i:(i=i.replace("<","&lt;").replace(">","&gt;"),e.innerHTML=`<a href="${i}" target="_blank" rel="noopener noreferrer">${i}</a>`),e),Aw=["copy","cut","---------","undo","redo","---------","row_above","row_below","remove_row","clear_column"],mxe=z.forwardRef(function(t,e){const n=["Site","URL","Reprint?","Auto-gen?","Deleted?","View Count"],r=i=>{var s,a;for(let l of i||[]){let[u,c,h,d]=l;if(c===1){const g=zk.find(({re:p})=>d.match(p)!==null);if(g!==null){(a=(s=e==null?void 0:e.current)==null?void 0:s.hotInstance)==null||a.setDataAtCell(u,0,g==null?void 0:g.site);const p=d.match(/https?:\/\/youtu\.be\/([^\/\?&]+)/);p!==null&&(d=`https://www.youtube.com/watch?v=${p[1]}`,l[3]=d)}}}},o=[{type:"dropdown",source:zk.map(i=>i.site)},{type:"text",renderer:O$},{type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"},{type:"text"}];return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,tableClassName:"playlinks-table",rowHeaders:!0,colHeaders:n,columns:o,width:"100%",contextMenu:Aw,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:[20,35,10,10,10,15],stretchH:"all",afterChange:r,licenseKey:"non-commercial-and-evaluation"})})}),WA=(t,e,n,r,o,i,s)=>{if(i===null)return e.innerHTML="",e;const a=t.getDataAtCell(n,0)||"";return i=i.replace(/<ref\s*[^>]*\/>/gi,'<i class="asterisk tiny icon"></i>'),i=i.replace(/<ref\s*[^>]*>(.*)<\/ref>/gi,'<i class="asterisk tiny icon"></i>'),i=i.replace(/'{3}([^']*)'{3}/g,"<b>$1</b>"),i=i.replace(/'{2}([^']*)'{2}/g,"<i>$1</i>"),a!==""&&(i=`<span style="color:${a};">${i}</span>`),i=i.replace(/<(?!\/?(?:b|i|u|span|div|s|sub|sup|strong|em|mark)\b)/g,"&lt;").replace(new RegExp("(?<!(?:b|i|u|span|div|s|sub|sup|strong|em|mark)\\b[^<]*)>","g"),"&gt;"),e.innerHTML=i,e},A$=z.forwardRef(function({headersText:t,needsRomanization:e,needsEnglishTranslation:n,mode:r="light"},o){const i={columns:[],indicators:!1};e||i.columns.push(2),n||i.columns.push(3);const s=[{type:"text"},{type:"text",renderer:WA},{type:"text",renderer:WA},{type:"text",renderer:WA}];return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:o,rowHeaders:!0,colHeaders:t,width:"100%",contextMenu:Aw,hiddenColumns:i,columns:s,autoWrapRow:!0,autoWrapCol:!0,selectionMode:"multiple",manualColumnResize:!0,imeFastEdit:!0,colWidths:[20],stretchH:"all",minSpareRows:0,className:`lyrics-table ${r}-mode`,licenseKey:"non-commercial-and-evaluation"})})}),VA=z.forwardRef(function({forProducerPages:t=!1},e){const n=["URL","Description","Official"],r=[{type:"text",renderer:O$},{type:"text"},{type:"checkbox",className:"htCenter htMiddle"}];let o=[60,30,10];t&&(n.push("Media","Inactive?"),r.push({type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"}),o=[60,25,5,5,5]);const i=s=>{var a,l;for(let u of s||[]){const[c,h,d,g]=u;if(h===0){const p=Vj.find(({re:C})=>g.match(C)!==null);p!==null&&((l=(a=e==null?void 0:e.current)==null?void 0:a.hotInstance)==null||l.setDataAtCell(c,1,p==null?void 0:p.site));let v=/^https?:\/\/youtu\.be\/([^\?]+)/.exec(g);v===null&&(v=/^https?:\/\/www\.youtube\.com\/watch\?v=([^\?&]+)/.exec(g)),v!==null&&(u[3]=`https://www.youtube.com/watch?v=${v[1]}`)}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:n,columns:r,width:"100%",contextMenu:Aw,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:o,stretchH:"all",minSpareRows:0,afterChange:i,licenseKey:"non-commercial-and-evaluation"})})});function cS({copyState:t}){const[e,n]=z.useState(!1);return m.jsx(Tl,{content:"Copied to clipboard",position:"top center",open:e,onClose:()=>n(!1),trigger:m.jsx(hr,{basic:!0,color:"blue",onClick:()=>{navigator.clipboard.writeText(t),n(!0)},children:"Copy Output"})})}function BA({errors:t,warnings:e,recommendToAutoloadCategories:n}){return m.jsxs("div",{children:[t.length===0?null:m.jsxs(kl,{negative:!0,children:[m.jsx(ba,{children:"Errors"}),m.jsx("ul",{children:t.map((r,o)=>m.jsx("li",{children:r},o))})]}),e.length===0?null:m.jsxs(kl,{children:[m.jsx(ba,{children:"Warnings"}),m.jsx("ul",{children:e.map((r,o)=>m.jsx("li",{children:r},o))})]}),n&&m.jsx(kl,{positive:!0,children:"It is recommended to click the 'Autoload Categories' button before generating the page again."})]})}function UA({handleFetchFromVocadb:t,loading:e,mode:n,value:r,onChange:o}){return m.jsx(En,{fluid:!0,placeholder:`https://vocadb.net/${n}/...`,label:m.jsx(hr,{onClick:t,loading:e,children:"Pre-load"}),value:r,onChange:(i,s)=>o(s.value),labelPosition:"right"})}var hS=function(){return hS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},hS.apply(this,arguments)};function pxe(){var t=z.useRef(!1),e=z.useCallback(function(){return t.current},[]);return z.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function wxe(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={loading:!1});var r=z.useRef(0),o=pxe(),i=z.useState(n),s=i[0],a=i[1],l=z.useCallback(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var h=++r.current;return s.loading||a(function(d){return hS(hS({},d),{loading:!0})}),t.apply(void 0,u).then(function(d){return o()&&h===r.current&&a({value:d,loading:!1}),d},function(d){return o()&&h===r.current&&a({error:d,loading:!1}),d})},e);return[s,l]}function vxe(t,e){e===void 0&&(e=[]);var n=wxe(t,e,{loading:!0}),r=n[0],o=n[1];return z.useEffect(function(){o()},[o]),r}var P$={exports:{}};const yxe={},bxe=Object.freeze(Object.defineProperty({__proto__:null,default:yxe},Symbol.toStringTag,{value:"Module"})),zA=Kq(bxe);(function(t,e){var n=void 0,r=function(o){return n||(n=new Promise(function(i,s){var a=typeof o<"u"?o:{},l=a.onAbort;a.onAbort=function(f){s(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){i(a)}),t=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function f(le,Te){switch(typeof Te){case"boolean":SWe(le,Te?1:0);break;case"number":yWe(le,Te);break;case"string":bWe(le,Te,-1,-1);break;case"object":if(Te===null)$q(le);else if(Te.length!=null){var ot=cx(Te,ux);CWe(le,ot,Te.length,-1),fx(ot)}else mx(le,"Wrong API use : tried to return a value of an unknown type ("+Te+").",-1);break;default:$q(le)}}function b(le,Te){for(var ot=[],Et=0;Et<le;Et+=1){var $t=Ye(Te+4*Et,"i32"),_n=gWe($t);if(_n===1||_n===2)$t=vWe($t);else if(_n===3)$t=pWe($t);else if(_n===4){_n=$t,$t=mWe(_n),_n=wWe(_n);for(var la=new Uint8Array($t),Ss=0;Ss<$t;Ss+=1)la[Ss]=L[_n+Ss];$t=la}else $t=null;ot.push($t)}return ot}function k(le,Te){this.La=le,this.db=Te,this.Ja=1,this.fb=[]}function P(le,Te){if(this.db=Te,Te=X(le)+1,this.Ya=dx(Te),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");re(le,G,this.Ya,Te),this.eb=this.Ya,this.Ua=this.ib=null}function $(le){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),le!=null){var Te=this.filename,ot="/",Et=Te;if(ot&&(ot=typeof ot=="string"?ot:ft(ot),Et=Te?j(ot+"/"+Te):ot),Te=cn(!0,!0),Et=Y(Et,(Te!==void 0?Te:438)&4095|32768,0),le){if(typeof le=="string"){ot=Array(le.length);for(var $t=0,_n=le.length;$t<_n;++$t)ot[$t]=le.charCodeAt($t);le=ot}_r(Et,Te|146),ot=Jg(Et,577),Aq(ot,le,0,le.length,0),AH(ot),_r(Et,Te)}}this.handleError(xt(this.filename,ge)),this.db=Ye(ge,"i32"),Yq(this.db),this.Za={},this.Na={}}var ge=Lc(4),be=u.cwrap,xt=be("sqlite3_open","number",["string","number"]),en=be("sqlite3_close_v2","number",["number"]),Bt=be("sqlite3_exec","number",["number","string","number","number","number"]),Or=be("sqlite3_changes","number",["number"]),eo=be("sqlite3_prepare_v2","number",["number","string","number","number","number"]),QFe=be("sqlite3_sql","string",["number"]),XFe=be("sqlite3_normalized_sql","string",["number"]),Vq=be("sqlite3_prepare_v2","number",["number","number","number","number","number"]),JFe=be("sqlite3_bind_text","number",["number","number","number","number","number"]),Bq=be("sqlite3_bind_blob","number",["number","number","number","number","number"]),ZFe=be("sqlite3_bind_double","number",["number","number","number"]),eWe=be("sqlite3_bind_int","number",["number","number","number"]),tWe=be("sqlite3_bind_parameter_index","number",["number","string"]),nWe=be("sqlite3_step","number",["number"]),rWe=be("sqlite3_errmsg","string",["number"]),oWe=be("sqlite3_column_count","number",["number"]),iWe=be("sqlite3_data_count","number",["number"]),sWe=be("sqlite3_column_double","number",["number","number"]),Uq=be("sqlite3_column_text","string",["number","number"]),aWe=be("sqlite3_column_blob","number",["number","number"]),lWe=be("sqlite3_column_bytes","number",["number","number"]),uWe=be("sqlite3_column_type","number",["number","number"]),cWe=be("sqlite3_column_name","string",["number","number"]),hWe=be("sqlite3_reset","number",["number"]),dWe=be("sqlite3_clear_bindings","number",["number"]),fWe=be("sqlite3_finalize","number",["number"]),zq=be("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),gWe=be("sqlite3_value_type","number",["number"]),mWe=be("sqlite3_value_bytes","number",["number"]),pWe=be("sqlite3_value_text","string",["number"]),wWe=be("sqlite3_value_blob","number",["number"]),vWe=be("sqlite3_value_double","number",["number"]),yWe=be("sqlite3_result_double","",["number","number"]),$q=be("sqlite3_result_null","",["number"]),bWe=be("sqlite3_result_text","",["number","string","number","number"]),CWe=be("sqlite3_result_blob","",["number","number","number","number"]),SWe=be("sqlite3_result_int","",["number","number"]),mx=be("sqlite3_result_error","",["number","string","number"]),Gq=be("sqlite3_aggregate_context","number",["number","number"]),Yq=be("RegisterExtensionFunctions","number",["number"]);k.prototype.bind=function(le){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(le)?this.wb(le):le!=null&&typeof le=="object"?this.xb(le):!0},k.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var le=nWe(this.La);switch(le){case 100:return!0;case 101:return!1;default:throw this.db.handleError(le)}},k.prototype.rb=function(le){return le==null&&(le=this.Ja,this.Ja+=1),sWe(this.La,le)},k.prototype.Ab=function(le){if(le==null&&(le=this.Ja,this.Ja+=1),le=Uq(this.La,le),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(le)},k.prototype.Bb=function(le){return le==null&&(le=this.Ja,this.Ja+=1),Uq(this.La,le)},k.prototype.getBlob=function(le){le==null&&(le=this.Ja,this.Ja+=1);var Te=lWe(this.La,le);le=aWe(this.La,le);for(var ot=new Uint8Array(Te),Et=0;Et<Te;Et+=1)ot[Et]=L[le+Et];return ot},k.prototype.get=function(le,Te){Te=Te||{},le!=null&&this.bind(le)&&this.step(),le=[];for(var ot=iWe(this.La),Et=0;Et<ot;Et+=1)switch(uWe(this.La,Et)){case 1:var $t=Te.useBigInt?this.Ab(Et):this.rb(Et);le.push($t);break;case 2:le.push(this.rb(Et));break;case 3:le.push(this.Bb(Et));break;case 4:le.push(this.getBlob(Et));break;default:le.push(null)}return le},k.prototype.getColumnNames=function(){for(var le=[],Te=oWe(this.La),ot=0;ot<Te;ot+=1)le.push(cWe(this.La,ot));return le},k.prototype.getAsObject=function(le,Te){le=this.get(le,Te),Te=this.getColumnNames();for(var ot={},Et=0;Et<Te.length;Et+=1)ot[Te[Et]]=le[Et];return ot},k.prototype.getSQL=function(){return QFe(this.La)},k.prototype.getNormalizedSQL=function(){return XFe(this.La)},k.prototype.run=function(le){return le!=null&&this.bind(le),this.step(),this.reset()},k.prototype.nb=function(le,Te){Te==null&&(Te=this.Ja,this.Ja+=1),le=Pe(le);var ot=cx(le,ux);this.fb.push(ot),this.db.handleError(JFe(this.La,Te,ot,le.length-1,0))},k.prototype.vb=function(le,Te){Te==null&&(Te=this.Ja,this.Ja+=1);var ot=cx(le,ux);this.fb.push(ot),this.db.handleError(Bq(this.La,Te,ot,le.length,0))},k.prototype.mb=function(le,Te){Te==null&&(Te=this.Ja,this.Ja+=1),this.db.handleError((le===(le|0)?eWe:ZFe)(this.La,Te,le))},k.prototype.yb=function(le){le==null&&(le=this.Ja,this.Ja+=1),Bq(this.La,le,0,0,0)},k.prototype.ob=function(le,Te){switch(Te==null&&(Te=this.Ja,this.Ja+=1),typeof le){case"string":this.nb(le,Te);return;case"number":this.mb(le,Te);return;case"bigint":this.nb(le.toString(),Te);return;case"boolean":this.mb(le+0,Te);return;case"object":if(le===null){this.yb(Te);return}if(le.length!=null){this.vb(le,Te);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+le+")."},k.prototype.xb=function(le){var Te=this;return Object.keys(le).forEach(function(ot){var Et=tWe(Te.La,ot);Et!==0&&Te.ob(le[ot],Et)}),!0},k.prototype.wb=function(le){for(var Te=0;Te<le.length;Te+=1)this.ob(le[Te],Te+1);return!0},k.prototype.reset=function(){return this.freemem(),dWe(this.La)===0&&hWe(this.La)===0},k.prototype.freemem=function(){for(var le;(le=this.fb.pop())!==void 0;)fx(le)},k.prototype.free=function(){this.freemem();var le=fWe(this.La)===0;return delete this.db.Za[this.La],this.La=0,le},P.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var le=Vv(),Te=Lc(4);Xe(ge),Xe(Te);try{this.db.handleError(Vq(this.db.db,this.eb,-1,ge,Te)),this.eb=Ye(Te,"i32");var ot=Ye(ge,"i32");return ot===0?(this.gb(),{done:!0}):(this.Ua=new k(ot,this.db),this.db.Za[ot]=this.Ua,{value:this.Ua,done:!1})}catch(Et){throw this.ib=A(this.eb),this.gb(),Et}finally{Bv(le)}},P.prototype.gb=function(){fx(this.Ya),this.Ya=null},P.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:A(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(P.prototype[Symbol.iterator]=function(){return this}),$.prototype.run=function(le,Te){if(!this.db)throw"Database closed";if(Te){le=this.prepare(le,Te);try{le.step()}finally{le.free()}}else this.handleError(Bt(this.db,le,0,0,ge));return this},$.prototype.exec=function(le,Te,ot){if(!this.db)throw"Database closed";var Et=Vv(),$t=null;try{var _n=NH(le),la=Lc(4);for(le=[];Ye(_n,"i8")!==0;){Xe(ge),Xe(la),this.handleError(Vq(this.db,_n,-1,ge,la));var Ss=Ye(ge,"i32");if(_n=Ye(la,"i32"),Ss!==0){var Li=null;for($t=new k(Ss,this),Te!=null&&$t.bind(Te);$t.step();)Li===null&&(Li={columns:$t.getColumnNames(),values:[]},le.push(Li)),Li.values.push($t.get(null,ot));$t.free()}}return le}catch(ua){throw $t&&$t.free(),ua}finally{Bv(Et)}},$.prototype.each=function(le,Te,ot,Et,$t){typeof Te=="function"&&(Et=ot,ot=Te,Te=void 0),le=this.prepare(le,Te);try{for(;le.step();)ot(le.getAsObject(null,$t))}finally{le.free()}if(typeof Et=="function")return Et()},$.prototype.prepare=function(le,Te){if(Xe(ge),this.handleError(eo(this.db,le,-1,ge,0)),le=Ye(ge,"i32"),le===0)throw"Nothing to prepare";var ot=new k(le,this);return Te!=null&&ot.bind(Te),this.Za[le]=ot},$.prototype.iterateStatements=function(le){return new P(le,this)},$.prototype.export=function(){Object.values(this.Za).forEach(function(Te){Te.free()}),Object.values(this.Na).forEach(Zg),this.Na={},this.handleError(en(this.db));var le=$Fe(this.filename);return this.handleError(xt(this.filename,ge)),this.db=Ye(ge,"i32"),Yq(this.db),le},$.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(le){le.free()}),Object.values(this.Na).forEach(Zg),this.Na={},this.handleError(en(this.db)),Nt("/"+this.filename),this.db=null)},$.prototype.handleError=function(le){if(le===0)return null;throw le=rWe(this.db),Error(le)},$.prototype.getRowsModified=function(){return Or(this.db)},$.prototype.create_function=function(le,Te){Object.prototype.hasOwnProperty.call(this.Na,le)&&(Zg(this.Na[le]),delete this.Na[le]);var ot=hx(function(Et,$t,_n){$t=b($t,_n);try{var la=Te.apply(null,$t)}catch(Ss){mx(Et,Ss,-1);return}f(Et,la)},"viii");return this.Na[le]=ot,this.handleError(zq(this.db,le,Te.length,1,0,ot,0,0,0)),this},$.prototype.create_aggregate=function(le,Te){var ot=Te.init||function(){return null},Et=Te.finalize||function(Li){return Li},$t=Te.step;if(!$t)throw"An aggregate function must have a step function in "+le;var _n={};Object.hasOwnProperty.call(this.Na,le)&&(Zg(this.Na[le]),delete this.Na[le]),Te=le+"__finalize",Object.hasOwnProperty.call(this.Na,Te)&&(Zg(this.Na[Te]),delete this.Na[Te]);var la=hx(function(Li,ua,LH){var bd=Gq(Li,1);Object.hasOwnProperty.call(_n,bd)||(_n[bd]=ot()),ua=b(ua,LH),ua=[_n[bd]].concat(ua);try{_n[bd]=$t.apply(null,ua)}catch(xWe){delete _n[bd],mx(Li,xWe,-1)}},"viii"),Ss=hx(function(Li){var ua=Gq(Li,1);try{var LH=Et(_n[ua])}catch(bd){delete _n[ua],mx(Li,bd,-1);return}f(Li,LH),delete _n[ua]},"vi");return this.Na[le]=la,this.Na[Te]=Ss,this.handleError(zq(this.db,le,$t.length-1,1,0,0,la,Ss,0)),this},u.Database=$};var c=Object.assign({},u),h="./this.program",d=typeof window=="object",g=typeof importScripts=="function",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",C,w,y;if(p){var x=zA,T=zA;v=g?T.dirname(v)+"/":__dirname+"/",C=(f,b)=>(f=ae(f)?new URL(f):T.normalize(f),x.readFileSync(f,b?void 0:"utf8")),y=f=>(f=C(f,!0),f.buffer||(f=new Uint8Array(f)),f),w=(f,b,k,P=!0)=>{f=ae(f)?new URL(f):T.normalize(f),x.readFile(f,P?void 0:"utf8",($,ge)=>{$?k($):b(P?ge.buffer:ge)})},!u.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(d||g)&&(g?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.indexOf("blob:")!==0?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",C=f=>{var b=new XMLHttpRequest;return b.open("GET",f,!1),b.send(null),b.responseText},g&&(y=f=>{var b=new XMLHttpRequest;return b.open("GET",f,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),w=(f,b,k)=>{var P=new XMLHttpRequest;P.open("GET",f,!0),P.responseType="arraybuffer",P.onload=()=>{P.status==200||P.status==0&&P.response?b(P.response):k()},P.onerror=k,P.send(null)});var _=u.print||console.log.bind(console),E=u.printErr||console.error.bind(console);Object.assign(u,c),c=null,u.thisProgram&&(h=u.thisProgram);var O;u.wasmBinary&&(O=u.wasmBinary),typeof WebAssembly!="object"&&U("no native wasm support detected");var N,H=!1,L,G,ue,B,he,Ee,Me;function ye(){var f=N.buffer;u.HEAP8=L=new Int8Array(f),u.HEAP16=ue=new Int16Array(f),u.HEAPU8=G=new Uint8Array(f),u.HEAPU16=new Uint16Array(f),u.HEAP32=B=new Int32Array(f),u.HEAPU32=he=new Uint32Array(f),u.HEAPF32=Ee=new Float32Array(f),u.HEAPF64=Me=new Float64Array(f)}var te=[],S=[],R=[];function M(){var f=u.preRun.shift();te.unshift(f)}var D=0,W=null;function U(f){var b;throw(b=u.onAbort)==null||b.call(u,f),f="Aborted("+f+")",E(f),H=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}var se=f=>f.startsWith("data:application/octet-stream;base64,"),ae=f=>f.startsWith("file://"),Se;if(Se="sql-wasm.wasm",!se(Se)){var Ce=Se;Se=u.locateFile?u.locateFile(Ce,v):v+Ce}function we(f){if(f==Se&&O)return new Uint8Array(O);if(y)return y(f);throw"both async and sync fetching of the wasm failed"}function ve(f){if(!O&&(d||g)){if(typeof fetch=="function"&&!ae(f))return fetch(f,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw"failed to load wasm binary file at '"+f+"'";return b.arrayBuffer()}).catch(()=>we(f));if(w)return new Promise((b,k)=>{w(f,P=>b(new Uint8Array(P)),k)})}return Promise.resolve().then(()=>we(f))}function fe(f,b,k){return ve(f).then(P=>WebAssembly.instantiate(P,b)).then(P=>P).then(k,P=>{E(`failed to asynchronously prepare wasm: ${P}`),U(P)})}function je(f,b){var k=Se;O||typeof WebAssembly.instantiateStreaming!="function"||se(k)||ae(k)||p||typeof fetch!="function"?fe(k,f,b):fetch(k,{credentials:"same-origin"}).then(P=>WebAssembly.instantiateStreaming(P,f).then(b,function($){return E(`wasm streaming compile failed: ${$}`),E("falling back to ArrayBuffer instantiation"),fe(k,f,b)}))}var xe,oe,at=f=>{for(;0<f.length;)f.shift()(u)};function Ye(f,b="i8"){switch(b.endsWith("*")&&(b="*"),b){case"i1":return L[f>>0];case"i8":return L[f>>0];case"i16":return ue[f>>1];case"i32":return B[f>>2];case"i64":U("to do getValue(i64) use WASM_BIGINT");case"float":return Ee[f>>2];case"double":return Me[f>>3];case"*":return he[f>>2];default:U(`invalid type for getValue: ${b}`)}}function Xe(f){var b="i32";switch(b.endsWith("*")&&(b="*"),b){case"i1":L[f>>0]=0;break;case"i8":L[f>>0]=0;break;case"i16":ue[f>>1]=0;break;case"i32":B[f>>2]=0;break;case"i64":U("to do setValue(i64) use WASM_BIGINT");case"float":Ee[f>>2]=0;break;case"double":Me[f>>3]=0;break;case"*":he[f>>2]=0;break;default:U(`invalid type for setValue: ${b}`)}}var lt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ne=(f,b,k)=>{var P=b+k;for(k=b;f[k]&&!(k>=P);)++k;if(16<k-b&&f.buffer&&lt)return lt.decode(f.subarray(b,k));for(P="";b<k;){var $=f[b++];if($&128){var ge=f[b++]&63;if(($&224)==192)P+=String.fromCharCode(($&31)<<6|ge);else{var be=f[b++]&63;$=($&240)==224?($&15)<<12|ge<<6|be:($&7)<<18|ge<<12|be<<6|f[b++]&63,65536>$?P+=String.fromCharCode($):($-=65536,P+=String.fromCharCode(55296|$>>10,56320|$&1023))}}else P+=String.fromCharCode($)}return P},A=(f,b)=>f?Ne(G,f,b):"",I=(f,b)=>{for(var k=0,P=f.length-1;0<=P;P--){var $=f[P];$==="."?f.splice(P,1):$===".."?(f.splice(P,1),k++):k&&(f.splice(P,1),k--)}if(b)for(;k;k--)f.unshift("..");return f},j=f=>{var b=f.charAt(0)==="/",k=f.substr(-1)==="/";return(f=I(f.split("/").filter(P=>!!P),!b).join("/"))||b||(f="."),f&&k&&(f+="/"),(b?"/":"")+f},J=f=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=b[0],b=b[1],!f&&!b?".":(b&&(b=b.substr(0,b.length-1)),f+b)},V=f=>{if(f==="/")return"/";f=j(f),f=f.replace(/\/$/,"");var b=f.lastIndexOf("/");return b===-1?f:f.substr(b+1)},Z=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return k=>crypto.getRandomValues(k);if(p)try{var f=zA;if(f.randomFillSync)return k=>f.randomFillSync(k);var b=f.randomBytes;return k=>(k.set(b(k.byteLength)),k)}catch{}U("initRandomDevice")},q=f=>(q=Z())(f);function K(){for(var f="",b=!1,k=arguments.length-1;-1<=k&&!b;k--){if(b=0<=k?arguments[k]:"/",typeof b!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";f=b+"/"+f,b=b.charAt(0)==="/"}return f=I(f.split("/").filter(P=>!!P),!b).join("/"),(b?"/":"")+f||"."}var ne=[],X=f=>{for(var b=0,k=0;k<f.length;++k){var P=f.charCodeAt(k);127>=P?b++:2047>=P?b+=2:55296<=P&&57343>=P?(b+=4,++k):b+=3}return b},re=(f,b,k,P)=>{if(!(0<P))return 0;var $=k;P=k+P-1;for(var ge=0;ge<f.length;++ge){var be=f.charCodeAt(ge);if(55296<=be&&57343>=be){var xt=f.charCodeAt(++ge);be=65536+((be&1023)<<10)|xt&1023}if(127>=be){if(k>=P)break;b[k++]=be}else{if(2047>=be){if(k+1>=P)break;b[k++]=192|be>>6}else{if(65535>=be){if(k+2>=P)break;b[k++]=224|be>>12}else{if(k+3>=P)break;b[k++]=240|be>>18,b[k++]=128|be>>12&63}b[k++]=128|be>>6&63}b[k++]=128|be&63}}return b[k]=0,k-$};function Pe(f,b){var k=Array(X(f)+1);return f=re(f,k,0,k.length),b&&(k.length=f),k}var Fe=[];function tt(f,b){Fe[f]={input:[],output:[],Xa:b},ci(f,ut)}var ut={open(f){var b=Fe[f.node.rdev];if(!b)throw new ee(43);f.tty=b,f.seekable=!1},close(f){f.tty.Xa.fsync(f.tty)},fsync(f){f.tty.Xa.fsync(f.tty)},read(f,b,k,P){if(!f.tty||!f.tty.Xa.sb)throw new ee(60);for(var $=0,ge=0;ge<P;ge++){try{var be=f.tty.Xa.sb(f.tty)}catch{throw new ee(29)}if(be===void 0&&$===0)throw new ee(6);if(be==null)break;$++,b[k+ge]=be}return $&&(f.node.timestamp=Date.now()),$},write(f,b,k,P){if(!f.tty||!f.tty.Xa.jb)throw new ee(60);try{for(var $=0;$<P;$++)f.tty.Xa.jb(f.tty,b[k+$])}catch{throw new ee(29)}return P&&(f.node.timestamp=Date.now()),$}},pt={sb(){e:{if(!ne.length){var f=null;if(p){var b=Buffer.alloc(256),k=0,P=process.stdin.fd;try{k=x.readSync(P,b)}catch($){if($.toString().includes("EOF"))k=0;else throw $}0<k?f=b.slice(0,k).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f){f=null;break e}ne=Pe(f,!0)}f=ne.shift()}return f},jb(f,b){b===null||b===10?(_(Ne(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},fsync(f){f.output&&0<f.output.length&&(_(Ne(f.output,0)),f.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},ln={jb(f,b){b===null||b===10?(E(Ne(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},fsync(f){f.output&&0<f.output.length&&(E(Ne(f.output,0)),f.output=[])}};function St(f,b){var k=f.Ia?f.Ia.length:0;k>=b||(b=Math.max(b,k*(1048576>k?2:1.125)>>>0),k!=0&&(b=Math.max(b,256)),k=f.Ia,f.Ia=new Uint8Array(b),0<f.Ma&&f.Ia.set(k.subarray(0,f.Ma),0))}var ze={Qa:null,Ra(){return ze.createNode(null,"/",16895,0)},createNode(f,b,k,P){if((k&61440)===24576||(k&61440)===4096)throw new ee(63);return ze.Qa||(ze.Qa={dir:{node:{Pa:ze.Ga.Pa,Oa:ze.Ga.Oa,lookup:ze.Ga.lookup,ab:ze.Ga.ab,rename:ze.Ga.rename,unlink:ze.Ga.unlink,rmdir:ze.Ga.rmdir,readdir:ze.Ga.readdir,symlink:ze.Ga.symlink},stream:{Ta:ze.Ha.Ta}},file:{node:{Pa:ze.Ga.Pa,Oa:ze.Ga.Oa},stream:{Ta:ze.Ha.Ta,read:ze.Ha.read,write:ze.Ha.write,lb:ze.Ha.lb,bb:ze.Ha.bb,cb:ze.Ha.cb}},link:{node:{Pa:ze.Ga.Pa,Oa:ze.Ga.Oa,readlink:ze.Ga.readlink},stream:{}},pb:{node:{Pa:ze.Ga.Pa,Oa:ze.Ga.Oa},stream:Di}}),k=yn(f,b,k,P),st(k.mode)?(k.Ga=ze.Qa.dir.node,k.Ha=ze.Qa.dir.stream,k.Ia={}):(k.mode&61440)===32768?(k.Ga=ze.Qa.file.node,k.Ha=ze.Qa.file.stream,k.Ma=0,k.Ia=null):(k.mode&61440)===40960?(k.Ga=ze.Qa.link.node,k.Ha=ze.Qa.link.stream):(k.mode&61440)===8192&&(k.Ga=ze.Qa.pb.node,k.Ha=ze.Qa.pb.stream),k.timestamp=Date.now(),f&&(f.Ia[b]=k,f.timestamp=k.timestamp),k},Lb(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},Ga:{Pa(f){var b={};return b.dev=(f.mode&61440)===8192?f.id:1,b.ino=f.id,b.mode=f.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=f.rdev,st(f.mode)?b.size=4096:(f.mode&61440)===32768?b.size=f.Ma:(f.mode&61440)===40960?b.size=f.link.length:b.size=0,b.atime=new Date(f.timestamp),b.mtime=new Date(f.timestamp),b.ctime=new Date(f.timestamp),b.zb=4096,b.blocks=Math.ceil(b.size/b.zb),b},Oa(f,b){if(b.mode!==void 0&&(f.mode=b.mode),b.timestamp!==void 0&&(f.timestamp=b.timestamp),b.size!==void 0&&(b=b.size,f.Ma!=b))if(b==0)f.Ia=null,f.Ma=0;else{var k=f.Ia;f.Ia=new Uint8Array(b),k&&f.Ia.set(k.subarray(0,Math.min(b,f.Ma))),f.Ma=b}},lookup(){throw He[44]},ab(f,b,k,P){return ze.createNode(f,b,k,P)},rename(f,b,k){if(st(f.mode)){try{var P=Mt(b,k)}catch{}if(P)for(var $ in P.Ia)throw new ee(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=k,b.Ia[k]=f,b.timestamp=f.parent.timestamp,f.parent=b},unlink(f,b){delete f.Ia[b],f.timestamp=Date.now()},rmdir(f,b){var k=Mt(f,b),P;for(P in k.Ia)throw new ee(55);delete f.Ia[b],f.timestamp=Date.now()},readdir(f){var b=[".",".."],k;for(k of Object.keys(f.Ia))b.push(k);return b},symlink(f,b,k){return f=ze.createNode(f,b,41471,0),f.link=k,f},readlink(f){if((f.mode&61440)!==40960)throw new ee(28);return f.link}},Ha:{read(f,b,k,P,$){var ge=f.node.Ia;if($>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-$,P),8<f&&ge.subarray)b.set(ge.subarray($,$+f),k);else for(P=0;P<f;P++)b[k+P]=ge[$+P];return f},write(f,b,k,P,$,ge){if(b.buffer===L.buffer&&(ge=!1),!P)return 0;if(f=f.node,f.timestamp=Date.now(),b.subarray&&(!f.Ia||f.Ia.subarray)){if(ge)return f.Ia=b.subarray(k,k+P),f.Ma=P;if(f.Ma===0&&$===0)return f.Ia=b.slice(k,k+P),f.Ma=P;if($+P<=f.Ma)return f.Ia.set(b.subarray(k,k+P),$),P}if(St(f,$+P),f.Ia.subarray&&b.subarray)f.Ia.set(b.subarray(k,k+P),$);else for(ge=0;ge<P;ge++)f.Ia[$+ge]=b[k+ge];return f.Ma=Math.max(f.Ma,$+P),P},Ta(f,b,k){if(k===1?b+=f.position:k===2&&(f.node.mode&61440)===32768&&(b+=f.node.Ma),0>b)throw new ee(28);return b},lb(f,b,k){St(f.node,b+k),f.node.Ma=Math.max(f.node.Ma,b+k)},bb(f,b,k,P,$){if((f.node.mode&61440)!==32768)throw new ee(43);if(f=f.node.Ia,$&2||f.buffer!==L.buffer){if((0<k||k+b<f.length)&&(f.subarray?f=f.subarray(k,k+b):f=Array.prototype.slice.call(f,k,k+b)),k=!0,b=65536*Math.ceil(b/65536),($=Fq(65536,b))?(G.fill(0,$,$+b),b=$):b=0,!b)throw new ee(48);L.set(f,b)}else k=!1,b=f.byteOffset;return{Db:b,ub:k}},cb(f,b,k,P){return ze.Ha.write(f,b,0,P,k,!1),0}}},cn=(f,b)=>{var k=0;return f&&(k|=365),b&&(k|=146),k},bs=null,aa={},hn=[],Q=1,ie=null,me=!0,ee=null,He={};function ct(f,b={}){if(f=K(f),!f)return{path:"",node:null};if(b=Object.assign({qb:!0,kb:0},b),8<b.kb)throw new ee(32);f=f.split("/").filter(be=>!!be);for(var k=bs,P="/",$=0;$<f.length;$++){var ge=$===f.length-1;if(ge&&b.parent)break;if(k=Mt(k,f[$]),P=j(P+"/"+f[$]),k.Va&&(!ge||ge&&b.qb)&&(k=k.Va.root),!ge||b.Sa){for(ge=0;(k.mode&61440)===40960;)if(k=Zt(P),P=K(J(P),k),k=ct(P,{kb:b.kb+1}).node,40<ge++)throw new ee(32)}}return{path:P,node:k}}function ft(f){for(var b;;){if(f===f.parent)return f=f.Ra.tb,b?f[f.length-1]!=="/"?`${f}/${b}`:f+b:f;b=b?`${f.name}/${b}`:f.name,f=f.parent}}function it(f,b){for(var k=0,P=0;P<b.length;P++)k=(k<<5)-k+b.charCodeAt(P)|0;return(f+k>>>0)%ie.length}function nt(f){var b=it(f.parent.id,f.name);if(ie[b]===f)ie[b]=f.Wa;else for(b=ie[b];b;){if(b.Wa===f){b.Wa=f.Wa;break}b=b.Wa}}function Mt(f,b){var k;if(k=(k=Sn(f,"x"))?k:f.Ga.lookup?0:2)throw new ee(k,f);for(k=ie[it(f.id,b)];k;k=k.Wa){var P=k.name;if(k.parent.id===f.id&&P===b)return k}return f.Ga.lookup(f,b)}function yn(f,b,k,P){return f=new Lq(f,b,k,P),b=it(f.parent.id,f.name),f.Wa=ie[b],ie[b]=f}function st(f){return(f&61440)===16384}function sn(f){var b=["r","w","rw"][f&3];return f&512&&(b+="w"),b}function Sn(f,b){if(me)return 0;if(!b.includes("r")||f.mode&292){if(b.includes("w")&&!(f.mode&146)||b.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Zr(f,b){try{return Mt(f,b),20}catch{}return Sn(f,"wx")}function xn(f,b,k){try{var P=Mt(f,b)}catch($){return $.Ka}if(f=Sn(f,"wx"))return f;if(k){if(!st(P.mode))return 54;if(P===P.parent||ft(P)==="/")return 10}else if(st(P.mode))return 31;return 0}function $r(){for(var f=0;4096>=f;f++)if(!hn[f])return f;throw new ee(33)}function lr(f){if(f=hn[f],!f)throw new ee(8);return f}function Cs(f,b=-1){return Fv||(Fv=function(){this.$a={}},Fv.prototype={},Object.defineProperties(Fv.prototype,{object:{get(){return this.node},set(k){this.node=k}},flags:{get(){return this.$a.flags},set(k){this.$a.flags=k}},position:{get(){return this.$a.position},set(k){this.$a.position=k}}})),f=Object.assign(new Fv,f),b==-1&&(b=$r()),f.fd=b,hn[b]=f}var Di={open(f){var b,k;f.Ha=aa[f.node.rdev].Ha,(k=(b=f.Ha).open)==null||k.call(b,f)},Ta(){throw new ee(70)}};function ci(f,b){aa[f]={Ha:b}}function Dc(f,b){var k=b==="/",P=!b;if(k&&bs)throw new ee(10);if(!k&&!P){var $=ct(b,{qb:!1});if(b=$.path,$=$.node,$.Va)throw new ee(10);if(!st($.mode))throw new ee(54)}b={type:f,Pb:{},tb:b,Cb:[]},f=f.Ra(b),f.Ra=b,b.root=f,k?bs=f:$&&($.Va=b,$.Ra&&$.Ra.Cb.push(b))}function Y(f,b,k){var P=ct(f,{parent:!0}).node;if(f=V(f),!f||f==="."||f==="..")throw new ee(28);var $=Zr(P,f);if($)throw new ee($);if(!P.Ga.ab)throw new ee(63);return P.Ga.ab(P,f,b,k)}function De(f,b){return Y(f,(b!==void 0?b:511)&1023|16384,0)}function Oe(f,b,k){typeof k>"u"&&(k=b,b=438),Y(f,b|8192,k)}function Ft(f,b){if(!K(f))throw new ee(44);var k=ct(b,{parent:!0}).node;if(!k)throw new ee(44);b=V(b);var P=Zr(k,b);if(P)throw new ee(P);if(!k.Ga.symlink)throw new ee(63);k.Ga.symlink(k,b,f)}function mt(f){var b=ct(f,{parent:!0}).node;f=V(f);var k=Mt(b,f),P=xn(b,f,!0);if(P)throw new ee(P);if(!b.Ga.rmdir)throw new ee(63);if(k.Va)throw new ee(10);b.Ga.rmdir(b,f),nt(k)}function Nt(f){var b=ct(f,{parent:!0}).node;if(!b)throw new ee(44);f=V(f);var k=Mt(b,f),P=xn(b,f,!1);if(P)throw new ee(P);if(!b.Ga.unlink)throw new ee(63);if(k.Va)throw new ee(10);b.Ga.unlink(b,f),nt(k)}function Zt(f){if(f=ct(f).node,!f)throw new ee(44);if(!f.Ga.readlink)throw new ee(28);return K(ft(f.parent),f.Ga.readlink(f))}function Co(f,b){if(f=ct(f,{Sa:!b}).node,!f)throw new ee(44);if(!f.Ga.Pa)throw new ee(63);return f.Ga.Pa(f)}function hi(f){return Co(f,!0)}function _r(f,b){if(f=typeof f=="string"?ct(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new ee(63);f.Ga.Oa(f,{mode:b&4095|f.mode&-4096,timestamp:Date.now()})}function Lv(f,b){if(0>b)throw new ee(28);if(f=typeof f=="string"?ct(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new ee(63);if(st(f.mode))throw new ee(31);if((f.mode&61440)!==32768)throw new ee(28);var k=Sn(f,"w");if(k)throw new ee(k);f.Ga.Oa(f,{size:b,timestamp:Date.now()})}function Jg(f,b,k){if(f==="")throw new ee(44);if(typeof b=="string"){var P={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[b];if(typeof P>"u")throw Error(`Unknown file open mode: ${b}`);b=P}if(k=b&64?(typeof k>"u"?438:k)&4095|32768:0,typeof f=="object")var $=f;else{f=j(f);try{$=ct(f,{Sa:!(b&131072)}).node}catch{}}if(P=!1,b&64)if($){if(b&128)throw new ee(20)}else $=Y(f,k,0),P=!0;if(!$)throw new ee(44);if(($.mode&61440)===8192&&(b&=-513),b&65536&&!st($.mode))throw new ee(54);if(!P&&(k=$?($.mode&61440)===40960?32:st($.mode)&&(sn(b)!=="r"||b&512)?31:Sn($,sn(b)):44))throw new ee(k);return b&512&&!P&&Lv($,0),b&=-131713,$=Cs({node:$,path:ft($),flags:b,seekable:!0,position:0,Ha:$.Ha,Fb:[],error:!1}),$.Ha.open&&$.Ha.open($),!u.logReadFiles||b&1||(PH||(PH={}),f in PH||(PH[f]=1)),$}function AH(f){if(f.fd===null)throw new ee(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(b){throw b}finally{hn[f.fd]=null}f.fd=null}function _q(f,b,k){if(f.fd===null)throw new ee(8);if(!f.seekable||!f.Ha.Ta)throw new ee(70);if(k!=0&&k!=1&&k!=2)throw new ee(28);f.position=f.Ha.Ta(f,b,k),f.Fb=[]}function Oq(f,b,k,P,$){if(0>P||0>$)throw new ee(28);if(f.fd===null)throw new ee(8);if((f.flags&2097155)===1)throw new ee(8);if(st(f.node.mode))throw new ee(31);if(!f.Ha.read)throw new ee(28);var ge=typeof $<"u";if(!ge)$=f.position;else if(!f.seekable)throw new ee(70);return b=f.Ha.read(f,b,k,P,$),ge||(f.position+=b),b}function Aq(f,b,k,P,$){if(0>P||0>$)throw new ee(28);if(f.fd===null)throw new ee(8);if(!(f.flags&2097155))throw new ee(8);if(st(f.node.mode))throw new ee(31);if(!f.Ha.write)throw new ee(28);f.seekable&&f.flags&1024&&_q(f,0,2);var ge=typeof $<"u";if(!ge)$=f.position;else if(!f.seekable)throw new ee(70);return b=f.Ha.write(f,b,k,P,$,void 0),ge||(f.position+=b),b}function $Fe(f){var b,k=Jg(f,k||0);f=Co(f).size;var P=new Uint8Array(f);return Oq(k,P,0,f,0),b=P,AH(k),b}function Pq(){ee||(ee=function(f,b){this.name="ErrnoError",this.node=b,this.Eb=function(k){this.Ka=k},this.Eb(f),this.message="FS error"},ee.prototype=Error(),ee.prototype.constructor=ee,[44].forEach(f=>{He[f]=new ee(f),He[f].stack="<generic error, no stack>"}))}var Iq;function jv(f,b,k){f=j("/dev/"+f);var P=cn(!!b,!!k);Hq||(Hq=64);var $=Hq++<<8|0;ci($,{open(ge){ge.seekable=!1},close(){var ge;(ge=k==null?void 0:k.buffer)!=null&&ge.length&&k(10)},read(ge,be,xt,en){for(var Bt=0,Or=0;Or<en;Or++){try{var eo=b()}catch{throw new ee(29)}if(eo===void 0&&Bt===0)throw new ee(6);if(eo==null)break;Bt++,be[xt+Or]=eo}return Bt&&(ge.node.timestamp=Date.now()),Bt},write(ge,be,xt,en){for(var Bt=0;Bt<en;Bt++)try{k(be[xt+Bt])}catch{throw new ee(29)}return en&&(ge.node.timestamp=Date.now()),Bt}}),Oe(f,P,$)}var Hq,Ln={},Fv,PH;function vd(f,b,k){if(b.charAt(0)==="/")return b;if(f=f===-100?"/":lr(f).path,b.length==0){if(!k)throw new ee(44);return f}return j(f+"/"+b)}function sx(f,b,k){try{var P=f(b)}catch(ge){if(ge&&ge.node&&j(b)!==j(ft(ge.node)))return-54;throw ge}B[k>>2]=P.dev,B[k+4>>2]=P.mode,he[k+8>>2]=P.nlink,B[k+12>>2]=P.uid,B[k+16>>2]=P.gid,B[k+20>>2]=P.rdev,oe=[P.size>>>0,(xe=P.size,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[k+24>>2]=oe[0],B[k+28>>2]=oe[1],B[k+32>>2]=4096,B[k+36>>2]=P.blocks,f=P.atime.getTime(),b=P.mtime.getTime();var $=P.ctime.getTime();return oe=[Math.floor(f/1e3)>>>0,(xe=Math.floor(f/1e3),1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[k+40>>2]=oe[0],B[k+44>>2]=oe[1],he[k+48>>2]=f%1e3*1e3,oe=[Math.floor(b/1e3)>>>0,(xe=Math.floor(b/1e3),1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[k+56>>2]=oe[0],B[k+60>>2]=oe[1],he[k+64>>2]=b%1e3*1e3,oe=[Math.floor($/1e3)>>>0,(xe=Math.floor($/1e3),1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[k+72>>2]=oe[0],B[k+76>>2]=oe[1],he[k+80>>2]=$%1e3*1e3,oe=[P.ino>>>0,(xe=P.ino,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[k+88>>2]=oe[0],B[k+92>>2]=oe[1],0}var ax=void 0;function lx(){var f=B[+ax>>2];return ax+=4,f}var Wv=(f,b)=>b+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*b:NaN,GFe=[0,31,60,91,121,152,182,213,244,274,305,335],YFe=[0,31,59,90,120,151,181,212,243,273,304,334],Nq=f=>{var b=X(f)+1,k=dx(b);return k&&re(f,G,k,b),k},IH={},Dq=()=>{if(!HH){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},b;for(b in IH)IH[b]===void 0?delete f[b]:f[b]=IH[b];var k=[];for(b in f)k.push(`${b}=${f[b]}`);HH=k}return HH},HH,NH=f=>{var b=X(f)+1,k=Lc(b);return re(f,G,k,b),k},qFe=(f,b,k,P)=>{var $={string:Bt=>{var Or=0;return Bt!=null&&Bt!==0&&(Or=NH(Bt)),Or},array:Bt=>{var Or=Lc(Bt.length);return L.set(Bt,Or),Or}};f=u["_"+f];var ge=[],be=0;if(P)for(var xt=0;xt<P.length;xt++){var en=$[k[xt]];en?(be===0&&(be=Vv()),ge[xt]=en(P[xt])):ge[xt]=P[xt]}return k=f.apply(null,ge),k=function(Bt){return be!==0&&Bv(be),b==="string"?Bt?Ne(G,Bt):"":b==="boolean"?!!Bt:Bt}(k)},ux=0,cx=(f,b)=>(b=b==1?Lc(f.length):dx(f.length),f.subarray||f.slice||(f=new Uint8Array(f)),G.set(f,b),b),yd,DH=[],du,Zg=f=>{yd.delete(du.get(f)),du.set(f,null),DH.push(f)},hx=(f,b)=>{if(!yd){yd=new WeakMap;var k=du.length;if(yd)for(var P=0;P<0+k;P++){var $=du.get(P);$&&yd.set($,P)}}if(k=yd.get(f)||0)return k;if(DH.length)k=DH.pop();else{try{du.grow(1)}catch(xt){throw xt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":xt}k=du.length-1}try{du.set(k,f)}catch(xt){if(!(xt instanceof TypeError))throw xt;if(typeof WebAssembly.Function=="function"){P=WebAssembly.Function,$={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var ge={parameters:[],results:b[0]=="v"?[]:[$[b[0]]]},be=1;be<b.length;++be)ge.parameters.push($[b[be]]);b=new P(ge,f)}else{for(P=[1],$=b.slice(0,1),b=b.slice(1),ge={i:127,p:127,j:126,f:125,d:124,e:111},P.push(96),be=b.length,128>be?P.push(be):P.push(be%128|128,be>>7),be=0;be<b.length;++be)P.push(ge[b[be]]);$=="v"?P.push(0):P.push(1,ge[$]),b=[0,97,115,109,1,0,0,0,1],$=P.length,128>$?b.push($):b.push($%128|128,$>>7),b.push.apply(b,P),b.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),b=new WebAssembly.Module(new Uint8Array(b)),b=new WebAssembly.Instance(b,{e:{f}}).exports.f}du.set(k,b)}return yd.set(f,k),k};function Lq(f,b,k,P){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=Q++,this.name=b,this.mode=k,this.Ga={},this.Ha={},this.rdev=P}Object.defineProperties(Lq.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),Pq(),ie=Array(4096),Dc(ze,"/"),De("/tmp"),De("/home"),De("/home/web_user"),function(){De("/dev"),ci(259,{read:()=>0,write:(P,$,ge,be)=>be}),Oe("/dev/null",259),tt(1280,pt),tt(1536,ln),Oe("/dev/tty",1280),Oe("/dev/tty1",1536);var f=new Uint8Array(1024),b=0,k=()=>(b===0&&(b=q(f).byteLength),f[--b]);jv("random",k),jv("urandom",k),De("/dev/shm"),De("/dev/shm/tmp")}(),function(){De("/proc");var f=De("/proc/self");De("/proc/self/fd"),Dc({Ra(){var b=yn(f,"fd",16895,73);return b.Ga={lookup(k,P){var $=lr(+P);return k={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>$.path}},k.parent=k}},b}},"/proc/self/fd")}();var KFe={a:(f,b,k,P)=>{U(`Assertion failed: ${f?Ne(G,f):""}, at: `+[b?b?Ne(G,b):"":"unknown filename",k,P?P?Ne(G,P):"":"unknown function"])},h:function(f,b){try{return f=f?Ne(G,f):"",_r(f,b),0}catch(k){if(typeof Ln>"u"||k.name!=="ErrnoError")throw k;return-k.Ka}},H:function(f,b,k){try{if(b=b?Ne(G,b):"",b=vd(f,b),k&-8)return-28;var P=ct(b,{Sa:!0}).node;return P?(f="",k&4&&(f+="r"),k&2&&(f+="w"),k&1&&(f+="x"),f&&Sn(P,f)?-2:0):-44}catch($){if(typeof Ln>"u"||$.name!=="ErrnoError")throw $;return-$.Ka}},i:function(f,b){try{var k=lr(f);return _r(k.node,b),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},g:function(f){try{var b=lr(f).node,k=typeof b=="string"?ct(b,{Sa:!0}).node:b;if(!k.Ga.Oa)throw new ee(63);return k.Ga.Oa(k,{timestamp:Date.now()}),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},b:function(f,b,k){ax=k;try{var P=lr(f);switch(b){case 0:var $=lx();if(0>$)return-28;for(;hn[$];)$++;return Cs(P,$).fd;case 1:case 2:return 0;case 3:return P.flags;case 4:return $=lx(),P.flags|=$,0;case 5:return $=lx(),ue[$+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return B[jq()>>2]=28,-1;default:return-28}}catch(ge){if(typeof Ln>"u"||ge.name!=="ErrnoError")throw ge;return-ge.Ka}},f:function(f,b){try{var k=lr(f);return sx(Co,k.path,b)}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},n:function(f,b,k){b=Wv(b,k);try{if(isNaN(b))return 61;var P=lr(f);if(!(P.flags&2097155))throw new ee(28);return Lv(P.node,b),0}catch($){if(typeof Ln>"u"||$.name!=="ErrnoError")throw $;return-$.Ka}},C:function(f,b){try{if(b===0)return-28;var k=X("/")+1;return b<k?-68:(re("/",G,f,b),k)}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},F:function(f,b){try{return f=f?Ne(G,f):"",sx(hi,f,b)}catch(k){if(typeof Ln>"u"||k.name!=="ErrnoError")throw k;return-k.Ka}},z:function(f,b,k){try{return b=b?Ne(G,b):"",b=vd(f,b),b=j(b),b[b.length-1]==="/"&&(b=b.substr(0,b.length-1)),De(b,k),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},E:function(f,b,k,P){try{b=b?Ne(G,b):"";var $=P&256;return b=vd(f,b,P&4096),sx($?hi:Co,b,k)}catch(ge){if(typeof Ln>"u"||ge.name!=="ErrnoError")throw ge;return-ge.Ka}},y:function(f,b,k,P){ax=P;try{b=b?Ne(G,b):"",b=vd(f,b);var $=P?lx():0;return Jg(b,k,$).fd}catch(ge){if(typeof Ln>"u"||ge.name!=="ErrnoError")throw ge;return-ge.Ka}},w:function(f,b,k,P){try{if(b=b?Ne(G,b):"",b=vd(f,b),0>=P)return-28;var $=Zt(b),ge=Math.min(P,X($)),be=L[k+ge];return re($,G,k,P+1),L[k+ge]=be,ge}catch(xt){if(typeof Ln>"u"||xt.name!=="ErrnoError")throw xt;return-xt.Ka}},v:function(f){try{return f=f?Ne(G,f):"",mt(f),0}catch(b){if(typeof Ln>"u"||b.name!=="ErrnoError")throw b;return-b.Ka}},G:function(f,b){try{return f=f?Ne(G,f):"",sx(Co,f,b)}catch(k){if(typeof Ln>"u"||k.name!=="ErrnoError")throw k;return-k.Ka}},r:function(f,b,k){try{return b=b?Ne(G,b):"",b=vd(f,b),k===0?Nt(b):k===512?mt(b):U("Invalid flags passed to unlinkat"),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},q:function(f,b,k){try{if(b=b?Ne(G,b):"",b=vd(f,b,!0),k){var P=he[k>>2]+4294967296*B[k+4>>2],$=B[k+8>>2];ge=1e3*P+$/1e6,k+=16,P=he[k>>2]+4294967296*B[k+4>>2],$=B[k+8>>2],be=1e3*P+$/1e6}else var ge=Date.now(),be=ge;f=ge;var xt=ct(b,{Sa:!0}).node;return xt.Ga.Oa(xt,{timestamp:Math.max(f,be)}),0}catch(en){if(typeof Ln>"u"||en.name!=="ErrnoError")throw en;return-en.Ka}},l:function(f,b,k){f=new Date(1e3*Wv(f,b)),B[k>>2]=f.getSeconds(),B[k+4>>2]=f.getMinutes(),B[k+8>>2]=f.getHours(),B[k+12>>2]=f.getDate(),B[k+16>>2]=f.getMonth(),B[k+20>>2]=f.getFullYear()-1900,B[k+24>>2]=f.getDay(),b=f.getFullYear(),B[k+28>>2]=(b%4!==0||b%100===0&&b%400!==0?YFe:GFe)[f.getMonth()]+f.getDate()-1|0,B[k+36>>2]=-(60*f.getTimezoneOffset()),b=new Date(f.getFullYear(),6,1).getTimezoneOffset();var P=new Date(f.getFullYear(),0,1).getTimezoneOffset();B[k+32>>2]=(b!=P&&f.getTimezoneOffset()==Math.min(P,b))|0},j:function(f,b,k,P,$,ge,be,xt){$=Wv($,ge);try{if(isNaN($))return 61;var en=lr(P);if(b&2&&!(k&2)&&(en.flags&2097155)!==2)throw new ee(2);if((en.flags&2097155)===1)throw new ee(2);if(!en.Ha.bb)throw new ee(43);var Bt=en.Ha.bb(en,f,$,b,k),Or=Bt.Db;return B[be>>2]=Bt.ub,he[xt>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return-eo.Ka}},k:function(f,b,k,P,$,ge,be){ge=Wv(ge,be);try{if(isNaN(ge))return 61;var xt=lr($);if(k&2){if((xt.node.mode&61440)!==32768)throw new ee(43);if(!(P&2)){var en=G.slice(f,f+b);xt.Ha.cb&&xt.Ha.cb(xt,en,ge,b,P)}}}catch(Bt){if(typeof Ln>"u"||Bt.name!=="ErrnoError")throw Bt;return-Bt.Ka}},s:(f,b,k)=>{function P(en){return(en=en.toTimeString().match(/\(([A-Za-z ]+)\)$/))?en[1]:"GMT"}var $=new Date().getFullYear(),ge=new Date($,0,1),be=new Date($,6,1);$=ge.getTimezoneOffset();var xt=be.getTimezoneOffset();he[f>>2]=60*Math.max($,xt),B[b>>2]=+($!=xt),f=P(ge),b=P(be),f=Nq(f),b=Nq(b),xt<$?(he[k>>2]=f,he[k+4>>2]=b):(he[k>>2]=b,he[k+4>>2]=f)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:f=>{var b=G.length;if(f>>>=0,2147483648<f)return!1;for(var k=1;4>=k;k*=2){var P=b*(1+.2/k);P=Math.min(P,f+100663296);var $=Math;P=Math.max(f,P);e:{$=($.min.call($,2147483648,P+(65536-P%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow($),ye();var ge=1;break e}catch{}ge=void 0}if(ge)return!0}return!1},A:(f,b)=>{var k=0;return Dq().forEach((P,$)=>{var ge=b+k;for($=he[f+4*$>>2]=ge,ge=0;ge<P.length;++ge)L[$++>>0]=P.charCodeAt(ge);L[$>>0]=0,k+=P.length+1}),0},B:(f,b)=>{var k=Dq();he[f>>2]=k.length;var P=0;return k.forEach($=>P+=$.length+1),he[b>>2]=P,0},e:function(f){try{var b=lr(f);return AH(b),0}catch(k){if(typeof Ln>"u"||k.name!=="ErrnoError")throw k;return k.Ka}},p:function(f,b){try{var k=lr(f);return L[b>>0]=k.tty?2:st(k.mode)?3:(k.mode&61440)===40960?7:4,ue[b+2>>1]=0,oe=[0,(xe=0,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[b+8>>2]=oe[0],B[b+12>>2]=oe[1],oe=[0,(xe=0,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[b+16>>2]=oe[0],B[b+20>>2]=oe[1],0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return P.Ka}},x:function(f,b,k,P){try{e:{var $=lr(f);f=b;for(var ge,be=b=0;be<k;be++){var xt=he[f>>2],en=he[f+4>>2];f+=8;var Bt=Oq($,L,xt,en,ge);if(0>Bt){var Or=-1;break e}if(b+=Bt,Bt<en)break;typeof ge<"u"&&(ge+=Bt)}Or=b}return he[P>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return eo.Ka}},m:function(f,b,k,P,$){b=Wv(b,k);try{if(isNaN(b))return 61;var ge=lr(f);return _q(ge,b,P),oe=[ge.position>>>0,(xe=ge.position,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)],B[$>>2]=oe[0],B[$+4>>2]=oe[1],ge.hb&&b===0&&P===0&&(ge.hb=null),0}catch(be){if(typeof Ln>"u"||be.name!=="ErrnoError")throw be;return be.Ka}},D:function(f){var k;try{var b=lr(f);return(k=b.Ha)!=null&&k.fsync?b.Ha.fsync(b):0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return P.Ka}},u:function(f,b,k,P){try{e:{var $=lr(f);f=b;for(var ge,be=b=0;be<k;be++){var xt=he[f>>2],en=he[f+4>>2];f+=8;var Bt=Aq($,L,xt,en,ge);if(0>Bt){var Or=-1;break e}b+=Bt,typeof ge<"u"&&(ge+=Bt)}Or=b}return he[P>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return eo.Ka}}},gt=function(){var k;function f(P){var $;return gt=P.exports,N=gt.I,ye(),du=gt.Aa,S.unshift(gt.J),D--,($=u.monitorRunDependencies)==null||$.call(u,D),D==0&&W&&(P=W,W=null,P()),gt}var b={a:KFe};if(D++,(k=u.monitorRunDependencies)==null||k.call(u,D),u.instantiateWasm)try{return u.instantiateWasm(b,f)}catch(P){return E(`Module.instantiateWasm callback failed with error: ${P}`),!1}return je(b,function(P){f(P.instance)}),{}}();u._sqlite3_free=f=>(u._sqlite3_free=gt.K)(f),u._sqlite3_value_text=f=>(u._sqlite3_value_text=gt.L)(f);var jq=()=>(jq=gt.M)();u._sqlite3_prepare_v2=(f,b,k,P,$)=>(u._sqlite3_prepare_v2=gt.N)(f,b,k,P,$),u._sqlite3_step=f=>(u._sqlite3_step=gt.O)(f),u._sqlite3_finalize=f=>(u._sqlite3_finalize=gt.P)(f),u._sqlite3_reset=f=>(u._sqlite3_reset=gt.Q)(f),u._sqlite3_clear_bindings=f=>(u._sqlite3_clear_bindings=gt.R)(f),u._sqlite3_value_blob=f=>(u._sqlite3_value_blob=gt.S)(f),u._sqlite3_value_bytes=f=>(u._sqlite3_value_bytes=gt.T)(f),u._sqlite3_value_double=f=>(u._sqlite3_value_double=gt.U)(f),u._sqlite3_value_int=f=>(u._sqlite3_value_int=gt.V)(f),u._sqlite3_value_type=f=>(u._sqlite3_value_type=gt.W)(f),u._sqlite3_result_blob=(f,b,k,P)=>(u._sqlite3_result_blob=gt.X)(f,b,k,P),u._sqlite3_result_double=(f,b)=>(u._sqlite3_result_double=gt.Y)(f,b),u._sqlite3_result_error=(f,b,k)=>(u._sqlite3_result_error=gt.Z)(f,b,k),u._sqlite3_result_int=(f,b)=>(u._sqlite3_result_int=gt._)(f,b),u._sqlite3_result_int64=(f,b,k)=>(u._sqlite3_result_int64=gt.$)(f,b,k),u._sqlite3_result_null=f=>(u._sqlite3_result_null=gt.aa)(f),u._sqlite3_result_text=(f,b,k,P)=>(u._sqlite3_result_text=gt.ba)(f,b,k,P),u._sqlite3_aggregate_context=(f,b)=>(u._sqlite3_aggregate_context=gt.ca)(f,b),u._sqlite3_column_count=f=>(u._sqlite3_column_count=gt.da)(f),u._sqlite3_data_count=f=>(u._sqlite3_data_count=gt.ea)(f),u._sqlite3_column_blob=(f,b)=>(u._sqlite3_column_blob=gt.fa)(f,b),u._sqlite3_column_bytes=(f,b)=>(u._sqlite3_column_bytes=gt.ga)(f,b),u._sqlite3_column_double=(f,b)=>(u._sqlite3_column_double=gt.ha)(f,b),u._sqlite3_column_text=(f,b)=>(u._sqlite3_column_text=gt.ia)(f,b),u._sqlite3_column_type=(f,b)=>(u._sqlite3_column_type=gt.ja)(f,b),u._sqlite3_column_name=(f,b)=>(u._sqlite3_column_name=gt.ka)(f,b),u._sqlite3_bind_blob=(f,b,k,P,$)=>(u._sqlite3_bind_blob=gt.la)(f,b,k,P,$),u._sqlite3_bind_double=(f,b,k)=>(u._sqlite3_bind_double=gt.ma)(f,b,k),u._sqlite3_bind_int=(f,b,k)=>(u._sqlite3_bind_int=gt.na)(f,b,k),u._sqlite3_bind_text=(f,b,k,P,$)=>(u._sqlite3_bind_text=gt.oa)(f,b,k,P,$),u._sqlite3_bind_parameter_index=(f,b)=>(u._sqlite3_bind_parameter_index=gt.pa)(f,b),u._sqlite3_sql=f=>(u._sqlite3_sql=gt.qa)(f),u._sqlite3_normalized_sql=f=>(u._sqlite3_normalized_sql=gt.ra)(f),u._sqlite3_errmsg=f=>(u._sqlite3_errmsg=gt.sa)(f),u._sqlite3_exec=(f,b,k,P,$)=>(u._sqlite3_exec=gt.ta)(f,b,k,P,$),u._sqlite3_changes=f=>(u._sqlite3_changes=gt.ua)(f),u._sqlite3_close_v2=f=>(u._sqlite3_close_v2=gt.va)(f),u._sqlite3_create_function_v2=(f,b,k,P,$,ge,be,xt,en)=>(u._sqlite3_create_function_v2=gt.wa)(f,b,k,P,$,ge,be,xt,en),u._sqlite3_open=(f,b)=>(u._sqlite3_open=gt.xa)(f,b);var dx=u._malloc=f=>(dx=u._malloc=gt.ya)(f),fx=u._free=f=>(fx=u._free=gt.za)(f);u._RegisterExtensionFunctions=f=>(u._RegisterExtensionFunctions=gt.Ba)(f);var Fq=(f,b)=>(Fq=gt.Ca)(f,b),Vv=()=>(Vv=gt.Da)(),Bv=f=>(Bv=gt.Ea)(f),Lc=f=>(Lc=gt.Fa)(f);u.stackAlloc=Lc,u.stackSave=Vv,u.stackRestore=Bv,u.cwrap=(f,b,k,P)=>{var $=!k||k.every(ge=>ge==="number"||ge==="boolean");return b!=="string"&&$&&!P?u["_"+f]:function(){return qFe(f,b,k,arguments)}},u.addFunction=hx,u.removeFunction=Zg,u.UTF8ToString=A,u.ALLOC_NORMAL=ux,u.allocate=cx,u.allocateUTF8OnStack=NH;var gx;W=function f(){gx||Wq(),gx||(W=f)};function Wq(){function f(){if(!gx&&(gx=!0,u.calledRun=!0,!H)){if(u.noFSInit||Iq||(Iq=!0,Pq(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?jv("stdin",u.stdin):Ft("/dev/tty","/dev/stdin"),u.stdout?jv("stdout",null,u.stdout):Ft("/dev/tty","/dev/stdout"),u.stderr?jv("stderr",null,u.stderr):Ft("/dev/tty1","/dev/stderr"),Jg("/dev/stdin",0),Jg("/dev/stdout",1),Jg("/dev/stderr",1)),me=!1,at(S),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var b=u.postRun.shift();R.unshift(b)}at(R)}}if(!(0<D)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)M();at(te),0<D||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),f()},1)):f())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Wq(),a}),n)};t.exports=r,t.exports.default=r})(P$);var Cxe=P$.exports;const Sxe=gu(Cxe),xxe="/VLW-Page-Generators-v2/assets/sql-wasm-785JABKZ.wasm",Rxe="/VLW-Page-Generators-v2/assets/synths-Dcwss-it.db",I$=z.createContext({AppDataSource:{}});let H$;const kxe=({children:t})=>{const{value:e,loading:n}=vxe(async()=>{try{const r=await Sxe({locateFile:()=>xxe}),o=await fetch(Rxe).then(s=>s.arrayBuffer()),i=new r.Database(new Uint8Array(o));return console.log("Initialized DB connection"),i}catch(r){console.error(r)}},[]);return n?m.jsx(Fu,{active:!0,children:m.jsx(yp,{children:"Loading"})}):(H$=e,m.jsx(I$.Provider,{value:{AppDataSource:e},children:!n&&t}))},Exe=()=>{const{AppDataSource:t}=z.useContext(I$);return t};function $A(){var t;try{return(t=Exe().exec("SELECT * FROM engines;")[0].values)==null?void 0:t.map(([e,n])=>({id:e,name:n}))}catch(e){console.error(e)}return[]}const N$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Txe=[{id:["aWhimsicalStar\u2606"],license:"https://awhimsicalstar.dreamwidth.org"},{id:["Azayaka"],license:"https://echoesofblue.tumblr.com/terms|her website"},{id:["a bunny's translations"],license:"http://bunnyword.tumblr.com/about|her tumblr"},{id:["BambooXZX"],license:"https://bambooxzx.wordpress.com/about/"},{id:["Bluepenguin","EJ Translations"],license:"https://ejtranslations.wordpress.com/"},{id:["CoolMikeHatsune22"],license:"https://coolmikehatsune22.wordpress.com/about-me/"},{id:["Kazabana"],license:"https://kazabana.wordpress.com/about/"},{id:["ElectricRaichu","Len's Lyrics","Raichu"],license:"https://vocaloidlyrics.fandom.com/wiki/Talk:ElectricRaichu/Translator_Licence|his website"},{id:["Magenetra","Kagamine_Neko","aquariantwin","Mellifera_x3"],license:"https://magenetratranslations.tumblr.com/Terms|their tumblr"},{id:["Matchakame"],license:"http://matchakame.tumblr.com/about|her tumblr"},{id:["PeanutSub"],license:"https://peanut-sub.tumblr.com/about|their blog"},{id:["poppochan28"],license:"https://poppochan.dreamwidth.org/438.html|their blog"},{id:["Pricecheck Translations"],license:"http://pricechecktranslations.tumblr.com/about|her tumblr"},{id:["Releska"],license:"https://releska.com/|his blog"},{id:["Tackmyn Y."],license:"https://tackmyn.livedoor.blog/about_me.html|his blog"},{id:["TsunaguSubs"],license:"https://tsunagusubs.github.io/#faq|her website"},{id:["shiyuki332","Shiyuki","Shiyuki332"],license:"https://twitter.com/shiyuki332/status/1256815663663837184|their twitter"},{id:["Yumemiru Sekai"],license:"https://yumemirusekai.wordpress.com/faq/|their blog"}],Pw=t=>t===""||t.match(/^#[0-9a-fA-F]{3,6}$/)||Object.keys(N$).includes(t),dS=t=>N$[t]||t,Mxe=t=>{let e=!1,n=!1,r=["Colour","Original","Romanized","English"],o=!1;if(t.length===0)e=!0,n=!0;else{const i=[],s=[];t.forEach(a=>{a.name!=="English"&&(n=!0),a.name==="Mandarin"&&(o=!0),i.push(a.name),a.transliteration&&(e=!0,s.push(a.transliteration))}),r=["Colour",i.join("/"),e?s.join("/"):"","English"]}return[e,n,r,o]};function GA(t,e=!1){return t=t.replace(/[]/gm,"a"),t=t.replace(/[]/gm,"A"),t=t.replace(/[]/gm,"i"),t=t.replace(/[]/gm,"I"),t=t.replace(/[]/gm,"u"),t=t.replace(/[]/gm,"U"),t=t.replace(/[]/gm,"e"),t=t.replace(/[]/gm,"E"),t=t.replace(/[]/gm,"o"),t=t.replace(/[]/gm,"O"),e?(t=t.replace(/[]/gm,"\xFC"),t=t.replace(/[]/gm,"\xDC")):(t=t.replace(/[]/gm,"v"),t=t.replace(/[]/gm,"V")),t}function D$(t,{langOptions:{headersText:e,needsRomanization:n,needsEnglishTranslation:r},translator:o,isOfficialTranslation:i,bgColour:s,fgColour:a,overrideShowEnglishColumn:l=!1}){const u=n||r,c=t.some(y=>!!y.english&&y.english!==""),h=l||r&&c;let d=!1,g=null;const p=/<ref(?:[^>]*)>/;let v=new Set;for(let y of t)v.add(y.colour),y.original.match(p)||((y==null?void 0:y.romanized)||"").match(p)?(d=!0,g=g||!1):c&&((y==null?void 0:y.english)||"").match(p)&&(d=!0,g=!0);let C="";const w=Txe.find(y=>y.id[0]===o);if(w&&(C+=`{{TranslatorLicense|${w.id[0]}|${w.license}}}
`),v.size>1){let y=v.has("");y&&v.delete("");let x=[...v].map(T=>`|<span style="color:${T}">Singer</span>
`).join("");y&&(x+=`|All
`),C+=`{| border="1" cellpadding="4" style="border-collapse:collapse; border:1px groove; line-height:1.5"
!style="background-color:${s}; color:${a}"|Singer
${x}
|}
`}if(u){let y="";c&&i?(y=e.slice(0,-1).map(x=>`|'''''${x}'''''
`).join(""),y+=`|{{OfficialEnglish}}
`):y=e.map(x=>!h&&x==="English"?"":`|'''''${x}'''''
`).join(""),C=`{| style="width:100%"
${y}${t.map(x=>x.getWikitext(h)).join("")}|}`,c&&(!i||o!=="")&&(C+=`
{{Translator|${o===""?"Anonymous":o}}}
`)}else C=`<poem>
${t.map(y=>y.colour===""?y.original:`<span style="color:${y.colour}">${y.original}</span>`).join(`
`)}
</poem>
`;return d&&(C+=`
==${g?"Translation ":""}Notes==
<references />
`),C}const Br={vdb:m.jsxs(m.Fragment,{children:["Input the URL to the VocaDB song page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/S/1501",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/S/1501"})," Rolling Girl"]}),pvStills:m.jsxs(m.Fragment,{children:["Save PV stills as local file",m.jsx("br",{}),m.jsx("br",{}),"May fail to get working HQ images for older songs.",m.jsx("br",{}),"Finicky when trying to get images from Bilibili."]}),cw:m.jsxs(m.Fragment,{children:["Add content warnings to the top of page.",m.jsx("br",{}),m.jsx("br",{}),"You are required to add the justification for adding a content warning, e.g. if it contains violent/sexual content, or if it deals with mature themes."]}),language:m.jsx(m.Fragment,{children:"The language the song lyrics are written in."}),origTitle:m.jsx(m.Fragment,{children:"Song title in original language."}),altChTitle:m.jsx(m.Fragment,{children:"Song title in alternate Chinese script (e.g. Traditional/Simplified Chinese script)."}),romTitle:m.jsx(m.Fragment,{children:"Transliterated song title (if non-English original)"}),engTitle:m.jsx(m.Fragment,{children:"Song title translated to English (if non-English original)"}),infobox:m.jsxs(m.Fragment,{children:["Infobox background (left) and foreground (right) colour",m.jsx("br",{}),"hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),dateOfPublication:m.jsx(m.Fragment,{children:"Original date of publication"}),singers:m.jsxs(m.Fragment,{children:["Markup for singer(s), e.g.:",m.jsx("br",{}),"[[Kagamine Rin]] and [[Kagamine Len]]",m.jsx("br",{}),m.jsx("br",{}),"Be sure to check whether the correct singer category has been put in."]}),producers:m.jsxs(m.Fragment,{children:["Markup for producer(s), one per line, e.g.:",m.jsx("br",{}),"[[Tanaka Kazuto]] (music, lyrics)",m.jsx("br",{}),"Pikucha (illustration)",m.jsx("br",{}),m.jsx("br",{}),"Categories will be loaded automatically based on the markup."]}),description:m.jsx(m.Fragment,{children:"Background information about the song."}),playLinks:m.jsxs(m.Fragment,{children:["Links to play song, one per line.",m.jsx("br",{}),"Recognized links: youtu.be, youtube.com, nicovideo.jp, piapro.jp, soundcloud.com, bandcamp.com, vimeo.com, bilibili.com",m.jsx("br",{}),m.jsx("br",{}),"Leave URL empty if there's no play link available (e.g. the song is not publicly available or the song is an album-only release)."]}),lyrics:m.jsxs(m.Fragment,{children:["Copy & paste original, transliterated and translated lyrics here.",m.jsx("br",{}),"Add text colour styling to the entire row by specifying the hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),translator:m.jsx(m.Fragment,{children:"Translator's name"}),officialTranslation:m.jsx(m.Fragment,{children:"Is the translation approved by the producer?"}),extLinks:m.jsxs(m.Fragment,{children:["Links to related web pages, one per line, with description, e.g.:",m.jsx("br",{}),"https://piapro.jp/t/uvwx Off-vocal",m.jsx("br",{}),m.jsx("br",{}),"Recognizes many commonly used sites such as Hatsune Miku Wiki and VocaDB."]}),categories:m.jsxs(m.Fragment,{children:["Category names, one per line, e.g.:",m.jsx("br",{}),"Songs",m.jsx("br",{}),"VOCALOID original songs",m.jsx("br",{}),m.jsx("br",{}),"Click the Autoload button to have the site generate commonly used tags."]})},ds={vdb:m.jsxs(m.Fragment,{children:["Input URL to VocaDB album page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/Al/21149",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Al/21149"})," Comic and Cosmic"]}),cover:m.jsx(m.Fragment,{children:"This tool will attempt to load the album cover picture from VocaDB."}),origTitle:m.jsx(m.Fragment,{children:"Album name in original language"}),romTitle:m.jsx(m.Fragment,{children:"Transliterated song title (if non-English original)"}),infobox:m.jsxs(m.Fragment,{children:["Infobox background (left) and foreground (right) colour",m.jsx("br",{}),"hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),label:m.jsx(m.Fragment,{children:"Name of the label that published the album, e.g. EXIT TUNES, KarenT"}),description:m.jsx(m.Fragment,{children:'Add a short description about the album, e.g. "a compilation album by PRODUCERS featuring SYNTHS" or "an album by PRODUCER".'}),engines:m.jsx(m.Fragment,{children:"Needed to generate synth category tags."}),tracklist:m.jsxs(m.Fragment,{children:["Add tracklist information here.",m.jsx("br",{}),'Track names should follow the naming convention of song articles (e.g. "\u3059\u308D\u3049\u3082\u3049\u3057\u3087\u3093 (Slow Motion)").',m.jsx("br",{}),m.jsx("br",{}),'If a song page exists on Vocaloid Lyrics wiki then you can copy and paste the URL to that song page to the cell in the third column ("Track name/VLW Page Title"). The site will automatically detect the page title in this scenario.',m.jsx("br",{}),m.jsx("br",{}),"Markup to featured producers and singers should only be added for the first mention of that artist/synth."]}),vdbAlbumId:m.jsxs(m.Fragment,{children:['The numerical ID of the album page entry on VocaDB. For example, the Page ID for the album "Comic and Cosmic" (',m.jsx("a",{href:"https://vocadb.net/Al/21149",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Al/21149"}),") is 21149."]}),vocaWikiPage:m.jsx(m.Fragment,{children:"The Vocaloid Wiki page for the album, if it exists. Only the page name should be given."}),extLinks:m.jsxs(m.Fragment,{children:["Links to related web pages, one per line, with description, e.g.:",m.jsx("br",{}),"https://piapro.jp/t/uvwx Off-vocal",m.jsx("br",{}),m.jsx("br",{}),"Recognizes many commonly used sites such as Hatsune Miku Wiki and VocaDB"]}),categories:m.jsxs(m.Fragment,{children:["Category names, one per line, e.g.:",m.jsx("br",{}),"Albums featuring Hatsune Miku",m.jsx("br",{}),m.jsx("br",{}),"Click the Autoload button to have the site generate commonly used tags."]})},fs={vdb:m.jsxs(m.Fragment,{children:["Input URL to VocaDB producer/artist page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/Ar/28",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Ar/28"})," Pinocchio-P"]}),pfp:m.jsx(m.Fragment,{children:"This tool will attempt to load the producer's profile picture from VocaDB."}),prodcat:m.jsxs(m.Fragment,{children:["This will be used as the parameter of the {{ProdLinks}} template on the producer page, which will link to the producer's songs list category on the wiki",m.jsx("br",{}),m.jsx("br",{}),'Click on the "Fetch discography from wiki" button to get this site to query the list of song & album pages from the producer category on Vocaloid Lyrics Wiki.']}),prodaliases:m.jsxs(m.Fragment,{children:["The producer's other aliases, if exists. List each item using a semi-colon (;)",m.jsx("br",{}),m.jsx("br",{}),"This will be used for the {{pwt alias}} template."]}),affiliations:m.jsxs(m.Fragment,{children:["Is the producer affiliated with any circle/group/project?",m.jsx("br",{}),m.jsx("br",{}),"Add one affiliation per line."]}),labels:m.jsxs(m.Fragment,{children:["What labels (e.g. KarenT, Exit Tunes) is the producer usually affliated with?",m.jsx("br",{}),m.jsx("br",{}),"Add one label/affiliation per line."]}),languages:m.jsx(m.Fragment,{children:"What language does the producer like to write their songs in? e.g. Japanese, English"}),synthesizers:m.jsx(m.Fragment,{children:"What voice synthesizer group/software family/engine does the producer like to write their songs with? e.g. VOCALOID, UTAU"}),prodroles:m.jsx(m.Fragment,{children:"Describe the producer's typical roles, e.g. composer, lyricist, illustrator."}),description:m.jsx(m.Fragment,{children:"Describe the producer."}),extLinks:m.jsxs(m.Fragment,{children:["Examples of media links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's official Niconico/YouTube/bilibili accounts."}),m.jsx("li",{children:"The producer's NND MyList."}),m.jsx("li",{children:"The producer's piapro."}),m.jsx("li",{children:"The producer's account on SoundCloud/Netease Music."}),m.jsx("li",{children:"The producer's Bandcamp/Spotify/TuneCore/other music streaming."})]}),"Examples of official links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's official website."}),m.jsx("li",{children:"The producer's social media/SNS accounts, e.g. Twitter, Instagram, Weibo."})]}),"Examples of unofficial links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's page on VocaDB."}),m.jsxs("li",{children:["A page on the producer from any unofficial wiki, e.g. the ",m.jsx("a",{href:"https://vocaloid.fandom.com/",target:"_blank",rel:"noopener noreferrer",children:"VOCALOID wiki"}),", the ",m.jsx("a",{href:"https://w.atwiki.jp/hmiku/",target:"_blank",rel:"noopener noreferrer",children:"Hatsune Miku wiki"}),", ",m.jsx("a",{href:"https://dic.nicovideo.jp/",target:"_blank",rel:"noopener noreferrer",children:"Nicopedia"}),", etc."]})]})]}),songList:m.jsxs(m.Fragment,{children:["Add the list of song pages ",m.jsx("b",{children:"(that exist on the VOCALOID Lyrics wiki)"})," here.",m.jsx("br",{}),m.jsx("br",{}),"You can copy and paste the page URL to add the pages automatically."]}),albumList:m.jsxs(m.Fragment,{children:["Add the list of album pages ",m.jsx("b",{children:"(that exist on the VOCALOID Lyrics wiki)"})," here.",m.jsx("br",{}),m.jsx("br",{}),"You can copy and paste the page URL to add the pages automatically."]})},_xe={sourceInput:m.jsxs(m.Fragment,{children:["To get the source code of the wiki page, you can either:",m.jsx("br",{}),m.jsxs("ol",{children:[m.jsxs("li",{children:["Open the wiki page in ",m.jsx("a",{href:"https://community.fandom.com/wiki/Help:Source_editor",target:"_blank",rel:"noopener noreferrer",children:"Source Editor"})]}),m.jsxs("li",{children:['Append "?action=raw" to the URL of the wiki page, e.g. ',m.jsxs("a",{href:`https://${zo}.fandom.com/wiki/ECHO/Crusher-P?action=raw`,target:"_blank",rel:"noopener noreferrer",children:["https://",zo,".fandom.com/wiki/ECHO/Crusher-P?action=raw"]})]})]}),"Copy and paste the contents of the source code into the box below.",m.jsx("br",{}),m.jsx("br",{}),"Click the 'Extract Lyrics Table' button to extract the table into the columns below, and the 'Generate' button to generate the page source code/wikitext."]})},og=[{name:"English",code:"en"},{name:"Japanese",transliteration:"Romaji",code:"ja"},{name:"Mandarin",transliteration:"Pinyin",code:"zh"},{name:"Korean",transliteration:"Romaja",code:"ko"},{name:"Spanish",code:"es"},{name:"Acehnese",code:null},{name:"Catalan",code:null},{name:"Cantonese",transliteration:"Jyutping",code:"yue"},{name:"Dutch",code:null},{name:"Esperanto",code:null},{name:"Filipino",code:"tg"},{name:"Finnish",code:null},{name:"French",code:"fr"},{name:"German",code:"de"},{name:"Greek",transliteration:"Romanization",code:null},{name:"Indonesian",code:"id"},{name:"Irish",code:null},{name:"Italian",code:null},{name:"Latin",code:null},{name:"Malay",code:null},{name:"Polish",code:null},{name:"Portuguese",code:"pt"},{name:"Romanian",code:null},{name:"Russian",transliteration:"Romanization",code:"ru"},{name:"Sundanese",code:null},{name:"Swedish",code:null},{name:"Thai",transliteration:"Romanization",code:"th"},{name:"Turkish",code:null},{name:"Vietnamese",code:null},{name:"Welsh",code:null}];var Qs=(t=>(t[t.noWarnings=0]="noWarnings",t[t.questionable=1]="questionable",t[t.explicit=2]="explicit",t))(Qs||{});class L${constructor(e,n,...r){Un(this,"colour");Un(this,"original");Un(this,"romanized");Un(this,"english");this.colour=(r[0]||"").trim(),this.original=(r[1]||"").trim(),e&&(this.romanized=(r[2]||"").trim()),n&&(this.english=(r[3]||"").trim())}getWikitext(e=!1){let n=`|-${this.colour===""?" ":` style='color:${this.colour}'`}
`;if(this.original===(this.romanized||this.original)&&(!e||e&&this.original===(this.english||this.original)))if(this.original==="")n+=`|<br />
`;else{let r=[!!this.original,!!this.romanized,!!this.english].reduce((o,i)=>(o+=i?1:0,o),0);e&&(!this.english||this.english==="")&&(r+=1),n+=`| {{shared|${r}}} ${this.original}
`}else n+=`|${this.original}
`,this.romanized&&(n+=`|${this.romanized}
`),e&&(n+=`|${this.english||""}
`);return n}}class Oxe{constructor(e,n,r,o,i){Un(this,"discNo");Un(this,"trackNo");Un(this,"pageTitle");Un(this,"producerCredit");Un(this,"singerCredit");this.discNo=e||"",this.trackNo=n||"",this.pageTitle=(r||"").trim(),this.producerCredit=(o||"").trim(),this.singerCredit=(i||"").trim()}get credits(){let e=this.singerCredit;return this.producerCredit!==""&&(e=`${this.producerCredit} ft. ${e}`),e}}class j${constructor(e,n,r=!1){Un(this,"page");Un(this,"additionalParameters");Un(this,"forAlbum");this.page=(e||"").trim(),this.additionalParameters=(n||"").trim(),this.forAlbum=r}toTemplate(){let e=this.additionalParameters;return e!==""&&!e.startsWith("|")&&(e=`|${e}`),`{{${this.forAlbum?"awt":"pwt"}|${this.page}${e}}}`}}class Axe{constructor(e,n,r,o,i,s){Un(this,"site");Un(this,"url");Un(this,"isReprint");Un(this,"isAutogen");Un(this,"isDeleted");Un(this,"viewCount");this.site=(e||"").trim(),this.url=(n||"").trim(),this.isReprint=r==="false"||r===""?!1:!!r,this.isAutogen=o==="false"||o===""?!1:!!o,this.isDeleted=i==="false"||i===""?!1:!!i,this.viewCount=(s||"").trim()}get isOfficiallyAvailable(){return!this.isReprint&&!this.isDeleted}getWikitext(){let e="";return this.isReprint?e="reprint":this.isAutogen&&(e="auto-generated by YouTube"),this.isDeleted&&(e===""?e="deleted":e+=", deleted"),e!==""&&(e=` <small>(${e})</small>`),`[${this.url} ${this.site} Broadcast]${e}`}getFormattedViewCount(){let e=this.viewCount.trim();if(e=e.replace(/[,\.]\s?(?=\d{3})/g,""),e=e.replace(/\+/g,""),e!==""&&!isNaN(+e)){let n=parseInt(e),r=1;return n<1e3?r=10**Math.trunc(Math.log10(n)):r=10**(Math.trunc(Math.log10(n))-1),n=Math.floor(n/r)*r,n.toLocaleString("en-US")+"+"}else return this.viewCount}}class YA{constructor(e,n,r,o,i){Un(this,"url");Un(this,"description");Un(this,"isOfficial");Un(this,"isMedia");Un(this,"isInactive");this.url=(e||"").trim(),this.description=(n||"").trim(),this.isOfficial=r==="false"||r===""?!1:!!r,this.isMedia=o==="false"||o===""?!1:!!o,this.isInactive=i==="false"||i===""?!1:!!i}getWikitext(){let e;if(this.isMedia)e=`${this.description}: [${this.url} ]`;else{const n=/^https?:\/\/vocadb.net\/([^\?]*)/.exec(this.url),r=/^https?:\/\/([^\.]*).fandom\.com\/wiki\/(.*)/.exec(this.url);if(n!==null)e=`{{VDB|${n[1]}}}${this.description==="VocaDB"?"":" - "+this.description}`;else if(r!==null){const o=r[1];o.match(/^vocaloidlyrics$/i)===null?e=`[[w:c:${o}:${r[2]}|${this.description}]]`:e=`[[${r[2]}|${this.description}]]`}else e=`[${this.url} ${this.description}]`}return this.isInactive&&(e=`<s>${e}</s>`),e}}const Pxe=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ixe({data:t,langOptions:e,playLinksData:n,lyricsData:r,extLinksData:o}){let{cwText:i,origTitle:s,altChTitle:a,romTitle:l,engTitle:u,bgColour:c,fgColour:h,uploadDate:d,singers:g,producers:p,description:v,translator:C,categoriesRaw:w}=t;i=i.trim(),s=s.trim(),a=a.trim(),l=l.trim(),u=u.trim(),c=c.trim(),h=h.trim(),C=C.trim(),d=d.trim();let y=d===""?null:new Date(d);const x=N=>N.replace(/\s*\n\s*/g,"<br />");g=x(g.trim()),p=x(p.trim()),v=x(v.trim());let T=[];w=w.trim(),w!==""&&(T=w.split(/[\r\s]*\n+[\r\s]*/));const _=n.map(N=>new Axe(N[0],N[1],N[2],N[3],N[4],N[5])).filter(N=>N.url!==""),E=o.map(N=>new YA(N[0],N[1],N[2])).filter(N=>N.url!==""),O=r.map(N=>new L$(e.needsRomanization,e.needsEnglishTranslation,...N));return{data:{cwState:t.cwState,cwText:i,hasEpilepsyWarning:t.hasEpilepsyWarning,origTitle:s,altChTitle:a,romTitle:l,engTitle:u,titleIsOfficiallyTranslated:t.titleIsOfficiallyTranslated,languageIds:t.languageIds,engines:t.usedEngines,bgColour:c,fgColour:h,uploadDate:y,isAlbumOnly:t.isAlbumOnly,isUnavailable:t.isUnavailable,singers:g,producers:p,description:v,translator:C,isOfficialTranslation:t.isOfficialTranslation,categories:T},langOptions:e,playLinks:_,extLinks:E,lyrics:O}}function Hxe({languageIds:t,needsEnglishTranslation:e,engines:n,singers:r,producers:o,isAlbumOnly:i,lyricsData:s}){var g;const a=[];for(let p of t)a.push(`${((g=og[p])==null?void 0:g.name)||""} songs`);const l=r.split(`
`),u=[];let c=0;for(let p of l){let v=p.match(/^\s*<small>.*<\/small>$\s*/i)===null;const C=p.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\]]*)?\\]\\]","g"));for(let w of C){let{base:y=""}=w.groups||{};y!==""&&(u.push(y.trim()),v&&(c+=1))}}a.push(...n.map(p=>`${p} original songs`)),a.push(...u.map(p=>`Songs featuring ${p}`)),c>1&&a.push(c===2?"Duet songs":c===3?"Trio songs":"Group rendition songs");const h=new RegExp("'{2,}\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\|\\n\\]]*)?\\]\\]'{2,}").exec(o);if(h!==null){let{base:p=""}=h.groups||{};p=p.trim(),p!==""&&p.match(/^w:c:/i)===null&&(p.match(/^:Category:(?:.*) songs list/i)!==null?p=p.replace(/^:Category:\s*/i,""):p=`${p} songs list`,a.push(p))}const d=o.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\|\\n\\]]*)?\\]\\]\\s*\\((?<role>.*)\\)","g"));for(let p of d){let v="",{base:C="",role:w=""}=p.groups||{};if(C===""||(C=C.trim(),C.match(/^w:c:/i)!==null))continue;C.match(/^:Category:(?:.*) songs list/i)!==null?v=C.replace(/^:Category:\s*/i,""):v=`${C} songs list`;const y=w.toLowerCase().split(/\s*,\s*/g);let x=new Set;for(let T of y){if(T==="music"||T==="compose"||T==="composition"){x=new Set,x.add("");break}switch(T){case"lyrics":x.add("/Lyrics");break;case"tuning":x.add("/Tuning");break;case"arrange":case"arrangement":x.add("/Arrangement");break;case"illust":case"illustration":case"pv":case"movie":case"video":case"animation":x.add("/Visuals");break;case"mix":case"master":case"mastering":case"instruments":case"other":x.add("/Other");break;default:x.add("");break}}x.has("")&&(a.push(`${v}`),x.delete(""));for(let T of x)a.push(`${v}${T}`)}return i&&a.push("Album Only songs"),e&&s.every(p=>!p[3]||p[3].trim()==="")&&a.push("Pages in need of English translation"),a}function Nxe(t){let{data:{cwState:e,cwText:n,origTitle:r,languageIds:o,bgColour:i,fgColour:s,uploadDate:a,singers:l,engines:u,producers:c,isAlbumOnly:h,isUnavailable:d,translator:g,isOfficialTranslation:p,categories:v},langOptions:{needsRomanization:C,needsEnglishTranslation:w},playLinks:y,lyrics:x}=t,T=!1;const _=[];e!==Qs.noWarnings&&n===""&&_.push([!0,"You must add a reason for wanting to add a content warning onto the page, e.g. violent content, sexual content, etc.","cwText"]),o.length===0&&(_.push([!0,"You haven't chosen a language.","languageIds"]),T=!0),r===""&&_.push([!0,"You haven't entered a song title.","origTitle"]),a===null&&_.push([!0,"You haven't entered the date of publication.","uploadDate"]),i===""&&_.push([!0,"Please add a background colour.","bgColour"]),s===""&&_.push([!0,"Please add a foreground colour.","fgColour"]),Pw(i)||_.push([!0,"The background colour is invalid.","bgColour"]),Pw(s)||_.push([!0,"The foreground colour is invalid.","fgColour"]),x.some(O=>!Pw(O.colour))&&_.push([!0,"One of the lyrics row colours is invalid.","lyrics"]),l===""&&(_.push([!0,"You haven't listed any singers.","singers"]),T=!0),l.match(/\[\[[^\]]*\]\]/gm)===null&&(_.push([!0,"You need to list at least one singer in markup, e.g. [[Kagamine Rin]].","singers"]),T=!0),u.length===0&&(_.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),T=!0),c===""?(_.push([!0,"You haven't listed any producers. For well-known producers, it is recommended that the producer's name is listed in markup, e.g. [[wowaka]], before you generate the song page.","producers"]),T=!0):c.match(/\[\[[^\]]*\]\]/gm)===null&&(_.push([!1,'If the producer already has a page on Vocaloid Lyrics wiki, then you should add the name of that producer in markup, e.g. "[[wowaka]] (music)" or "[[nagimiso]] (illustration)". Clicking the "Autoload Categories" button again in this case will automatically generate the category for that producer.',"producers"]),T=!0),v.length===0&&(_.push([!0,"Did you forget to add categories?","categoriesRaw"]),T=!0),!d&&!h&&y.length===0&&(_.push([!0,'No music videos or play links are detected. Please check the "Song is publically unavailable" if official releases are no longer available, or check the "Song is an album-only release" option if the song is released on albums only',"playLinks"]),T=!0),y.filter(O=>O.isOfficiallyAvailable&&Uk[O.site]!==void 0).some(O=>O.viewCount==="")&&_.push([!1,"Did you forget to add the view counts?","playLinks"]),x.every(O=>O.original==="")&&_.push([!0,"Original lyrics column is empty.","lyrics"]);const E=x.some(O=>!!O.romanized&&O.romanized!=="");return C&&!E&&_.push([!0,"Romanized/transliterated lyrics column is empty.","lyrics"]),w&&x.some(O=>!!O.english&&O.english!=="")&&g===""&&!p&&_.push([!1,"A translation exists, but the translator is uncredited. Is it made by an anonymous contributor?","translator"]),{errors:_,recommendToAutoloadCategories:T}}function Dxe(t){let{data:{cwState:e,cwText:n,hasEpilepsyWarning:r,origTitle:o,altChTitle:i,romTitle:s,engTitle:a,titleIsOfficiallyTranslated:l,bgColour:u,fgColour:c,uploadDate:h,singers:d,producers:g,description:p,isUnavailable:v,translator:C,isOfficialTranslation:w,categories:y},langOptions:{headersText:x,needsRomanization:T,needsEnglishTranslation:_},playLinks:E,extLinks:O,lyrics:N}=t,H="",L="",G="",ue="",B="",he="",Ee="",Me="",ye="",te="",S="",R="";if(T&&s!==""){L="{{sort";let D=GA(s);D.replace(/[ -~]/g,"")!==""&&(L+=`|${D}`),L+="}}"}ue=r?"{{Epilepsy}}":"",ue+=e===Qs.questionable?`{{Questionable${n===""?"":`|${n}`}}}`:e===Qs.explicit?`{{Explicit${n===""?"":`|${n}`}}}`:"",v&&(G="{{Unavailable}}"),o.match(/^[a-z]/)!==null&&(H="{{Lowercase}}"),o.match(/_/g)!==null&&(H=`{{DISPLAYTITLE:${o}}}`),B=`"'''${o}'''"`,i!==""&&(B+=`<br />Simplified/Traditional Chinese: ${i}`),T&&s!==""&&(B+=`<br />${x[1]}: ${s}`),_&&a!==""&&(B+=`<br />${l?"Official ":""}English: ${a}`),h!==null&&(he=`{{Date|${h.getFullYear()}|${Pxe[h.getMonth()]}|${h.getDate()}}}`),E.length===0?Me="N/A":Me=E.map(D=>D.getWikitext()).join(" / ");const M=E.filter(D=>!D.isReprint&&Uk[D.site]!==void 0).map(D=>({vc:D.getFormattedViewCount(),abbr:Uk[D.site]}));return M.length>1?ye=M.map(D=>`${D.vc} (${D.abbr})`).join(", "):ye=M.map(D=>D.vc).join(", "),ye===""&&(ye="N/A"),Ee=D$(N,{langOptions:{headersText:x,needsRomanization:T,needsEnglishTranslation:_},translator:C,isOfficialTranslation:w,bgColour:u,fgColour:c}),S=O.filter(D=>!D.isOfficial).map(D=>"* "+D.getWikitext()).join(`
`),te=O.filter(D=>D.isOfficial).map(D=>"* "+D.getWikitext()).join(`
`),(S!==""||te!=="")&&(R=`==External Links==
`,R+=te,R+=te===""?"":`
`,R+=S===""?"":`===Unofficial===
${S}

`),`${H}${L}${G}${ue}
{{Infobox_Song
|image = 
|songtitle = ${B}
|color = ${u}; color:${c}
|original upload date = ${he}
|singer = ${d}
|producer = ${g}
|#views = ${ye}
|link = ${Me}${p?`
|description = ${p}`:""}
}}

==Lyrics==
${Ee}

${R}${y.map(D=>`[[Category:${D}]]`).join(`
`)}`.trim()}var Gl=(t=>(t.producer="Producer",t.vocalist="Vocalist",t.animator="Animator",t.illustrator="Illustrator",t.label="Label",t.circle="Circle",t.band="Band",t.other="Other",t.nothing="Nothing",t.subject="Subject",t))(Gl||{}),Qr=(t=>(t.default="Default",t.animator="Animator",t.arranger="Arranger",t.composer="Composer",t.distributor="Distributor",t.illustrator="Illustrator",t.instrumentalist="Instrumentalist",t.lyricist="Lyricist",t.mastering="Mastering",t.publisher="Publisher",t.vocalist="Vocalist",t.voicemanipulator="VoiceManipulator",t.other="Other",t.mixer="Mixer",t.chorus="Chorus",t.encoder="Encoder",t.vocalprovider="VocalDataProvider",t))(Qr||{}),Xs=(t=>(t.unknown="Unknown",t.circle="Circle",t.label="Label",t.producer="Producer",t.animator="Animator",t.illustrator="Illustrator",t.lyricist="Lyricist",t.vocalist="Vocalist",t.instrumentalist="Instrumentalist",t.othervocalist="OtherVocalist",t.othergroup="OtherGroup",t.otherIndividual="OtherIndividual",t.utaite="Utaite",t.band="Band",t.designer="Designer",t.coverartist="CoverArtist",t.character="Character",t.vocaloid="Vocaloid",t.utau="UTAU",t.cevio="CeVIO",t.synthv="SynthesizerV",t.neutrino="NEUTRINO",t.voisona="VoiSona",t.newtype="NewType",t.voiceroid="Voiceroid",t.othervoicesynth="OtherVoiceSynthesizer",t))(Xs||{}),gs=(t=>(t.nnd="NicoNicoDouga",t.yt="Youtube",t.sc="SoundCloud",t.vm="Vimeo",t.pp="Piapro",t.bb="Bilibili",t.bc="Bandcamp",t))(gs||{}),F$=(t=>(t.original="Original",t.reprint="Reprint",t.other="Other",t))(F$||{}),Bh=(t=>(t.official="Official",t.commercial="Commercial",t.reference="Reference",t.other="Other",t))(Bh||{}),qA=(t=>(t.orig="Japanese",t.rom="Romaji",t.eng="English",t.oth="Unspecified",t))(qA||{}),W$=(t=>(t.unknown="Unknown",t.album="Album",t.single="Single",t.ep="EP",t.splitalbum="SplitAlbum",t.compilation="Compilation",t.video="Video",t.artbook="Artbook",t.game="Game",t.fanmade="Fanmade",t.instrumental="Instrumental",t.other="Other",t))(W$||{});const KA="ccxtwf.github.io";function Yl(t){let e="";return t.length<=1?e+=t.join(""):e+=t.slice(0,-1).join(", ")+" and "+t.at(-1),e}function QA(t,e){const n=new RegExp(`^https?:\\/\\/vocadb\\.net\\/${e}\\/(\\d+)`).exec(t);return n===null?null:n[1]}function V$(t,e){let n=e,r=e,o="",i=!1;const s=H$.exec(`SELECT "s"."basevb_name", "s"."wikicat_name", "e"."name"  
    FROM synths "s"
    LEFT JOIN engines "e" ON "s".engine_id = "e".id 
    WHERE "s".vdb_id = ${t};`);if(s.length>0){const[a,l,u]=s[0].values[0];a===l?n=`[[${l}]]`:n=`[[${l}|${a}]]`,r=(a==null?void 0:a.toString())||"",o=(u==null?void 0:u.toString())||"",i=!0}return{wikitext:n,base:r,engine:o,isSuccess:i}}async function Lxe(t){var e,n;try{const r=QA(t,"S");if(r===null)throw new Error("VocaDB page ID is empty or invalid!");const o=await(await fetch(`https://vocadb.net/api/songs/${r}?fields=Artists,Names,PVs,WebLinks,CultureCodes&lang=English&origin=${KA}`)).json(),i=(o.cultureCodes||[]).map(O=>og.findIndex(N=>N.code===O)).filter(O=>O>-1),s=o.defaultName||"",a=((e=(o.names||[]).find(O=>O.language===qA.rom))==null?void 0:e.value)||"",l=((n=(o.names||[]).find(O=>O.language===qA.eng))==null?void 0:n.value)||"",u=(o.publishDate||"").replace(/^(\d{4}-\d{2}-\d{2}).*$/,"$1"),c=[],h=[],d=[],g=new Set,p=[],v=[],C=[],w=[[`https://vocadb.net/S/${r}`,"VocaDB",!1]],y={[Qr.default]:"music, lyrics",[Qr.composer]:"music",[Qr.lyricist]:"lyrics",[Qr.arranger]:"arrangement",[Qr.mixer]:"mix",[Qr.mastering]:"mastering",[Qr.voicemanipulator]:"tuning",[Qr.instrumentalist]:"instruments",[Qr.illustrator]:"illustration",[Qr.animator]:"PV",[Qr.encoder]:"encoding",[Qr.vocalist]:"vocalist",[Qr.chorus]:"chorus",[Qr.other]:"other",[Qr.distributor]:"publisher",[Qr.publisher]:"publisher"},x=[Xs.vocaloid,Xs.utau,Xs.cevio,Xs.synthv,Xs.neutrino,Xs.voiceroid,Xs.voisona,Xs.newtype,Xs.othervoicesynth];for(let O of o.artists||[]){let N=O.name||"";if(O.categories===Gl.vocalist){if(x.includes(O.artist.artistType)){const{wikitext:H,engine:L,isSuccess:G}=V$(O.artist.id,N);G&&(N=H,g.add(L))}O.isSupport?d.push(N):h.push(N)}else if(O.categories===Gl.circle||O.categories===Gl.label)p.push(N);else{let H=O.roles.split(", ");H=H.map(L=>y[L]||"other"),H=[...new Set(H)],v.push({name:N,role:H.join(", ")})}}let T="";p.length>0&&(T+=`'''''${p.join(", ")}''''':
`),T+=v.map(O=>`${O.name} (${O.role})`).join(`
`);let _="";_+=Yl(h),d.length>0&&(_+=`
<small>${Yl(d)}</small>`);const E={[gs.yt]:"YouTube",[gs.nnd]:"Niconico",[gs.bb]:"bilibili",[gs.pp]:"piapro",[gs.sc]:"SoundCloud",[gs.bc]:"Bandcamp",[gs.vm]:"Vimeo"};for(let O of o.pvs||[]){const N=E[O.service]||null;let H="";O.service===gs.yt?H=`https://www.youtube.com/watch?v=${O.pvId||""}`:H=O.url||"";const L=O.disabled,G=O.pvType!==F$.original;if(N===null?w.push([H,O.service,!G]):C.push([N,H,G,!1,L,""]),!G)switch(O.service){case gs.yt:c.push({src:`https://i.ytimg.com/vi/${O.pvId}/maxresdefault.jpg`,alt:"YouTube thumbnail",onLoad:ue=>{if(ue.target.naturalHeight>=200){ue.onload=null;return}const B=ue.target.src||"";B.endsWith("maxresdefault.jpg")?ue.target.src=`https://i.ytimg.com/vi/${O.pvId}/hqdefault.jpg`:B.endsWith("hqdefault.jpg")&&(ue.target.src=O.thumbUrl||"",ue.onload=null)}});break;case gs.bb:if(!O.thumbUrl||O.thumbUrl==="")break;break;case gs.nnd:O.thumbUrl&&O.thumbUrl!==""&&c.push({src:O.thumbUrl+".L",alt:"Niconico thumbnail",onError:ue=>{ue.target.src=O.thumbUrl,ue.onerror=null}});break;default:O.thumbUrl&&O.thumbUrl!==""&&c.push({src:O.thumbUrl,alt:`${O.service} thumbnail`});break}}for(let O of o.webLinks||[]){const N=O.url||"";let H=O.description||"";H==="MikuWiki"&&(H="Hatsune Miku Wiki");const L=O.category===Bh.official||O.category===Bh.commercial;w.push([N,H,L])}return{formData:{languageIds:i,origTitle:s,romTitle:a,engTitle:l,uploadDate:u,singers:_,engines:[...g],producers:T,imageProps:c},playLinksData:C,extLinksData:w}}catch(r){throw r}}async function jxe(t){var e;try{const n=QA(t,"Al");if(n===null)throw new Error("VocaDB page ID is empty or invalid!");let r=await(await fetch(`https://vocadb.net/api/albums/${n}?fields=MainPicture,Names,PVs,Artists,Tracks,WebLinks&songfields=Artists&lang=English&origin=${KA}`)).json();const o=r.defaultName||"",i=((e=(r.names||[]).find(w=>w.language==="Romaji"))==null?void 0:e.value)||"";let s=r.mainPicture.urlOriginal;const a=[],l=[],u=[],c=new Set;let h="",d="",g="";for(let w of r.artists||[])if(w.categories!==Gl.vocalist)switch(w.categories){case Gl.label:u.push(w.name||"");break;case Gl.circle:a.push(w.name||"");break;case Gl.producer:w.isSupport||l.push(w.name||"");break;default:break}h=u.length===0?"":Yl(u),r.discType===W$.compilation?d=`a compilation album by ${a.length===0?"several producers":Yl(a)}`:l.length>3?d=`an album by ${a.length===0?"several producers":Yl(a)}`:(d=`an album by ${Yl(l)}`,a.length>0&&(d+=`, under the circle ${Yl(a)}`));const p=[],v=[],C=new Map;for(let w of r.tracks||[]){const{discNumber:y,trackNumber:x,song:{artists:T,defaultName:_}={}}=w,E=[],O=[];for(let N of T||[])if(!N.isSupport)if(N.categories===Gl.vocalist){const H=N.artist.id;if(C.has(H))O.push(C.get(H)||"");else{const{wikitext:L,base:G,engine:ue,isSuccess:B}=V$(H,N.artist.name||"");B?(O.push(L),c.add(ue),C.set(H,G)):O.push(L)}}else E.push(N.artist.name||"");p.push([y,x,_||"",Yl(E),Yl(O)])}for(let w of r.webLinks||[]){const y=w.url||"";let x=w.description||"";const T=/^https?:\/\/vocaloid\.fandom\.com\/wiki\/([^\?]+)/.exec(y);T!==null&&(g=T[1]),x==="MikuWiki"&&(x="Hatsune Miku Wiki");const _=w.category===Bh.official||w.category===Bh.commercial;v.push([y,x,_])}return{formData:{origTitle:o,romTitle:i,label:h,description:d,engines:[...c],vdbAlbumId:n,vocaWikiPage:g,imageSrc:s},tracklistData:p,extLinksData:v}}catch(n){throw n}}async function Fxe(t){try{const e=QA(t,"Ar");if(e===null)throw new Error("VocaDB page ID is empty or invalid!");let n=await(await fetch(`https://vocadb.net/api/artists/${e}?fields=AdditionalNames,MainPicture,Description,ArtistLinks,WebLinks&lang=English&origin=${KA}`)).json();const r=n.name||"",o=`'''${r}''' is a vocal synth producer.`,i=[],s=[];let a=n.mainPicture.urlOriginal;const l=[];for(let u of n.artistLinks||[])u.artist.artistType===Xs.label?i.push(u.artist.name||""):s.push(u.artist.name||"");l.push([`https://vocadb.net/Ar/${e}`,"VocaDB",!1,!1,!1]);for(let u of n.webLinks||[]){const c=u.url||"";let h=u.description||"";h==="MikuWiki"&&(h="Hatsune Miku Wiki");const d=u.category===Bh.official||u.category===Bh.commercial,g=d&&!!Vj.filter(v=>v.isMedia).find(v=>v.re.exec(c)),p=u.disabled;l.push([c,h,d,g,p])}return{formData:{prodCategory:r,affiliations:s.join(`
`),label:i.join(`
`),description:o,imageSrc:a},extLinksData:l}}catch(e){throw e}}async function Wxe(t){try{if(t.trim()==="")throw new Error("Producer category cannot be empty");let e=new Set,n=new Map,r=[],o="";for(;;){let u=await(await fetch(`https://${zo}.fandom.com/api.php?action=query&format=json&list=categorymembers&cmtitle=Category:${encodeURI(t)}_songs_list&cmprop=title|sortkeyprefix&cmlimit=500&cmtype=page|subcat&cmsort=sortkey&cmdir=ascending${o}&origin=*`)).json();if(u.error)throw new Error(`Failed fetch: ${u.error.info}`);for(let c of u.query.categorymembers){const h=decodeURI(c.title),d=(c.sortkeyprefix||"")===""?h:c.sortkeyprefix||"";c.ns===0?n.set(d,h):e.add(h)}if(u.continue)o=u.continue.cmcontinue;else break}if(n.size===0&&e.size===0)throw new Error("No pages found - please recheck the category name");const i=async u=>{const c=[];for(;;){let h=await(await fetch(`https://${zo}.fandom.com/api.php?action=query&format=json&list=categorymembers&cmtitle=${encodeURI(u)}&cmprop=title|sortkeyprefix&cmlimit=500&cmtype=page|subcat&cmsort=sortkey&cmdir=ascending${o}&origin=*`)).json();if(h.error)throw new Error(`Failed fetch: ${h.error.info}`);if(c.push(...h.query.categorymembers.map(d=>{const g=decodeURI(d.title),p=(d.sortkeyprefix||"")===""?g:d.sortkeyprefix||"";return{title:g,sortkey:p}})),h.continue)o="&cmcontinue="+h.continue.cmcontinue;else break}return c};let s=[...e].find(u=>u.endsWith("/Albums"))||null;if(s!==null){e.delete(s);const u=await i(s);r.push(...u.map(c=>c.title))}const a=await Promise.all([...e].map(u=>i(u)));for(let u of a)for(let{sortkey:c,title:h}of u)n.set(c,h);let l=Array.from(n);return l.sort((u,c)=>{const h=u[0].toLowerCase(),d=c[0].toLowerCase();return h>d?1:h<d?-1:0}),{songs:l.map(u=>[u[1],""]),albums:r.map(u=>[u,""])}}catch(e){throw e}}function Vxe(){const[t,e]=z.useState({url:"",loading:!1}),[n,r]=z.useState({cwState:Qs.noWarnings,cwText:"",hasEpilepsyWarning:!1}),[o,i]=z.useState({origTitle:"",altChTitle:"",romTitle:"",engTitle:"",titleIsOfficiallyTranslated:!1}),[s,a]=z.useState({bgColour:"black",fgColour:"white"}),[l,u]=z.useState({translator:"",isOfficialTranslation:!1}),[c,h]=z.useState(""),[d,g]=z.useState(""),[p,v]=z.useState(""),[C,w]=z.useState({uploadDate:"",isAlbumOnly:!1,isUnavailable:!1,categoriesRaw:""}),[y,x]=z.useState([]),[T,_]=z.useState([]),[E,O]=z.useState([]),[N,H]=z.useState(!1),[L,G]=z.useState(""),[ue,B]=z.useState([]),[he,Ee]=z.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),Me=z.useRef(null),ye=z.useRef(null),te=z.useRef(null),S=$A(),R=z.useMemo(()=>y.map(ve=>og[ve]),[y]),[M,D,W,U]=z.useMemo(()=>Mxe(R),[R]),se=z.useMemo(()=>ve=>ue.includes(ve)?"error":"",[ue]);z.useEffect(()=>{var ve,fe,je,xe,oe,at;(fe=(ve=Me.current)==null?void 0:ve.hotInstance)==null||fe.loadData(Array(20).fill(null).map(Ye=>["","","",""])),(xe=(je=ye.current)==null?void 0:je.hotInstance)==null||xe.loadData([["YouTube","",!1,!1,!1,""],["Niconico","",!1,!1,!1,""],["bilibili","",!1,!1,!1,""],["piapro","",!1,!1,!1,""],["SoundCloud","",!1,!1,!1,""]]),(at=(oe=te.current)==null?void 0:oe.hotInstance)==null||at.loadData(Array(5).fill(null).map(Ye=>["","",!1]))},[]);function ae(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(Ce(!0),e({...t,loading:!0}),Lxe(t.url).then(ve=>{var j,J,V,Z,q,K;const{formData:{languageIds:fe,origTitle:je,romTitle:xe,engTitle:oe,uploadDate:at,singers:Ye,engines:Xe,producers:lt,imageProps:Ne},playLinksData:A,extLinksData:I}=ve;i(()=>({origTitle:je,romTitle:xe,engTitle:oe,altChTitle:"",titleIsOfficiallyTranslated:!1})),h(()=>Ye),g(()=>lt),w(()=>({uploadDate:at,isAlbumOnly:!1,isUnavailable:!1,categoriesRaw:""})),x(()=>fe),_(()=>Xe),O(()=>Ne),(J=(j=Me.current)==null?void 0:j.hotInstance)==null||J.loadData(Array(20).fill(null).map(ne=>["","","",""])),(Z=(V=ye.current)==null?void 0:V.hotInstance)==null||Z.loadData(A),(K=(q=te.current)==null?void 0:q.hotInstance)==null||K.loadData(I),window.alert("Finished fetching from VocaDB")}).catch(ve=>{window.alert((ve==null?void 0:ve.message)||ve)}).finally(()=>{e({...t,loading:!1})}))}function Se(){var fe,je;const ve=Hxe({languageIds:y,needsEnglishTranslation:D,engines:T,singers:c,producers:d,isAlbumOnly:C.isAlbumOnly,lyricsData:(je=(fe=Me.current)==null?void 0:fe.hotInstance)==null?void 0:je.getData()});w({...C,categoriesRaw:ve.join(`
`)})}function Ce(ve=!1){var fe,je,xe,oe,at,Ye;(ve||window.confirm("Are you sure you want to reset?"))&&(r({cwState:Qs.noWarnings,cwText:"",hasEpilepsyWarning:!1}),i({origTitle:"",romTitle:"",engTitle:"",altChTitle:"",titleIsOfficiallyTranslated:!1}),a({bgColour:"black",fgColour:"white"}),u({translator:"",isOfficialTranslation:!1}),h(""),g(""),v(""),w({uploadDate:"",isAlbumOnly:!1,isUnavailable:!1,categoriesRaw:""}),x([]),_([]),O([]),H(!1),(je=(fe=Me.current)==null?void 0:fe.hotInstance)==null||je.loadData(Array(20).fill(null).map(Xe=>["","","",""])),(oe=(xe=ye.current)==null?void 0:xe.hotInstance)==null||oe.loadData([["YouTube","",!1,!1,!1,""],["Niconico","",!1,!1,!1,""],["bilibili","",!1,!1,!1,""],["piapro","",!1,!1,!1,""],["SoundCloud","",!1,!1,!1,""]]),(Ye=(at=te.current)==null?void 0:at.hotInstance)==null||Ye.loadData(Array(5).fill(null).map(Xe=>["","",!1])),Ee({errors:[],warnings:[],recommendToAutoloadCategories:!1}),B([]),G(""))}function we(){var Xe,lt,Ne,A,I,j;const ve=Ixe({data:{...n,...o,...s,singers:c,producers:d,description:p,languageIds:y,usedEngines:T,...l,...C},langOptions:{needsRomanization:M,needsEnglishTranslation:D,headersText:[...W.slice(1)]},playLinksData:((lt=(Xe=ye.current)==null?void 0:Xe.hotInstance)==null?void 0:lt.getData())||[],lyricsData:((A=(Ne=Me.current)==null?void 0:Ne.hotInstance)==null?void 0:A.getData())||[],extLinksData:((j=(I=te.current)==null?void 0:I.hotInstance)==null?void 0:j.getData())||[]}),{errors:fe,recommendToAutoloadCategories:je}=Nxe(ve);let xe=!1;const oe=[],at=[];let Ye=new Set;for(let J of fe){const[V,Z,q]=J;V?(xe=!0,oe.push(Z.toString())):at.push(Z.toString()),Ye.add(q.toString())}if(B([...Ye]),Ee({errors:oe,warnings:at,recommendToAutoloadCategories:je}),!xe||N){const J=Dxe(ve);G(J)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:Br.vdb})]})}),m.jsx(pe,{width:13,children:m.jsx(UA,{handleFetchFromVocadb:ae,loading:t.loading,value:t.url,onChange:ve=>e({...t,url:ve}),mode:"S"})})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:m.jsx(uf,{size:"large",children:E.map(ve=>z.createElement($o,{...ve,key:ve.src}))})})}),m.jsx(Gt,{}),m.jsxs(Ge,{style:{paddingBottom:"20px"},children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Content Warnings:"}),m.jsx(_t,{content:Br.cw})]})}),m.jsxs(pe,{width:13,children:[m.jsx(En,{fluid:!0,placeholder:"violent/mature content",label:m.jsx(qn,{selection:!0,options:[{key:0,text:"No warnings",value:Qs.noWarnings},{key:1,text:"Questionable",value:Qs.questionable},{key:2,text:"Explicit",value:Qs.explicit}],value:n.cwState,onChange:(ve,fe)=>r({...n,cwState:fe.value}),className:"cw-dropdown "+(n.cwState===Qs.questionable?"questionable":n.cwState===Qs.explicit?"explicit":"")}),labelPosition:"left",value:n.cwText,onChange:(ve,fe)=>r({...n,cwText:fe.value}),className:se("cwText")}),m.jsx("br",{}),m.jsx(kn,{label:"Epileptic Warning",checked:n.hasEpilepsyWarning,onChange:(ve,fe)=>r({...n,hasEpilepsyWarning:fe.checked||!1})})]})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Song Language:"}),m.jsx(_t,{content:Br.language,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(qn,{placeholder:"Song Language",fluid:!0,multiple:!0,selection:!0,options:og.map((ve,fe)=>({key:fe,text:ve.name,value:fe})),className:se("languageIds"),value:y,onChange:(ve,fe)=>x(fe.value)})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Original title:"}),m.jsx(_t,{content:Br.origTitle,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Original title",className:se("origTitle"),value:o.origTitle,onChange:(ve,fe)=>i({...o,origTitle:fe.value})})})]}),U&&m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Traditional/Simplified Chinese title:"}),m.jsx(_t,{content:Br.altChTitle})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Traditional/Simplified Chinese title",value:o.altChTitle,onChange:(ve,fe)=>i({...o,altChTitle:fe.value}),className:se("altChTitle")})})]}),M&&m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Transliterated title:"}),m.jsx(_t,{content:Br.romTitle})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Romanized title",value:o.romTitle,onChange:(ve,fe)=>i({...o,romTitle:fe.value}),className:se("romTitle")})})]}),D&&m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Translated title:"}),m.jsx(_t,{content:Br.engTitle})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"English title",value:o.engTitle,onChange:(ve,fe)=>i({...o,engTitle:fe.value}),className:se("engTitle"),label:m.jsx(kn,{label:"Is an official title?",checked:o.titleIsOfficiallyTranslated,onChange:(ve,fe)=>i({...o,titleIsOfficiallyTranslated:fe.checked||!1})}),labelPosition:"right"})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Infobox BG/FG colours:"}),m.jsx(_t,{content:Br.infobox,required:!0})]})}),m.jsxs(pe,{width:13,children:[m.jsx("div",{className:"infobox-preview",style:{backgroundColor:s.bgColour,color:s.fgColour},children:m.jsx("span",{children:"Preview"})}),m.jsxs(Yo,{stackable:!0,children:[m.jsx(pe,{width:8,children:m.jsx(En,{size:"small",className:se("bgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(En,{type:"color",value:dS(s.bgColour),onChange:(ve,fe)=>{a({...s,bgColour:fe.value})}})},labelPosition:"right",value:s.bgColour,onChange:(ve,fe)=>a({...s,bgColour:fe.value})})}),m.jsx(pe,{width:8,children:m.jsx(En,{size:"small",className:se("fgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(En,{type:"color",value:dS(s.fgColour),onChange:(ve,fe)=>{a({...s,fgColour:fe.value})}})},labelPosition:"right",value:s.fgColour,onChange:(ve,fe)=>a({...s,fgColour:fe.value})})})]})]})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Upload Date:"}),m.jsx(_t,{content:Br.dateOfPublication,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{type:"date",value:C.uploadDate,onChange:(ve,fe)=>w({...C,uploadDate:fe.value}),className:se("uploadDate")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Singer(s):"}),m.jsx(_t,{content:Br.singers,required:!0})]})}),m.jsxs(pe,{width:13,children:[m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:S.map(ve=>({key:ve.id,text:ve.name,value:ve.name})),value:T,onChange:(ve,fe)=>_(fe.value),className:se("engines")}),m.jsx(Go,{value:c,onChange:(ve,fe)=>{var je;return h(((je=fe.value)==null?void 0:je.toString())||"")},className:se("singers")})]})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Producer(s):"}),m.jsx(_t,{content:Br.producers,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(Go,{value:d,onChange:(ve,fe)=>{var je;return g(((je=fe.value)==null?void 0:je.toString())||"")},className:se("producers")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:Br.description})]})}),m.jsx(pe,{width:13,children:m.jsx(Go,{value:p,onChange:(ve,fe)=>{var je;return v(((je=fe.value)==null?void 0:je.toString())||"")},className:se("description")})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{className:se("playLinks"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Broadcast Links"}),m.jsx(_t,{content:Br.playLinks,required:!0})]})}),m.jsxs(pe,{width:13,children:[m.jsx(mxe,{ref:ye}),m.jsxs("div",{style:{marginTop:"10px",display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:[m.jsx("div",{children:m.jsx(kn,{label:"Song is an album-only release",checked:C.isAlbumOnly,onChange:(ve,fe)=>w({...C,isAlbumOnly:fe.checked||!1})})}),m.jsx("div",{style:{paddingLeft:"30px"},children:m.jsx(kn,{label:"Song is publically unavailable",checked:C.isUnavailable,onChange:(ve,fe)=>w({...C,isUnavailable:fe.checked||!1})})})]})]})]}),m.jsx(Gt,{}),m.jsx(Ge,{className:se("lyrics"),children:m.jsxs(pe,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"Lyrics"}),m.jsx(_t,{content:Br.lyrics,required:!0})]}),m.jsx(A$,{headersText:W,needsRomanization:M,needsEnglishTranslation:D,mode:"light",ref:Me})]})}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Translator:"}),m.jsx(_t,{content:Br.translator})]})}),m.jsxs(pe,{width:13,children:[m.jsx(En,{type:"text",value:l.translator,onChange:(ve,fe)=>u({...l,translator:fe.value}),className:se("translator"),style:{minWidth:"40%"}}),m.jsx(kn,{label:"Is an official translation",checked:l.isOfficialTranslation,onChange:(ve,fe)=>u({...l,isOfficialTranslation:fe.checked||!1}),style:{marginLeft:"20px"}}),m.jsx(_t,{content:Br.officialTranslation})]})]}),m.jsx(Gt,{}),m.jsxs(Ge,{className:se("extLinks"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"External Links"}),m.jsx(_t,{content:Br.extLinks})]})}),m.jsx(pe,{width:13,children:m.jsx(VA,{ref:te})})]}),m.jsxs(Ge,{children:[m.jsxs(pe,{width:3,children:[m.jsxs("div",{className:"label-column",style:{marginBottom:"10px"},children:[m.jsx("div",{children:"Categories"}),m.jsx(_t,{content:Br.categories,required:!0})]}),m.jsx(hr,{basic:!0,color:"violet",onClick:Se,children:"Autoload"})]}),m.jsx(pe,{width:13,children:m.jsx(Go,{value:C.categoriesRaw,onChange:(ve,fe)=>{var je;return w({...C,categoriesRaw:((je=fe.value)==null?void 0:je.toString())||""})},className:se("categoriesRaw")})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>Ce(),children:"Reset"})}),m.jsxs(pe,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:we,children:"Generate"}),m.jsx(kn,{label:"Ignore Errors",checked:N,onChange:(ve,fe)=>H((fe==null?void 0:fe.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:m.jsx(BA,{errors:he.errors,warnings:he.warnings,recommendToAutoloadCategories:he.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsxs(pe,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:L})]}),m.jsx("h2",{className:"centered-header",children:M?`${o.origTitle}${o.romTitle===""?"":` (${o.romTitle})`}`:o.origTitle}),m.jsx(Go,{rows:40,value:L,onChange:(ve,fe)=>G(`${fe==null?void 0:fe.value}`||"")})]})})]})})})}const Bxe=z.forwardRef(function(t,e){const n=(a,l,u,c,h,d,g)=>{if(!d||d==="")return l.innerText="",l;const p=(d==null?void 0:d.match(/^(?:\[\[(?!w:c:))(?:([^\|]*)(?:|\|.*))\]\]$/i))||null;if(p!==null){d=d.replace("<","&lt;").replace(">","&gt;");let v=encodeURI(p[1]).replace(/\?/g,"%3F");l.innerHTML=`<a href="https://${zo}.fandom.com/wiki/${v}" target="_blank" rel="noopener noreferrer">${d}</a>`}else l.innerText=d;return l},r=["Disk no","Track no","Track name/VLW Page Title","Feat. Producers","Feat. Singers"],o=[{type:"numeric"},{type:"numeric"},{type:"text",renderer:n},{type:"text"},{type:"text"}];let i=[5,5,50,20,20];const s=a=>{for(let l of a){const[u,c,h,d]=l||[];if(c===2){const g=(d==null?void 0:d.match(/^https?:\/\/vocaloidlyrics\.fandom\.com\/wiki\/([^\?]+)/))||null;if(g!==null){let p=g[1];p=decodeURI(p).replace(/_/g," ").replace(/%3F/g,"?"),l[3]=`[[${p}]]`}}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:r,columns:o,width:"100%",contextMenu:Aw,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:i,beforeChange:s,stretchH:"all",minSpareRows:0,licenseKey:"non-commercial-and-evaluation"})})});function fS(t,e){return{bindInput:n=>({value:t[n],onChange:(r,o)=>{e({...t,[n]:o.value})}}),bindTextArea:n=>({value:t[n],onChange:(r,o)=>{e({...t,[n]:o.value})}}),bindCheckbox:n=>({checked:t[n],onChange:(r,o)=>{e({...t,[n]:o.checked})}}),bindDropdown:n=>({value:t[n],onChange:(r,o)=>{e({...t,[n]:o.value})}})}}function Uxe({formData:t,tracklistData:e,extLinksData:n}){let{origTitle:r,romTitle:o,bgColour:i,fgColour:s,label:a,description:l,vdbAlbumId:u,vocaWikiPage:c,categoriesRaw:h}=t;r=r.trim(),o=o.trim(),i=i.trim(),s=s.trim(),a=a.trim(),l=l.trim(),u=u.trim().replace(/^(\d+)\D*$/,"$1"),c=c.trim();let d=[];h=h.trim(),h!==""&&(d=h.split(/[\r\s]*\n+[\r\s]*/));const g=e.map(v=>new Oxe(v[0],v[1],v[2],v[3],v[4])).filter(v=>v.pageTitle!==""),p=n.map(v=>new YA(v[0],v[1],v[2])).filter(v=>v.url!=="");return{formData:{...t,origTitle:r,romTitle:o,bgColour:i,fgColour:s,label:a,description:l,vdbAlbumId:u,vocaWikiPage:c,categories:d},tracklist:g,extLinks:p}}function XA(t){const e=[],n=t.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\]]*)?\\]\\]","g"));for(let r of n){let{base:o=""}=r.groups||{};o!==""&&(o=o.trim(),o.match(/^w:c:/i)===null&&(o.match(/^:[Cc]ategory:(.*) songs list$/)!==null&&(o=o.replace(/^:[Cc]ategory:(.*) songs list$/,"$1")),e.push(o)))}return e}function zxe(t,e){var c,h;let{description:n,engines:r}=t;const o=[],i=[],s=[];let a=new Set(XA(n)),l=new Set,u=new Set;for(let d of e){const g=XA(((c=d[3])==null?void 0:c.trim())||""),p=XA(((h=d[4])==null?void 0:h.trim())||"");for(let v of g)l.add(v);for(let v of p)u.add(v)}for(let d of a)l.has(d)&&l.delete(d);return i.push(...a),i.push(...l),s.push(...u),o.push(...r.map(d=>`Albums featuring ${d}`)),o.push(...s.map(d=>`Albums featuring ${d}`)),o.push(...i.map(d=>`${d} songs list/Albums`)),o}function $xe(t){let{formData:{origTitle:e,bgColour:n,fgColour:r,description:o,engines:i,vdbAlbumId:s,categories:a},tracklist:l}=t,u=!1;const c=[];return e===""&&c.push([!0,"You haven't entered an album name.","origTitle"]),n===""&&c.push([!0,"Please add a background colour.","bgColour"]),r===""&&c.push([!0,"Please add a foreground colour.","fgColour"]),Pw(n)||c.push([!0,"The background colour is invalid.","bgColour"]),Pw(r)||c.push([!0,"The foreground colour is invalid.","fgColour"]),o===""&&c.push([!0,"You must add a short description about the album.","description"]),s===""&&c.push([!0,"You must add a numeric page ID for the VocaDB link.","vdbAlbumId"]),l.every(h=>h.pageTitle==="")?c.push([!0,"You must add at least one song to the tracklist.","tracklist"]):(l.some(h=>h.trackNo==="")&&c.push([!0,"You must add the track listing number to all tracks.","tracklist"]),l.some(h=>h.discNo!==""&&isNaN(+h.discNo))&&c.push([!0,"The disc number must be numeric.","tracklist"]),l.some(h=>h.trackNo!==""&&isNaN(+h.trackNo))&&c.push([!0,"The track number must be numeric.","tracklist"]),l.some(h=>h.pageTitle==="")&&c.push([!0,"You must add a track name to all tracks.","tracklist"]),l.some(h=>h.singerCredit===""&&h.producerCredit==="")&&c.push([!0,"You must add featured producers/singers to all tracks, or specify that the song is an instrumental if there are no singers.","tracklist"])),i.length===0&&(c.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),u=!0),a.length===0&&(c.push([!0,"Did you forget to add categories?","categoriesRaw"]),u=!0),{errors:c,recommendToAutoloadCategories:u}}function Gxe(t){let{formData:{origTitle:e,romTitle:n,bgColour:r,fgColour:o,label:i,description:s,vdbAlbumId:a,vocaWikiPage:l,categories:u},tracklist:c,extLinks:h}=t,d="",g="",p="",v="",C="";if(d=c.map(w=>`|${w.discNo=="1"?"":w.discNo}tr${w.trackNo} = ${w.pageTitle}
|${w.discNo=="1"?"":w.discNo}tr${w.trackNo}s = ${w.credits}`).join(`
`),p=h.filter(w=>!w.isOfficial).map(w=>"* "+w.getWikitext()).join(`
`),g=h.filter(w=>w.isOfficial).map(w=>"* "+w.getWikitext()).join(`
`),(p!==""||g!=="")&&(v=`==External Links==
`,v+=g,v+=g===""?"":`
`,v+=p===""?"":`===Unofficial===
${p}

`),n!==e&&e!==""){C="{{sort-album";const w=GA(n,!1);w.replace(/[ -~]/g,"")!==""?C+=`|${w}}}`:C+="}}"}return`
{{Album Infobox
|title = ${n===""?e:n}
|orgtitle = ${n===""?"":e}
|label = ${i}
|desc = ${s}
|vdb = ${a}
|vw = ${l}

|image = 
|color = ${r}; color:${o}
${d}
}}

${v}
${C}
${u.map(w=>`[[Category:${w}]]`).join(`
`)}`.trim()}const Iw={origTitle:"",romTitle:"",bgColour:"black",fgColour:"white",label:"",description:"",engines:[],vdbAlbumId:"",vocaWikiPage:"",categoriesRaw:""};function Yxe(){const[t,e]=z.useState({url:"",loading:!1}),[n,r]=z.useState(null),[o,i]=z.useState({...Iw,engines:[...Iw.engines]}),[s,a]=z.useState(!1),[l,u]=z.useState(""),[c,h]=z.useState([]),[d,g]=z.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),p=z.useRef(null),v=z.useRef(null),{bindInput:C,bindTextArea:w,bindDropdown:y}=fS(o,i),x=$A(),T=H=>c.includes(H)?"error":"";z.useEffect(()=>{var H,L,G,ue;(L=(H=v.current)==null?void 0:H.hotInstance)==null||L.loadData(Array(5).fill(null).map(B=>["","",!1])),(ue=(G=p.current)==null?void 0:G.hotInstance)==null||ue.loadData(Array(12).fill(null).map(B=>["","","","",""]))},[]);function _(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(e({...t,loading:!0}),jxe(t.url).then(H=>{var R,M,D,W;const{formData:{origTitle:L,romTitle:G,label:ue,description:B,engines:he,vdbAlbumId:Ee,vocaWikiPage:Me,imageSrc:ye},tracklistData:te,extLinksData:S}=H;i({...Iw,origTitle:L,romTitle:G,label:ue,description:B,engines:he,vdbAlbumId:Ee,vocaWikiPage:Me}),r(ye),(M=(R=v.current)==null?void 0:R.hotInstance)==null||M.loadData(S),(W=(D=p.current)==null?void 0:D.hotInstance)==null||W.loadData(te),window.alert("Finished fetching from VocaDB")}).catch(H=>{window.alert((H==null?void 0:H.message)||H)}).finally(()=>{e({...t,loading:!1})}))}function E(){var L,G;const H=zxe(o,(G=(L=p.current)==null?void 0:L.hotInstance)==null?void 0:G.getData());i({...o,categoriesRaw:H.join(`
`)})}function O(H=!1){var L,G,ue,B;(H||window.confirm("Are you sure you want to reset?"))&&(i({...Iw,engines:[...Iw.engines]}),r(null),a(!1),(G=(L=v.current)==null?void 0:L.hotInstance)==null||G.loadData(Array(5).fill(null).map(he=>["","",!1])),(B=(ue=p.current)==null?void 0:ue.hotInstance)==null||B.loadData(Array(12).fill(null).map(he=>["","","","",""])),g({errors:[],warnings:[],recommendToAutoloadCategories:!1}),h([]),u(""))}function N(){var Me,ye,te,S;const H=Uxe({formData:o,tracklistData:((ye=(Me=p.current)==null?void 0:Me.hotInstance)==null?void 0:ye.getData())||[],extLinksData:((S=(te=v.current)==null?void 0:te.hotInstance)==null?void 0:S.getData())||[]}),{errors:L,recommendToAutoloadCategories:G}=$xe(H);let ue=!1;const B=[],he=[];let Ee=new Set;for(let R of L){const[M,D,W]=R;M?(ue=!0,B.push(D.toString())):he.push(D.toString()),Ee.add(W.toString())}if(h([...Ee]),g({errors:B,warnings:he,recommendToAutoloadCategories:G}),!ue||s){const R=Gxe(H);u(R)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:ds.vdb})]})}),m.jsx(pe,{width:13,children:m.jsx(UA,{handleFetchFromVocadb:_,loading:t.loading,value:t.url,onChange:H=>e({...t,url:H}),mode:"Al"})})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:n&&m.jsx($o,{src:n,size:"large",wrapped:!0,centered:!0})})}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Original title:"}),m.jsx(_t,{content:ds.origTitle,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Original title",...C("origTitle"),className:T("origTitle")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Transliterated title:"}),m.jsx(_t,{content:ds.romTitle})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Romanized title",...C("romTitle"),className:T("romTitle")})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Infobox BG/FG colours:"}),m.jsx(_t,{content:ds.infobox,required:!0})]})}),m.jsxs(pe,{width:13,children:[m.jsx("div",{className:"infobox-preview",style:{backgroundColor:o.bgColour,color:o.fgColour},children:m.jsx("span",{children:"Preview"})}),m.jsxs(Yo,{stackable:!0,children:[m.jsx(pe,{width:8,children:m.jsx(En,{size:"small",...C("bgColour"),className:T("bgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(En,{type:"color",value:dS(o.bgColour),onChange:(H,L)=>{i({...o,bgColour:L.value})}})},labelPosition:"right"})}),m.jsx(pe,{width:8,children:m.jsx(En,{size:"small",...C("fgColour"),className:T("fgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(En,{type:"color",value:dS(o.fgColour),onChange:(H,L)=>{i({...o,fgColour:L.value})}})},labelPosition:"right"})})]})]})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Label:"}),m.jsx(_t,{content:ds.label})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"KarenT, EXIT Tunes, etc.",...C("label"),className:T("label")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:ds.description,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"an album by PRODUCER",...C("description"),className:T("description")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Singer(s):"}),m.jsx(_t,{content:ds.engines,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:x.map(H=>({key:H.id,text:H.name,value:H.name})),...y("engines"),className:T("engines"),style:{zIndex:"999"}})})]}),m.jsx(Gt,{}),m.jsx(Ge,{className:T("tracklist"),children:m.jsxs(pe,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"Tracklist"}),m.jsx(_t,{content:ds.tracklist,required:!0,wide:!0})]}),m.jsx(Bxe,{ref:p})]})}),m.jsx(Gt,{}),m.jsxs(Ge,{className:T("vdbAlbumId"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"VocaDB Album Page ID:"}),m.jsx(_t,{content:ds.vdbAlbumId,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"VocaDB Album Page ID",...C("vdbAlbumId")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"VOCALOID Wiki Page:"}),m.jsx(_t,{content:ds.vocaWikiPage})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"Vocaloid Wiki Page Name",...C("vocaWikiPage")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"External Links:"}),m.jsx(_t,{content:ds.extLinks})]})}),m.jsx(pe,{width:13,children:m.jsx(VA,{ref:v})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsxs(pe,{width:3,children:[m.jsxs("div",{className:"label-column",style:{marginBottom:"10px"},children:[m.jsx("div",{children:"Categories:"}),m.jsx(_t,{content:ds.categories,required:!0})]}),m.jsx(hr,{basic:!0,color:"violet",onClick:E,children:"Autoload"})]}),m.jsx(pe,{width:13,children:m.jsx(Go,{...w("categoriesRaw"),className:T("categoriesRaw")})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>O(),children:"Reset"})}),m.jsxs(pe,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:N,children:"Generate"}),m.jsx(kn,{label:"Ignore Errors",checked:s,onChange:(H,L)=>a((L==null?void 0:L.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:m.jsx(BA,{errors:d.errors,warnings:d.warnings,recommendToAutoloadCategories:d.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsxs(pe,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:l})]}),m.jsx("h2",{className:"centered-header",children:o.origTitle!==""&&`${o.origTitle}${o.romTitle===""?"":` (${o.romTitle})`} (album)`}),m.jsx(Go,{rows:40,value:l,onChange:(H,L)=>u(`${L==null?void 0:L.value}`||"")})]})})]})})})}const B$=z.forwardRef(function({forAlbums:t=!1},e){const n=(a,l,u,c,h,d,g)=>{if(!d||d==="")return l.innerText="",l;{d=d.replace("<","&lt;").replace(">","&gt;");let p=encodeURI(d).replace(/\?/g,"%3F");l.innerHTML=`<a href="https://${zo}.fandom.com/wiki/${p}" target="_blank" rel="noopener noreferrer">${d}</a>`}return l},r=[t?"Album pages":"Song pages","Additional template parameters"],o=[{type:"text",renderer:n},{type:"text"}];let i=[60,40];const s=a=>{for(let l of a){const[u,c,h,d]=l||[];if(c===0){const g=(d==null?void 0:d.match(/^https?:\/\/vocaloidlyrics\.fandom\.com\/wiki\/([^\?]+)/))||null;if(g!==null){let p=g[1];p=decodeURI(p).replace(/_/g," ").replace(/%3F/g,"?"),l[3]=p}}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:r,columns:o,width:"100%",contextMenu:Aw,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:i,stretchH:"all",minSpareRows:0,beforeChange:s,licenseKey:"non-commercial-and-evaluation"})})});function qxe({formData:t,producerRoles:e,songListData:n,albumListData:r,extLinksData:o}){let{prodCategory:i,prodAliases:s,affiliations:a,label:l,description:u}=t;i=i.trim(),s=s.trim(),a=a.trim(),a=a===""?"":a.split(/\s*\n\s*/g).map(g=>`* ${g}`).join(`
`),l=l.trim(),l=l===""?"":l.split(/\s*\n\s*/g).map(g=>`* ${g}`).join(`
`),u=u.trim();const c=n.map(g=>new j$(g[0],g[1])).filter(g=>g.page!==""),h=r.map(g=>new j$(g[0],g[1],!0)).filter(g=>g.page!==""),d=o.map(g=>new YA(g[0],g[1],g[2],g[3],g[4])).filter(g=>g.url!=="");return{formData:{...t,prodCategory:i,prodAliases:s,prodRoles:e,affiliations:a,label:l,description:u},songList:c,albumList:h,extLinks:d}}function Kxe(t){let{formData:{prodCategory:e,prodRoles:n,languageIds:r,engines:o,description:i},songList:s,extLinks:a}=t;const l=[];return e===""&&l.push([!0,"You must add the producer category page name for the producer. (This will be used as the parameter of {{ProdLinks}})","prodCategory"]),r.length===0&&l.push([!0,"You haven't chosen a language.","languageIds"]),o.length===0&&l.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),Object.values(n).every(u=>!u)&&l.push([!0,"You must specify at least one role for the producer, e.g. Do they compose their own songs? Are they an illustrator/PV maker for other producers?","producerRoles"]),i===""&&l.push([!0,'You must add a description for the producer. Even a short description, e.g. "[PRODUCER] is a VOCALOID producer.", will do.',"description"]),a.length===0?l.push([!0,"You must add at least one external link.","extLinks"]):a.every(u=>!u.isOfficial)&&l.push([!0,"You must add at least one official external link, e.g. the producer's social media.","extLinks"]),s.length===0&&l.push([!0,"No song page has been added.","pwtDiscog"]),{errors:l,recommendToAutoloadCategories:!1}}function Qxe(t){const e={MIKUWIKI:/^https?:\/\/(?:w|www5)\.atwiki\.jp\/hmiku\/pages\/(\d*)\.html/,UTAUDB:/^https?:\/\/w\.atwiki\.jp\/utauuuta\/pages\/(\d*)\.html/,NICOPEDIA:/^https?:\/\/dic\.nicovideo\.jp\/id\/(.*)$/,VOCADB:/^https?:\/\/vocadb\.net\/Ar\/(\d*)/,NICOTAG:/^https?:\/\/www\.nicovideo\.jp\/tag\/(.*)$/,MGP:/^https?:\/\/mzh\.moegirl\.org\.cn\/(.*)$/},n={};let r="";for(let o of t){let i=!1;for(let[s,a]of Object.entries(e)){const l=a.exec(o.url);if(l!==null){n[s]=l[1],i=!0;break}}i||(r+=`* ${o.getWikitext()}
`)}return`${`
{{links |p=yes
  |atmiku = ${n.MIKUWIKI||""}
  |atutau = ${n.UTAUDB||""}
  |nico   = ${n.NICOPEDIA||""}
  |vocadb = ${n.VOCADB||""}
  |tag    = ${n.NICOTAG||""}
  |mgp    = ${n.MGP||""}
}}`.trim()}
${r}`}function Xxe(t){const{formData:{prodCategory:e,prodAliases:n,prodRoles:r,affiliations:o,label:i,languageIds:s,engines:a,description:l},songList:u,albumList:c,extLinks:h}=t;let d="",g=["Producers"],p=h.filter(w=>w.isOfficial&&!w.isMedia).map(w=>`* ${w.description}: [${w.url}]
`).join(""),v=h.filter(w=>w.isOfficial&&w.isMedia).map(w=>`* ${w.getWikitext()}
`).join(""),C=Qxe(h.filter(w=>!w.isOfficial));d+=`==External links==
`,d+=p===""?"":p+`
`,d+=v===""?"":`===Media===
${v}
`,d+=C===""?"":`===Unofficial===
${C}`;for(const[w,y]of Object.entries(r))y&&g.push(`${w.replace(/^\w/,x=>x.toUpperCase())}s`);for(let w of s)g.push(`${og[w].name} original producers`);for(let w of a)g.push(`Producers using ${w}`);return`
<div class="producer-links">
[[File:<PRODUCER PROFILE PICTURE IMAGE FILE>|250px|center]]
==Producer categories==
{{ProdLinks|${e}}}
${i===""?"":`==Labels==
${i}
`}${o===""?"":`==Affiliations==
${o}
`}
${d}</div>

${l}

==Works==${n===""?"":`
{{pwt alias|${n}}}`}
{| class="sortable producer-table"
|- class="vcolor-default"
! {{pwt head}}
${u.map(w=>`|-
| ${w.toTemplate()}
`).join("")}|}

${c.length===0?"":`==Discography==
{| class="sortable producer-table"
|- class="vcolor-default"
! {{awt head}}
`+c.map(w=>`|-
| ${w.toTemplate()}
`).join("")+`|}

`}
__NOTOC__
${g.map(w=>`[[Category:${w}]]`).join(`
`)}`.trim()}const Uh={prodCategory:"",prodAliases:"",affiliations:"",label:"",languageIds:[],engines:[],description:""},Jxe={composer:!1,lyricist:!1,tuner:!1,illustrator:!1,animator:!1,arranger:!1,instrumentalist:!1,mixer:!1,masterer:!1};function Zxe(){const[t,e]=z.useState({url:"",loading:!1,loadingDiscog:!1}),[n,r]=z.useState(null),[o,i]=z.useState({...Uh,languageIds:[...Uh.languageIds],engines:[...Uh.engines]}),[s,a]=z.useState({...Jxe}),[l,u]=z.useState(!1),[c,h]=z.useState(""),[d,g]=z.useState([]),[p,v]=z.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),C=z.useRef(null),w=z.useRef(null),y=z.useRef(null),{bindInput:x,bindTextArea:T,bindDropdown:_}=fS(o,i),{bindCheckbox:E}=fS(s,a),O=$A(),N=B=>d.includes(B)?"error":"";z.useEffect(()=>{var B,he,Ee,Me,ye,te;(he=(B=y.current)==null?void 0:B.hotInstance)==null||he.loadData(Array(5).fill(null).map(S=>["","",!1,!1,!1])),(Me=(Ee=C.current)==null?void 0:Ee.hotInstance)==null||Me.loadData(Array(8).fill(null).map(S=>["",""])),(te=(ye=w.current)==null?void 0:ye.hotInstance)==null||te.loadData(Array(8).fill(null).map(S=>["",""]))},[]);function H(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(e({...t,loading:!0}),Fxe(t.url).then(B=>{var R,M,D,W,U,se;const{formData:{prodCategory:he,affiliations:Ee,label:Me,description:ye,imageSrc:te},extLinksData:S}=B;i({...Uh,prodCategory:he,affiliations:Ee,label:Me,description:ye}),r(te),(M=(R=C.current)==null?void 0:R.hotInstance)==null||M.loadData(Array(8).fill(null).map(ae=>["",""])),(W=(D=w.current)==null?void 0:D.hotInstance)==null||W.loadData(Array(8).fill(null).map(ae=>["",""])),(se=(U=y.current)==null?void 0:U.hotInstance)==null||se.loadData(S),window.alert("Finished fetching from VocaDB")}).catch(B=>{window.alert((B==null?void 0:B.message)||B)}).finally(()=>{e({...t,loading:!1})}))}function L(){e({...t,loadingDiscog:!0}),Wxe(o.prodCategory).then(B=>{var Me,ye,te,S;const{songs:he,albums:Ee}=B;(ye=(Me=C.current)==null?void 0:Me.hotInstance)==null||ye.loadData(he),(S=(te=w.current)==null?void 0:te.hotInstance)==null||S.loadData(Ee),window.alert("Finished fetching from Vocaloid Lyrics Wiki")}).catch(B=>{window.alert((B==null?void 0:B.message)||B)}).finally(()=>{e({...t,loadingDiscog:!1})})}function G(B=!1){var he,Ee,Me,ye,te,S;(B||window.confirm("Are you sure you want to reset?"))&&(i({...Uh,languageIds:[...Uh.languageIds],engines:[...Uh.engines]}),u(!1),(Ee=(he=y.current)==null?void 0:he.hotInstance)==null||Ee.loadData(Array(5).fill(null).map(R=>["","",!1,!1,!1])),(ye=(Me=C.current)==null?void 0:Me.hotInstance)==null||ye.loadData(Array(8).fill(null).map(R=>["",""])),(S=(te=w.current)==null?void 0:te.hotInstance)==null||S.loadData(Array(8).fill(null).map(R=>["",""])),v({errors:[],warnings:[],recommendToAutoloadCategories:!1}),g([]),h(""))}function ue(){var R,M,D,W,U,se;const B=qxe({formData:o,producerRoles:s,songListData:((M=(R=C.current)==null?void 0:R.hotInstance)==null?void 0:M.getData())||[],albumListData:((W=(D=w.current)==null?void 0:D.hotInstance)==null?void 0:W.getData())||[],extLinksData:((se=(U=y.current)==null?void 0:U.hotInstance)==null?void 0:se.getData())||[]}),{errors:he,recommendToAutoloadCategories:Ee}=Kxe(B);let Me=!1;const ye=[],te=[];let S=new Set;for(let ae of he){const[Se,Ce,we]=ae;Se?(Me=!0,ye.push(Ce.toString())):te.push(Ce.toString()),S.add(we.toString())}if(g([...S]),v({errors:ye,warnings:te,recommendToAutoloadCategories:Ee}),!Me||l){const ae=Xxe(B);h(ae)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:fs.vdb})]})}),m.jsx(pe,{width:13,children:m.jsx(UA,{handleFetchFromVocadb:H,loading:t.loading,value:t.url,onChange:B=>e({...t,url:B}),mode:"Ar"})})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:3,children:n&&m.jsx($o,{src:n,size:"large",wrapped:!0,centered:!0})})}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Main producer category:"}),m.jsx(_t,{content:fs.prodcat,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"...",label:m.jsx(hr,{onClick:L,loading:t.loadingDiscog,children:"Fetch discography from wiki"}),labelPosition:"right",...x("prodCategory"),className:N("prodCategory")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Producer's other aliases:"}),m.jsx(_t,{content:fs.prodaliases})]})}),m.jsx(pe,{width:13,children:m.jsx(En,{fluid:!0,placeholder:"...",...x("prodAliases"),className:N("prodAliases")})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Affiliations:"}),m.jsx(_t,{content:fs.affiliations})]})}),m.jsx(pe,{width:13,children:m.jsx(Go,{...T("affiliations"),className:N("affiliations")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Labels:"}),m.jsx(_t,{content:fs.labels})]})}),m.jsx(pe,{width:13,children:m.jsx(Go,{...T("labels"),className:N("labels")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Languages:"}),m.jsx(_t,{content:fs.languages,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(qn,{placeholder:"Choose a language",fluid:!0,multiple:!0,selection:!0,options:og.map((B,he)=>({key:he,text:B.name,value:he})),..._("languageIds"),className:N("languageIds")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Uses the synthesizers:"}),m.jsx(_t,{content:fs.synthesizers,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:O.map(B=>({key:B.id,text:B.name,value:B.name})),..._("engines"),className:N("engines")})})]}),m.jsxs(Ge,{className:N("producerRoles"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Typical roles:"}),m.jsx(_t,{content:fs.prodroles,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsxs(Yo,{stackable:!0,className:"producer-checkboxes",children:[m.jsxs(Ge,{children:[m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Composer",...E("composer")})}),m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Lyricist",...E("lyricist")})}),m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Tuner",...E("tuner")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Illustrator",...E("illustrator")})}),m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Animator",...E("animator")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Arranger",...E("arranger")})}),m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Instrumentalist",...E("instrumentalist")})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Mixer",...E("mixer")})}),m.jsx(pe,{width:5,children:m.jsx(kn,{label:"Masterer",...E("masterer")})})]})]})})]}),m.jsxs(Ge,{className:N("description"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:fs.description,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(Go,{...T("description")})})]}),m.jsx(Gt,{}),m.jsx(Ge,{className:N("extLinks"),children:m.jsxs(pe,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"External Links"}),m.jsx(_t,{content:fs.extLinks,required:!0,wide:!0})]}),m.jsx(VA,{forProducerPages:!0,ref:y})]})}),m.jsx(Gt,{}),m.jsxs(Ge,{className:N("pwtDiscog"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"List of songs:"}),m.jsx(_t,{content:fs.songList,required:!0})]})}),m.jsx(pe,{width:13,children:m.jsx(B$,{ref:C})})]}),m.jsxs(Ge,{className:N("awtDiscog"),children:[m.jsx(pe,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"List of albums:"}),m.jsx(_t,{content:fs.albumList})]})}),m.jsx(pe,{width:13,children:m.jsx(B$,{forAlbums:!0,ref:w})})]}),m.jsxs(Ge,{children:[m.jsx(pe,{width:3}),m.jsx(pe,{width:13,children:m.jsxs("div",{children:['Use the "Fetch discography from wiki" button to get the song & album pages that have been tagged in Vocaloid Lyrics wiki.',m.jsx("br",{}),"Alternatively, you can use ",m.jsx("a",{href:`https://${zo}.fandom.com/wiki/Special:CategoryTree`,target:"_blank",rel:"noopener noreferrer",children:"the Category Tree tool in Vocaloid Lyrics wiki"})," to manually get the list of song & album pages. See this example for ",m.jsx("a",{href:`https://${zo}.fandom.com/wiki/Special:CategoryTree?target=Category%3APinocchioP+songs+list&mode=all&namespaces=`,target:"_blank",rel:"noopener noreferrer",children:"PinocchioP"}),".",m.jsx("br",{}),m.jsx("br",{}),"Do note that the Category Tree tool can only query a maximum of 200 pages per category."]})})]}),m.jsx(Gt,{}),m.jsxs(Ge,{children:[m.jsx(pe,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>G(),children:"Reset"})}),m.jsxs(pe,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:ue,children:"Generate"}),m.jsx(kn,{label:"Ignore Errors",checked:l,onChange:(B,he)=>u((he==null?void 0:he.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:m.jsx(BA,{errors:p.errors,warnings:p.warnings,recommendToAutoloadCategories:p.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ge,{children:m.jsxs(pe,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:c})]}),m.jsx(Go,{rows:40,value:c,onChange:(B,he)=>h(`${he==null?void 0:he.value}`||"")})]})})]})})})}function eRe(t){const e=t.match(/\{\|\s*style\s*=.*?\|\}/gs);return e===null?[]:e.map(n=>n.toString())}function tRe(t){let e=new RegExp("(?<=\\{\\|.*\\n)(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)?(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)?","gm").exec(t),n=[];e===null?n=["Original","Romanized","English"]:n=[e[1]||"Original",e[2]||"Romanized",e[3]||"English"];let r=[],o=t.matchAll(/\|-(.*?)\n(.*?)\n(?=\|-|\|\})/gs);for(let i of o){const[s,a,l]=i;let u=/style\s*=\s*["']\s*color\s*:\s*([#a-zA-Z0-9]+)\s*;?\s*["']/g.exec(a),c=u===null?"":u[1]||"",h=l.matchAll(new RegExp("(?<=\\n\\||^\\|).*?(?=\\n\\||$)","gs")),d=Array.from(h).map(g=>g[0]);if(d.length===1){const g=/^\s*(\{\{shared[^\}]*\}\}|colspan=["']\d+["']\s*\|)/gi;let p=d[0];p.match(/^\s*<br\s*\/?\s*>\s*$/)?r.push([c,"","",""]):p.match(g)?(p=p.replace(g,""),r.push([c,p,p,p])):r.push([c,d[0]||"","",""])}else r.push([c,d[0]||"",d[1]||"",d[2]||""])}return{headers:n,lyrics:r}}function nRe(t){return t.map(e=>(e[2]=(e[2]||"").trim().replace(/^\w/,n=>n.toLowerCase()),e[2]=e[2].replace(/\.\s*(\w)/g,(n,r)=>`. ${r.toLowerCase()}`),e))}function rRe(t){return t.map(e=>(e[2]=GA((e[2]||"").trim(),!0),e))}function oRe(t){return t.map(e=>(e[2]=(e[2]||"").trim().replace(new RegExp("(?=\\b)(wo|he)(?<=\\b)","gi"),n=>{switch(n){case"wo":return"o";case"he":return"e";default:return""}}),e[2]=(e[2]||"").trim().replace(/dzu/gi,"zu"),e))}function iRe(){const t=z.useRef(null);z.useEffect(()=>{var v,C;(C=(v=t.current)==null?void 0:v.hotInstance)==null||C.loadData(Array(20).fill(null).map(w=>["","","",""]))},[]);const[e,n]=z.useState(["Colour","Original","Romanized","English"]),[r,o]=z.useState([]),[i,s]=z.useState(0),[a,l]=z.useState({translator:"",isOfficialTranslation:!1,outputThirdColumn:!1}),[u,c]=z.useState(""),[h,d]=z.useState({spC:!1,wkF:!1}),{bindInput:g,bindCheckbox:p}=fS(a,l);return m.jsx(m.Fragment,{children:m.jsxs(Gb,{children:[m.jsxs("h3",{children:[m.jsx("span",{children:"Input Wiki Page Source Code:"}),m.jsx(_t,{content:_xe.sourceInput})]}),m.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:m.jsx(yi,{basic:!0,color:"violet",size:"large",children:r.length===0?"No lyrics tables found":m.jsxs(m.Fragment,{children:["Extract table",m.jsx(qn,{className:"select-table",compact:!0,selection:!0,text:`${i+1}`,options:Array(r.length).fill(null).map((v,C)=>({key:C,text:C+1,value:C})),value:i,onChange:(v,C)=>{s(+((C==null?void 0:C.value)||0))}}),"of ",r.length]})})}),m.jsx(Go,{rows:20,onInput:(v,C)=>{const w=eRe(`${(C==null?void 0:C.value)||""}`);o(w)}}),m.jsx(hr,{color:"violet",size:"large",fluid:!0,style:{marginTop:"10px"},onClick:()=>{var y,x;const v=r[i],{headers:C,lyrics:w}=tRe(v);n(["Colour",...C]),(x=(y=t.current)==null?void 0:y.hotInstance)==null||x.loadData(w)},children:"Extract Lyrics Table"}),m.jsx(Gt,{}),m.jsx("h3",{children:"Parsed Lyrics:"}),m.jsx(A$,{headersText:e,needsRomanization:!0,needsEnglishTranslation:!0,ref:t}),m.jsx("br",{}),m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ge,{children:[m.jsx(pe,{width:3,children:m.jsx("h4",{children:"Translator:"})}),m.jsx(pe,{width:10,children:m.jsx(En,{fluid:!0,...g("translator")})}),m.jsx(pe,{width:3,children:m.jsx(kn,{label:"Is official translation?",...p("isOfficialTranslation")})})]}),m.jsx(Ge,{children:m.jsx(pe,{width:16,children:m.jsx(kn,{label:"Must show English lyrics column",...p("outputThirdColumn")})})})]}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsxs(uh,{widths:"3",children:[m.jsx(Tl,{trigger:m.jsx(hr,{basic:!0,color:"green",children:"Open mini-library of special characters"}),wide:!0,position:"top center",content:m.jsxs(Yo,{columns:2,children:[m.jsxs(Ge,{children:[m.jsx(pe,{column:8,children:"A: \u0101 \xE1 \u01CE \xE0 \u0100 \xC1 \u01CD \xC0"}),m.jsx(pe,{column:8,children:"I: \u012B \xED \u01D0 \xEC \u012A \xCD \u01CF \xCC"})]}),m.jsxs(Ge,{children:[m.jsx(pe,{column:8,children:"U: \u016B \xFA \u01D4 \xF9 \u016A \xDA \u01D3 \xD9"}),m.jsx(pe,{column:8,children:"\xDC: \u01D6 \u01D8 \u01DA \u01DC \u01D5 \u01D7 \u01D9 \u01DB"})]}),m.jsxs(Ge,{children:[m.jsx(pe,{column:8,children:"E: \u0113 \xE9 \u011B \xE8 \u0112 \xC9 \u011A \xC8"}),m.jsx(pe,{column:8,children:"O: \u014D \xF3 \u01D2 \xF2 \u014C \xD3 \u01D1 \xD2"})]})]}),on:"click",open:h.spC,onOpen:()=>d({...h,spC:!0}),onClose:()=>d({...h,spC:!1})}),m.jsx(Tl,{trigger:m.jsx(hr,{basic:!0,color:"green",children:"Show glossary of wikitext formatting"}),wide:!0,position:"top center",content:m.jsxs("div",{children:["Bold: '''",m.jsx("b",{children:"bold"}),"'''",m.jsx("br",{}),"Italics: ''",m.jsx("i",{children:"italic"}),"''",m.jsx("br",{}),"Bold & Italic: '''''",m.jsx("b",{children:m.jsx("i",{children:"bold & italic"})}),"'''''",m.jsx("br",{}),m.jsx("br",{}),"Strikethrough: <s>",m.jsx("s",{children:"strikethrough"}),"</s>",m.jsx("br",{}),"Superscript: 1<sup>st</sup> (1",m.jsx("sup",{children:"st"}),")",m.jsx("br",{}),"Small Text: <small>text</small> (",m.jsx("small",{children:"text"}),")",m.jsx("br",{}),"Underlined: <u>",m.jsx("u",{children:"underline"}),"</u>",m.jsx("br",{}),m.jsx("hr",{}),m.jsx("b",{children:"Subscript"}),": O<sub>2</sub> (O",m.jsx("sub",{children:"2"}),")",m.jsx("br",{}),m.jsx("b",{children:"Big Text"}),": <big>text</big> (",m.jsx("big",{children:"text"}),")",m.jsx("br",{}),m.jsx("b",{children:"In-line style"}),': <span style="color:#000000">text<span>',m.jsx("br",{}),m.jsx("b",{children:"Internal link"}),": [[Page name]]",m.jsx("br",{}),m.jsx("b",{children:"Hyperlink (external website)"}),": [https://www.example.org displayed text]",m.jsx("br",{}),m.jsx("b",{children:"Link to wikipedia"}),": [[wikipedia:Page_name|displayed text]]",m.jsx("br",{}),m.jsx("b",{children:"Link to other FANDOM wiki"}),": [[w:c:Wiki_name:Page_name|displayed text]]"]}),on:"click",open:h.wkF,onOpen:()=>d({...h,wkF:!0}),onClose:()=>d({...h,wkF:!1})})]}),m.jsx(Gt,{}),m.jsx(Gt,{}),m.jsxs(uh,{widths:"3",children:[m.jsx(hr,{color:"teal",onClick:()=>{var w;const v=(w=t.current)==null?void 0:w.hotInstance;let C=v.getData();C=nRe(C),v==null||v.loadData(C)},children:"Decapitalize romanized lyrics"}),m.jsx(hr,{color:"teal",onClick:()=>{var w;const v=(w=t.current)==null?void 0:w.hotInstance;let C=v.getData();C=rRe(C),v==null||v.loadData(C)},children:"Pinyin: Remove tones"}),m.jsx(hr,{color:"teal",onClick:()=>{var w;const v=(w=t.current)==null?void 0:w.hotInstance;let C=v.getData();C=oRe(C),v==null||v.loadData(C)},children:"Romaji: Change 'wo'\u2192'o', 'he'\u2192'e', 'dzu'\u2192'zu'"})]}),m.jsx(Gt,{}),m.jsx(hr,{color:"violet",size:"large",fluid:!0,onClick:()=>{var w,y;const v=(y=((w=t.current)==null?void 0:w.hotInstance).getData())==null?void 0:y.map(x=>new L$(!0,!0,...x)),C=D$(v,{langOptions:{headersText:[e[1],e[2],e[3]],needsRomanization:!0,needsEnglishTranslation:!0},translator:a.translator.trim(),isOfficialTranslation:a.isOfficialTranslation,bgColour:"black",fgColour:"white",overrideShowEnglishColumn:a.outputThirdColumn});c(C)},children:"Generate"}),m.jsx(Gt,{}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:u})]}),m.jsx(Go,{rows:40,value:u,onChange:(v,C)=>c(`${C==null?void 0:C.value}`||"")})]})})}const U$="handsontableEditor",sRe="handsontable";class JA extends Vh{static get EDITOR_TYPE(){return sRe}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),K0(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(u,c){const h=this.getSourceData(c.row,c.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&yr(l,s.handsontable),this.htOptions=l}beginEditing(e,n){const r=this.hot.getSettings().onBeginEditing;r&&r()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const o=this.htEditor.getValue();o!==void 0&&this.setValue(o)}super.finishEditing(e,n,r)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const n={group:U$,relativeToGroup:tC,position:"before"},r=(o,i)=>{const s=this.htEditor;if(o!==void 0&&(o<0||s.flipped&&o>s.countRows()-1?s.deselectCell():s.selectCell(o,0),s.getData().length))return i.preventDefault(),Vs(i),this.hot.listen(),this.TEXTAREA.focus(),!1};e.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{const i=this.htEditor;let s,a;return!i.getSelectedLast()&&i.flipped?s=i.countRows()-1:i.getSelectedLast()&&(i.flipped?(a=i.getSelectedLast()[0],s=Math.max(0,a-1)):(a=i.getSelectedLast()[0],s=a-1)),r(s,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{const i=this.htEditor;let s,a;if(!i.getSelectedLast()&&!i.flipped)s=0;else if(i.getSelectedLast()){if(i.flipped)s=i.getSelectedLast()[0]+1;else if(!i.flipped){const l=i.countRows()-1;a=i.getSelectedLast()[0],s=Math.min(l,a+1)}}return r(s,o)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(U$)}}function aRe(t,e,n){lRe(t,e),e.set(t,n)}function lRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gS(t,e,n){return e=uRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uRe(t){var e=cRe(t,"string");return typeof e=="symbol"?e:String(e)}function cRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z$(t,e){var n=hRe(t,e,"get");return dRe(t,n)}function hRe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function dRe(t,e){return e.get?e.get.call(t):e.value}const fRe="autocomplete";var ZA=new WeakMap;class eP extends JA{constructor(){super(...arguments),gS(this,"query",null),gS(this,"strippedChoices",[]),gS(this,"rawChoices",[]),aRe(this,ZA,{writable:!0,value:this.hot.guid.slice(0,9)}),gS(this,"sortByRelevance",function(e,n,r){const o=[],i=[],s=e.length;let a=n.length,l,u,c,h;if(s===0){for(c=0;c<a;c++)i.push(c);return i}for(c=0;c<a;c++){if(u=GB(fr(n[c])),r)h=u.indexOf(e);else{const d=this.cellProperties.locale;h=u.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}h!==-1&&(l=u.length-h-s,o.push({baseIndex:c,index:h,charsLeft:l,value:u}))}for(o.sort((d,g)=>{if(g.index===-1)return-1;if(d.index===-1)return 1;if(d.index<g.index)return-1;if(g.index<d.index)return 1;if(d.index===g.index){if(d.charsLeft<g.charsLeft)return-1;if(d.charsLeft>g.charsLeft)return 1}return 0}),c=0,a=o.length;c<a;c++)i.push(o[c].baseIndex);return i})}static get EDITOR_TYPE(){return fRe}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return Be(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),_e(this.htContainer,"autocompleteEditor"),_e(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&dt(this.TEXTAREA,[Gme(),Vme(),KB("listbox"),Xme()])}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.hot.getSettings().ariaTags&&dt(this.TEXTAREA,[is("false"),Jme(`${z$(this,ZA)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,r=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,o=r==null?void 0:r.length,{row:i,col:s}=this;this.showEditableElement(),this.focus();let a=Lr();a===0&&HM()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:e?[pn(this.TEXTAREA)-2]:void 0,width:e?pn(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,u,c,h,d,g,p)=>{$l(l,u,c,h,d,g,p);const{filteringCaseSensitive:v,allowHtml:C,locale:w}=this.cellProperties,y=this.query;let x=fr(g),T,_;x&&!C&&(T=v===!0?x.indexOf(y):x.toLocaleLowerCase(w).indexOf(y.toLocaleLowerCase(w)),T!==-1&&(_=x.substr(T,y.length),x=x.replace(_,`<strong>${_}</strong>`))),n&&dt(u,[Bme(),...r?[npe(o)]:[],...r?[rpe(r.indexOf(g)+1)]:[],["id",`${this.htEditor.rootElement.id}_${c}-${h}`]]),u.innerHTML=x},afterSelection:(l,u)=>{if(n){const c=this.htEditor.getCell(l,u,!0);dt(c,[SM()]),dt(this.TEXTAREA,...Zme(c.id))}}}),n&&(dt(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,..._a()),dt(this.htEditor.rootElement,[qB(),epe("polite"),tpe("text"),["id",`${z$(this,ZA)}-listbox-${i}-${s}`]]),dt(this.TEXTAREA,...is("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&dt(this.TEXTAREA,[is("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,r=>{this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=sU(this.TEXTAREA),r=upe(this.TEXTAREA),o=this.cellProperties.sortByRelevance,i=this.cellProperties.filter;let s=null,a=null,l=e;o&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));const u=Array.isArray(s)?s.length:0;if(i===!1)u&&(a=s[0]);else{const c=[];for(let h=0,d=l.length;h<d&&!(o&&u<=h);h++)u?c.push(l[s[h]]):c.push(l[h]);a=0,l=c}this.strippedChoices=l,this.htEditor.loadData(U0([l])),l.length===0?this.htEditor.rootElement.style.display="none":(this.htEditor.rootElement.style.display="",this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),K0(this.TEXTAREA,n,n===r?void 0:r)}flipDropdownIfNeeded(){const e=Vf(this.hot.view._wt.wtTable.TABLE),n=e===this.hot.rootWindow,r=this.cellProperties.preventOverflow;if(n||!n&&(r||r==="horizontal"))return!1;const o=Dr(this.TEXTAREA),i=Kn(this.TEXTAREA),s=this.getDropdownHeight(),a=e.scrollTop,l=Kn(this.hot.view._wt.wtTable.THEAD),u=Dr(e),c=o.top-u.top-l+a,h=e.scrollHeight-c-l-i,d=s>h&&c>h;return d?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(d?c:h,s),d}limitDropdownIfNeeded(e,n){if(n>e){let r=0,o=0,i=0,s=null;do i=this.htEditor.getRowHeight(o)||this.htEditor.view._wt.getSetting("defaultRowHeight"),r+=i,o+=1;while(r<e);s=r-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-s}px`),this.setDropdownHeight(r-i)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownHeight(){const e=this.htEditor.getColWidth(0)+Lr(this.hot.rootDocument)+2,n=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:n?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,n=this.cellProperties.visibleRows;return this.strippedChoices.length>=n?n*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,r=Pt(e,o=>fr(o));return Pt(r,o=>n?o:GB(o))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),r={row:n?n.from.row:-1};let o=!1;return e===rt.ARROW_DOWN&&r.row>0&&r.row<this.htEditor.countRows()-1&&(o=!0),e===rt.ARROW_UP&&r.row>-1&&(o=!0),o}onBeforeKeyDown(e){if(Wpe(e.keyCode)||e.keyCode===rt.BACKSPACE||e.keyCode===rt.DELETE||e.keyCode===rt.INSERT){let n=10;if(e.keyCode===rt.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}const gRe="checkbox";class $$ extends ng{static get EDITOR_TYPE(){return gRe}beginEditing(e,n){if(n&&n.type==="mouseup"){const r=this.TD.querySelector('input[type="checkbox"]');yt(r,"htBadValue")||r.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
* Pikaday
*
* Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
*/const mc=()=>window,ms=()=>window.document,tP=(t,e)=>window.setTimeout(t,e),La=function(t,e,n,r){t.addEventListener(e,n,!!r)},ql=function(t,e,n,r){t.removeEventListener(e,n,!!r)},mRe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},_i=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},nP=function(t,e){_i(t,e)||(t.className=t.className===""?e:t.className+" "+e)},rP=function(t,e){t.className=mRe((" "+t.className+" ").replace(" "+e+" "," "))},oP=function(t){return/Array/.test(Object.prototype.toString.call(t))},Oi=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},pRe=function(t){let e=t.getDay();return e===0||e===6},wRe=function(t){return t%4===0&&t%100!==0||t%400===0},G$=function(t,e){return[31,wRe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},mS=function(t){Oi(t)&&t.setHours(0,0,0,0)},pS=function(t,e){return t.getTime()===e.getTime()},wS=function(t,e,n){let r,o;for(r in e)o=t[r]!==void 0,o&&typeof e[r]=="object"&&e[r]!==null&&e[r].nodeName===void 0?Oi(e[r])?n&&(t[r]=new Date(e[r].getTime())):oP(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=wS({},e[r],n):(n||!o)&&(t[r]=e[r]);return t},Y$=function(t,e,n){let r=ms().createEvent("HTMLEvents");r.initEvent(e,!0,!1),r=wS(r,n),t.dispatchEvent(r)},q$=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},ja={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},K$=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},vRe=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},yRe=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),r=t.getDay(),o=e,i=o-1,s=7,a=function(h){return(h+s-1)%s};t.setDate(n+i-a(r));let l=new Date(t.getFullYear(),0,o),u=24*60*60*1e3,c=(t.getTime()-l.getTime())/u;return 1+Math.round((c-i+a(l.getDay()))/s)},bRe=function(t,e,n,r,o){let i=new Date(r,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(i).isoWeek():yRe(i,o))+"</td>"},CRe=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},SRe=function(t){return"<tbody>"+t.join("")+"</tbody>"},xRe=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+K$(t,e)+'">'+K$(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},RRe=function(t,e,n,r,o,i){let s,a,l,u=t._o,c=n===u.minYear,h=n===u.maxYear,d='<div id="'+i+'" class="pika-title" role="heading" aria-live="polite">',g,p,v=!0,C=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(n===o?s-e:12+s-e)+'"'+(s===r?' selected="selected"':"")+(c&&s<u.minMonth||h&&s>u.maxMonth?' disabled="disabled"':"")+">"+u.i18n.months[s]+"</option>");for(g='<div class="pika-label">'+u.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",oP(u.yearRange)?(s=u.yearRange[0],a=u.yearRange[1]+1):(s=n-u.yearRange,a=1+n+u.yearRange),l=[];s<a&&s<=u.maxYear;s++)s>=u.minYear&&l.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return p='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",u.showMonthAfterYear?d+=p+g:d+=g+p,c&&(r===0||u.minMonth>=r)&&(v=!1),h&&(r===11||u.maxMonth<=r)&&(C=!1),e===0&&(d+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(C?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),d+="</div>"},kRe=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+xRe(t)+SRe(e)+"</table>"};function iP(t){let e=this,n=e.config(t);e._onMouseDown=function(o){if(!e._v)return;o=o||mc().event;let i=o.target||o.srcElement;if(i)if(_i(i,"is-disabled")||(_i(i,"pika-button")&&!_i(i,"is-empty")&&!_i(i.parentNode,"is-disabled")?(e.setDate(new Date(i.getAttribute("data-pika-year"),i.getAttribute("data-pika-month"),i.getAttribute("data-pika-day"))),n.bound&&tP(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):_i(i,"pika-prev")?e.prevMonth():_i(i,"pika-next")&&e.nextMonth()),_i(i,"pika-select"))e._c=!0;else if(o.preventDefault)o.preventDefault();else return o.returnValue=!1,!1},e._onChange=function(o){o=o||mc().event;let i=o.target||o.srcElement;i&&(_i(i,"pika-select-month")?e.gotoMonth(i.value):_i(i,"pika-select-year")&&e.gotoYear(i.value))},e._onKeyChange=function(o){if(o=o||mc().event,e.isVisible())switch(o.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let o=this.moment(n.field.value,n.format,n.formatStrict);return o&&o.isValid()?o.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(o){let i;o.firedBy!==e&&(i=e._parseFieldValue(),Oi(i)&&e.setDate(i),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let o=ms().activeElement;do if(_i(o,"pika-single"))return;while(o=o.parentNode);e._c||(e._b=tP(function(){e.hide()},50)),e._c=!1},e._onClick=function(o){o=o||mc().event;let i=o.target||o.srcElement,s=i;if(i){!hasEventListeners&&_i(i,"pika-select")&&(i.onchange||(i.setAttribute("onchange","return;"),La(i,"change",e._onChange)));do if(_i(s,"pika-single")||s===n.trigger)return;while(s=s.parentNode);e._v&&i!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=ms().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),La(e.el,"mousedown",e._onMouseDown,!0),La(e.el,"touchend",e._onMouseDown,!0),La(e.el,"change",e._onChange),n.keyboardInput&&La(ms(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?ms().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),La(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;Oi(r)?n.setDefaultDate?e.setDate(r,!0):e.gotoDate(r):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",La(n.trigger,"click",e._onInputClick),La(n.trigger,"focus",e._onInputFocus),La(n.trigger,"blur",e._onInputBlur)):this.show()}iP.prototype={config:function(t){this._o||(this._o=wS({},ja,!0));let e=wS(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,Oi(e.minDate)||(e.minDate=!1),Oi(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),oP(e.yearRange)){let r=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||ja.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,Oi(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return Oi(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",Y$(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!Oi(t))return;let n=this._o.minDate,r=this._o.maxDate;Oi(n)&&t<n?t=n:Oi(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),mS(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),Y$(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(Oi(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,r=parseInt(e)*24*60*60*1e3,o;t==="add"?o=new Date(n.valueOf()+r):t==="subtract"&&(o=new Date(n.valueOf()-r)),this.setDate(o)},adjustCalendars:function(){this.calendars[0]=q$(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=q$({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(mS(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=ja.minDate,this._o.minYear=ja.minYear,this._o.minMonth=ja.minMonth,this._o.startRange=ja.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(mS(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=ja.maxDate,this._o.maxYear=ja.maxYear,this._o.maxMonth=ja.maxMonth,this._o.endRange=ja.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,i=e.maxMonth,s="",a;this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(i)&&this._m>i&&(this._m=i));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+RRe(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&tP(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,r,o,i,s,a,l,u,c;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,r=mc().innerWidth||ms().documentElement.clientWidth,o=mc().innerHeight||ms().documentElement.clientHeight,i=ms().body.scrollTop||ms().documentElement.scrollTop,u=!0,c=!0,l=t.getBoundingClientRect(),s=l.left+mc().pageXOffset,a=l.bottom+mc().pageYOffset,(this._o.reposition&&s+e>r||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,u=!1),(this._o.reposition&&a+n>o+i||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,c=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",nP(this.el,u?"left-aligned":"right-aligned"),nP(this.el,c?"bottom-aligned":"top-aligned"),rP(this.el,u?"right-aligned":"left-aligned"),rP(this.el,c?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let r=this._o,o=new Date,i=G$(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];mS(o),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let u=e===0?11:e-1,c=e===11?0:e+1,h=e===0?t-1:t,d=e===11?t+1:t,g=G$(h,u),p=i+s,v=p;for(;v>7;)v-=7;p+=7-v;let C=!1;for(let w=0,y=0;w<p;w++){let x=new Date(t,e,1+(w-s)),T=Oi(this._d)?pS(x,this._d):!1,_=pS(x,o),E=r.events.indexOf(x.toDateString())!==-1,O=w<s||w>=i+s,N=1+(w-s),H=e,L=t,G=r.startRange&&pS(r.startRange,x),ue=r.endRange&&pS(r.endRange,x),B=r.startRange&&r.endRange&&r.startRange<x&&x<r.endRange,he=r.minDate&&x<r.minDate||r.maxDate&&x>r.maxDate||r.disableWeekends&&pRe(x)||r.disableDayFn&&r.disableDayFn(x);O&&(w<s?(N=g+N,H=u,L=h):(N=N-i,H=c,L=d));let Ee={day:N,month:H,year:L,hasEvent:E,isSelected:T,isToday:_,isDisabled:he,isEmpty:O,isStartRange:G,isEndRange:ue,isInRange:B,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&T&&(C=!0),l.push(vRe(Ee)),++y===7&&(r.showWeekNumber&&l.unshift(bRe(this,w-s,e,t,r.firstWeekOfYearMinDays)),a.push(CRe(l,r.isRTL,r.pickWholeWeek,C)),l=[],y=0,C=!1)}return kRe(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),rP(this.el,"is-hidden"),this._o.bound&&(La(ms(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&ql(ms(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),nP(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),ql(this.el,"mousedown",this._onMouseDown,!0),ql(this.el,"touchend",this._onMouseDown,!0),ql(this.el,"change",this._onChange),t.keyboardInput&&ql(ms(),"keydown",this._onKeyChange),t.field&&(ql(t.field,"change",this._onInputChange),t.bound&&(ql(t.trigger,"click",this._onInputClick),ql(t.trigger,"focus",this._onInputFocus),ql(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function sP(t,e,n){return e=ERe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ERe(t){var e=TRe(t,"string");return typeof e=="symbol"?e:String(e)}function TRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Q$="date",X$="dateEditor";class J$ extends Vh{constructor(){super(...arguments),sP(this,"defaultDateFormat","DD/MM/YYYY"),sP(this,"parentDestroyed",!1),sP(this,"$datePicker",null)}static get EDITOR_TYPE(){return Q$}init(){if(typeof ke!="function")throw new Error("You need to include moment.js to your project.");if(typeof iP!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),_e(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{yt(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.hot.getShortcutManager().getContext("editor");super.open(),this.showDatepicker(e),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:X$})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{this.hot._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(X$),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,o=this.hot.view.isMouseDown(),i=e?IU(e.keyCode):!1;let s;this.datePicker.style.display="block",this.$datePicker=new iP(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(ke),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+n.top+Kn(this.TD)}px`;let a=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?a=n.right-pn(this.datePicker):a=n.left,this.datePickerStyle.left=`${a}px`,this.originalValue?(s=this.originalValue,ke(s,r,!0).isValid()&&this.$datePicker.setMoment(ke(s,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!o&&this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,ke(s,r,!0).isValid()&&this.$datePicker.setMoment(ke(s,r),!0),!i&&!o&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&Z0(n,this.cellProperties.datePickerConfig);const r=n.onSelect,o=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=i=>{let s=i;isNaN(s.getTime())||(s=ke(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),r&&r()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),o&&o()},n}}const MRe="dropdown";class aP extends eP{static get EDITOR_TYPE(){return MRe}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}$e.getSingleton().add("beforeValidate",function(t,e,n){const r=this.getCellMeta(e,this.propToCol(n));r.editor===aP&&r.strict===void 0&&(r.filter=!1,r.strict=!0)});const _Re="numeric";class Z$ extends Vh{static get EDITOR_TYPE(){return _Re}}const ORe="password";class e4 extends Vh{static get EDITOR_TYPE(){return ORe}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&dt(this.TEXTAREA,[Ll()]),Oa(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const lP="ht_editor_visible",t4="selectEditor",ARe="select";class n4 extends ng{static get EDITOR_TYPE(){return ARe}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",_e(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",yt(this.select,lP)&&Rt(this.select,lP),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Oa(this.select),It(l,(u,c)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=c,Wf(h,u),this.select.appendChild(h)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let r=0,o=e.length;r<o;r++)n[e[r]]=e[r];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==br.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:r,height:o}=this.getEditedCellRect(),i=this.select.style;i.height=`${o}px`,i.width=`${r}px`,i.top=`${e}px`,i[this.hot.isRtl()?"right":"left"]=`${n}px`,i.margin="0px",_e(this.select,lP)}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("editor"),r=e.getContext("grid"),o={group:t4};this.isInFullEditMode()!==!1&&n.addShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:r,callback:()=>{}},{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],o)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(t4)}}const PRe="time";class r4 extends Vh{static get EDITOR_TYPE(){return PRe}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.TEXTAREA.dir="ltr"}}function IRe(){ki(ng),ki(eP),ki($$),ki(J$),ki(aP),ki(JA),ki(Z$),ki(e4),ki(n4),ki(Vh),ki(r4)}const HRe="html";function uP(t,e,n,r,o,i,s){Tw.apply(this,[t,e,n,r,o,i,s]),Wf(e,i??"",!1)}uP.RENDERER_TYPE=HRe;const NRe="autocomplete";function ig(t,e,n,r,o,i,s){const{rootDocument:a}=t,l=s.allowHtml?uP:$l,u=a.createElement("DIV"),c=t.getSettings().ariaTags;if(u.className="htAutocompleteArrow",c&&u.setAttribute(...Ll()),u.appendChild(a.createTextNode("\u25BC")),l.apply(this,[t,e,n,r,o,i,s]),e.firstChild||e.appendChild(a.createTextNode("\xA0")),e.insertBefore(u,e.firstChild),_e(e,"htAutocomplete"),!t.acArrowListener){const h=new Us(t);t.acArrowListener=function(d){yt(d.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,r),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}ig.RENDERER_TYPE=NRe;const DRe="dropdown";function cP(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}cP.RENDERER_TYPE=DRe;const o4=new WeakMap,i4=new WeakMap,LRe="htBadValue",sg="data-row",ag="data-col",jRe="checkboxRenderer",s4="checkbox";$e.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:r,type:o,row:i,column:s,prop:a}=e;if(o===s4){if(r){const{value:l,property:u}=r;let c=n;if(l)c=typeof l=="function"?l(i,s,a,n):l;else if(u){const h=this.getDataAtRowProp(i,u);c=h!==null?h:n}t=c}return t}});function hP(t,e,n,r,o,i,s){const{rootDocument:a}=t,l=t.getSettings().ariaTags;Tw.apply(this,[t,e,n,r,o,i,s]),FRe(t);let u=WRe(a);const c=s.label;let h=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Oa(e),i===s.checkedTemplate||fr(i).toLocaleLowerCase(s.locale)===fr(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:i===s.uncheckedTemplate||fr(i).toLocaleLowerCase(s.locale)===fr(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:Tr(i)?_e(u,"noValue"):(u.style.display="none",_e(u,LRe),h=!0),dt(u,[[sg,n],[ag,r]]),l&&dt(u,[bM(u.checked?t.getTranslatedPhrase(uA):t.getTranslatedPhrase(cA)),Qme(u.checked),Ume()]),!h&&c){let v="";if(c.value)v=typeof c.value=="function"?c.value.call(this,n,r,o,i):c.value;else if(c.property){const w=t.getDataAtRowProp(n,c.property);v=w!==null?w:""}const C=VRe(a,v,c.separated!==!0);c.position==="before"?c.separated?(e.appendChild(C),e.appendChild(u)):(C.appendChild(u),u=C):(!c.position||c.position==="after")&&(c.separated?(e.appendChild(u),e.appendChild(C)):(C.insertBefore(u,C.firstChild),u=C))}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),o4.has(t)||(o4.set(t,!0),d());function d(){const v=t.getShortcutManager().getContext("grid"),C={group:jRe};v.addShortcuts([{keys:[["space"]],callback:()=>(g(),!p())},{keys:[["enter"]],callback:()=>(g(),!p()),runOnlyIf:()=>t.getSettings().enterBeginsEditing},{keys:[["delete"],["backspace"]],callback:()=>(g(!0),!p()),relativeToGroup:xA,position:"before"}],C)}function g(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=t.getSelectedRange();if(C)for(let w=0;w<C.length;w++){const{row:y,col:x}=C[w].getTopStartCorner(),{row:T,col:_}=C[w].getBottomEndCorner(),E=[];for(let O=y;O<=T;O+=1)for(let N=x;N<=_;N+=1){const H=t.getCellMeta(O,N);if(H.type!=="checkbox")return;if(H.readOnly===!0)continue;typeof H.checkedTemplate>"u"&&(H.checkedTemplate=!0),typeof H.uncheckedTemplate>"u"&&(H.uncheckedTemplate=!1);const L=t.getDataAtCell(O,N);v===!1?[H.checkedTemplate,H.checkedTemplate.toString()].includes(L)?E.push([O,N,H.uncheckedTemplate]):[H.uncheckedTemplate,H.uncheckedTemplate.toString(),null,void 0].includes(L)&&E.push([O,N,H.checkedTemplate]):E.push([O,N,H.uncheckedTemplate])}E.length>0&&t.setDataAtCell(E)}}function p(){const v=t.getSelectedRange();if(v){for(let C=0;C<v.length;C++){const w=v[C].getTopStartCorner(),y=v[C].getBottomEndCorner();for(let x=w.row;x<=y.row;x++)for(let T=w.col;T<=y.col;T++){const _=t.getCellMeta(x,T);if(_.type!=="checkbox")return!1;const E=t.getCell(x,T);if(E==null||E.querySelectorAll("input[type=checkbox]").length>0&&!_.readOnly)return!0}}return!1}}}hP.RENDERER_TYPE=s4;function FRe(t){let e=i4.get(t);if(!e){const{rootElement:n}=t;e=new Us(t),e.addEventListener(n,"click",r=>URe(r,t)),e.addEventListener(n,"mouseup",r=>BRe(r,t)),e.addEventListener(n,"change",r=>zRe(r,t)),i4.set(t,e)}return e}function WRe(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function VRe(t,e,n){const r=t.createElement("label");return r.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`,r.appendChild(t.createTextNode(e)),r.cloneNode(!0)}function BRe(t,e){const{target:n}=t;dP(n)&&(!n.hasAttribute(sg)||!n.hasAttribute(ag)||setTimeout(e.listen,10))}function URe(t,e){const{target:n}=t;if(!dP(n)||!n.hasAttribute(sg)||!n.hasAttribute(ag))return;const r=parseInt(n.getAttribute(sg),10),o=parseInt(n.getAttribute(ag),10);e.getCellMeta(r,o).readOnly&&t.preventDefault()}function zRe(t,e){const{target:n}=t;if(!dP(n)||!n.hasAttribute(sg)||!n.hasAttribute(ag))return;const r=parseInt(n.getAttribute(sg),10),o=parseInt(n.getAttribute(ag),10),i=e.getCellMeta(r,o);if(!i.readOnly){let s=null;t.target.checked?s=i.uncheckedTemplate===void 0?!0:i.checkedTemplate:s=i.uncheckedTemplate===void 0?!1:i.uncheckedTemplate,e.setDataAtCell(r,o,s)}}function dP(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const $Re="handsontable";function fP(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}fP.RENDERER_TYPE=$Re;function vS(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a4={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,o,i){function s(u,c){if(!o[u]){if(!r[u]){var h=typeof vS=="function"&&vS;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var g=o[u]={exports:{}};r[u][0].call(g.exports,function(p){return s(r[u][1][p]||p)},g,g.exports,n,r,o,i)}return o[u].exports}for(var a=typeof vS=="function"&&vS,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(n,r,o){(function(i){var s,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,u=Math.floor,c="[BigNumber Error] ",h=c+"Number primitive has more than 15 significant digits: ",d=1e14,g=14,p=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],C=1e7,w=1e9;function y(H){var L=0|H;return 0<H||H===L?L:L-1}function x(H){for(var L,G,ue=1,B=H.length,he=H[0]+"";ue<B;){for(L=H[ue++]+"",G=g-L.length;G--;L="0"+L);he+=L}for(B=he.length;he.charCodeAt(--B)===48;);return he.slice(0,B+1||1)}function T(H,L){var G,ue,B=H.c,he=L.c,Ee=H.s,Me=L.s,ye=H.e,te=L.e;if(!Ee||!Me)return null;if(G=B&&!B[0],ue=he&&!he[0],G||ue)return G?ue?0:-Me:Ee;if(Ee!=Me)return Ee;if(G=Ee<0,ue=ye==te,!B||!he)return ue?0:!B^G?1:-1;if(!ue)return te<ye^G?1:-1;for(Me=(ye=B.length)<(te=he.length)?ye:te,Ee=0;Ee<Me;Ee++)if(B[Ee]!=he[Ee])return B[Ee]>he[Ee]^G?1:-1;return ye==te?0:te<ye^G?1:-1}function _(H,L,G,ue){if(H<L||G<H||H!==(H<0?l(H):u(H)))throw Error(c+(ue||"Argument")+(typeof H=="number"?H<L||G<H?" out of range: ":" not an integer: ":" not a primitive number: ")+String(H))}function E(H){var L=H.c.length-1;return y(H.e/g)==L&&H.c[L]%2!=0}function O(H,L){return(1<H.length?H.charAt(0)+"."+H.slice(1):H)+(L<0?"e":"e+")+L}function N(H,L,G){var ue,B;if(L<0){for(B=G+".";++L;B+=G);H=B+H}else if(++L>(ue=H.length)){for(B=G,L-=ue;--L;B+=G);H+=B}else L<ue&&(H=H.slice(0,L)+"."+H.slice(L));return H}(s=function H(L){var G,ue,B,he,Ee,Me,ye,te,S,R,M=oe.prototype={constructor:oe,toString:null,valueOf:null},D=new oe(1),W=20,U=4,se=-7,ae=21,Se=-1e7,Ce=1e7,we=!1,ve=1,fe=0,je={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},xe="0123456789abcdefghijklmnopqrstuvwxyz";function oe(A,I){var j,J,V,Z,q,K,ne,X,re=this;if(!(re instanceof oe))return new oe(A,I);if(I==null){if(A instanceof oe)return re.s=A.s,re.e=A.e,void(re.c=(A=A.c)?A.slice():A);if((K=typeof A=="number")&&0*A==0){if(re.s=1/A<0?(A=-A,-1):1,A===~~A){for(Z=0,q=A;10<=q;q/=10,Z++);return re.e=Z,void(re.c=[A])}X=String(A)}else{if(X=String(A),!a.test(X))return B(re,X,K);re.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}-1<(Z=X.indexOf("."))&&(X=X.replace(".","")),0<(q=X.search(/e/i))?(Z<0&&(Z=q),Z+=+X.slice(q+1),X=X.substring(0,q)):Z<0&&(Z=X.length)}else{if(_(I,2,xe.length,"Base"),X=String(A),I==10)return lt(re=new oe(A instanceof oe?A:X),W+re.e+1,U);if(K=typeof A=="number"){if(0*A!=0)return B(re,X,K,I);if(re.s=1/A<0?(X=X.slice(1),-1):1,oe.DEBUG&&15<X.replace(/^0\.0*|\./,"").length)throw Error(h+A);K=!1}else re.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(j=xe.slice(0,I),Z=q=0,ne=X.length;q<ne;q++)if(j.indexOf(J=X.charAt(q))<0){if(J=="."){if(Z<q){Z=ne;continue}}else if(!V&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){V=!0,q=-1,Z=0;continue}return B(re,String(A),K,I)}-1<(Z=(X=ue(X,I,10,re.s)).indexOf("."))?X=X.replace(".",""):Z=X.length}for(q=0;X.charCodeAt(q)===48;q++);for(ne=X.length;X.charCodeAt(--ne)===48;);if(X=X.slice(q,++ne)){if(ne-=q,K&&oe.DEBUG&&15<ne&&(p<A||A!==u(A)))throw Error(h+re.s*A);if(Ce<(Z=Z-q-1))re.c=re.e=null;else if(Z<Se)re.c=[re.e=0];else{if(re.e=Z,re.c=[],q=(Z+1)%g,Z<0&&(q+=g),q<ne){for(q&&re.c.push(+X.slice(0,q)),ne-=g;q<ne;)re.c.push(+X.slice(q,q+=g));X=X.slice(q),q=g-X.length}else q-=ne;for(;q--;X+="0");re.c.push(+X)}}else re.c=[re.e=0]}function at(A,I,j,J){var V,Z,q,K,ne;if(j==null?j=U:_(j,0,8),!A.c)return A.toString();if(V=A.c[0],q=A.e,I==null)ne=x(A.c),ne=J==1||J==2&&(q<=se||ae<=q)?O(ne,q):N(ne,q,"0");else if(Z=(A=lt(new oe(A),I,j)).e,K=(ne=x(A.c)).length,J==1||J==2&&(I<=Z||Z<=se)){for(;K<I;ne+="0",K++);ne=O(ne,Z)}else if(I-=q,ne=N(ne,Z,"0"),K<Z+1){if(0<--I)for(ne+=".";I--;ne+="0");}else if(0<(I+=Z-K))for(Z+1==K&&(ne+=".");I--;ne+="0");return A.s<0&&V?"-"+ne:ne}function Ye(A,I){for(var j,J=1,V=new oe(A[0]);J<A.length;J++){if(!(j=new oe(A[J])).s){V=j;break}I.call(V,j)&&(V=j)}return V}function Xe(A,I,j){for(var J=1,V=I.length;!I[--V];I.pop());for(V=I[0];10<=V;V/=10,J++);return(j=J+j*g-1)>Ce?A.c=A.e=null:A.c=j<Se?[A.e=0]:(A.e=j,I),A}function lt(A,I,j,J){var V,Z,q,K,ne,X,re,Pe=A.c,Fe=v;if(Pe){e:{for(V=1,K=Pe[0];10<=K;K/=10,V++);if((Z=I-V)<0)Z+=g,q=I,re=(ne=Pe[X=0])/Fe[V-q-1]%10|0;else if((X=l((Z+1)/g))>=Pe.length){if(!J)break e;for(;Pe.length<=X;Pe.push(0));ne=re=0,q=(Z%=g)-g+(V=1)}else{for(ne=K=Pe[X],V=1;10<=K;K/=10,V++);re=(q=(Z%=g)-g+V)<0?0:ne/Fe[V-q-1]%10|0}if(J=J||I<0||Pe[X+1]!=null||(q<0?ne:ne%Fe[V-q-1]),J=j<4?(re||J)&&(j==0||j==(A.s<0?3:2)):5<re||re==5&&(j==4||J||j==6&&(0<Z?0<q?ne/Fe[V-q]:0:Pe[X-1])%10&1||j==(A.s<0?8:7)),I<1||!Pe[0])return Pe.length=0,J?(I-=A.e+1,Pe[0]=Fe[(g-I%g)%g],A.e=-I||0):Pe[0]=A.e=0,A;if(Z==0?(Pe.length=X,K=1,X--):(Pe.length=X+1,K=Fe[g-Z],Pe[X]=0<q?u(ne/Fe[V-q]%Fe[q])*K:0),J)for(;;){if(X==0){for(Z=1,q=Pe[0];10<=q;q/=10,Z++);for(q=Pe[0]+=K,K=1;10<=q;q/=10,K++);Z!=K&&(A.e++,Pe[0]==d&&(Pe[0]=1));break}if(Pe[X]+=K,Pe[X]!=d)break;Pe[X--]=0,K=1}for(Z=Pe.length;Pe[--Z]===0;Pe.pop());}A.e>Ce?A.c=A.e=null:A.e<Se&&(A.c=[A.e=0])}return A}function Ne(A){var I,j=A.e;return j===null?A.toString():(I=x(A.c),I=j<=se||ae<=j?O(I,j):N(I,j,"0"),A.s<0?"-"+I:I)}return oe.clone=H,oe.ROUND_UP=0,oe.ROUND_DOWN=1,oe.ROUND_CEIL=2,oe.ROUND_FLOOR=3,oe.ROUND_HALF_UP=4,oe.ROUND_HALF_DOWN=5,oe.ROUND_HALF_EVEN=6,oe.ROUND_HALF_CEIL=7,oe.ROUND_HALF_FLOOR=8,oe.EUCLID=9,oe.config=oe.set=function(A){var I,j;if(A!=null){if(typeof A!="object")throw Error(c+"Object expected: "+A);if(A.hasOwnProperty(I="DECIMAL_PLACES")&&(_(j=A[I],0,w,I),W=j),A.hasOwnProperty(I="ROUNDING_MODE")&&(_(j=A[I],0,8,I),U=j),A.hasOwnProperty(I="EXPONENTIAL_AT")&&((j=A[I])&&j.pop?(_(j[0],-w,0,I),_(j[1],0,w,I),se=j[0],ae=j[1]):(_(j,-w,w,I),se=-(ae=j<0?-j:j))),A.hasOwnProperty(I="RANGE"))if((j=A[I])&&j.pop)_(j[0],-w,-1,I),_(j[1],1,w,I),Se=j[0],Ce=j[1];else{if(_(j,-w,w,I),!j)throw Error(c+I+" cannot be zero: "+j);Se=-(Ce=j<0?-j:j)}if(A.hasOwnProperty(I="CRYPTO")){if((j=A[I])!==!!j)throw Error(c+I+" not true or false: "+j);if(j){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw we=!j,Error(c+"crypto unavailable");we=j}else we=j}if(A.hasOwnProperty(I="MODULO_MODE")&&(_(j=A[I],0,9,I),ve=j),A.hasOwnProperty(I="POW_PRECISION")&&(_(j=A[I],0,w,I),fe=j),A.hasOwnProperty(I="FORMAT")){if(typeof(j=A[I])!="object")throw Error(c+I+" not an object: "+j);je=j}if(A.hasOwnProperty(I="ALPHABET")){if(typeof(j=A[I])!="string"||/^.$|[+-.\s]|(.).*\1/.test(j))throw Error(c+I+" invalid: "+j);xe=j}}return{DECIMAL_PLACES:W,ROUNDING_MODE:U,EXPONENTIAL_AT:[se,ae],RANGE:[Se,Ce],CRYPTO:we,MODULO_MODE:ve,POW_PRECISION:fe,FORMAT:je,ALPHABET:xe}},oe.isBigNumber=function(A){return A instanceof oe||A&&A._isBigNumber===!0||!1},oe.maximum=oe.max=function(){return Ye(arguments,M.lt)},oe.minimum=oe.min=function(){return Ye(arguments,M.gt)},oe.random=(he=9007199254740992,Ee=Math.random()*he&2097151?function(){return u(Math.random()*he)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(A){var I,j,J,V,Z,q=0,K=[],ne=new oe(D);if(A==null?A=W:_(A,0,w),V=l(A/g),we)if(crypto.getRandomValues){for(I=crypto.getRandomValues(new Uint32Array(V*=2));q<V;)9e15<=(Z=131072*I[q]+(I[q+1]>>>11))?(j=crypto.getRandomValues(new Uint32Array(2)),I[q]=j[0],I[q+1]=j[1]):(K.push(Z%1e14),q+=2);q=V/2}else{if(!crypto.randomBytes)throw we=!1,Error(c+"crypto unavailable");for(I=crypto.randomBytes(V*=7);q<V;)9e15<=(Z=281474976710656*(31&I[q])+1099511627776*I[q+1]+4294967296*I[q+2]+16777216*I[q+3]+(I[q+4]<<16)+(I[q+5]<<8)+I[q+6])?crypto.randomBytes(7).copy(I,q):(K.push(Z%1e14),q+=7);q=V/7}if(!we)for(;q<V;)(Z=Ee())<9e15&&(K[q++]=Z%1e14);for(V=K[--q],A%=g,V&&A&&(Z=v[g-A],K[q]=u(V/Z)*Z);K[q]===0;K.pop(),q--);if(q<0)K=[J=0];else{for(J=-1;K[0]===0;K.splice(0,1),J-=g);for(q=1,Z=K[0];10<=Z;Z/=10,q++);q<g&&(J-=g-q)}return ne.e=J,ne.c=K,ne}),oe.sum=function(){for(var A=1,I=arguments,j=new oe(I[0]);A<I.length;)j=j.plus(I[A++]);return j},ue=function(){var A="0123456789";function I(j,J,V,Z){for(var q,K,ne=[0],X=0,re=j.length;X<re;){for(K=ne.length;K--;ne[K]*=J);for(ne[0]+=Z.indexOf(j.charAt(X++)),q=0;q<ne.length;q++)ne[q]>V-1&&(ne[q+1]==null&&(ne[q+1]=0),ne[q+1]+=ne[q]/V|0,ne[q]%=V)}return ne.reverse()}return function(j,J,V,Z,q){var K,ne,X,re,Pe,Fe,tt,ut,pt=j.indexOf("."),ln=W,St=U;for(0<=pt&&(re=fe,fe=0,j=j.replace(".",""),Fe=(ut=new oe(J)).pow(j.length-pt),fe=re,ut.c=I(N(x(Fe.c),Fe.e,"0"),10,V,A),ut.e=ut.c.length),X=re=(tt=I(j,J,V,q?(K=xe,A):(K=A,xe))).length;tt[--re]==0;tt.pop());if(!tt[0])return K.charAt(0);if(pt<0?--X:(Fe.c=tt,Fe.e=X,Fe.s=Z,tt=(Fe=G(Fe,ut,ln,St,V)).c,Pe=Fe.r,X=Fe.e),pt=tt[ne=X+ln+1],re=V/2,Pe=Pe||ne<0||tt[ne+1]!=null,Pe=St<4?(pt!=null||Pe)&&(St==0||St==(Fe.s<0?3:2)):re<pt||pt==re&&(St==4||Pe||St==6&&1&tt[ne-1]||St==(Fe.s<0?8:7)),ne<1||!tt[0])j=Pe?N(K.charAt(1),-ln,K.charAt(0)):K.charAt(0);else{if(tt.length=ne,Pe)for(--V;++tt[--ne]>V;)tt[ne]=0,ne||(++X,tt=[1].concat(tt));for(re=tt.length;!tt[--re];);for(pt=0,j="";pt<=re;j+=K.charAt(tt[pt++]));j=N(j,X,K.charAt(0))}return j}}(),G=function(){function A(J,V,Z){var q,K,ne,X,re=0,Pe=J.length,Fe=V%C,tt=V/C|0;for(J=J.slice();Pe--;)re=((K=Fe*(ne=J[Pe]%C)+(q=tt*ne+(X=J[Pe]/C|0)*Fe)%C*C+re)/Z|0)+(q/C|0)+tt*X,J[Pe]=K%Z;return re&&(J=[re].concat(J)),J}function I(J,V,Z,q){var K,ne;if(Z!=q)ne=q<Z?1:-1;else for(K=ne=0;K<Z;K++)if(J[K]!=V[K]){ne=J[K]>V[K]?1:-1;break}return ne}function j(J,V,Z,q){for(var K=0;Z--;)J[Z]-=K,K=J[Z]<V[Z]?1:0,J[Z]=K*q+J[Z]-V[Z];for(;!J[0]&&1<J.length;J.splice(0,1));}return function(J,V,Z,q,K){var ne,X,re,Pe,Fe,tt,ut,pt,ln,St,ze,cn,bs,aa,hn,Q,ie,me=J.s==V.s?1:-1,ee=J.c,He=V.c;if(!(ee&&ee[0]&&He&&He[0]))return new oe(J.s&&V.s&&(ee?!He||ee[0]!=He[0]:He)?ee&&ee[0]==0||!He?0*me:me/0:NaN);for(ln=(pt=new oe(me)).c=[],me=Z+(X=J.e-V.e)+1,K||(K=d,X=y(J.e/g)-y(V.e/g),me=me/g|0),re=0;He[re]==(ee[re]||0);re++);if(He[re]>(ee[re]||0)&&X--,me<0)ln.push(1),Pe=!0;else{for(aa=ee.length,Q=He.length,me+=2,1<(Fe=u(K/(He[re=0]+1)))&&(He=A(He,Fe,K),ee=A(ee,Fe,K),Q=He.length,aa=ee.length),bs=Q,ze=(St=ee.slice(0,Q)).length;ze<Q;St[ze++]=0);ie=He.slice(),ie=[0].concat(ie),hn=He[0],He[1]>=K/2&&hn++;do{if(Fe=0,(ne=I(He,St,Q,ze))<0){if(cn=St[0],Q!=ze&&(cn=cn*K+(St[1]||0)),1<(Fe=u(cn/hn)))for(K<=Fe&&(Fe=K-1),ut=(tt=A(He,Fe,K)).length,ze=St.length;I(tt,St,ut,ze)==1;)Fe--,j(tt,Q<ut?ie:He,ut,K),ut=tt.length,ne=1;else Fe==0&&(ne=Fe=1),ut=(tt=He.slice()).length;if(ut<ze&&(tt=[0].concat(tt)),j(St,tt,ze,K),ze=St.length,ne==-1)for(;I(He,St,Q,ze)<1;)Fe++,j(St,Q<ze?ie:He,ze,K),ze=St.length}else ne===0&&(Fe++,St=[0]);ln[re++]=Fe,St[0]?St[ze++]=ee[bs]||0:(St=[ee[bs]],ze=1)}while((bs++<aa||St[0]!=null)&&me--);Pe=St[0]!=null,ln[0]||ln.splice(0,1)}if(K==d){for(re=1,me=ln[0];10<=me;me/=10,re++);lt(pt,Z+(pt.e=re+X*g-1)+1,q,Pe)}else pt.e=X,pt.r=+Pe;return pt}}(),Me=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ye=/^([^.]+)\.$/,te=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g,B=function(A,I,j,J){var V,Z=j?I:I.replace(R,"");if(S.test(Z))A.s=isNaN(Z)?null:Z<0?-1:1,A.c=A.e=null;else{if(!j&&(Z=Z.replace(Me,function(q,K,ne){return V=(ne=ne.toLowerCase())=="x"?16:ne=="b"?2:8,J&&J!=V?q:K}),J&&(V=J,Z=Z.replace(ye,"$1").replace(te,"0.$1")),I!=Z))return new oe(Z,V);if(oe.DEBUG)throw Error(c+"Not a"+(J?" base "+J:"")+" number: "+I);A.c=A.e=A.s=null}},M.absoluteValue=M.abs=function(){var A=new oe(this);return A.s<0&&(A.s=1),A},M.comparedTo=function(A,I){return T(this,new oe(A,I))},M.decimalPlaces=M.dp=function(A,I){var j,J,V;if(A!=null)return _(A,0,w),I==null?I=U:_(I,0,8),lt(new oe(this),A+this.e+1,I);if(!(j=this.c))return null;if(J=((V=j.length-1)-y(this.e/g))*g,V=j[V])for(;V%10==0;V/=10,J--);return J<0&&(J=0),J},M.dividedBy=M.div=function(A,I){return G(this,new oe(A,I),W,U)},M.dividedToIntegerBy=M.idiv=function(A,I){return G(this,new oe(A,I),0,1)},M.exponentiatedBy=M.pow=function(A,I){var j,J,V,Z,q,K,ne,X,re=this;if((A=new oe(A)).c&&!A.isInteger())throw Error(c+"Exponent not an integer: "+Ne(A));if(I!=null&&(I=new oe(I)),q=14<A.e,!re.c||!re.c[0]||re.c[0]==1&&!re.e&&re.c.length==1||!A.c||!A.c[0])return X=new oe(Math.pow(+Ne(re),q?2-E(A):+Ne(A))),I?X.mod(I):X;if(K=A.s<0,I){if(I.c?!I.c[0]:!I.s)return new oe(NaN);(J=!K&&re.isInteger()&&I.isInteger())&&(re=re.mod(I))}else{if(9<A.e&&(0<re.e||re.e<-1||(re.e==0?1<re.c[0]||q&&24e7<=re.c[1]:re.c[0]<8e13||q&&re.c[0]<=9999975e7)))return Z=re.s<0&&E(A)?-0:0,-1<re.e&&(Z=1/Z),new oe(K?1/Z:Z);fe&&(Z=l(fe/g+2))}for(ne=q?(j=new oe(.5),K&&(A.s=1),E(A)):(V=Math.abs(+Ne(A)))%2,X=new oe(D);;){if(ne){if(!(X=X.times(re)).c)break;Z?X.c.length>Z&&(X.c.length=Z):J&&(X=X.mod(I))}if(V){if((V=u(V/2))===0)break;ne=V%2}else if(lt(A=A.times(j),A.e+1,1),14<A.e)ne=E(A);else{if((V=+Ne(A))==0)break;ne=V%2}re=re.times(re),Z?re.c&&re.c.length>Z&&(re.c.length=Z):J&&(re=re.mod(I))}return J?X:(K&&(X=D.div(X)),I?X.mod(I):Z?lt(X,fe,U,void 0):X)},M.integerValue=function(A){var I=new oe(this);return A==null?A=U:_(A,0,8),lt(I,I.e+1,A)},M.isEqualTo=M.eq=function(A,I){return T(this,new oe(A,I))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(A,I){return 0<T(this,new oe(A,I))},M.isGreaterThanOrEqualTo=M.gte=function(A,I){return(I=T(this,new oe(A,I)))===1||I===0},M.isInteger=function(){return!!this.c&&y(this.e/g)>this.c.length-2},M.isLessThan=M.lt=function(A,I){return T(this,new oe(A,I))<0},M.isLessThanOrEqualTo=M.lte=function(A,I){return(I=T(this,new oe(A,I)))===-1||I===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return 0<this.s},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(A,I){var j,J,V,Z,q=this,K=q.s;if(I=(A=new oe(A,I)).s,!K||!I)return new oe(NaN);if(K!=I)return A.s=-I,q.plus(A);var ne=q.e/g,X=A.e/g,re=q.c,Pe=A.c;if(!ne||!X){if(!re||!Pe)return re?(A.s=-I,A):new oe(Pe?q:NaN);if(!re[0]||!Pe[0])return Pe[0]?(A.s=-I,A):new oe(re[0]?q:U==3?-0:0)}if(ne=y(ne),X=y(X),re=re.slice(),K=ne-X){for((V=(Z=K<0)?(K=-K,re):(X=ne,Pe)).reverse(),I=K;I--;V.push(0));V.reverse()}else for(J=(Z=(K=re.length)<(I=Pe.length))?K:I,K=I=0;I<J;I++)if(re[I]!=Pe[I]){Z=re[I]<Pe[I];break}if(Z&&(V=re,re=Pe,Pe=V,A.s=-A.s),0<(I=(J=Pe.length)-(j=re.length)))for(;I--;re[j++]=0);for(I=d-1;K<J;){if(re[--J]<Pe[J]){for(j=J;j&&!re[--j];re[j]=I);--re[j],re[J]+=d}re[J]-=Pe[J]}for(;re[0]==0;re.splice(0,1),--X);return re[0]?Xe(A,re,X):(A.s=U==3?-1:1,A.c=[A.e=0],A)},M.modulo=M.mod=function(A,I){var j,J,V=this;return A=new oe(A,I),!V.c||!A.s||A.c&&!A.c[0]?new oe(NaN):!A.c||V.c&&!V.c[0]?new oe(V):(ve==9?(J=A.s,A.s=1,j=G(V,A,0,3),A.s=J,j.s*=J):j=G(V,A,0,ve),(A=V.minus(j.times(A))).c[0]||ve!=1||(A.s=V.s),A)},M.multipliedBy=M.times=function(A,I){var j,J,V,Z,q,K,ne,X,re,Pe,Fe,tt,ut,pt,ln,St=this,ze=St.c,cn=(A=new oe(A,I)).c;if(!(ze&&cn&&ze[0]&&cn[0]))return!St.s||!A.s||ze&&!ze[0]&&!cn||cn&&!cn[0]&&!ze?A.c=A.e=A.s=null:(A.s*=St.s,ze&&cn?(A.c=[0],A.e=0):A.c=A.e=null),A;for(J=y(St.e/g)+y(A.e/g),A.s*=St.s,(ne=ze.length)<(Pe=cn.length)&&(ut=ze,ze=cn,cn=ut,V=ne,ne=Pe,Pe=V),V=ne+Pe,ut=[];V--;ut.push(0));for(pt=d,ln=C,V=Pe;0<=--V;){for(j=0,Fe=cn[V]%ln,tt=cn[V]/ln|0,Z=V+(q=ne);V<Z;)j=((X=Fe*(X=ze[--q]%ln)+(K=tt*X+(re=ze[q]/ln|0)*Fe)%ln*ln+ut[Z]+j)/pt|0)+(K/ln|0)+tt*re,ut[Z--]=X%pt;ut[Z]=j}return j?++J:ut.splice(0,1),Xe(A,ut,J)},M.negated=function(){var A=new oe(this);return A.s=-A.s||null,A},M.plus=function(A,I){var j,J=this,V=J.s;if(I=(A=new oe(A,I)).s,!V||!I)return new oe(NaN);if(V!=I)return A.s=-I,J.minus(A);var Z=J.e/g,q=A.e/g,K=J.c,ne=A.c;if(!Z||!q){if(!K||!ne)return new oe(V/0);if(!K[0]||!ne[0])return ne[0]?A:new oe(K[0]?J:0*V)}if(Z=y(Z),q=y(q),K=K.slice(),V=Z-q){for((j=0<V?(q=Z,ne):(V=-V,K)).reverse();V--;j.push(0));j.reverse()}for((V=K.length)-(I=ne.length)<0&&(j=ne,ne=K,K=j,I=V),V=0;I;)V=(K[--I]=K[I]+ne[I]+V)/d|0,K[I]=d===K[I]?0:K[I]%d;return V&&(K=[V].concat(K),++q),Xe(A,K,q)},M.precision=M.sd=function(A,I){var j,J,V;if(A!=null&&A!==!!A)return _(A,1,w),I==null?I=U:_(I,0,8),lt(new oe(this),A,I);if(!(j=this.c))return null;if(J=(V=j.length-1)*g+1,V=j[V]){for(;V%10==0;V/=10,J--);for(V=j[0];10<=V;V/=10,J++);}return A&&this.e+1>J&&(J=this.e+1),J},M.shiftedBy=function(A){return _(A,-p,p),this.times("1e"+A)},M.squareRoot=M.sqrt=function(){var A,I,j,J,V,Z=this,q=Z.c,K=Z.s,ne=Z.e,X=W+4,re=new oe("0.5");if(K!==1||!q||!q[0])return new oe(!K||K<0&&(!q||q[0])?NaN:q?Z:1/0);if((j=(K=Math.sqrt(+Ne(Z)))==0||K==1/0?(((I=x(q)).length+ne)%2==0&&(I+="0"),K=Math.sqrt(+I),ne=y((ne+1)/2)-(ne<0||ne%2),new oe(I=K==1/0?"1e"+ne:(I=K.toExponential()).slice(0,I.indexOf("e")+1)+ne)):new oe(K+"")).c[0]){for((K=(ne=j.e)+X)<3&&(K=0);;)if(V=j,j=re.times(V.plus(G(Z,V,X,1))),x(V.c).slice(0,K)===(I=x(j.c)).slice(0,K)){if(j.e<ne&&--K,(I=I.slice(K-3,K+1))!="9999"&&(J||I!="4999")){+I&&(+I.slice(1)||I.charAt(0)!="5")||(lt(j,j.e+W+2,1),A=!j.times(j).eq(Z));break}if(!J&&(lt(V,V.e+W+2,0),V.times(V).eq(Z))){j=V;break}X+=4,K+=4,J=1}}return lt(j,j.e+W+1,U,A)},M.toExponential=function(A,I){return A!=null&&(_(A,0,w),A++),at(this,A,I,1)},M.toFixed=function(A,I){return A!=null&&(_(A,0,w),A=A+this.e+1),at(this,A,I)},M.toFormat=function(A,I,j){var J;if(j==null)A!=null&&I&&typeof I=="object"?(j=I,I=null):A&&typeof A=="object"?(j=A,A=I=null):j=je;else if(typeof j!="object")throw Error(c+"Argument not an object: "+j);if(J=this.toFixed(A,I),this.c){var V,Z=J.split("."),q=+j.groupSize,K=+j.secondaryGroupSize,ne=j.groupSeparator||"",X=Z[0],re=Z[1],Pe=this.s<0,Fe=Pe?X.slice(1):X,tt=Fe.length;if(K&&(V=q,q=K,tt-=K=V),0<q&&0<tt){for(V=tt%q||q,X=Fe.substr(0,V);V<tt;V+=q)X+=ne+Fe.substr(V,q);0<K&&(X+=ne+Fe.slice(V)),Pe&&(X="-"+X)}J=re?X+(j.decimalSeparator||"")+((K=+j.fractionGroupSize)?re.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(j.fractionGroupSeparator||"")):re):X}return(j.prefix||"")+J+(j.suffix||"")},M.toFraction=function(A){var I,j,J,V,Z,q,K,ne,X,re,Pe,Fe,tt=this,ut=tt.c;if(A!=null&&(!(K=new oe(A)).isInteger()&&(K.c||K.s!==1)||K.lt(D)))throw Error(c+"Argument "+(K.isInteger()?"out of range: ":"not an integer: ")+Ne(K));if(!ut)return new oe(tt);for(I=new oe(D),X=j=new oe(D),J=ne=new oe(D),Fe=x(ut),Z=I.e=Fe.length-tt.e-1,I.c[0]=v[(q=Z%g)<0?g+q:q],A=!A||0<K.comparedTo(I)?0<Z?I:X:K,q=Ce,Ce=1/0,K=new oe(Fe),ne.c[0]=0;re=G(K,I,0,1),(V=j.plus(re.times(J))).comparedTo(A)!=1;)j=J,J=V,X=ne.plus(re.times(V=X)),ne=V,I=K.minus(re.times(V=I)),K=V;return V=G(A.minus(j),J,0,1),ne=ne.plus(V.times(X)),j=j.plus(V.times(J)),ne.s=X.s=tt.s,Pe=G(X,J,Z*=2,U).minus(tt).abs().comparedTo(G(ne,j,Z,U).minus(tt).abs())<1?[X,J]:[ne,j],Ce=q,Pe},M.toNumber=function(){return+Ne(this)},M.toPrecision=function(A,I){return A!=null&&_(A,1,w),at(this,A,I,2)},M.toString=function(A){var I,j=this,J=j.s,V=j.e;return V===null?J?(I="Infinity",J<0&&(I="-"+I)):I="NaN":(I=A==null?V<=se||ae<=V?O(x(j.c),V):N(x(j.c),V,"0"):A===10?N(x((j=lt(new oe(j),W+V+1,U)).c),j.e,"0"):(_(A,2,xe.length,"Base"),ue(N(x(j.c),V,"0"),10,A,J,!0)),J<0&&j.c[0]&&(I="-"+I)),I},M.valueOf=M.toJSON=function(){return Ne(this)},M._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(M[Symbol.toStringTag]="BigNumber",M[Symbol.for("nodejs.util.inspect.custom")]=M.valueOf),L!=null&&oe.set(L),oe}()).default=s.BigNumber=s,r!==void 0&&r.exports?r.exports=s:(i||(i=typeof self<"u"&&self?self:window),i.BigNumber=s)})(this)},{}],2:[function(n,r,o){r.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(i){var s=i%10;return~~(i%100/10)==1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(n,r,o){function i(y,x){return function(T){if(Array.isArray(T))return T}(y)||function(T,_){var E=[],O=!0,N=!1,H=void 0;try{for(var L,G=T[Symbol.iterator]();!(O=(L=G.next()).done)&&(E.push(L.value),!_||E.length!==_);O=!0);}catch(ue){N=!0,H=ue}finally{try{O||G.return==null||G.return()}finally{if(N)throw H}}return E}(y,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=n("./globalState"),a=n("./validating"),l=n("./parsing"),u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c={general:{scale:1024,suffixes:u,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:u,marker:"d"}},h={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(y){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},T=2<arguments.length?arguments[2]:void 0;if(typeof x=="string"&&(x=l.parseFormat(x)),!a.validateFormat(x))return"ERROR: invalid format";var _=x.prefix||"",E=x.postfix||"",O=function(N,H,L){switch(H.output){case"currency":return H=w(H,s.currentCurrencyDefaultFormat()),function(xe,oe,at){var Ye=at.currentCurrency(),Xe=Object.assign({},h,oe),lt=void 0,Ne="",A=!!Xe.totalLength||!!Xe.forceAverage||Xe.average,I=oe.currencyPosition||Ye.position,j=oe.currencySymbol||Ye.symbol;Xe.spaceSeparated&&(Ne=" "),I==="infix"&&(lt=Ne+j+Ne);var J=C({instance:xe,providedFormat:oe,state:at,decimalSeparator:lt});return I==="prefix"&&(J=xe._value<0&&Xe.negative==="sign"?"-".concat(Ne).concat(j).concat(J.slice(1)):j+Ne+J),I&&I!=="postfix"||(J=J+(Ne=A?"":Ne)+j),J}(N,H,s);case"percent":return H=w(H,s.currentPercentageDefaultFormat()),function(xe,oe,at,Ye){var Xe=oe.prefixSymbol,lt=C({instance:Ye(100*xe._value),providedFormat:oe,state:at}),Ne=Object.assign({},h,oe);return Xe?"%".concat(Ne.spaceSeparated?" ":"").concat(lt):"".concat(lt).concat(Ne.spaceSeparated?" ":"","%")}(N,H,s,L);case"byte":return H=w(H,s.currentByteDefaultFormat()),D=N,U=s,se=L,ae=(W=H).base||"binary",Se=c[ae],Ce=g(D._value,Se.suffixes,Se.scale),we=Ce.value,ve=Ce.suffix,fe=C({instance:se(we),providedFormat:W,state:U,defaults:U.currentByteDefaultFormat()}),je=U.currentAbbreviations(),"".concat(fe).concat(je.spaced?" ":"").concat(ve);case"time":return H=w(H,s.currentTimeDefaultFormat()),te=N,S=Math.floor(te._value/60/60),R=Math.floor((te._value-60*S*60)/60),M=Math.round(te._value-60*S*60-60*R),"".concat(S,":").concat(R<10?"0":"").concat(R,":").concat(M<10?"0":"").concat(M);case"ordinal":return H=w(H,s.currentOrdinalDefaultFormat()),G=N,ue=H,he=(B=s).currentOrdinal(),Ee=Object.assign({},h,ue),Me=C({instance:G,providedFormat:ue,state:B}),ye=he(G._value),"".concat(Me).concat(Ee.spaceSeparated?" ":"").concat(ye);case"number":default:return C({instance:N,providedFormat:H,numbro:L})}var G,ue,B,he,Ee,Me,ye,te,S,R,M,D,W,U,se,ae,Se,Ce,we,ve,fe,je}(y,x,T);return O=(O=_+O)+E}function g(y,x,T){var _=x[0],E=Math.abs(y);if(T<=E){for(var O=1;O<x.length;++O){var N=Math.pow(T,O),H=Math.pow(T,O+1);if(N<=E&&E<H){_=x[O],y/=N;break}}_===x[0]&&(y/=Math.pow(T,x.length-1),_=x[x.length-1])}return{value:y,suffix:_}}function p(y){for(var x="",T=0;T<y;T++)x+="0";return x}function v(y,x){return y.toString().indexOf("e")!==-1?function(T,_){var E=T.toString(),O=i(E.split("e"),2),N=O[0],H=O[1],L=i(N.split("."),2),G=L[0],ue=L[1],B=ue===void 0?"":ue;if(0<+H)E=G+B+p(H-B.length);else{var he=".";he=+G<0?"-0".concat(he):"0".concat(he);var Ee=(p(-H-1)+Math.abs(G)+B).substr(0,_);Ee.length<_&&(Ee+=p(_-Ee.length)),E=he+Ee}return 0<+H&&0<_&&(E+=".".concat(p(_))),E}(y,x):(Math.round(+"".concat(y,"e+").concat(x))/Math.pow(10,x)).toFixed(x)}function C(y){var x=y.instance,T=y.providedFormat,_=y.state,E=_===void 0?s:_,O=y.decimalSeparator,N=y.defaults,H=N===void 0?E.currentDefaults():N,L=x._value;if(L===0&&E.hasZeroFormat())return E.getZeroFormat();if(!isFinite(L))return L.toString();var G,ue,B,he,Ee,Me,ye,te,S=Object.assign({},h,H,T),R=S.totalLength,M=R?0:S.characteristic,D=S.optionalCharacteristic,W=S.forceAverage,U=!!R||!!W||S.average,se=R?-1:U&&T.mantissa===void 0?0:S.mantissa,ae=!R&&(T.optionalMantissa===void 0?se===-1:S.optionalMantissa),Se=S.trimMantissa,Ce=S.thousandSeparated,we=S.spaceSeparated,ve=S.negative,fe=S.forceSign,je=S.exponential,xe="";if(U){var oe=function(A){var I=A.value,j=A.forceAverage,J=A.abbreviations,V=A.spaceSeparated,Z=V!==void 0&&V,q=A.totalLength,K=q===void 0?0:q,ne="",X=Math.abs(I),re=-1;if(X>=Math.pow(10,12)&&!j||j==="trillion"?(ne=J.trillion,I/=Math.pow(10,12)):X<Math.pow(10,12)&&X>=Math.pow(10,9)&&!j||j==="billion"?(ne=J.billion,I/=Math.pow(10,9)):X<Math.pow(10,9)&&X>=Math.pow(10,6)&&!j||j==="million"?(ne=J.million,I/=Math.pow(10,6)):(X<Math.pow(10,6)&&X>=Math.pow(10,3)&&!j||j==="thousand")&&(ne=J.thousand,I/=Math.pow(10,3)),ne&&(ne=(Z?" ":"")+ne),K){var Pe=I.toString().split(".")[0];re=Math.max(K-Pe.length,0)}return{value:I,abbreviation:ne,mantissaPrecision:re}}({value:L,forceAverage:W,abbreviations:E.currentAbbreviations(),spaceSeparated:we,totalLength:R});L=oe.value,xe+=oe.abbreviation,R&&(se=oe.mantissaPrecision)}if(je){var at=(ue=(G={value:L,characteristicPrecision:M}).value,B=G.characteristicPrecision,he=B===void 0?0:B,Ee=i(ue.toExponential().split("e"),2),Me=Ee[0],ye=Ee[1],te=+Me,he&&1<he&&(te*=Math.pow(10,he-1),ye=0<=(ye=+ye-(he-1))?"+".concat(ye):ye),{value:te,abbreviation:"e".concat(ye)});L=at.value,xe=at.abbreviation+xe}var Ye,Xe,lt,Ne=function(A,I,j,J,V){if(J===-1)return A;var Z=v(I,J),q=i(Z.toString().split("."),2),K=q[0],ne=q[1],X=ne===void 0?"":ne;if(X.match(/^0+$/)&&(j||V))return K;var re=X.match(/0+$/);return V&&re?"".concat(K,".").concat(X.toString().slice(0,re.index)):Z.toString()}(L.toString(),L,ae,se,Se);return Ne=function(A,I,j,J,V){var Z=J.currentDelimiters(),q=Z.thousands;V=V||Z.decimal;var K=Z.thousandsSize||3,ne=A.toString(),X=ne.split(".")[0],re=ne.split(".")[1];return j&&(I<0&&(X=X.slice(1)),function(Pe,Fe){for(var tt=[],ut=0,pt=Pe;0<pt;pt--)ut===Fe&&(tt.unshift(pt),ut=0),ut++;return tt}(X.length,K).forEach(function(Pe,Fe){X=X.slice(0,Pe+Fe)+q+X.slice(Pe+Fe)}),I<0&&(X="-".concat(X))),ne=re?X+V+re:X}(Ne=function(A,I,j,J){var V=A,Z=i(V.toString().split("."),2),q=Z[0],K=Z[1];if(q.match(/^-?0$/)&&j)return K?"".concat(q.replace("0",""),".").concat(K):q.replace("0","");if(q.length<J)for(var ne=J-q.length,X=0;X<ne;X++)V="0".concat(V);return V.toString()}(Ne,0,D,M),L,Ce,E,O),(U||je)&&(Ne=Ne+xe),(fe||L<0)&&(Ye=Ne,lt=ve,Ne=(Xe=L)===0?Ye:+Ye==0?Ye.replace("-",""):0<Xe?"+".concat(Ye):lt==="sign"?Ye:"(".concat(Ye.replace("-",""),")")),Ne}function w(y,x){if(!y)return x;var T=Object.keys(y);return T.length===1&&T[0]==="output"?x:y}r.exports=function(y){return{format:function(){for(var x=arguments.length,T=new Array(x),_=0;_<x;_++)T[_]=arguments[_];return d.apply(void 0,T.concat([y]))},getByteUnit:function(){for(var x=arguments.length,T=new Array(x),_=0;_<x;_++)T[_]=arguments[_];return(function(E){var O=c.general;return g(E._value,O.suffixes,O.scale).suffix}).apply(void 0,T.concat([y]))},getBinaryByteUnit:function(){for(var x=arguments.length,T=new Array(x),_=0;_<x;_++)T[_]=arguments[_];return(function(E){var O=c.binary;return g(E._value,O.suffixes,O.scale).suffix}).apply(void 0,T.concat([y]))},getDecimalByteUnit:function(){for(var x=arguments.length,T=new Array(x),_=0;_<x;_++)T[_]=arguments[_];return(function(E){var O=c.decimal;return g(E._value,O.suffixes,O.scale).suffix}).apply(void 0,T.concat([y]))},formatOrDefault:w}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(n,r,o){var i=n("./en-US"),s=n("./validating"),a=n("./parsing"),l={},u=void 0,c={},h=null,d={};function g(v){u=v}function p(){return c[u]}l.languages=function(){return Object.assign({},c)},l.currentLanguage=function(){return u},l.currentCurrency=function(){return p().currency},l.currentAbbreviations=function(){return p().abbreviations},l.currentDelimiters=function(){return p().delimiters},l.currentOrdinal=function(){return p().ordinal},l.currentDefaults=function(){return Object.assign({},p().defaults,d)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().timeFormat)},l.setDefaults=function(v){v=a.parseFormat(v),s.validateFormat(v)&&(d=v)},l.getZeroFormat=function(){return h},l.setZeroFormat=function(v){return h=typeof v=="string"?v:null},l.hasZeroFormat=function(){return h!==null},l.languageData=function(v){if(v){if(c[v])return c[v];throw new Error('Unknown tag "'.concat(v,'"'))}return p()},l.registerLanguage=function(v){var C=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!s.validateLanguage(v))throw new Error("Invalid language data");c[v.languageTag]=v,C&&g(v.languageTag)},l.setLanguage=function(v){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i.languageTag;if(!c[v]){var w=v.split("-")[0],y=Object.keys(c).find(function(x){return x.split("-")[0]===w});return c[y]?void g(y):void g(C)}g(v)},l.registerLanguage(i),u=i.languageTag,r.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(n,r,o){r.exports=function(i){return{loadLanguagesInNode:function(s){return a=i,void s.forEach(function(l){var u=void 0;try{u=n("../languages/".concat(l))}catch{console.error('Unable to load "'.concat(l,'". No matching language file found.'))}u&&a.registerLanguage(u)});var a}}}},{}],6:[function(n,r,o){var i=n("bignumber.js");function s(a,l,u){var c=new i(a._value),h=l;return u.isNumbro(l)&&(h=l._value),h=new i(h),a._value=c.minus(h).toNumber(),a}r.exports=function(a){return{add:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.plus(p).toNumber(),c;var c,h,d,g,p},subtract:function(l,u){return s(l,u,a)},multiply:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.times(p).toNumber(),c;var c,h,d,g,p},divide:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.dividedBy(p).toNumber(),c;var c,h,d,g,p},set:function(l,u){return c=l,d=h=u,a.isNumbro(h)&&(d=h._value),c._value=d,c;var c,h,d},difference:function(l,u){return c=u,s(d=(h=a)(l._value),c,h),Math.abs(d._value);var c,h,d}}}},{"bignumber.js":1}],7:[function(n,r,o){function i(C,w){for(var y=0;y<w.length;y++){var x=w[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(C,x.key,x)}}var s=n("./globalState"),a=n("./validating"),l=n("./loading")(v),u=n("./unformatting"),c=n("./formatting")(v),h=n("./manipulating")(v),d=n("./parsing"),g=function(){function C(x){(function(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")})(this,C),this._value=x}var w,y;return w=C,(y=[{key:"clone",value:function(){return v(this._value)}},{key:"format",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return c.format(this,x)}},{key:"formatCurrency",value:function(x){return typeof x=="string"&&(x=d.parseFormat(x)),(x=c.formatOrDefault(x,s.currentCurrencyDefaultFormat())).output="currency",c.format(this,x)}},{key:"formatTime",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return x.output="time",c.format(this,x)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(x){return h.difference(this,x)}},{key:"add",value:function(x){return h.add(this,x)}},{key:"subtract",value:function(x){return h.subtract(this,x)}},{key:"multiply",value:function(x){return h.multiply(this,x)}},{key:"divide",value:function(x){return h.divide(this,x)}},{key:"set",value:function(x){return h.set(this,p(x))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&i(w.prototype,y),C}();function p(C){var w=C;return v.isNumbro(C)?w=C._value:typeof C=="string"?w=v.unformat(C):isNaN(C)&&(w=NaN),w}function v(C){return new g(p(C))}v.version="2.1.2",v.isNumbro=function(C){return C instanceof g},v.language=s.currentLanguage,v.registerLanguage=s.registerLanguage,v.setLanguage=s.setLanguage,v.languages=s.languages,v.languageData=s.languageData,v.zeroFormat=s.setZeroFormat,v.defaultFormat=s.currentDefaults,v.setDefaults=s.setDefaults,v.defaultCurrencyFormat=s.currentCurrencyDefaultFormat,v.validate=a.validate,v.loadLanguagesInNode=l.loadLanguagesInNode,v.unformat=u.unformat,r.exports=v},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(n,r,o){r.exports={parseFormat:function(i){var s,a,l,u,c,h,d,g,p,v,C,w,y,x,T,_,E,O,N,H,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof i!="string"?i:(a=L,i=(l=(s=i).match(/^{([^}]*)}/))?(a.prefix=l[1],s.slice(l[0].length)):s,c=L,function(G,ue){if(G.indexOf("$")===-1){if(G.indexOf("%")===-1)return G.indexOf("bd")!==-1?(ue.output="byte",ue.base="general"):G.indexOf("b")!==-1?(ue.output="byte",ue.base="binary"):G.indexOf("d")!==-1?(ue.output="byte",ue.base="decimal"):G.indexOf(":")===-1?G.indexOf("o")!==-1&&(ue.output="ordinal"):ue.output="time";ue.output="percent"}else ue.output="currency"}(i=(h=(u=i).match(/{([^}]*)}$/))?(c.postfix=h[1],u.slice(0,-h[0].length)):u,L),d=L,(g=i.match(/[1-9]+[0-9]*/))&&(d.totalLength=+g[0]),p=L,(v=i.split(".")[0].match(/0+/))&&(p.characteristic=v[0].length),function(G,ue){if(G.indexOf(".")!==-1){var B=G.split(".")[0];ue.optionalCharacteristic=B.indexOf("0")===-1}}(i,L),C=L,i.indexOf("a")!==-1&&(C.average=!0),y=L,(w=i).indexOf("K")!==-1?y.forceAverage="thousand":w.indexOf("M")!==-1?y.forceAverage="million":w.indexOf("B")!==-1?y.forceAverage="billion":w.indexOf("T")!==-1&&(y.forceAverage="trillion"),function(G,ue){var B=G.split(".")[1];if(B){var he=B.match(/0+/);he&&(ue.mantissa=he[0].length)}}(i,L),T=L,(x=i).match(/\[\.]/)?T.optionalMantissa=!0:x.match(/\./)&&(T.optionalMantissa=!1),_=L,i.indexOf(",")!==-1&&(_.thousandSeparated=!0),E=L,i.indexOf(" ")!==-1&&(E.spaceSeparated=!0),N=L,(O=i).match(/^\+?\([^)]*\)$/)&&(N.negative="parenthesis"),O.match(/^\+?-/)&&(N.negative="sign"),H=L,i.match(/^\+/)&&(H.forceSign=!0),L)}}},{}],9:[function(n,r,o){var i=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",h=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,g=5<arguments.length?arguments[5]:void 0,p=6<arguments.length?arguments[6]:void 0;if(l!=="")return l===d?0:function v(C,w){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",x=3<arguments.length?arguments[3]:void 0,T=4<arguments.length?arguments[4]:void 0,_=5<arguments.length?arguments[5]:void 0,E=6<arguments.length?arguments[6]:void 0;if(!isNaN(+C))return+C;var O="",N=C.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(N!==C)return-1*v(N,w,y,x,T,_,E);for(var H=0;H<i.length;H++){var L=i[H];if((O=C.replace(L.key,""))!==C)return v(O,w,y,x,T,_,E)*L.factor}if((O=C.replace("%",""))!==C)return v(O,w,y,x,T,_,E)/100;var G=parseFloat(C);if(!isNaN(G)){var ue=x(G);if(ue&&ue!=="."&&(O=C.replace(new RegExp("".concat(s(ue),"$")),""))!==C)return v(O,w,y,x,T,_,E);var B={};Object.keys(_).forEach(function(R){B[_[R]]=R});for(var he=Object.keys(B).sort().reverse(),Ee=he.length,Me=0;Me<Ee;Me++){var ye=he[Me],te=B[ye];if((O=C.replace(ye,""))!==C){var S=void 0;switch(te){case"thousand":S=Math.pow(10,3);break;case"million":S=Math.pow(10,6);break;case"billion":S=Math.pow(10,9);break;case"trillion":S=Math.pow(10,12)}return v(O,w,y,x,T,_,E)*S}}}}(function(v,C){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",y=v.replace(w,"");return y=(y=y.replace(new RegExp("([0-9])".concat(s(C.thousands),"([0-9])"),"g"),"$1$2")).replace(C.decimal,".")}(l,u,c),u,c,h,d,g,p)}r.exports={unformat:function(l,u){var c,h,d,g=n("./globalState"),p=g.currentDelimiters(),v=g.currentCurrency().symbol,C=g.currentOrdinal(),w=g.getZeroFormat(),y=g.currentAbbreviations(),x=void 0;if(typeof l=="string")x=function(T,_){if(!T.indexOf(":")||_.thousands===":")return!1;var E=T.split(":");if(E.length!==3)return!1;var O=+E[0],N=+E[1],H=+E[2];return!isNaN(O)&&!isNaN(N)&&!isNaN(H)}(l,p)?(c=l.split(":"),h=+c[0],d=+c[1],+c[2]+60*d+3600*h):a(l,p,v,C,w,y,u);else{if(typeof l!="number")return;x=l}if(x!==void 0)return x}}},{"./globalState":4}],10:[function(n,r,o){function i(p){return function(v){if(Array.isArray(v)){for(var C=0,w=new Array(v.length);C<v.length;C++)w[C]=v[C];return w}}(p)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}var a=n("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(p,v){return v.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(p){return p.output==="byte"}},characteristic:{type:"number",restriction:function(p){return 0<=p},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(p){return 0<=p},message:"value must be positive"},{restriction:function(p,v){return!v.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(p){return 0<=p},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(p,v){return v.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(p){return p.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(p){return!!a.unformat(p)}function d(p,v,C){var w=3<arguments.length&&arguments[3]!==void 0&&arguments[3],y=Object.keys(p).map(function(x){if(!v[x])return console.error("".concat(C," Invalid key: ").concat(x)),!1;var T=p[x],_=v[x];if(typeof _=="string"&&(_={type:_}),_.type==="format"){if(!d(T,u,"[Validate ".concat(x,"]"),!0))return!1}else if(s(T)!==_.type)return console.error("".concat(C," ").concat(x,' type mismatched: "').concat(_.type,'" expected, "').concat(s(T),'" provided')),!1;if(_.restrictions&&_.restrictions.length)for(var E=_.restrictions.length,O=0;O<E;O++){var N=_.restrictions[O],H=N.restriction,L=N.message;if(!H(T,p))return console.error("".concat(C," ").concat(x," invalid value: ").concat(L)),!1}return _.restriction&&!_.restriction(T,p)?(console.error("".concat(C," ").concat(x," invalid value: ").concat(_.message)),!1):_.validValues&&_.validValues.indexOf(T)===-1?(console.error("".concat(C," ").concat(x," invalid value: must be among ").concat(JSON.stringify(_.validValues),', "').concat(T,'" provided')),!1):!(_.children&&!d(T,_.children,"[Validate ".concat(x,"]")))});return w||y.push.apply(y,i(Object.keys(v).map(function(x){var T=v[x];if(typeof T=="string"&&(T={type:T}),T.mandatory){var _=T.mandatory;if(typeof _=="function"&&(_=_(p)),_&&p[x]===void 0)return console.error("".concat(C,' Missing mandatory key "').concat(x,'"')),!1}return!0}))),y.reduce(function(x,T){return x&&T},!0)}function g(p){return d(p,u,"[Validate format]")}r.exports={validate:function(p,v){var C=h(p),w=g(v);return C&&w},validateFormat:g,validateInput:h,validateLanguage:function(p){return d(p,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(a4);var GRe=a4.exports;const zh=gu(GRe),YRe="numeric";function gP(t,e,n,r,o,i,s){let a=i;if(Jo(a)){const l=s.numericFormat,u=l&&l.culture||"-",c=l&&l.pattern,h=s.className||"",d=h.length?h.split(" "):[];if(typeof u<"u"&&!zh.languages()[u]){const g=u.replace("-",""),p=zh.allLanguages?zh.allLanguages[u]:zh[g];p&&zh.registerLanguage(p)}zh.setLanguage(u),a=zh(a).format(c||"0"),d.indexOf("htLeft")<0&&d.indexOf("htCenter")<0&&d.indexOf("htRight")<0&&d.indexOf("htJustify")<0&&d.push("htRight"),d.indexOf("htNumeric")<0&&d.push("htNumeric"),s.className=d.join(" "),e.dir="ltr"}$l(t,e,n,r,o,a,s)}gP.RENDERER_TYPE=YRe;const qRe="password";function mP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s]);const a=s.hashLength||e.innerHTML.length,l=s.hashSymbol||"*";let u="";Je(a-1,()=>{u+=l}),Wf(e,u)}mP.RENDERER_TYPE=qRe;const KRe="select";function pP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s])}pP.RENDERER_TYPE=KRe;const QRe="time";function wP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s]),e.dir="ltr"}wP.RENDERER_TYPE=QRe;function XRe(){as(ig),as(Tw),as(hP),as(cP),as(fP),as(uP),as(gP),as(mP),as(pP),as($l),as(wP)}const JRe="autocomplete";function yS(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,l4(n,e)):l4(n,e)(this.source):e(!0)}yS.VALIDATOR_TYPE=JRe;function l4(t,e){const n=t;return function(r){let o=!1;for(let i=0,s=r.length;i<s;i++)if(n===r[i]){o=!0;break}e(o)}}function ZRe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const eke="date";function vP(t,e){const n=DU(Q$,this.instance);let r=t,o=!0;r==null&&(r="");let i=ke(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=ke(new Date(r)).isValid()||i;if(this.allowEmpty&&r===""&&(s=!0,i=!0),s||(o=!1),!s&&i&&(o=!0),s&&!i)if(this.correctFormat===!0){const a=tke(r,this.dateFormat),l=this.instance.toVisualRow(this.row),u=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(l,u,a,"dateValidator"),o=!0}else o=!1;e(o)}vP.VALIDATOR_TYPE=eke;function tke(t,e){const n=ke(ZRe(t)),r=ke(t,e),o=t.search(/[A-z]/g)>-1;let i;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||o?i=n:i=r,i.format(e)}const nke="dropdown";function yP(t,e){yS.apply(this,[t,e])}yP.VALIDATOR_TYPE=nke;const rke="numeric";function bP(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:Jo(t))}bP.VALIDATOR_TYPE=rke;const oke=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],ike="time";function CP(t,e){const n=this.timeFormat||"h:mm:ss a";let r=!0,o=t;o===null&&(o=""),o=/^\d{3,}$/.test(o)?parseInt(o,10):o;const i=/^\d{1,2}$/.test(o);i&&(o+=":00");const s=ke(o,oke,!0).isValid()?ke(o):ke(o,n);let a=s.isValid(),l=ke(o,n,!0).isValid()&&!i;if(this.allowEmpty&&o===""&&(a=!0,l=!0),a||(r=!1),!a&&l&&(r=!0),a&&!l)if(this.correctFormat===!0){const u=s.format(n),c=this.instance.toVisualRow(this.row),h=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(c,h,u,"timeValidator"),r=!0}else r=!1;e(r)}CP.VALIDATOR_TYPE=ike;function ske(){$f(yS),$f(yP),$f(vP),$f(bP),$f(CP)}const ake="autocomplete",lke={CELL_TYPE:ake,editor:eP,renderer:ig,validator:yS},uke="checkbox",cke={CELL_TYPE:uke,editor:$$,renderer:hP},hke="date";function u4(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}u4.RENDERER_TYPE=hke;const dke="date",fke={CELL_TYPE:dke,editor:J$,renderer:u4,validator:vP},gke="dropdown",mke={CELL_TYPE:gke,editor:aP,renderer:cP,validator:yP},pke="handsontable",wke={CELL_TYPE:pke,editor:JA,renderer:fP},vke="numeric",yke={CELL_TYPE:vke,editor:Z$,renderer:gP,validator:bP,dataType:"number"},bke="password",Cke={CELL_TYPE:bke,editor:e4,renderer:mP,copyable:!1},Ske="select",xke={CELL_TYPE:Ske,editor:n4,renderer:pP},Rke="time",kke={CELL_TYPE:Rke,editor:r4,renderer:wP,validator:CP};function Eke(){qs(lke),qs(cke),qs(fke),qs(mke),qs(wke),qs(yke),qs(Cke),qs(xke),qs(p$),qs(kke)}function Tke(t,e){c4(t,e),e.add(t)}function Mke(t,e,n){c4(t,e),e.set(t,n)}function c4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lg(t,e,n){return e=_ke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ke(t){var e=Oke(t,"string");return typeof e=="symbol"?e:String(e)}function Oke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ake(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ug(t,e){var n=Pke(t,e,"get");return Ike(t,n)}function Pke(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Ike(t,e){return e.get?e.get.call(t):e.value}const h4=new Map([["plugin",kwe],["cell-type",Yz],["editor",NU],["renderer",n3],["validator",o3]]),Hke="base",SP=[];let Fa=null;var $h=new WeakMap,d4=new WeakSet;class an{static get PLUGIN_KEY(){return Hke}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){Tke(this,d4),lg(this,"eventManager",new Us(this)),lg(this,"pluginName",null),lg(this,"pluginsInitializedCallbacks",[]),lg(this,"isPluginsReady",!1),lg(this,"enabled",!1),lg(this,"initialized",!1),Mke(this,$h,{writable:!0,value:{}}),jl(this,"hot",e,{writable:!1}),Fa=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const r=[];if(n.forEach(o=>{const[i,s]=o.split(":");if(!h4.has(i))throw new Error(`Unknown plugin dependency type "${i}" was found.`);h4.get(i)(s)||r.push(` - ${s} (${i})`)}),r.length>0){const o=[`The ${this.pluginName} plugin requires the following modules:
`,`${r.join(`
`)}
`].join("");SP.push(o)}}if(Fa||(Fa=t3()),Fa.indexOf("UndoRedo")>=0&&Fa.splice(Fa.indexOf("UndoRedo"),1),Fa.indexOf(this.pluginName)>=0&&Fa.splice(Fa.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Fa.length===0){if(SP.length>0){const r=[`${SP.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(r)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,n){ug(this,$h)[e]=ug(this,$h)[e]||[];const r=ug(this,$h)[e];this.hot.addHook(e,n),r.push(n),ug(this,$h)[e]=r}removeHooks(e){F(ug(this,$h)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=ug(this,$h);It(e,(n,r)=>this.removeHooks(r)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){F(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=Ake(this,d4,Nke).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),It(this,(n,r)=>{r!=="hot"&&(this[r]=null)}),delete this.t,delete this.hot}}function Nke(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function Gh(t,e,n){return e=Dke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dke(t){var e=Lke(t,"string");return typeof e=="symbol"?e:String(e)}function Lke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let f4=class{constructor(t){Gh(this,"hot",null),Gh(this,"container",null),Gh(this,"injected",!1),Gh(this,"rows",[]),Gh(this,"columns",[]),Gh(this,"samples",null),Gh(this,"settings",{useHeaders:!0}),this.hot=t}addRow(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(t)),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(t){if(this.hot.getColHeader(0)!=null){const n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}addColumn(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(t){this.injected||this.injectTable(),F(this.rows,e=>{t(e.row,Kn(e.table)-1)})}getWidths(t){this.injected||this.injectTable(),F(this.columns,e=>{const{width:n}=e.table.getBoundingClientRect();t(e.col,Math.ceil(n))})}setSettings(t){this.settings=t}setSetting(t,e){this.settings||(this.settings={}),this.settings[t]=e}getSettings(){return this.settings}getSetting(t){return this.settings?this.settings[t]:null}createColGroupsCol(t){const e=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1,-1)),this.samples.forEach(n=>{F(n.strings,r=>{e.appendChild(this.createColElement(r.col,t))})}),e}createRow(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,r),n.appendChild(r)),this.samples.forEach(o=>{F(o.strings,i=>{const s=i.col,a=this.hot.getCellMeta(t,s);a.col=s,a.row=t;const l=this.hot.getCellRenderer(a),u=e.createElement("td");u.setAttribute("ghost-table",1),l(this.hot,u,t,s,this.hot.colToProp(s),i.value,a),n.appendChild(u)})}),n}appendColumnHeadersRow(){const{rootDocument:t}=this.hot,e=t.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){const r=t.createElement("th");n.push([-1,r]),e.appendChild(r)}this.samples.forEach(r=>{F(r.strings,o=>{const i=o.col,s=t.createElement("th");n.push([i,s]),e.appendChild(s)})}),this.table.tHead.appendChild(e),F(n,r=>{const[o,i]=r;this.hot.view.appendColHeader(o,i)})}createCol(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment();return this.samples.forEach(r=>{F(r.strings,o=>{const i=o.row,s=this.hot.getCellMeta(i,t);s.col=t,s.row=i;const a=this.hot.getCellRenderer(s),l=e.createElement("td"),u=e.createElement("tr");l.setAttribute("ghost-table",1),a(this.hot,l,i,t,this.hot.colToProp(t),o.value,s),u.appendChild(l),n.appendChild(u)})}),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(t,e){const n=this.hot.rootDocument.createElement("col");let r=0;e>=0&&t>=0&&(r=this.hot.getCellMeta(e,t).colspan);let o=this.hot.view._wt.wtTable.getStretchedColumnWidth(t);if(r>1)for(let i=t+1;i<t+r;i++)o+=this.hot.view._wt.wtTable.getStretchedColumnWidth(i);return n.style.width=`${o}px`,n}createTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("table"),o=e.createElement("thead"),i=e.createElement("tbody"),s=e.createElement("colgroup"),a=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&r.appendChild(s),this.isHorizontal()&&(a.appendChild(l),o.appendChild(a),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(o),this.isVertical()&&i.appendChild(a),r.appendChild(i),_e(r,t),n.appendChild(r),{fragment:n,table:r,tHead:o,tBody:i,colGroup:s,tr:a,th:l}}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("div"),o=`htGhostTable htAutoSize ${t.trim()}`;return _e(r,o),n.appendChild(r),{fragment:n,container:r}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function bS(t,e,n){return e=jke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jke(t){var e=Fke(t,"string");return typeof e=="symbol"?e:String(e)}function Fke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CS{static get SAMPLE_COUNT(){return 3}constructor(e){bS(this,"samples",null),bS(this,"dataFactory",null),bS(this,"customSampleCount",null),bS(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:CS.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,r){const o=new Map,{from:i,to:s}=typeof r=="number"?{from:r,to:r}:r;return Je(i,s,a=>{const l=this.generateSample(e,n,a);o.set(a,l)}),o}generateSample(e,n,r){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const o=new Map,i=e==="row"?"col":"row",s=[];return Je(n.from,n.to,a=>{const l=e==="row"?this.dataFactory(r,a):this.dataFactory(a,r);if(l===!1)return;const{value:u,bundleSeed:c}=l,h=typeof c=="string"&&c.length>0;let d;h?d=c:Ot(u)?d=`${Object.keys(u).length}`:Array.isArray(u)?d=`${u.length}`:d=`${fr(u).length}`,o.has(d)||o.set(d,{needed:this.getSampleCount(),strings:[]});const g=o.get(d);g.needed&&(!(s.indexOf(u)>-1)||this.allowDuplicates||h)&&(g.strings.push({value:u,[i]:a}),s.push(u),g.needed-=1)}),o}}function cg(t,e){g4(t,e),e.add(t)}function Wke(t,e,n){g4(t,e),e.set(t,n)}function g4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hg(t,e,n){return e=Vke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vke(t){var e=Bke(t,"string");return typeof e=="symbol"?e:String(e)}function Bke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uke(t,e,n){var r=m4(t,e,"set");return zke(t,r,n),n}function zke(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function SS(t,e){var n=m4(t,e,"get");return $ke(t,n)}function m4(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function $ke(t,e){return e.get?e.get.call(t):e.value}function Yh(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("modifyAutoColumnSizeSeed");const Hw="autoColumnSize",Gke=10,Yke="autoColumnSize";var dg=new WeakMap,p4=new WeakSet,w4=new WeakSet,v4=new WeakSet,xP=new WeakSet,y4=new WeakSet,b4=new WeakSet;class Nw extends an{static get PLUGIN_KEY(){return Hw}static get PLUGIN_PRIORITY(){return Gke}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),cg(this,b4),cg(this,y4),cg(this,xP),cg(this,v4),cg(this,w4),cg(this,p4),hg(this,"ghostTable",new f4(this.hot)),hg(this,"samplesGenerator",new CS((n,r)=>{const o=this.hot.getCellMeta(n,r);let i="";o.spanned||(i=this.hot.getDataAtCell(n,r));let s="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(s=this.hot.runHooks("modifyAutoColumnSizeSeed",s,o,i)),{value:i,bundleSeed:s}})),hg(this,"firstCalculation",!0),hg(this,"inProgress",!1),hg(this,"measuredColumns",0),hg(this,"columnWidthsMap",new dc),Wke(this,dg,{writable:!0,value:[]}),this.hot.columnIndexMapper.registerMap(Yke,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,r,o)=>Yh(this,xP,C4).call(this,n,r,o))}isEnabled(){return this.hot.getSettings()[Hw]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Hw];n&&n.useHeaders!==null&&n.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Yh(e,w4,Kke).call(e,...o)}),this.addHook("beforeChangeRender",r=>Yh(this,v4,Qke).call(this,r)),this.addHook("afterFormulasValuesUpdate",r=>Yh(this,b4,Jke).call(this,r)),this.addHook("beforeViewRender",r=>Yh(this,p4,qke).call(this,r)),this.addHook("modifyColWidth",(r,o)=>this.getColumnWidth(o,r)),this.addHook("afterInit",()=>Yh(this,y4,Xke).call(this)),super.enablePlugin()}updatePlugin(){const e=this.findColumnsWhereHeaderWasChanged();e.length&&(this.clearCache(e),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,r)=>Yh(this,xP,C4).call(this,e,n,r))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.hot.renderCall,n=this.getFirstVisibleColumn(),r=this.getLastVisibleColumn();n===-1||r===-1||this.calculateColumnsWidth({from:n,to:r},void 0,e)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,i=typeof n=="number"?{from:n,to:n}:n;Je(o.from,o.to,s=>{let a=this.hot.toPhysicalColumn(s);if(a===null&&(a=s),r||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a)){const l=this.samplesGenerator.generateColumnSamples(s,i);F(l,u=>{let[c,h]=u;return this.ghostTable.addColumn(c,h)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{const l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=o.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=0;const r=this.hot.countCols()-1;let o=null;this.inProgress=!0;const i=()=>{if(!this.hot){eC(o),this.inProgress=!1;return}this.calculateColumnsWidth({from:n,to:Math.min(n+Nw.CALCULATION_STEP,r)},e),n=n+Nw.CALCULATION_STEP+1,n<r?o=PM(i):(eC(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateColumnsWidth({from:0,to:s},e),this.firstCalculation=!1,n=s+1),n<r?i():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[Hw],n=e&&Qn(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Qn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){const e=this.hot.getSettings()[Hw];let n=Nw.SYNC_CALCULATION_LIMIT;const r=this.hot.countCols()-1;return Ot(e)&&(n=e.syncLimit,zB(n)?n=XU(r,n):n>>=0),Math.min(n,r)}getColumnWidth(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n;return o===void 0&&(o=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),r&&typeof o=="number"&&(o=Math.max(o,sw.DEFAULT_WIDTH))),o}getFirstVisibleColumn(){const e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){const n=e.wtTable.getFirstVisibleColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}if(e.wtViewport.columnsRenderCalculator){const n=e.wtTable.getFirstRenderedColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}getLastVisibleColumn(){const e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){const n=e.wtTable.getLastVisibleColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}if(e.wtViewport.columnsRenderCalculator){const n=e.wtTable.getLastRenderedColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}findColumnsWhereHeaderWasChanged(){const e=this.hot.getColHeader();return fo(e,(n,r,o)=>{const i=SS(this,dg).length;return(i-1<o||SS(this,dg)[o]!==r)&&n.push(o),i-1<o?SS(this,dg).push(r):SS(this,dg)[o]=r,n},[])}clearCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length?this.hot.batchExecution(()=>{F(e,n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!os(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function qke(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function Kke(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout(()=>{this.hot&&this.recalculateAllColumnsWidth()},0)}function Qke(t){const e=Pt(t,n=>{let[,r]=n;return this.hot.toPhysicalColumn(this.hot.propToCol(r))});this.clearCache(Array.from(new Set(e)))}function C4(t,e,n){let r=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),r=this.getColumnWidth(e,void 0,!1)),r}function Xke(){Uke(this,dg,this.hot.getColHeader())}function Jke(t){const e=os(t,r=>{var o;return Be((o=r.address)===null||o===void 0?void 0:o.col)}),n=Pt(e,r=>r.address.col);this.clearCache(Array.from(new Set(n)))}const qh={horizontal:"horizontal",vertical:"vertical"};function Zke(t,e,n){let r,o,i;return e[0]===t[0]&&e[1]<t[1]?(i="left",r=n(e[0],e[1]),o=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(i="right",r=n(e[0],t[3]+1),o=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(i="up",r=n(e[0],e[1]),o=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(i="down",r=n(t[2]+1,e[1]),o=n(e[2],e[3])),r&&r.normalize(),o&&o.normalize(),{directionOfDrag:i,startOfDragCoords:r,endOfDragCoords:o}}function eEe(t){const e={};return t===!0?(e.directions=Object.keys(qh),e.autoInsertRow=!0):Ot(t)?(Be(t.autoInsertRow)?t.direction===qh.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,Be(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(qh)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function Dw(t,e){tEe(t,e),e.add(t)}function tEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fg(t,e,n){return e=nEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nEe(t){var e=rEe(t,"string");return typeof e=="symbol"?e:String(e)}function rEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lw(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("modifyAutofillRange"),$e.getSingleton().register("beforeAutofill"),$e.getSingleton().register("afterAutofill");const S4="autofill",oEe=20,iEe=["fillHandle"],sEe="insert_row_below",aEe=200;var x4=new WeakSet,R4=new WeakSet,k4=new WeakSet,E4=new WeakSet,T4=new WeakSet;class lEe extends an{constructor(){super(...arguments),Dw(this,T4),Dw(this,E4),Dw(this,k4),Dw(this,R4),Dw(this,x4),fg(this,"addingStarted",!1),fg(this,"mouseDownOnCellCorner",!1),fg(this,"mouseDragOutside",!1),fg(this,"handleDraggedCells",0),fg(this,"directions",[]),fg(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return S4}static get PLUGIN_PRIORITY(){return oEe}static get SETTING_KEYS(){return[S4,...iEe]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>Lw(this,R4,cEe).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>Lw(this,x4,uEe).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>Lw(this,k4,hEe).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:r}=e.getTopStartCorner(),{row:o,col:i}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:r,endRow:o,endCol:i}]),a=[],l=[],u=[];return F(s,c=>{for(let h=c.startRow;h<=c.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=c.startCol;h<=c.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),F(a,c=>{const h=[];F(l,d=>{h.push(this.hot.getCopyableData(c,d))}),u.push(h)}),u}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,r,o]=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.getSelectedRangeLast(),s=i.getTopStartCorner(),a=i.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[s.row,s.col,a.row,a.col],u=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,n),Math.max(a.row,r),Math.max(a.col,o)],l),{directionOfDrag:c,startOfDragCoords:h,endOfDragCoords:d}=Zke(l,u,(g,p)=>this.hot._createCellCoords(g,p));if(h&&h.row>-1&&h.col>-1){const g=this.getSelectionData(),p=i.clone(),v=this.hot._createCellRange(h,h,d),C=this.hot.runHooks("beforeAutofill",g,p,v,c);if(C===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let w=C;const y=C;if(["up","left"].indexOf(c)>-1&&!(y.length===1&&y[0].length===0))if(w=[],c==="up"){const x=d.row-h.row+1,T=x%y.length;for(let _=0;_<x;_++)w.push(y[(_+(y.length-T))%y.length])}else{const x=d.col-h.col+1,T=x%y[0].length;for(let _=0;_<y.length;_++){w.push([]);for(let E=0;E<x;E++)w[_].push(y[_][(E+(y[_].length-T))%y[_].length])}}this.hot.populateFromArray(h.row,h.col,w,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(u),this.hot.runHooks("afterAutofill",w,p,v,c),this.hot.render()}else this.hot._refreshBorders();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),r=n.getBottomEndCorner();let o=e;if(this.directions.includes(qh.vertical)&&this.directions.includes(qh.horizontal)){const i=n.getTopStartCorner();(r.col<=e.col||i.col>=e.col)&&(o=this.hot._createCellCoords(r.row,e.col)),(r.row<e.row||i.row>e.row)&&(o=this.hot._createCellCoords(e.row,r.col))}else if(this.directions.includes(qh.vertical))o=this.hot._createCellCoords(e.row,r.col);else if(this.directions.includes(qh.horizontal))o=this.hot._createCellCoords(r.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(o)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(sEe,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},aEe)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),r=this.hot.countRows();e[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),r=this.hot.countRows();let o;for(let i=e[2]+1;i<r;i++){for(let l=e[1];l<=e[3];l++)if(n[i][l])return-1;const s=n[i][e[1]-1],a=n[i][e[3]+1];(s||a)&&(o=i)}return o}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(...Pt(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,r=Dr(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+Kn(this.hot.table),o=Dr(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+pn(this.hot.table);return e.clientY>r&&e.clientX<=o}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>Lw(this,E4,dEe).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>Lw(this,T4,fEe).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=eEe(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function uEe(){this.selectAdjacent()&&this.fillIn()}function cEe(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function hEe(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function dEe(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function fEe(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function xS(t,e){gEe(t,e),e.add(t)}function gEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kh(t,e,n){return e=mEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mEe(t){var e=pEe(t,"string");return typeof e=="symbol"?e:String(e)}function pEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jw(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const RS="autoRowSize",wEe=40,vEe="autoRowSize";var M4=new WeakSet,RP=new WeakSet,_4=new WeakSet,O4=new WeakSet;class Fw extends an{static get PLUGIN_KEY(){return RS}static get PLUGIN_PRIORITY(){return wEe}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),xS(this,O4),xS(this,_4),xS(this,RP),xS(this,M4),Kh(this,"headerHeight",null),Kh(this,"ghostTable",new f4(this.hot)),Kh(this,"samplesGenerator",new CS((n,r)=>{if(n>=0&&r>=0&&this.hot.getCellMeta(n,r).hidden)return!1;let o;return n>=0?o=this.hot.getDataAtCell(n,r):n===-1&&(o=this.hot.getColHeader(r)),{value:o}})),Kh(this,"firstCalculation",!0),Kh(this,"inProgress",!1),Kh(this,"measuredRows",0),Kh(this,"rowHeightsMap",new dc),this.hot.rowIndexMapper.registerMap(vEe,this.rowHeightsMap),this.addHook("beforeRowResize",(n,r,o)=>jw(this,RP,A4).call(this,n,r,o))}isEnabled(){const e=this.hot.getSettings()[RS];return e===!0||Ot(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jw(e,_4,bEe).call(e,...r)}),this.addHook("beforeChangeRender",n=>jw(this,O4,CEe).call(this,n)),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("beforeViewRender",n=>jw(this,M4,yEe).call(this,n)),this.addHook("modifyRowHeight",(n,r)=>this.getRowHeight(r,n)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,r)=>jw(this,RP,A4).call(this,e,n,r))}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,i=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const s=this.samplesGenerator.generateRowSamples(-1,i);this.ghostTable.addColumnHeadersRow(s.get(-1))}Je(o.from,o.to,s=>{if(r||this.rowHeightsMap.getValueAtIndex(s)===null){const a=this.samplesGenerator.generateRowSamples(s,i);F(a,l=>{let[u,c]=l;return this.ghostTable.addRow(u,c)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=o.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=0;const r=this.hot.countRows()-1;let o=null;this.inProgress=!0;const i=()=>{if(!this.hot){eC(o),this.inProgress=!1;return}this.calculateRowsHeight({from:n,to:Math.min(n+Fw.CALCULATION_STEP,r)},e),n=n+Fw.CALCULATION_STEP+1,n<r?o=PM(i):(eC(o),this.inProgress=!1,this.hot.view.adjustElementsSize(!0),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateRowsHeight({from:0,to:s},e),this.firstCalculation=!1,n=s+1),n<r?i():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}setSamplingOptions(){const e=this.hot.getSettings()[RS],n=e&&Qn(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Qn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllRowsHeight(){Th(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){const e=this.hot.getSettings()[RS];let n=Fw.SYNC_CALCULATION_LIMIT;const r=this.hot.countRows()-1;return Ot(e)&&(n=e.syncLimit,zB(n)?n=XU(r,n):n>>=0),Math.min(n,r)}getRowHeight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const r=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let o=n;return r!==null&&r>(n||0)&&(o=r),o}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){const e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){const e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(e){const{from:n,to:r}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Je(Math.min(n,r),Math.max(n,r),o=>{this.rowHeightsMap.setValueAtIndex(o,null)})},!0)}isNeedRecalculate(){return!!os(this.rowHeightsMap.getValues().slice(0,this.measuredRows),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function yEe(){const t=this.hot.renderCall,e=this.hot.getSettings().fixedRowsBottom,n=this.getFirstVisibleRow(),r=this.getLastVisibleRow();if(!(n===-1||r===-1)){if(this.calculateRowsHeight({from:n,to:r},void 0,t),e){const o=this.hot.countRows()-1;this.calculateRowsHeight({from:o-e,to:o})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function A4(t,e,n){let r=t;return n&&(this.calculateRowsHeight(e,void 0,!0),r=this.getRowHeight(e)),r}function bEe(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout(()=>{this.hot&&this.recalculateAllRowsHeight()})}function CEe(t){let e=null;t.length===1?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),e!==null&&this.clearCacheByRange(e)}const{getListWithInsertedItems:SEe,getListWithRemovedItems:xEe}=dz("physicallyIndexed");class REe extends Lh{constructor(){super(e=>e)}insert(e,n){const r=j_(this.indexedValues,n);this.indexedValues=SEe(r,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=xEe(this.indexedValues,e);this.indexedValues=L_(n,e),super.remove(e)}}const kEe=REe,{getListWithInsertedItems:EEe,getListWithRemovedItems:TEe}=dz("physicallyIndexed");class MEe extends Lh{constructor(){super(e=>e)}insert(e,n){this.indexedValues=EEe(this.indexedValues,e,n,(r,o)=>this.getNextValue(o)),super.insert(e,n)}remove(e){this.indexedValues=TEe(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}const _Ee=MEe;function OEe(t,e){AEe(t,e),e.add(t)}function AEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PEe(t,e,n){return e=IEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IEe(t){var e=HEe(t,"string");return typeof e=="symbol"?e:String(e)}function HEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NEe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const kP="bindRowsWithHeaders",DEe=210,LEe="loose",jEe=new Map([["loose",kEe],["strict",_Ee]]);var P4=new WeakSet;class FEe extends an{constructor(){super(...arguments),OEe(this,P4),PEe(this,"headerIndexes",null)}static get PLUGIN_KEY(){return kP}static get PLUGIN_PRIORITY(){return DEe}isEnabled(){return!!this.hot.getSettings()[kP]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[kP];typeof e!="string"&&(e=LEe);const n=jEe.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",r=>NEe(this,P4,WEe).call(this,r)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function WEe(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function kS(t,e){I4(t,e),e.add(t)}function VEe(t,e,n){I4(t,e),e.set(t,n)}function I4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H4(t,e,n){return e=BEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BEe(t){var e=UEe(t,"string");return typeof e=="symbol"?e:String(e)}function UEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N4(t,e){var n=D4(t,e,"get");return zEe(t,n)}function zEe(t,e){return e.get?e.get.call(t):e.value}function ES(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function EP(t,e,n){var r=D4(t,e,"set");return $Ee(t,r,n),n}function D4(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function $Ee(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const TS="collapsibleColumns",GEe=290,YEe=["nestedHeaders"],gg="collapsibleIndicator",L4=TS,j4=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var mg=new WeakMap,F4=new WeakSet,W4=new WeakSet,V4=new WeakSet,B4=new WeakSet;class qEe extends an{constructor(){super(...arguments),kS(this,B4),kS(this,V4),kS(this,W4),kS(this,F4),H4(this,"nestedHeadersPlugin",null),H4(this,"headerStateManager",null),VEe(this,mg,{writable:!0,value:null})}static get PLUGIN_KEY(){return TS}static get PLUGIN_PRIORITY(){return GEe}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[TS,...YEe]}isEnabled(){return!!this.hot.getSettings()[TS]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||wn("You need to configure the Nested Headers plugin in order to use collapsible headers."),EP(this,mg,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>ES(this,V4,XEe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ES(e,B4,JEe).call(e,...o)}),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ES(e,F4,KEe).call(e,...o)}),this.addHook("beforeOnCellMouseDown",(r,o,i)=>ES(this,W4,QEe).call(this,r,o,i)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),EP(this,mg,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:r}=this.hot.getSelectedRangeLast().highlight,{collapsible:o,isCollapsed:i,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(n,r))!==null&&e!==void 0?e:{};o&&(i?this.expandSection({row:n,col:s}):this.collapseSection({row:n,col:s}))},runOnlyIf:()=>{var e;return(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight.isHeader()},group:L4})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(L4)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,o=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,i=function(s){s&&s.parentNode.removeChild(s)};Je(0,e-1,s=>{const a=n.childNodes[s],l=r.childNodes[s],u=o?o.childNodes[s]:null;Je(0,a.childNodes.length-1,c=>{let h=a.childNodes[c].querySelector(`.${gg}`);i(h),l&&l.childNodes[c]&&(h=l.childNodes[c].querySelector(`.${gg}`),i(h)),o&&u&&u.childNodes[c]&&(h=u.childNodes[c].querySelector(`.${gg}`),i(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(r=>{const{collapsible:o,origColspan:i,headerLevel:s,columnIndex:a,isCollapsed:l}=r;if(o===!0&&i>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!j4.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const r=os(e,h=>{let{row:d}=h;return d<0});let o=r.length>0;F(r,h=>{var d;let{row:g,col:p}=h;const{collapsible:v,isCollapsed:C}=(d=this.headerStateManager.getHeaderSettings(g,p))!==null&&d!==void 0?d:{};if(!v||C&&n==="collapse"||!C&&n==="expand")return o=!1,!1});const i=[],s=[];o&&F(r,h=>{let{row:d,col:g}=h;const{colspanCompensation:p,affectedColumns:v,rollbackModification:C}=this.headerStateManager.triggerNodeModification(n,d,g);p>0&&(s.push(...v),i.push(C))});const a=this.getCollapsedColumns();let l=[];n==="collapse"?l=DB([...a,...s]):n==="expand"&&(l=os(a,h=>!s.includes(h)));const u=j4.get(n);if(this.hot.runHooks(u.beforeHook,a,l,o)===!1){F(i,h=>{h()});return}this.hot.batchExecution(()=>{F(s,h=>{N4(this,mg).setValueAtIndex(this.hot.toPhysicalColumn(h),u.hideColumn)})},!0);const c=this.getCollapsedColumns().length!==a.length;this.hot.runHooks(u.afterHook,a,l,o,c),this.hot.render(),this.hot.view.adjustElementsSize(!0)}getCollapsedColumns(){return N4(this,mg).getHiddenIndexes()}destroy(){EP(this,mg,null),super.destroy()}}function KEe(t,e,n){var r;const{collapsible:o,origColspan:i,isCollapsed:s}=(r=this.headerStateManager.getHeaderSettings(n,t))!==null&&r!==void 0?r:{},a=o&&i>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let u=e.querySelector(`.${gg}`);if(Ff(e,[is("")[0]]),a)u||(u=this.hot.rootDocument.createElement("div"),_e(u,gg),e.querySelector("div:first-child").appendChild(u)),Rt(u,["collapsed","expanded"]),s?(_e(u,"collapsed"),Eh(u,"+"),l&&dt(e,...is(!1))):(_e(u,"expanded"),Eh(u,"-"),l&&dt(e,...is(!0))),l&&dt(u,...Ll());else{var c;(c=u)===null||c===void 0||c.remove()}}function QEe(t,e){yt(t.target,gg)&&(yt(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):yt(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),Vs(t))}function XEe(){this.updatePlugin()}function JEe(t,e){e||this.updatePlugin()}function Qh(t,e,n){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZEe(t){var e=eTe(t,"string");return typeof e=="symbol"?e:String(e)}function eTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const tTe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],nTe=!1,rTe=!0,oTe=!0;class iTe{constructor(e,n){Qh(this,"hot",void 0),Qh(this,"sortingStates",new _C),Qh(this,"sortEmptyCells",nTe),Qh(this,"indicator",rTe),Qh(this,"headerAction",oTe),Qh(this,"compareFunctionFactory",void 0),Qh(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){Ot(e)&&It(e,(n,r)=>{tTe.includes(r)&&(this[r]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[r]=n;return r===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return Ot(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(e=>{let[n,r]=e;return{column:this.hot.toVisualColumn(n),...r}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(Be(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}const MS="asc",_S="desc",U4="colHeader";function sTe(t){if(Ot(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[MS,_S].includes(n)}function aTe(t){if(t.some(n=>sTe(n)===!1))return!1;const e=t.map(n=>{let{column:r}=n;return r});return new Set(e).size===e.length}function z4(t){if(t!==_S)return t===MS?_S:MS}function $4(t){return t.querySelector(`.${U4}`)}function G4(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function TP(t,e,n){return t===-1&&e>=0&&_h(n)===!1}const lTe="ascending",uTe="descending",Y4="indicatorDisabled",q4="columnSorting",K4="sortAction",Q4=new Map([[MS,lTe],[_S,uTe]]);function cTe(t,e,n,r){const o=[q4];if(r&&o.push(K4),n===!1)return o.push(Y4),o;const i=t.getSortOrderOfColumn(e);return Be(i)&&o.push(Q4.get(i)),o}function hTe(){return Array.from(Q4.values()).concat(K4,Y4,q4)}function X4(t,e,n){const r=e.locale;return function(o,i){const{sortEmptyCells:s}=n;return typeof o=="string"&&(o=o.toLocaleLowerCase(r)),typeof i=="string"&&(i=i.toLocaleLowerCase(r)),o===i?Wa:Tr(o)?Tr(i)?Wa:s&&t==="asc"?Cr:Sr:Tr(i)?s&&t==="asc"?Sr:Cr:isNaN(o)&&!isNaN(i)?t==="asc"?Sr:Cr:!isNaN(o)&&isNaN(i)||(isNaN(o)||isNaN(i)||(o=parseFloat(o),i=parseFloat(i)),o<i)?t==="asc"?Cr:Sr:o>i?t==="asc"?Sr:Cr:Wa}}const J4="default";function dTe(t,e,n){return function(r,o){const i=parseFloat(r),s=parseFloat(o),{sortEmptyCells:a}=n;if(i===s||isNaN(i)&&isNaN(s))return Wa;if(a){if(Tr(r))return t==="asc"?Cr:Sr;if(Tr(o))return t==="asc"?Sr:Cr}return isNaN(i)?Sr:isNaN(s)?Cr:i<s?t==="asc"?Cr:Sr:i>s?t==="asc"?Sr:Cr:Wa}}const fTe="numeric";function gTe(t,e,n){const r=e.checkedTemplate,o=e.uncheckedTemplate,{sortEmptyCells:i}=n;return function(s,a){const l=Tr(s),u=Tr(a),c=l?o:s,h=u?o:a,d=c===o||c===r,g=h===o||h===r;if(i===!1){if(l&&u===!1)return Sr;if(l===!1&&u)return Cr}return d===!1&&g?t==="asc"?Cr:Sr:d&&g===!1?t==="asc"?Sr:Cr:d===!1&&g===!1?X4(t,e,n)(s,a):c===o&&h===r?t==="asc"?Cr:Sr:c===r&&h===o?t==="asc"?Sr:Cr:Wa}}const mTe="checkbox";function pTe(t,e,n){return function(r,o){const{sortEmptyCells:i}=n;if(r===o)return Wa;if(Tr(r))return Tr(o)?Wa:i&&t==="asc"?Cr:Sr;if(Tr(o))return i&&t==="asc"?Sr:Cr;const s=e.dateFormat,a=ke(r,s),l=ke(o,s);return a.isValid()?l.isValid()?l.isAfter(a)?t==="asc"?Cr:Sr:l.isBefore(a)?t==="asc"?Sr:Cr:Wa:Cr:Sr}}const wTe="date",{register:OS,getItem:Z4,hasItem:vTe}=Bs("sorting.compareFunctionFactory"),{register:e6,getItem:yTe}=Bs("sorting.mainSortComparator");function t6(t){return vTe(t)?Z4(t):Z4(J4)}OS(fTe,dTe),OS(mTe,gTe),OS(wTe,pTe),OS(J4,X4);const Wa=0,Cr=-1,Sr=1;function bTe(t,e){const n=yTe(e);for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.sort(n(...o))}function CTe(t,e){return function(n,r){const[,...o]=n,[,...i]=r;return function(s){const a=t[s],l=e[s],u=o[s],c=i[s],h=l.columnSorting;return(h.compareFunctionFactory?h.compareFunctionFactory:t6(l.type))(a,l,h)(u,c)}(0)}}function AS(t,e){STe(t,e),e.add(t)}function STe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PS(t,e,n){return e=xTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xTe(t){var e=RTe(t,"string");return typeof e=="symbol"?e:String(e)}function RTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const IS="columnSorting",kTe=50,HS="append",ETe="replace",n6=IS;e6(IS,CTe),$e.getSingleton().register("beforeColumnSort"),$e.getSingleton().register("afterColumnSort");var NS=new WeakSet,r6=new WeakSet,o6=new WeakSet,i6=new WeakSet;class s6 extends an{constructor(){super(...arguments),AS(this,i6),AS(this,o6),AS(this,r6),AS(this,NS),PS(this,"columnStatesManager",null),PS(this,"columnMetaCache",null),PS(this,"pluginKey",IS),PS(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return IS}static get PLUGIN_PRIORITY(){return kTe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new iTe(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new dc(n=>{let r=this.hot.toVisualColumn(n);return r===null&&(r=n),this.getMergedPluginSettings(r)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,r)=>pg(this,r6,TTe).call(this,n,r)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pg(e,i6,_Te).call(e,...r)}),this.addHook("afterOnCellMouseDown",(n,r)=>this.onAfterOnCellMouseDown(n,r)),this.addHook("afterInit",()=>pg(this,NS,MP).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pg(e,o6,MTe).call(e,...r)}),this.hot.view&&pg(this,NS,MP).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,r)=>{const o=$4(r);G4(n,r)===!1||o===null||this.updateHeaderClasses(o)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();e.row===-1&&e.col>=0&&this.sort(this.getColumnNextConfig(e.col))},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:n6})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(n6)}sort(e){const n=this.getSortConfig(),r=this.getNormalizedSortConfigs(e),o=this.areValidSortConfigs(r);this.hot.runHooks("beforeColumnSort",n,r,o)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new fz),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),o&&(this.columnStatesManager.setSortStates(r),this.sortByPresetSortStates(r),this.saveAllSortSettings(r)),this.hot.runHooks("afterColumnSort",n,o?r:n,o),o&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return Be(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return aTe(e)&&e.every(r=>{let{column:o}=r;return o<=n&&o>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),r=o=>{let{column:i,...s}=o;return{column:this.hot.toPhysicalColumn(i),...s}};n.initialConfig=Pt(e,r),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,r=o=>{let{column:i,...s}=o;return{column:this.hot.toVisualColumn(i),...s}};return Be(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=Pt(n.initialConfig,r)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(Be(n)){const o=z4(n);return Be(o)?{column:e,sortOrder:o}:void 0}const r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:z4()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HS;const r=this.columnStatesManager.getIndexOfColumnInSortQueue(e),o=r!==-1,i=this.getSortConfig(),s=this.getColumnNextConfig(e);if(o){if(Tn(s))return[...i.slice(0,r),...i.slice(r+1)];if(n===HS)return[...i.slice(0,r),...i.slice(r+1),s];if(n===ETe)return[...i.slice(0,r),s,...i.slice(r+1)]}return Be(s)?i.concat(s):i}getPluginColumnConfig(e){if(Ot(e)){const n=e[this.pluginKey];if(Ot(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),o=this.hot.getCellMeta(0,e),i=Object.getPrototypeOf(o);return Array.isArray(i.columns)?Object.assign(r,n,this.getPluginColumnConfig(i.columns[e])):Mn(i.columns)?Object.assign(r,n,this.getPluginColumnConfig(i.columns(e))):Object.assign(r,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),r}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(e.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}const n=[],r=this.hot.countRows(),o=u=>Pt(e,c=>this.hot.getDataAtCell(u,c.column));for(let u=0;u<this.getNumberOfRowsToSort(r);u+=1)n.push([this.hot.toPhysicalRow(u)].concat(o(u)));const i=Pt(n,u=>u[0]);bTe(n,this.pluginKey,Pt(e,u=>u.sortOrder),Pt(e,u=>this.getFirstCellSettings(u.column)));for(let u=n.length;u<r;u+=1)n.push([u].concat(o(u)));const s=Pt(n,u=>u[0]),a=new Map(Pt(i,(u,c)=>[u,s[c]])),l=Pt(this.hot.rowIndexMapper.getIndexesSequence(),u=>a.has(u)?a.get(u):u);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(Ot(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||Ot(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(Rt(e,hTe()),this.enabled!==!1){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];_e(e,cTe(...r))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Be(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&yt(e.target,U4)}onAfterOnCellMouseDown(e,n){TP(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col)),this.sort(this.getColumnNextConfig(n.col)))}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function MP(){const t=this.getAllSavedSortSettings();if(Ot(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function TTe(t,e){const n=$4(e);if(G4(t,e)===!1||n===null)return;const r=this.getFirstCellSettings(t)[this.pluginKey],o=r.indicator,i=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,o,i),this.hot.getSettings().ariaTags){const s=this.columnStatesManager.getSortOrderOfColumn(t);dt(e,...Kme(s?`${s}ending`:"none"))}}function MTe(t){t===!0&&this.hot.view&&pg(this,NS,MP).call(this)}function _Te(t,e,n,r){TP(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function Xh(t,e,n){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=ATe(t,"string");return typeof e=="symbol"?e:String(e)}function ATe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PTe{constructor(e,n){Xh(this,"plugin",void 0),Xh(this,"hot",void 0),Xh(this,"endpoints",[]),Xh(this,"settings",void 0),Xh(this,"settingsType","array"),Xh(this,"currentEndpoint",null),Xh(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let r=e;if(!r&&typeof this.settings=="function"){this.settingsType="function";return}return r||(r=this.settings),F(r,o=>{const i={};this.assignSetting(o,i,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(o,i,"reversedRowCoords",!1),this.assignSetting(o,i,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,i,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,i,"sourceColumn",o.destinationColumn),this.assignSetting(o,i,"type","sum"),this.assignSetting(o,i,"forceNumeric",!1),this.assignSetting(o,i,"suppressDataTypeErrors",!0),this.assignSetting(o,i,"customFunction",null),this.assignSetting(o,i,"readOnly",!0),this.assignSetting(o,i,"roundFloat",!1),n.push(i)}),n}assignSetting(e,n,r,o){if(r==="ranges"&&e[r]===void 0){n[r]=o;return}else if(r==="ranges"&&e[r].length===0)return;if(e[r]===void 0){if(o instanceof Error)throw o;n[r]=o}else r==="destinationRow"&&n.reversedRowCoords?n[r]=this.hot.countRows()-e[r]-1:n[r]=e[r]}resetSetupBeforeStructureAlteration(e,n,r){if(this.settingsType!=="function")return;const o=e.indexOf("row")>-1?"row":"col",i=this.getAllEndpoints();F(i,s=>{o==="row"&&s.destinationRow>=n&&(e==="insert_row"?s.alterRowOffset=r:e==="remove_row"&&(s.alterRowOffset=-1*r)),o==="col"&&s.destinationColumn>=n&&(e==="insert_col"?s.alterColumnOffset=r:e==="remove_col"&&(s.alterColumnOffset=-1*r))}),this.resetAllEndpoints(i,!1)}resetSetupAfterStructureAlteration(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const d=()=>(this.hot.removeHook("beforeViewRender",d),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",d);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=e.indexOf("move_row")===0,h=n;F(u,d=>{a==="row"&&d.destinationRow>=h&&(d.alterRowOffset=l*r),a==="col"&&d.destinationColumn>=h&&(d.alterColumnOffset=l*r)}),this.resetAllEndpoints(u,!c),c?F(u,d=>{this.extendEndpointRanges(d,h,o[0],o.length),this.recreatePhysicalRanges(d),this.clearOffsetInformation(d)}):F(u,d=>{this.shiftEndpointCoordinates(d,h)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,r,o){F(e.ranges,i=>{i[1]&&(n>=i[0]&&n<=i[1]?r>i[1]?i[1]+=o:r<i[0]&&(i[0]-=o):r>=i[0]&&r<=i[1]&&(i[1]-=o,n<=i[0]&&(i[0]+=1,i[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,r=[],o=[];F(n,i=>{const s=[];if(i[1])for(let a=i[0];a<=i[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(i[0]));o.push(s)}),F(o,i=>{let s=[];F(i,(a,l)=>{l===0?s.push(a):i[l]!==i[l-1]+1&&(s.push(i[l-1]),r.push(s),s=[],s.push(a)),l===i.length-1&&(s.push(a),r.push(s))})}),e.ranges=r}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,F(e.ranges,r=>{F(r,(o,i)=>{o>=n&&(r[i]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(r=>{const o=r.alterRowOffset||0,i=r.alterColumnOffset||0;return r.destinationRow+o>=this.hot.countRows()||r.destinationColumn+i>=this.hot.countCols()})||(this.cellsToSetCache=[],F(e,r=>{this.resetEndpointValue(r,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],F(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],F(e,(r,o,i)=>{`${r[2]||""}`!=`${r[3]}`&&F(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(i[o][1])===s.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),F(n,r=>{this.refreshEndpoint(this.getEndpoint(r))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=e.alterRowOffset||0,o=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?r:0)),this.hot.toVisualColumn(e.destinationColumn+(n?o:0)),""])}setEndpointValue(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const i=this.hot.toVisualRow(e.destinationRow);if(i!==null){const s=this.hot.getCellMeta(i,e.destinationColumn);(n==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const s=e.roundFloat;let a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}r?this.hot.setDataAtCell(o,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([o,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){wn("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function _P(t){return t==null||isNaN(t)}function OP(t,e){ITe(t,e),e.add(t)}function ITe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HTe(t,e,n){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=DTe(t,"string");return typeof e=="symbol"?e:String(e)}function DTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const PP="columnSummary",LTe=220;var a6=new WeakSet,l6=new WeakSet,u6=new WeakSet;class jTe extends an{constructor(){super(...arguments),OP(this,u6),OP(this,l6),OP(this,a6),HTe(this,"endpoints",null)}static get PLUGIN_KEY(){return PP}static get PLUGIN_PRIORITY(){return LTe}isEnabled(){return!!this.hot.getSettings()[PP]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[PP],this.endpoints=new PTe(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,a6,FTe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,l6,WTe).call(e,...r)}),this.addHook("beforeCreateRow",(n,r,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,r,null,o)),this.addHook("beforeCreateCol",(n,r,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,r,null,o)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...r)}),this.addHook("afterCreateRow",(n,r,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,r,null,o)),this.addHook("afterCreateCol",(n,r,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,r,null,o)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...r)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,u6,VTe).call(e,...r)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return It(e.ranges,r=>{n+=this.getPartialSum(r,e.sourceColumn)}),n}getPartialSum(e,n){let r=0,o=e[1]||e[0],i=null,s=0;do{if(i=this.getCellValue(o,n),i=_P(i)?null:i,i!==null){const a=(`${i}`.split(".")[1]||[]).length||1;a>s&&(s=a)}r+=i||0,o-=1}while(o>=e[0]);return Math.round(r*10**s)/10**s}calculateMinMax(e,n){let r=null;return It(e.ranges,o=>{const i=this.getPartialMinMax(o,e.sourceColumn,n);if(r===null&&i!==null&&(r=i),i!==null)switch(n){case"min":r=Math.min(r,i);break;case"max":r=Math.max(r,i);break}}),r===null?"Not enough data":r}getPartialMinMax(e,n,r){let o=null,i=e[1]||e[0],s;do{if(s=this.getCellValue(i,n),s=_P(s)?null:s,o===null)o=s;else if(s!==null)switch(r){case"min":o=Math.min(o,s);break;case"max":o=Math.max(o,s);break}i-=1}while(i>=e[0]);return o}countEmpty(e,n){let r,o=0,i=e[1]||e[0];do r=this.getCellValue(i,n),r=_P(r)?null:r,r===null&&(o+=1),i-=1;while(i>=e[0]);return o}countEntries(e){let n=0;const r=e.ranges;return It(r,o=>{const i=o[1]===void 0?1:o[1]-o[0]+1,s=this.countEmpty(o,e.sourceColumn);n+=i,n-=s}),n}calculateAverage(e){const n=this.calculateSum(e),r=this.countEntries(e);return n/r}getCellValue(e,n){const r=this.hot.toVisualRow(e),o=this.hot.toVisualColumn(n);let i=this.hot.getSourceDataAtCell(e,n),s="";if(r!==null&&o!==null&&(s=this.hot.getCellMeta(r,o).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof i=="string"&&(i=i.replace(/,/,".")),i=parseFloat(i)),isNaN(i)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(un`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return i}}function FTe(){this.endpoints.initEndpoints()}function WTe(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function VTe(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function wg(t,e,n){return e=BTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:String(e)}function UTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vg{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){wg(this,"rootDocument",void 0),wg(this,"isRtl",!1),wg(this,"container",null),wg(this,"editor",void 0),wg(this,"editorStyle",void 0),wg(this,"hidden",!0),this.rootDocument=e,this.isRtl=n,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(e,n){this.editorStyle.left=`${e}px`,this.editorStyle.top=`${n}px`}setSize(e,n){if(e&&n){const r=this.getInputElement();r.style.width=`${e}px`,r.style.height=`${n}px`}}getSize(){return{width:pn(this.getInputElement()),height:Kn(this.getInputElement())}}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return this.editorStyle.display==="block"}setValue(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=e}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=this.rootDocument.createElement("div"),n=this.rootDocument.createElement("textarea");return e.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),_e(this.container,vg.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),_e(e,vg.CLASS_EDITOR),_e(n,vg.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),this.container.appendChild(e),e}getInputElement(){return this.editor.querySelector(`.${vg.CLASS_INPUT}`)}destroy(){const e=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,e&&e.removeChild(this.container)}}function IP(t,e,n){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=$Te(t,"string");return typeof e=="symbol"?e:String(e)}function $Te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const GTe=250,YTe=250;class c6{constructor(e){IP(this,"wasLastActionShow",!0),IP(this,"showDebounced",null),IP(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},YTe)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GTe;this.showDebounced=TM(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}bn(c6,ei);function qTe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function KTe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function Jh(t,e){const n={};return F(t,r=>{r.forAll((o,i)=>{o>=0&&i>=0&&(n[o]||(n[o]=[]),n[o][i]=e(o,i))})}),n}function pc(t,e,n,r,o){F(t,i=>{i.forAll((s,a)=>{s>=0&&a>=0&&QTe(s,a,e,n,r,o)})})}function QTe(t,e,n,r,o,i){const s=o(t,e);let a=r;s.className&&(n==="vertical"?a=qTe(s.className,r):a=KTe(s.className,r)),i(t,e,"className",a)}function Kl(t){return`<span class="selected">\u2713</span>${t}`}function Va(t,e){let n=!1;return Array.isArray(t)&&F(t,r=>(r.forAll((o,i)=>{if(o>=0&&i>=0&&e(o,i))return n=!0,!1}),n)),n}function DS(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:r}=e.defaultView,{top:o,left:i}=r.getBoundingClientRect();n.top=o,n.left=i}return n}const Ht="---------";function XTe(){return{name:Ht}}const ps="alignment";function JTe(){return{key:ps,name(){return this.getTranslatedPhrase(fO)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${ps}:left`,name(){let t=this.getTranslatedPhrase(gO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htLeft")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:center`,name(){let t=this.getTranslatedPhrase(mO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htCenter")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:right`,name(){let t=this.getTranslatedPhrase(pO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htRight")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:justify`,name(){let t=this.getTranslatedPhrase(wO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htJustify")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{name:Ht},{key:`${ps}:top`,name(){let t=this.getTranslatedPhrase(vO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htTop")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:middle`,name(){let t=this.getTranslatedPhrase(yO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htMiddle")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:bottom`,name(){let t=this.getTranslatedPhrase(bO);return Va(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htBottom")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",e,t,n,r),pc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1}]}}}const LS="clear_column";function ZTe(){return{key:LS,name(){return this.getTranslatedPhrase(Z_)},callback(t,e){const n=e[0].start.col,r=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}const Ww="col_left";function eMe(){return{key:Ww,name(){return this.getTranslatedPhrase(G_)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Vw="col_right";function tMe(){return{key:Vw,name(){return this.getTranslatedPhrase(Y_)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Bw="make_read_only";function nMe(){return{key:Bw,name(){let t=this.getTranslatedPhrase(J_);return Va(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Va(t,(n,r)=>this.getCellMeta(n,r).readOnly);F(t,n=>{n.forAll((r,o)=>{r>=0&&o>=0&&this.setCellMeta(r,o,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const jS="redo";function rMe(){return{key:jS,name(){return this.getTranslatedPhrase(X_)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const Uw="remove_col";function oMe(){return{key:Uw,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(K_,e)},callback(){this.alter("remove_col",aCe(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const FS="remove_row";function iMe(){return{key:FS,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(q_,e)},callback(){this.alter("remove_row",lCe(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const WS="row_above";function sMe(){return{key:WS,name(){return this.getTranslatedPhrase(z_)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const VS="row_below";function aMe(){return{key:VS,name(){return this.getTranslatedPhrase($_)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const zw="no_items";function lMe(){return{key:zw,name(){return this.getTranslatedPhrase(U_)},disabled:!0,isCommand:!1}}const BS="undo";function uMe(){return{key:BS,name(){return this.getTranslatedPhrase(Q_)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const cMe=[WS,VS,Ww,Vw,LS,FS,Uw,BS,jS,Bw,ps,Ht,zw],hMe={[Ht]:XTe,[zw]:lMe,[WS]:sMe,[VS]:aMe,[Ww]:eMe,[Vw]:tMe,[LS]:ZTe,[FS]:iMe,[Uw]:oMe,[BS]:uMe,[jS]:rMe,[Bw]:nMe,[ps]:JTe};function h6(){const t={};return It(hMe,(e,n)=>{t[n]=e()}),t}function dMe(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(cO):this.getTranslatedPhrase(uO)},callback(){const e=this.getSelectedRangeLast();this.deselectCell(),t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function fMe(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(hO)},callback(){this.getSelectedRangeLast().forAll((e,n)=>{e>=0&&n>=0&&t.removeCommentAtCell(e,n,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function gMe(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(dO);return Va(this.getSelectedRange(),(n,r)=>t.getCommentMeta(n,r,US))?Kl(e):e},callback(){this.getSelectedRangeLast().forAll((e,n)=>{if(e>=0&&n>=0){const r=!!t.getCommentMeta(e,n,US);t.updateCommentMeta(e,n,{[US]:!r})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function Ba(t,e){d6(t,e),e.add(t)}function Zh(t,e,n){d6(t,e),e.set(t,n)}function d6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mMe(t,e,n){return e=pMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pMe(t){var e=wMe(t,"string");return typeof e=="symbol"?e:String(e)}function wMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ua(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Ql(t,e,n){var r=f6(t,e,"set");return vMe(t,r,n),n}function vMe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Vt(t,e){var n=f6(t,e,"get");return yMe(t,n)}function f6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function yMe(t,e){return e.get?e.get.call(t):e.value}const $w="comments",bMe=60,Xl="comment",Gw="value",g6="style",US="readOnly",zS=$w,HP=`plugin:${$w}`;var Nn=new WeakMap,Js=new WeakMap,$S=new WeakMap,GS=new WeakMap,YS=new WeakMap,NP=new WeakMap,qS=new WeakMap,m6=new WeakSet,p6=new WeakSet,w6=new WeakSet,v6=new WeakSet,y6=new WeakSet,b6=new WeakSet,C6=new WeakSet,S6=new WeakSet,x6=new WeakSet,R6=new WeakSet;class CMe extends an{constructor(){super(...arguments),Ba(this,R6),Ba(this,x6),Ba(this,S6),Ba(this,C6),Ba(this,b6),Ba(this,y6),Ba(this,v6),Ba(this,w6),Ba(this,p6),Ba(this,m6),mMe(this,"range",{}),Zh(this,Nn,{writable:!0,value:null}),Zh(this,Js,{writable:!0,value:null}),Zh(this,$S,{writable:!0,value:!1}),Zh(this,GS,{writable:!0,value:!1}),Zh(this,YS,{writable:!0,value:{}}),Zh(this,NP,{writable:!0,value:null}),Zh(this,qS,{writable:!0,value:""})}static get PLUGIN_KEY(){return $w}static get PLUGIN_PRIORITY(){return bMe}isEnabled(){return!!this.hot.getSettings()[$w]}enablePlugin(){this.enabled||(Vt(this,Nn)||Ql(this,Nn,new vg(this.hot.rootDocument,this.hot.isRtl())),Vt(this,Js)||Ql(this,Js,new c6(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",e=>this.addToContextMenu(e)),this.addHook("afterRenderer",(e,n,r,o,i,s)=>Ua(this,v6,kMe).call(this,e,s)),this.addHook("afterScroll",()=>Ua(this,R6,AMe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",e=>Ua(this,x6,OMe).call(this,e)),Vt(this,Js).addLocalHook("hide",()=>this.hide()),Vt(this,Js).addLocalHook("show",(e,n)=>this.showAtCell(e,n)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Vt(this,Js).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),r=e.addContext(HP);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const o=this.hot.getSelectedRangeLast();Ql(this,GS,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(o),this.show(),this.focusEditor(),e.setActiveContextName(HP),this.hot._registerTimeout(()=>{Ql(this,GS,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&!Vt(this,Nn).isVisible()},group:zS}),r.addShortcut({keys:[["Escape"]],callback:()=>{Vt(this,Nn).setValue(Vt(this,qS)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&Vt(this,Nn).isVisible()},group:zS}),r.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&Vt(this,Nn).isVisible()},group:zS})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(zS)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",r=>Ua(this,p6,xMe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>Ua(this,m6,SMe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Ua(this,w6,RMe).call(this)),this.eventManager.addEventListener(n,"focus",()=>Ua(this,b6,TMe).call(this)),this.eventManager.addEventListener(n,"blur",()=>Ua(this,y6,EMe).call(this)),this.eventManager.addEventListener(n,"mousedown",r=>Ua(this,C6,MMe).call(this,r)),this.eventManager.addEventListener(n,"mouseup",r=>Ua(this,S6,_Me).call(this,r))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=xh(e.target,"TD","TBODY");return!!(n&&yt(n,"htCommentCell")&&xh(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=Vt(this,Nn).getValue();let r="";e!=null?r=e:n!=null&&(r=n);const o=this.range.from.row,i=this.range.from.col;this.updateCommentMeta(o,i,{[Gw]:r}),this.hot.render()}setCommentAtCell(e,n,r){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(r)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Xl),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(r)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,Gw)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,Gw)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:r}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||r<0||r>this.hot.countSourceCols()-1)return!1;const o=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Vt(this,Js).cancelHiding(),Vt(this,Nn).setValue((e=o[Xl]?o[Xl][Gw]:null)!==null&&e!==void 0?e:""),Vt(this,Nn).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){Vt(this,Nn).hide()}refreshEditor(){var e,n;if(!(arguments.length>0&&arguments[0]!==void 0&&arguments[0])&&(!this.range.from||!Vt(this,Nn).isVisible()))return;const{rowIndexMapper:r,columnIndexMapper:o}=this.hot,{row:i,col:s}=this.range.from;let a=r.getRenderableFromVisualIndex(i),l=o.getRenderableFromVisualIndex(s);const u=a===null;Vt(this,Nn).setPosition(0,0),a===null&&(a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(i,-1))),l===null&&(l=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(s,-1)));const c=a===null,h=l===null;a=(e=a)!==null&&e!==void 0?e:0,l=(n=l)!==null&&n!==void 0?n:0;const{rootWindow:d,view:{_wt:g}}=this.hot,{wtTable:p}=g,v=g.getCell({row:a,col:l},!0),C=this.getCommentMeta(i,s,g6);C?Vt(this,Nn).setSize(C.width,C.height):Vt(this,Nn).resetSize();const w=h?0:p.getStretchedColumnWidth(l),y=u&&!c?Kn(v):0,{left:x,top:T,width:_,height:E}=v.getBoundingClientRect(),{width:O,height:N}=Vt(this,Nn).getSize(),{innerWidth:H,innerHeight:L}=this.hot.rootWindow,G=this.hot.rootDocument.documentElement;let ue=x+d.scrollX+w,B=T+d.scrollY+y;this.hot.isRtl()&&(ue-=O+w),this.hot.isLtr()&&x+_+O>H?ue=x+d.scrollX-O-1:this.hot.isRtl()&&ue<-(G.scrollWidth-G.clientWidth)&&(ue=x+d.scrollX+w+1),T+N>L&&(B-=N-E+1),Vt(this,Nn).setPosition(ue,B),Vt(this,Nn).setReadOnlyState(this.getCommentMeta(i,s,US))}focusEditor(){Vt(this,Nn).focus()}updateCommentMeta(e,n,r){const o=this.hot.getCellMeta(e,n)[Xl];let i;o?(i=_o(o),Z0(i,r)):i=r,this.hot.setCellMeta(e,n,Xl,i)}getCommentMeta(e,n,r){const o=this.hot.getCellMeta(e,n);if(o[Xl])return o[Xl][r]}addToContextMenu(e){e.items.push({name:Ht},dMe(this),fMe(this),gMe(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[$w];if(Ot(e))return e.displayDelay}getEditorInputElement(){return Vt(this,Nn).getInputElement()}destroy(){Vt(this,Nn)&&Vt(this,Nn).destroy(),Vt(this,Js)&&Vt(this,Js).destroy(),super.destroy()}}function SMe(t){if(!(!this.hot.view||!this.hot.view._wt)&&!Vt(this,$S)&&!this.targetIsCommentTextArea(t)){const e=xh(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function xMe(t){const{rootDocument:e}=this.hot;if(!(Vt(this,$S)||Vt(this,Nn).isFocused()||yt(t.target,"wtBorder")||Vt(this,NP)===t.target||!Vt(this,Nn)))if(Ql(this,NP,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));Vt(this,Js).show(n)}else Rh(t.target,e)&&!this.targetIsCommentTextArea(t)&&Vt(this,Js).hide()}function RMe(){Ql(this,$S,!1)}function kMe(t,e){e[Xl]&&e[Xl][Gw]&&_e(t,e.commentedCellClassName)}function EMe(){Ql(this,qS,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function TMe(){Ql(this,qS,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(HP)}function MMe(t){Ql(this,YS,{width:pn(t.target),height:Kn(t.target)})}function _Me(t){const e=pn(t.target),n=Kn(t.target);(e!==Vt(this,YS).width+1||n!==Vt(this,YS).height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,{[g6]:{width:e,height:n}})}function OMe(t){Vt(this,Nn).isVisible()&&Vs(t)}function AMe(){Vt(this,GS)||this.hide()}var k6=r0,PMe=TypeError,IMe=function(t,e){if(!delete t[e])throw new PMe("Cannot delete property "+k6(e)+" of "+k6(t))},HMe=Ku,NMe=i0,DMe=Pp,LMe=G2,jMe=IMe,FMe=Y2,WMe=[].unshift(0)!==1,VMe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},BMe=WMe||!VMe();HMe({target:"Array",proto:!0,arity:1,forced:BMe},{unshift:function(t){var e=NMe(this),n=DMe(e),r=arguments.length;if(r){FMe(n+r);for(var o=n;o--;){var i=o+r;o in e?e[i]=e[o]:jMe(e,i)}for(var s=0;s<r;s++)e[s]=arguments[s]}return LMe(e,n+r)}});function DP(t,e,n){return e=UMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UMe(t){var e=zMe(t,"string");return typeof e=="symbol"?e:String(e)}function zMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class E6{constructor(e){DP(this,"hot",void 0),DP(this,"commands",{}),DP(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.split(":"),s=i[0],a=i.length===2?i[1]:null;let l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=$Me(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||Qn(l,"submenu"))return;const u=[];typeof l.callback=="function"&&u.push(l.callback),typeof this.commonCallback=="function"&&u.push(this.commonCallback),r.unshift(i.join(":")),F(u,c=>c.apply(this.hot,r))}}function $Me(t,e){let n;return F(e,r=>{const o=r.key?r.key.split(":"):null;if(Array.isArray(o)&&o[1]===t)return n=r,!1}),n}function LP(t,e,n){return e=GMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GMe(t){var e=YMe(t,"string");return typeof e=="symbol"?e:String(e)}function YMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class T6{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;LP(this,"hot",void 0),LP(this,"predefinedItems",h6()),LP(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,It(e,(r,o)=>{let i="";r.name===Ht?(n[Ht]=r,i=Ht):isNaN(parseInt(o,10))?(r.key=r.key===void 0?o:r.key,n[o]=r,i=r.key):(n[r.key]=r,i=r.key),this.defaultOrderPattern.push(i)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return qMe(e,this.defaultOrderPattern,this.predefinedItems)}}function qMe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[];let o=t;return o&&o.items?o=o.items:Array.isArray(o)||(o=e),Ot(o)?It(o,(i,s)=>{let a=n[typeof i=="string"?i:s];a||(a=i),Ot(i)?yr(a,i):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),r.push(a)}):F(o,(i,s)=>{let a=n[i];!a&&cMe.indexOf(i)>=0||(a||(a={name:i,key:`${s}`}),Ot(i)&&yr(a,i),a.key===void 0&&(a.key=s),r.push(a))}),r}function wc(t,e,n){return e=KMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KMe(t){var e=QMe(t,"string");return typeof e=="symbol"?e:String(e)}function QMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XMe{constructor(e,n){wc(this,"top",void 0),wc(this,"topRelative",void 0),wc(this,"left",void 0),wc(this,"leftRelative",void 0),wc(this,"scrollTop",void 0),wc(this,"scrollLeft",void 0),wc(this,"cellHeight",void 0),wc(this,"cellWidth",void 0);const r=n.scrollY,o=n.scrollX;let i,s,a,l,u,c;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(i=parseInt(e.top,10),a=parseInt(e.left,10),u=e.height||0,c=e.width||0,s=i,l=a,i+=r,a+=o):this.type==="event"&&(i=parseInt(e.pageY,10),a=parseInt(e.pageX,10),u=e.target.clientHeight,c=e.target.clientWidth,s=i-r,l=a-o),this.top=i,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=r,this.scrollLeft=o,this.cellHeight=u,this.cellWidth=c}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function Yw(t,e,n){JMe(t,e),e.set(t,n)}function JMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jt(t,e){var n=M6(t,e,"get");return ZMe(t,n)}function ZMe(t,e){return e.get?e.get.call(t):e.value}function KS(t,e,n){var r=M6(t,e,"set");return e_e(t,r,n),n}function M6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function e_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Po=new WeakMap,vc=new WeakMap,Xr=new WeakMap,jP=new WeakMap,yg=new WeakMap;class t_e{constructor(e){Yw(this,Po,{writable:!0,value:void 0}),Yw(this,vc,{writable:!0,value:void 0}),Yw(this,Xr,{writable:!0,value:void 0}),Yw(this,jP,{writable:!0,value:!1}),Yw(this,yg,{writable:!0,value:{above:0,below:0,left:0,right:0}}),KS(this,jP,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return jt(this,yg)[e]=n,this}setElement(e){return KS(this,Po,e),this}setParentElement(e){return KS(this,vc,e),this}updatePosition(e){KS(this,Xr,new XMe(e,jt(this,Po).ownerDocument.defaultView)),jt(this,jP)?(jt(this,Xr).fitsBelow(jt(this,Po))?this.setPositionBelowCursor():jt(this,Xr).fitsAbove(jt(this,Po))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){jt(this,Po).dir==="rtl"?jt(this,Xr).fitsOnLeft(jt(this,Po))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():jt(this,Xr).fitsOnRight(jt(this,Po))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=jt(this,yg).above+jt(this,Xr).top-jt(this,Po).offsetHeight;jt(this,vc)&&(e=jt(this,Xr).top+jt(this,Xr).cellHeight-jt(this,Po).offsetHeight+3),jt(this,Po).style.top=`${e}px`}setPositionBelowCursor(){let e=jt(this,yg).below+jt(this,Xr).top+1;jt(this,vc)&&(e=jt(this,Xr).top-1),jt(this,Po).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=jt(this,Xr).left;if(jt(this,vc)){const{right:n}=jt(this,vc).getBoundingClientRect();e+=jt(this,Xr).cellWidth+n-(jt(this,Xr).left+jt(this,Xr).cellWidth)}else e+=jt(this,yg).right;jt(this,Po).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=jt(this,yg).left+jt(this,Xr).left-jt(this,Po).offsetWidth;if(jt(this,vc)){const{left:n}=jt(this,vc).getBoundingClientRect();e-=jt(this,Xr).left-n}jt(this,Po).style.left=`${e}px`}}function _6(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:r=()=>{},onClear:o=()=>{}}=t;const i=new Set;let s=Ei(e,-1,p()-1);function a(C,w){const y=p()-1;return C<0&&(C=y),C>y&&(C=0),i.has(C)?-1:(i.add(C),r(C,!1)===!1&&(C=a(w===1?++C:--C,w)),C)}function l(C){C>-1&&C<p()&&r(C,!0)!==!1&&(s=C)}function u(){return s}function c(){p()>0&&(i.clear(),s=a(0,1))}function h(){p()>0&&(i.clear(),s=a(p()-1,-1))}function d(){p()>0&&(i.clear(),s=a(++s,1))}function g(){p()>0&&(i.clear(),s=a(--s,-1))}function p(){return Math.max(n(),0)}function v(){i.clear(),s=e,o()}return{setCurrentPage:l,getCurrentPage:u,toFirstItem:c,toLastItem:h,toNextItem:d,toPreviousItem:g,getSize:p,clear:v}}function n_e(t){return Pt(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function FP(t){return Qn(t,"submenu")}function WP(t){return new RegExp(Ht,"i").test(t.name)}function QS(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function O6(t){return Qn(t,"disableSelection")}function r_e(t){return yt(t,"htSeparator")}function o_e(t){return yt(t,"htSubmenu")}function i_e(t){return yt(t,"htDisabled")}function s_e(t){return yt(t,"htSelectionDisabled")}function a_e(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function A6(t,e){const n=t.slice(0);for(let r=0;r<n.length&&n[r].name===e;)n.shift();return n}function l_e(t,e){let n=t.slice(0);return n.reverse(),n=A6(n,e),n.reverse(),n}function u_e(t){const e=[];return F(t,(n,r)=>{r>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function c_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ht,n=t.slice(0);return n=A6(n,e),n=l_e(n,e),n=u_e(n),n}function h_e(t){return _6({size:()=>t.countRows(),onItemSelect(e,n){const r=t.getCell(e,0);if(!r||r_e(r)||i_e(r)||s_e(r))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function d_e(t){return[{keys:[["Tab"],["Shift","Tab"],["Control/Meta","A"]],forwardToContext:t.hot.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const e=t.hotMenu.getSelectedLast();if(e){const n=t.openSubMenu(e[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{t.hotMenu.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:e=>{const n=t.hotMenu.getSelectedLast();n&&(t.hotMenu.getSourceDataAtRow(n[0]).submenu?t.openSubMenu(n[0]).getNavigator().toFirstItem():(t.executeCommand(e),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{t.hotMenu.getSelectedLast()?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{t.hotMenu.getSelectedLast()?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const P6="menu",I6=P6;function f_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];r(d_e(t)),e.forEach(u=>{let{shortcuts:c,contextName:h}=u;o(c,h)});function r(u,c){a(c).addShortcuts(u,{group:P6})}function o(u,c){const h=a(c);u.forEach(d=>{let{keys:g}=d;g.forEach(p=>h.removeShortcutsByKeys(p))}),n.push({shortcuts:u,contextName:c}),r(u,c)}function i(){return[...n]}function s(u){return u?`${I6}:${u}`:I6}function a(u){var c;const h=t.hotMenu.getShortcutManager(),d=s(u);return(c=h.getContext(d))!==null&&c!==void 0?c:h.addContext(d)}function l(u){t.hotMenu.getShortcutManager().setActiveContextName(s(u))}return{addCustomShortcuts:o,getCustomShortcuts:i,getContext:a,listen:l}}function g_e(t){return(e,n,r,o,i,s)=>{if(n.hasAttribute("ghost-table"))return;const a=e.getSourceDataAtRow(r),l=t.rootDocument.createElement("div"),u=typeof s=="function"?s.call(t):s;if(Oa(n),_e(l,"htItemWrapper"),t.getSettings().ariaTags){const c=!QS(a,t)&&!O6(a)&&!WP(a);dt(n,[Wme(),bM(u),...c?[jf(-1)]:[],...QS(a,t)?[Yme()]:[],...FP(a)?[is(!1)]:[]])}n.className="",n.appendChild(l),WP(a)?_e(n,"htSeparator"):typeof a.renderer=="function"?(_e(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,r,o,i,u))):Wf(l,u),QS(a,t)?_e(n,"htDisabled"):O6(a)?_e(n,"htSelectionDisabled"):FP(a)&&_e(n,"htSubmenu")}}function H6(t,e,n){m_e(t,e),e.set(t,n)}function m_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function za(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=w_e(t,"string");return typeof e=="symbol"?e:String(e)}function w_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t,e,n){var r=D6(t,e,"set");return v_e(t,r,n),n}function v_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qw(t,e){var n=D6(t,e,"get");return y_e(t,n)}function D6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function y_e(t,e){return e.get?e.get.call(t):e.value}const L6=215;var Kw=new WeakMap,XS=new WeakMap;class bg{constructor(e,n){var r=this;za(this,"hot",void 0),za(this,"options",void 0),za(this,"eventManager",new Us(this)),za(this,"container",void 0),za(this,"positioner",void 0),za(this,"hotMenu",null),za(this,"hotSubMenus",{}),za(this,"parentMenu",void 0),za(this,"menuItems",null),za(this,"origOutsideClickDeselects",null),H6(this,Kw,{writable:!0,value:void 0}),H6(this,XS,{writable:!0,value:void 0}),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:L6,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new t_e(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.parentMenu.runLocalHooks("afterSelectionChange",...i)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=G0(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return qw(this,Kw)}getKeyboardShortcutsCtrl(){return qw(this,XS)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=TM(a=>this.openSubMenu(a),300),n=this.options.minWidth||L6;let r=!1,o=os(this.menuItems,a=>(a.key===zw&&(r=!0),a_e(a,this.hot)));if(o.length<1&&!r)o.push(h6()[zw]);else if(o.length===0)return;o=c_e(o,Ht);let i=!1;const s={data:o,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Be(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:g_e(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{qw(this,Kw).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},rowHeights:a=>o[a].name===Ht?1:23,afterOnCellContextMenu:a=>{a.preventDefault(),PU()&&i&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,u,c,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(i=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!PU()||!_h(a))&&i&&this.hasSelectedItem()&&(oc()||AU()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),N6(this,Kw,h_e(this.hotMenu)),N6(this,XS,f_e(this)),qw(this,XS).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(qw(this,Kw).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const r=this.parentMenu.hotMenu.getCell(n[0],0);dt(r,[is(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!o_e(n))return!1;const r=this.hotMenu.getSourceDataAtRow(e),o=new bg(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(r.submenu.items),o.open(),o.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=o,this.hot.getSettings().ariaTags&&dt(n,[is(!0)]),o}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[n.key];if(r){r.destroy(),delete this.hotSubMenus[n.key];const o=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&dt(o,[is(!1)])}}closeAllSubMenus(){F(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const r=this.hot.getSelectedRange(),o=r?n_e(r):[];this.runLocalHooks("executeCommand",n.key,o,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,o,e)}isCommandPassive(e){return e.isCommand===!1||WP(e)||QS(e,this.hot)||FP(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let r=e,o;return r&&(Mn(r)&&(r=r.call(this.hot),r===null||Tn(r)?r="":r=r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,o=n.querySelector(`.${this.options.className}.${r}`)),o||(o=n.createElement("div"),_e(o,`htMenu ${this.options.className}`),r&&_e(o,r),this.options.container.appendChild(o)),o}onAfterInit(){const{wtTable:e}=this.hotMenu.view._wt,n=this.hotMenu.getSettings().data,r=e.hider.style,o=e.holder.style,i=parseInt(r.width,10),s=fo(n,(a,l)=>a+(l.name===Ht?1:26),0);o.width=`${i+3}px`,o.height=`${s+3}px`,r.height=o.height,this.hot.getSettings().ariaTags&&dt(this.hotMenu.rootElement,[Fme(),jf(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Rh(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Rh(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&yt(e.target,"htCore")&&Rh(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}bn(bg,ei);function JS(t,e){b_e(t,e),e.add(t)}function b_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VP(t,e,n){return e=C_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=S_e(t,"string");return typeof e=="symbol"?e:String(e)}function S_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZS(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const Qw="contextMenu",x_e=70,j6=Qw;$e.getSingleton().register("afterContextMenuDefaultOptions"),$e.getSingleton().register("beforeContextMenuShow"),$e.getSingleton().register("afterContextMenuShow"),$e.getSingleton().register("afterContextMenuHide"),$e.getSingleton().register("afterContextMenuExecute");var F6=new WeakSet,W6=new WeakSet,V6=new WeakSet,B6=new WeakSet;class e1 extends an{constructor(){super(...arguments),JS(this,B6),JS(this,V6),JS(this,W6),JS(this,F6),VP(this,"commandExecutor",new E6(this.hot)),VP(this,"itemsFactory",null),VP(this,"menu",null)}static get PLUGIN_KEY(){return Qw}static get PLUGIN_PRIORITY(){return x_e}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[WS,VS,Ht,Ww,Vw,Ht,FS,Uw,Ht,BS,jS,Ht,Bw,Ht,ps]}isEnabled(){return!!this.hot.getSettings()[Qw]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Qw];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new bg(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>ZS(this,W6,k_e).call(this)),this.menu.addLocalHook("afterOpen",()=>ZS(this,V6,E_e).call(this)),this.menu.addLocalHook("afterClose",()=>ZS(this,B6,T_e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.executeCommand.call(e,...o)}),this.addHook("afterOnCellContextMenu",r=>ZS(this,F6,R_e).call(this,r)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),r=DS(this.menu.container,this.hot.rootDocument);this.open({left:n.left+r.left,top:n.top+r.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:j6})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(j6)}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.prepareMenuItems(),this.menu.open(),It(r,(o,i)=>{this.menu.setOffset(i,o)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.commandExecutor.execute(e,...r)}prepareMenuItems(){this.itemsFactory=new T6(this.hot,e1.DEFAULT_ITEMS);const e=this.hot.getSettings()[Qw],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),F(r,o=>this.commandExecutor.registerCommand(o.key,o))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function R_e(t){const e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;function o(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const i=t.target;if(this.close(),yt(i,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||r)&&!o(i)&&!(yt(i,"current")&&yt(i,"wtBorder"))))return;const s=DS(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function k_e(){this.hot.runHooks("beforeContextMenuShow",this)}function E_e(){this.hot.runHooks("afterContextMenuShow",this)}function T_e(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}e1.SEPARATOR={name:Ht};function M_e(t){return{key:"copy",name(){return this.getTranslatedPhrase(eO)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function __e(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?Ei(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(rO,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function O_e(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?Ei(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(nO,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function A_e(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?Ei(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(tO,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function P_e(t){return{key:"cut",name(){return this.getTranslatedPhrase(oO)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class I_e{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class H_e{constructor(){this.clipboardData=new I_e}}function U6(t,e){z6(t,e),e.add(t)}function Cg(t,e,n){z6(t,e),e.set(t,n)}function z6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t1(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Io(t,e){var n=$6(t,e,"get");return N_e(t,n)}function N_e(t,e){return e.get?e.get.call(t):e.value}function Sg(t,e,n){var r=$6(t,e,"set");return D_e(t,r,n),n}function $6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function D_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var yc=new WeakMap,BP=new WeakMap,Xw=new WeakMap,UP=new WeakMap,zP=new WeakMap,Jw=new WeakMap,n1=new WeakSet,G6=new WeakSet;class L_e{constructor(e){let{countRows:n,countColumns:r,rowsLimit:o,columnsLimit:i,countColumnHeaders:s}=e;U6(this,G6),U6(this,n1),Cg(this,yc,{writable:!0,value:void 0}),Cg(this,BP,{writable:!0,value:void 0}),Cg(this,Xw,{writable:!0,value:void 0}),Cg(this,UP,{writable:!0,value:void 0}),Cg(this,zP,{writable:!0,value:void 0}),Cg(this,Jw,{writable:!0,value:void 0}),Sg(this,BP,n),Sg(this,Xw,r),Sg(this,UP,o),Sg(this,zP,i),Sg(this,Jw,s)}setSelectedRange(e){Sg(this,yc,e)}getCellsRange(){if(Io(this,BP).call(this)===0||Io(this,Xw).call(this)===0)return null;const{row:e,col:n}=Io(this,yc).getTopStartCorner(),{row:r,col:o}=Io(this,yc).getBottomEndCorner(),i=t1(this,G6,j_e).call(this,e,r),s=t1(this,n1,$P).call(this,n,o);return{isRangeTrimmed:r!==i||o!==s,startRow:e,startCol:n,endRow:i,endCol:s}}getMostBottomColumnHeadersRange(){if(Io(this,Xw).call(this)===0||Io(this,Jw).call(this)===0)return null;const{col:e}=Io(this,yc).getTopStartCorner(),{col:n}=Io(this,yc).getBottomEndCorner(),r=t1(this,n1,$P).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-1,startCol:e,endRow:-1,endCol:r}}getAllColumnHeadersRange(){if(Io(this,Xw).call(this)===0||Io(this,Jw).call(this)===0)return null;const{col:e}=Io(this,yc).getTopStartCorner(),{col:n}=Io(this,yc).getBottomEndCorner(),r=t1(this,n1,$P).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-Io(this,Jw).call(this),startCol:e,endRow:-1,endCol:r}}}function $P(t,e){return Math.min(e,Math.max(t+Io(this,zP).call(this)-1,t))}function j_e(t,e){return Math.min(e,Math.max(t+Io(this,UP).call(this)-1,t))}function Y6(t){const e=[],n=[];return F(t,r=>{const o=Math.min(r.startRow,r.endRow),i=Math.max(r.startRow,r.endRow);Je(o,i,l=>{e.indexOf(l)===-1&&e.push(l)});const s=Math.min(r.startCol,r.endCol),a=Math.max(r.startCol,r.endCol);Je(s,a,l=>{n.indexOf(l)===-1&&n.push(l)})}),{rows:e,columns:n}}function $a(t,e){q6(t,e),e.add(t)}function bc(t,e,n){q6(t,e),e.set(t,n)}function q6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zw(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=W_e(t,"string");return typeof e=="symbol"?e:String(e)}function W_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ii(t,e){var n=K6(t,e,"get");return V_e(t,n)}function V_e(t,e){return e.get?e.get.call(t):e.value}function ws(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Zs(t,e,n){var r=K6(t,e,"set");return B_e(t,r,n),n}function K6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function B_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}$e.getSingleton().register("afterCopyLimit"),$e.getSingleton().register("modifyCopyableRange"),$e.getSingleton().register("beforeCut"),$e.getSingleton().register("afterCut"),$e.getSingleton().register("beforePaste"),$e.getSingleton().register("afterPaste"),$e.getSingleton().register("beforeCopy"),$e.getSingleton().register("afterCopy");const r1="copyPaste",U_e=80,z_e=["fragmentSelection"],Q6=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var GP=new WeakMap,YP=new WeakMap,qP=new WeakMap,xg=new WeakMap,o1=new WeakMap,i1=new WeakMap,Rg=new WeakMap,s1=new WeakMap,KP=new WeakSet,X6=new WeakSet,J6=new WeakSet,QP=new WeakSet,Z6=new WeakSet,eG=new WeakSet,tG=new WeakSet,nG=new WeakSet,rG=new WeakSet,oG=new WeakSet;class $_e extends an{constructor(){super(...arguments),$a(this,oG),$a(this,rG),$a(this,nG),$a(this,tG),$a(this,eG),$a(this,Z6),$a(this,QP),$a(this,J6),$a(this,X6),$a(this,KP),Zw(this,"columnsLimit",1/0),Zw(this,"rowsLimit",1/0),Zw(this,"pasteMode","overwrite"),Zw(this,"uiContainer",this.hot.rootDocument.body),bc(this,GP,{writable:!0,value:!1}),bc(this,YP,{writable:!0,value:!1}),bc(this,qP,{writable:!0,value:!1}),bc(this,xg,{writable:!0,value:"cells-only"}),bc(this,o1,{writable:!0,value:!1}),bc(this,i1,{writable:!0,value:!1}),bc(this,Rg,{writable:!0,value:new L_e({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})}),bc(this,s1,{writable:!0,value:!1}),Zw(this,"copyableRanges",[])}static get PLUGIN_KEY(){return r1}static get SETTING_KEYS(){return[r1,...z_e]}static get PLUGIN_PRIORITY(){return U_e}isEnabled(){return!!this.hot.getSettings()[r1]}enablePlugin(){var e=this;if(this.enabled)return;const{[r1]:n}=this.hot.getSettings();if(typeof n=="object"){var r,o;this.pasteMode=(r=n.pasteMode)!==null&&r!==void 0?r:this.pasteMode,this.rowsLimit=isNaN(n.rowsLimit)?this.rowsLimit:n.rowsLimit,this.columnsLimit=isNaN(n.columnsLimit)?this.columnsLimit:n.columnsLimit,Zs(this,GP,!!n.copyColumnHeaders),Zs(this,YP,!!n.copyColumnGroupHeaders),Zs(this,qP,!!n.copyColumnHeadersOnly),this.uiContainer=(o=n.uiContainer)!==null&&o!==void 0?o:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",i=>ws(this,Z6,q_e).call(this,i)),this.addHook("afterSelection",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return ws(e,eG,K_e).call(e,...s)}),this.addHook("afterSelectionEnd",()=>ws(this,tG,Q_e).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),_U()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return ws(e,nG,X_e).call(e,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return ws(e,rG,J_e).call(e,...s)}),this.addHook("afterSelection",()=>ws(this,oG,Z_e).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Zs(this,xg,e),Zs(this,o1,!0),ws(this,KP,iG).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Zs(this,i1,!0),ws(this,KP,iG).call(this,"cut")}getRangedCopyableData(e){return kw(this.getRangedData(e))}getRangedData(e){const n=[],{rows:r,columns:o}=Y6(e);return F(r,i=>{const s=[];F(o,a=>{i<0?s.push(this.hot.getColHeader(a,i)):s.push(this.hot.getCopyableData(i,a))}),n.push(s)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const r=new H_e;e&&r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),this.onPaste(r)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}ii(this,Rg).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);ii(this,xg)==="column-headers-only"?n.set("headers",ii(this,Rg).getMostBottomColumnHeadersRange()):(ii(this,xg)==="with-column-headers"?n.set("headers",ii(this,Rg).getMostBottomColumnHeadersRange()):ii(this,xg)==="with-column-group-headers"&&n.set("headers",ii(this,Rg).getAllColumnHeadersRange()),n.set("cells",ii(this,Rg).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(o=>o!==null).map(o=>{let{startRow:i,startCol:s,endRow:a,endCol:l}=o;return{startRow:i,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const r=n.get("cells");if(r!==null&&r.isRangeTrimmed){const{startRow:o,startCol:i,endRow:s,endCol:a}=r;this.hot.runHooks("afterCopyLimit",s-o+1,a-i+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const r=e.length,o=e[0].length,i=[],{row:s,col:a}=n.getTopStartCorner(),{row:l,col:u}=n.getBottomEndCorner();let c=s,h=a,d=s,g=a;for(;i.length<r||c<=l;){const{skipRowOnPaste:p,visualRow:v}=this.hot.getCellMeta(c,a);if(c=v+1,p===!0)continue;d=v,h=a;const C=[],w=i.length%r;for(;C.length<o||h<=u;){const{skipColumnOnPaste:y,visualCol:x}=this.hot.getCellMeta(s,h);if(h=x+1,y===!0)continue;g=x;const T=C.length%o;C.push(e[w][T])}i.push(C)}return Zs(this,s1,!0),this.hot.populateFromArray(s,a,i,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,d,g]}onCopy(e){if(!this.hot.isListening()&&!ii(this,o1)||this.isEditorOpened())return;this.setCopyableText(),Zs(this,o1,!1);const n=this.getRangedData(this.copyableRanges),r=ws(this,X6,G_e).call(this,this.copyableRanges);if(this.hot.runHooks("beforeCopy",n,this.copyableRanges,r)){const o=kw(n);if(e&&e.clipboardData){const i=QU(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",[Q6,i].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",o);this.hot.runHooks("afterCopy",n,this.copyableRanges,r)}Zs(this,xg,"cells-only"),e.preventDefault()}onCut(e){if(!this.hot.isListening()&&!ii(this,i1)||this.isEditorOpened())return;this.setCopyableText(),Zs(this,i1,!1);const n=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",n,this.copyableRanges)){const r=kw(n);if(e&&e.clipboardData){const o=QU(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",[Q6,o].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",n,this.copyableRanges)}e.preventDefault()}onPaste(e){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected())return;e&&e.preventDefault&&e.preventDefault();let n;if(e&&typeof e.clipboardData<"u"){const a=vM(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});a&&/(<table)|(<TABLE)/g.test(a)?n=gwe(a,this.hot.rootDocument).data:n=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(n=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof n=="string"&&(n=wCe(n)),n===void 0||n&&n.length===0||this.hot.runHooks("beforePaste",n,this.copyableRanges)===!1)return;const[r,o,i,s]=this.populateValues(n);this.hot.selectCell(r,o,Math.min(this.hot.countRows()-1,i),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",n,this.copyableRanges)}destroy(){super.destroy()}}function iG(t){if(_U()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:r}=e.highlight,o=this.hot.getCell(n,r,!0);o&&gpe(o,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function G_e(t){const{rows:e}=Y6(t);let n=0;for(let r=0;r<e.length&&!(e[r]>=0);r++)n+=1;return{columnHeadersCount:n}}function Y_e(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r&&cU(r)}}}function sG(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r!=null&&r.hasAttribute("contenteditable")&&hU(r)}}}function q_e(t){t.items.push({name:"---------"},M_e(this)),ii(this,GP)&&t.items.push(A_e(this)),ii(this,YP)&&t.items.push(O_e(this)),ii(this,qP)&&t.items.push(__e(this)),t.items.push(P_e(this))}function K_e(t,e,n,r,o){ii(this,s1)&&(o.value=!0),Zs(this,s1,!1)}function Q_e(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function X_e(){ws(this,QP,sG).call(this)}function J_e(){ws(this,J6,Y_e).call(this)}function Z_e(){ws(this,QP,sG).call(this)}function aG(t,e){return`border_row${t}col${e}`}function ev(){return{width:1,color:"#000"}}function Jl(){return{hide:!0}}function eOe(){return{width:1,color:"#000",cornerVisible:!1}}function XP(t){if(Be(t.start)||Be(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(Be(t.end)||Be(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function tv(t){return Be(t.start)&&(t.left=t.start),Be(t.end)&&(t.right=t.end),t}function JP(t,e){return{id:aG(t,e),border:eOe(),row:t,col:e,top:Jl(),bottom:Jl(),start:Jl(),end:Jl()}}function tOe(t,e){return Qn(e,"border")&&e.border&&(t.border=e.border),Qn(e,"top")&&Be(e.top)&&(e.top?(Ot(e.top)||(e.top=ev()),t.top=e.top):(e.top=Jl(),t.top=e.top)),Qn(e,"bottom")&&Be(e.bottom)&&(e.bottom?(Ot(e.bottom)||(e.bottom=ev()),t.bottom=e.bottom):(e.bottom=Jl(),t.bottom=e.bottom)),Qn(e,"start")&&Be(e.start)&&(e.start?(Ot(e.start)||(e.start=ev()),t.start=e.start):(e.start=Jl(),t.start=e.start)),Qn(e,"end")&&Be(e.end)&&(e.end?(Ot(e.end)||(e.end=ev()),t.end=e.end):(e.end=Jl(),t.end=e.end)),t}function Zl(t,e){let n=!1;return F(t.getSelectedRange(),r=>{r.forAll((o,i)=>{if(o<0||i<0)return;const s=t.getCellMeta(o,i).borders;if(s)if(e){if(!Qn(s[e],"hide")||s[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function a1(t){return`<span class="selected">\u2713</span>${t}`}function nOe(t){return t.some(e=>Be(e.left)||Be(e.right))}function rOe(t){return t.some(e=>Be(e.start)||Be(e.end))}const oOe=new Map([["left","start"],["right","end"]]);function iOe(t){var e;return(e=oOe.get(t))!==null&&e!==void 0?e:t}function sOe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(RO);return Zl(this,"bottom")&&(e=a1(e)),e},callback(e,n){const r=Zl(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function aOe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(kO);return Zl(this,e)&&(n=a1(n)),n},callback(n,r){const o=Zl(this,e);t.prepareBorder(r,e,o)}}}function lOe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(EO)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!Zl(this)}}}function uOe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(xO);return Zl(this,e)&&(n=a1(n)),n},callback(n,r){const o=Zl(this,e);t.prepareBorder(r,e,o)}}}function cOe(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(SO);return Zl(this,"top")&&(e=a1(e)),e},callback(e,n){const r=Zl(this,"top");t.prepareBorder(n,"top",r)}}}function lG(t,e){hOe(t,e),e.add(t)}function hOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dOe(t,e,n){return e=fOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fOe(t){var e=gOe(t,"string");return typeof e=="symbol"?e:String(e)}function gOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const l1="customBorders",mOe=90;var cG=new WeakSet,hG=new WeakSet;class pOe extends an{constructor(){super(...arguments),lG(this,hG),lG(this,cG),dOe(this,"savedBorders",[])}static get PLUGIN_KEY(){return l1}static get PLUGIN_PRIORITY(){return mOe}isEnabled(){return!!this.hot.getSettings()[l1]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>uG(this,cG,wOe).call(this,e)),this.addHook("init",()=>uG(this,hG,vOe).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let r=["top","bottom","start","end"],o=null;n&&(this.checkSettingsCohesion([n]),r=Object.keys(n),o=XP(n));const i=eg(e),s=xw(i,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});F(e,a=>{s(a).forAll((l,u)=>{F(r,c=>{this.prepareBorderFromCustomAdded(l,u,o,iOe(c))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=eg(e),r=xw(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),o=[];return F(e,i=>{r(i).forAll((s,a)=>{F(this.savedBorders,l=>{l.row===s&&l.col===a&&o.push(tv(l))})})}),o}clearBorders(e){e?this.setBorders(e):(F(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const r=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,r,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:r})}prepareBorderFromCustomAdded(e,n,r,o){const i=this.hot.countRows(),s=this.hot.countCols();if(e>=i||n>=s)return;let a=JP(e,n);r&&(a=tOe(a,r),F(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,r),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",tv(a)),this.insertBorderIntoSettings(a,o)}prepareBorderFromCustomAddedRange(e,n){const r=Math.min(e.to.row,this.hot.countRows()-1),o=Math.min(e.to.col,this.hot.countCols()-1);Je(e.from.row,r,i=>{Je(e.from.col,o,s=>{const a=JP(i,s);let l=0;i===e.from.row&&Qn(n,"top")&&(l+=1,a.top=n.top),i===e.to.row&&Qn(n,"bottom")&&(l+=1,a.bottom=n.bottom),s===e.from.col&&Qn(n,"start")&&(l+=1,a.start=n.start),s===e.to.col&&Qn(n,"end")&&(l+=1,a.end=n.end),l>0&&(this.hot.setCellMeta(i,s,"borders",tv(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const r=aG(e,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,r,o){let i=this.hot.getCellMeta(e,n).borders;!i||i.border===void 0?i=JP(e,n):i=XP(i),o?(i[r]=Jl(),this.countHide(i)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(i,r,o)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,n,"borders",tv(i)))):(i[r]=ev(),this.checkCustomSelectionsFromContextMenu(i,r,o)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,n,"borders",tv(i)))}prepareBorder(e,n,r){F(e,o=>{let{start:i,end:s}=o;if(i.row===s.row&&i.col===s.col)n==="noBorders"?this.removeAllBorders(i.row,i.col):this.setBorder(i.row,i.col,n,r);else switch(n){case"noBorders":Je(i.col,s.col,a=>{Je(i.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Je(i.col,s.col,a=>{this.setBorder(i.row,a,n,r)});break;case"bottom":Je(i.col,s.col,a=>{this.setBorder(s.row,a,n,r)});break;case"start":Je(i.row,s.row,a=>{this.setBorder(a,i.col,n,r)});break;case"end":Je(i.row,s.row,a=>{this.setBorder(a,s.col,n,r)});break}})}createCustomBorders(e){F(e,n=>{const r=XP(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,r):this.prepareBorderFromCustomAdded(n.row,n.col,r)})}countHide(e){const{top:n,bottom:r,start:o,end:i}=e;return fo([n,r,o,i],(s,a)=>{let l=s;return a&&a.hide&&(l+=1),l},0)}clearBordersFromSelectionSettings(e){const n=Pt(this.hot.selection.highlight.customSelections,r=>r.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){F(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){F(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=Pt(this.savedBorders,r=>r.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):F(this.savedBorders,(r,o)=>{if(e.id===r.id)return this.savedBorders[o]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,r){let o=!1;return F(this.hot.selection.highlight.customSelections,i=>{if(e.id===i.settings.id){const s=this.hot.view._wt.selectionManager.getBorderInstances(i);return F(s,a=>{a.toggleHiddenClass(n,r)}),o=!0,!1}}),o}checkCustomSelections(e,n,r){const o=this.countHide(e);let i=!1;return o===4?(this.removeAllBorders(e.row,e.col),i=!0):F(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=n,s.commit(),r){const a=this.hot.view._wt.selectionManager.getBorderInstances(s);F(a,l=>{l.changeBorderStyle(r,e)})}return i=!0,!1}}),i}changeBorderSettings(){const e=this.hot.getSettings()[l1];if(Array.isArray(e)){const n=_o(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=nOe(e),r=rOe(e);if(n&&r)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function wOe(t){this.hot.getSettings()[l1]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(CO)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[cOe(this),uOe(this),sOe(this),aOe(this),lOe(this)]}})}function vOe(){this.changeBorderSettings()}function yOe(t,e){bOe(t,e),e.add(t)}function bOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZP(t,e,n){return e=COe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function COe(t){var e=SOe(t,"string");return typeof e=="symbol"?e:String(e)}function SOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const fG="dragToScroll",xOe=100;var eI=new WeakSet;class ROe extends an{constructor(){super(...arguments),yOe(this,eI),ZP(this,"boundaries",null),ZP(this,"callback",null),ZP(this,"listening",!1)}static get PLUGIN_KEY(){return fG}static get PLUGIN_PRIORITY(){return xOe}isEnabled(){return!!this.hot.getSettings()[fG]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>dG(this,eI,gG).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>dG(this,eI,gG).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let r=0,o=0;n<this.boundaries.top?o=n-this.boundaries.top:n>this.boundaries.bottom&&(o=n-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,o)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",r=>this.onMouseMove(r)),n=G0(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function gG(t){if(_h(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,r)=>{var o,i;const s=(o=e.scrollLeft)!==null&&o!==void 0?o:e.scrollX,a=(i=e.scrollTop)!==null&&i!==void 0?i:e.scrollY;e.scroll(s+Math.sign(n)*50,a+Math.sign(r)*20)}),this.listen()}function ed(t,e){kOe(t,e),e.add(t)}function kOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tI(t,e,n){return e=EOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EOe(t){var e=TOe(t,"string");return typeof e=="symbol"?e:String(e)}function TOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cc(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("afterDropdownMenuDefaultOptions"),$e.getSingleton().register("beforeDropdownMenuShow"),$e.getSingleton().register("afterDropdownMenuShow"),$e.getSingleton().register("afterDropdownMenuHide"),$e.getSingleton().register("afterDropdownMenuExecute");const u1="dropdownMenu",MOe=230,nI="changeType",rI=u1;var oI=new WeakSet,mG=new WeakSet,pG=new WeakSet,wG=new WeakSet,vG=new WeakSet,yG=new WeakSet,bG=new WeakSet;class c1 extends an{static get PLUGIN_KEY(){return u1}static get PLUGIN_PRIORITY(){return MOe}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Ww,Vw,Ht,Uw,Ht,LS,Ht,Bw,Ht,ps]}constructor(e){super(e),ed(this,bG),ed(this,yG),ed(this,vG),ed(this,wG),ed(this,pG),ed(this,mG),ed(this,oI),tI(this,"commandExecutor",new E6(this.hot)),tI(this,"itemsFactory",null),tI(this,"menu",null),this.hot.addHook("afterGetColHeader",(n,r)=>Cc(this,pG,OOe).call(this,n,r))}isEnabled(){return this.hot.getSettings()[u1]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new T6(this.hot,c1.DEFAULT_ITEMS);const n=this.hot.getSettings()[u1],r={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const o=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new bg(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",o),this.menu.setMenuItems(o),this.menu.addLocalHook("beforeOpen",()=>Cc(this,wG,AOe).call(this)),this.menu.addLocalHook("afterOpen",()=>Cc(this,vG,POe).call(this)),this.menu.addLocalHook("afterSubmenuOpen",i=>Cc(this,yG,IOe).call(this,i)),this.menu.addLocalHook("afterClose",()=>Cc(this,bG,HOe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),F(o,i=>this.commandExecutor.registerCommand(i.key,i))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:r}=this.hot.getSelectedRangeLast();if((r.isHeader()&&r.row===-1||r.isCell())&&r.col>=0){this.hot.selectColumns(r.col,r.col,-1);const{from:o}=this.hot.getSelectedRangeLast(),i=DS(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,o.col,!0),a=s.getBoundingClientRect();this.open({left:a.left+i.left,top:a.top+s.offsetHeight+i.top},{left:a.width}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var r;const o=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:rI},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var r;const o=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isCell()&&!this.menu.isOpened()},group:rI}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(rI)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>Cc(this,mG,_Oe).call(this,e))}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),It(r,(o,i)=>{this.menu.setOffset(i,o)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.commandExecutor.execute(e,...r)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function CG(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function _Oe(t){if(t.stopPropagation(),yt(t.target,nI)){const e=DS(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+3+e.top},{left:n.width})}}function OOe(t,e){const n=e.parentNode;if(!n)return;const r=n.parentNode.childNodes,o=Array.prototype.indexOf.call(r,n);if(t<0||o!==r.length-1)return;const i=e.querySelector(`.${nI}`);if(this.enabled&&i)return;if(!this.enabled){i&&i.parentNode.removeChild(i);return}const s=this.hot.rootDocument.createElement("button");s.className=nI,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(dt(s,[Ll(),bM(" ")]),dt(e,[KB("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function AOe(){this.hot.runHooks("beforeDropdownMenuShow",this)}function POe(){this.hot.runHooks("afterDropdownMenuShow",this),Cc(this,oI,CG).call(this,this.menu)}function IOe(t){Cc(this,oI,CG).call(this,t)}function HOe(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}c1.SEPARATOR={name:Ht};function SG(t,e,n){return e=NOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NOe(t){var e=DOe(t,"string");return typeof e=="symbol"?e:String(e)}function DOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LOe{constructor(e){SG(this,"hot",void 0),SG(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:r,endCol:o}=this._getDataRange(),i=this.options,s=[];return Je(e,r,a=>{const l=[];!i.exportHiddenRows&&this._isHiddenRow(a)||(Je(n,o,u=>{!i.exportHiddenColumns&&this._isHiddenColumn(u)||l.push(this.hot.getDataAtCell(a,u))}),s.push(l))}),s}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:r}=this._getDataRange(),o=this.hot.getRowHeader();Je(n,r,i=>{!this.options.exportHiddenRows&&this._isHiddenRow(i)||e.push(o[i])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:r}=this._getDataRange(),o=this.hot.getColHeader();Je(n,r,i=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(i)||e.push(o[i])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[r=0,o=0,i=n,s=e]=this.options.range;return r=Math.max(r,0),o=Math.max(o,0),i=Math.min(i,n),s=Math.min(s,e),{startRow:r,startCol:o,endRow:i,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function xG(t,e,n){return e=jOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jOe(t){var e=FOe(t,"string");return typeof e=="symbol"?e:String(e)}function FOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iI{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){xG(this,"dataProvider",void 0),xG(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=Xo(this.constructor.DEFAULT_OPTIONS);const r=new Date;return n=yr(Xo(iI.DEFAULT_OPTIONS),n),n=yr(n,e),n.filename=$B(n.filename,{YYYY:r.getFullYear(),MM:`${r.getMonth()+1}`.padStart(2,"0"),DD:`${r.getDate()}`.padStart(2,"0")}),n}}const WOe="\r",VOe='"',BOe=`
`;class UOe extends iI{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){const e=this.options,n=this.dataProvider.getData();let r=this.dataProvider.getColumnHeaders();const o=r.length>0,i=this.dataProvider.getRowHeaders(),s=i.length>0;let a=e.bom?"\uFEFF":"";return o&&(r=Pt(r,l=>this._escapeCell(l,!0)),s&&(a+=e.columnDelimiter),a+=r.join(e.columnDelimiter),a+=e.rowDelimiter),F(n,(l,u)=>{u>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(i[u])+e.columnDelimiter),a+=l.map(c=>this._escapeCell(c)).join(e.columnDelimiter)}),a}_escapeCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=fr(e);return r!==""&&(n||r.indexOf(WOe)>=0||r.indexOf(VOe)>=0||r.indexOf(BOe)>=0||r.indexOf(this.options.columnDelimiter)>=0)&&(r=r.replace(new RegExp('"',"g"),'""'),r=`"${r}"`),r}}const zOe=UOe,$Oe="csv",sI={[$Oe]:zOe};function GOe(t,e,n){return typeof sI[t]=="function"?new sI[t](e,n):null}const YOe="exportFile",qOe=240;class KOe extends an{static get PLUGIN_KEY(){return YOe}static get PLUGIN_PRIORITY(){return qOe}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:r,rootWindow:o}=this.hot,i=this._createTypeFormatter(e,n),s=this._createBlob(i),a=o.URL||o.webkitURL,l=r.createElement("a"),u=`${i.options.filename}.${i.options.fileExtension}`;if(l.download!==void 0){const c=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(c)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,u)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sI[e])throw new Error(`Export format type "${e}" is not supported.`);return GOe(e,new LOe(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function kg(t,e,n){return e=QOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QOe(t){var e=XOe(t,"string");return typeof e=="symbol"?e:String(e)}function XOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nv{constructor(e,n){let{id:r,stateless:o=!0}=n;kg(this,"hot",void 0),kg(this,"id",void 0),kg(this,"elements",[]),kg(this,"hidden",!1),kg(this,"stateId",""),kg(this,"state",void 0),this.hot=e,this.id=r,this.stateId=`Filters.component.${this.id}`,this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new _C)}getElements(){return this.elements}reset(){F(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),F(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}bn(nv,ei);const rv={};function Sc(t,e){if(!rv[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:r}=rv[t];let o=e;return r.inputValuesDecorator&&(o=r.inputValuesDecorator(o)),function(i){return n.apply(i.meta.instance,[].concat([i],[o]))}}function Eg(t){if(!rv[t])throw Error(`Filter condition "${t}" does not exist.`);return rv[t].descriptor}function mr(t,e,n){n.key=t,rv[t]={condition:e,descriptor:n}}const Ur="none";function JOe(){return!0}mr(Ur,JOe,{name:NC,inputsCount:0,showOperators:!1});const ov="empty";function ZOe(t){return Tr(t.value)}mr(ov,ZOe,{name:IO,inputsCount:0,showOperators:!0});const h1="not_empty";function eAe(t,e){return!Sc(ov,e)(t)}mr(h1,eAe,{name:HO,inputsCount:0,showOperators:!0});const iv="eq";function tAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale)===fr(n)}mr(iv,tAe,{name:NO,inputsCount:1,showOperators:!0});const d1="neq";function nAe(t,e){return!Sc(iv,e)(t)}mr(d1,nAe,{name:DO,inputsCount:1,showOperators:!0});const RG="gt";function rAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>r}mr(RG,rAe,{name:VO,inputsCount:1,showOperators:!0});const kG="gte";function oAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>=r}mr(kG,oAe,{name:BO,inputsCount:1,showOperators:!0});const EG="lt";function iAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<r}mr(EG,iAe,{name:UO,inputsCount:1,showOperators:!0});const TG="lte";function sAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<=r}mr(TG,sAe,{name:zO,inputsCount:1,showOperators:!0});const aI="date_after";function aAe(t,e){let[n]=e;const r=ke(t.value,t.meta.dateFormat),o=ke(n,t.meta.dateFormat);return!r.isValid()||!o.isValid()?!1:r.diff(o)>=0}mr(aI,aAe,{name:YO,inputsCount:1,showOperators:!0});const lI="date_before";function lAe(t,e){let[n]=e;const r=ke(t.value,t.meta.dateFormat),o=ke(n,t.meta.dateFormat);return!r.isValid()||!o.isValid()?!1:r.diff(o)<=0}mr(lI,lAe,{name:qO,inputsCount:1,showOperators:!0});const f1="between";function uAe(t,e){let[n,r]=e,o=n,i=r;if(t.meta.type==="numeric"){const s=parseFloat(o,10),a=parseFloat(i,10);o=Math.min(s,a),i=Math.max(s,a)}else if(t.meta.type==="date"){const s=Sc(lI,[i]),a=Sc(aI,[o]);return s(t)&&a(t)}return t.value>=o&&t.value<=i}mr(f1,uAe,{name:$O,inputsCount:2,showOperators:!0});const MG="not_between";function cAe(t,e){return!Sc(f1,e)(t)}mr(MG,cAe,{name:GO,inputsCount:2,showOperators:!0});const _G="begins_with";function hAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).startsWith(fr(n))}mr(_G,hAe,{name:LO,inputsCount:1,showOperators:!0});const OG="ends_with";function dAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).endsWith(fr(n))}mr(OG,dAe,{name:jO,inputsCount:1,showOperators:!0});const uI="contains";function fAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).indexOf(fr(n))>=0}mr(uI,fAe,{name:FO,inputsCount:1,showOperators:!0});const AG="not_contains";function gAe(t,e){return!Sc(uI,e)(t)}mr(AG,gAe,{name:WO,inputsCount:1,showOperators:!0});const PG="date_tomorrow";function mAe(t){const e=ke(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ke().subtract(-1,"days").startOf("day"),"d"):!1}mr(PG,mAe,{name:QO,inputsCount:0});const IG="date_today";function pAe(t){const e=ke(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ke().startOf("day"),"d"):!1}mr(IG,pAe,{name:KO,inputsCount:0});const HG="date_yesterday";function wAe(t){const e=ke(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ke().subtract(1,"days").startOf("day"),"d"):!1}mr(HG,wAe,{name:XO,inputsCount:0}),Ipe();function vAe(t,e){let n=t;return n===""&&(n=`(${e})`),n}const cI=new Set([1]).has(1),yAe=cI&&typeof Array.from=="function";function sv(t){let e=t;return cI&&(e=new Set(e)),function(n){let r;return cI?r=e.has(n):r=!!~e.indexOf(n),r}}function NG(t){return t??""}function hI(t){let e=t;return yAe?e=Array.from(new Set(e)):e=DB(e),e=e.sort((n,r)=>typeof n=="number"&&typeof r=="number"?n-r:n===r?0:n>r?1:-1),e}function DG(t,e,n,r){const o=[],i=t===e;let s;return i||(s=sv(e)),F(t,a=>{let l=!1;(i||s(a))&&(l=!0);const u={checked:l,value:a,visualValue:vAe(a,n)};r&&r(u),o.push(u)}),o}const td="by_value";function bAe(t,e){let[n]=e;return n(t.value)}mr(td,bAe,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[sv(e)]},showOperators:!1});const av={};function CAe(t){if(!av[t])throw Error(`Operation with id "${t}" does not exist.`);const e=av[t].func;return function(n,r){return e(n,r)}}function SAe(t){return av[t].name}function dI(t,e,n){av[t]={name:e,func:n}}const xc="conjunction",xAe=eA;function RAe(t,e){return t.every(n=>n.func(e))}dI(xc,xAe,RAe);const g1="disjunction",kAe=DC;function EAe(t,e){return t.some(n=>n.func(e))}dI(g1,kAe,EAe);const fI="disjunctionWithExtraCondition",TAe=DC;function MAe(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}dI(fI,TAe,MAe);const _Ae="numeric",LG="text",OAe="date",jG={[_Ae]:[Ur,Ht,ov,h1,Ht,iv,d1,Ht,RG,kG,EG,TG,f1,MG],[LG]:[Ur,Ht,ov,h1,Ht,iv,d1,Ht,_G,OG,Ht,uI,AG],[OAe]:[Ur,Ht,ov,h1,Ht,iv,d1,Ht,lI,aI,f1,Ht,PG,IG,HG]};function AAe(t){const e=[];let n=t;return jG[n]||(n=LG),F(jG[n],r=>{let o;r===Ht?o={name:Ht}:o=Xo(Eg(r)),e.push(o)}),e}function lv(t,e,n){return e=PAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PAe(t){var e=IAe(t,"string");return typeof e=="symbol"?e:String(e)}function IAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const gI="built",mI="building",FG=["click","input","keydown","keypress","keyup","focus","blur","change"];let ea=class qq{static get DEFAULTS(){return Xo({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){lv(this,"hot",void 0),lv(this,"eventManager",new Us(this)),lv(this,"options",void 0),lv(this,"_element",void 0),lv(this,"buildState",void 0),this.hot=e,this.options=yr(qq.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===mI?this._element:this.buildState===gI?(this.update(),this._element):(this.buildState=mI,this.build(),this.buildState=gI,this._element)}isBuilt(){return this.buildState===gI}translateIfPossible(e){return typeof e=="string"&&e.startsWith(Ao)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,r)=>{this.eventManager.addEventListener(n,r,o=>this.runLocalHooks(r,o,this))};if(this.buildState||(this.buildState=mI),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&_e(this._element,this.options.className),this.options.children.length)F(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),It(this.options,(r,o)=>{n[o]!==void 0&&o!=="className"&&o!=="tagName"&&o!=="children"&&(n[o]=this.translateIfPossible(r))}),this._element.appendChild(n),F(FG,r=>e(n,r))}else F(FG,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};bn(ea,ei);function HAe(t,e){WG(t,e),e.add(t)}function NAe(t,e,n){WG(t,e),e.set(t,n)}function WG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m1(t,e){var n=VG(t,e,"get");return DAe(t,n)}function DAe(t,e){return e.get?e.get.call(t):e.value}function LAe(t,e,n){var r=VG(t,e,"set");return jAe(t,r,n),n}function VG(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function jAe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function FAe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Tg=new WeakMap,BG=new WeakSet;class Rc extends ea{static get DEFAULTS(){return Xo({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,yr(Rc.DEFAULTS,n)),HAe(this,BG),NAe(this,Tg,{writable:!0,value:void 0}),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>FAe(this,BG,WAe).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");LAe(this,Tg,this._element.firstChild),_e(this._element,"htUIInput"),_e(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(m1(this,Tg).type=this.options.type,m1(this,Tg).placeholder=this.translateIfPossible(this.options.placeholder),m1(this,Tg).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&m1(this,Tg).focus()}}function WAe(t){this.options.value=t.target.value}function pI(t,e){UG(t,e),e.add(t)}function uv(t,e,n){UG(t,e),e.set(t,n)}function UG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mg(t,e,n){var r=zG(t,e,"set");return VAe(t,r,n),n}function VAe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function wI(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Zn(t,e){var n=zG(t,e,"get");return BAe(t,n)}function zG(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function BAe(t,e){return e.get?e.get.call(t):e.value}var Mr=new WeakMap,p1=new WeakMap,w1=new WeakMap,vI=new WeakMap,v1=new WeakMap,$G=new WeakSet,GG=new WeakSet,YG=new WeakSet;class cv extends ea{static get DEFAULTS(){return Xo({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,yr(cv.DEFAULTS,n)),pI(this,YG),pI(this,GG),pI(this,$G),uv(this,Mr,{writable:!0,value:null}),uv(this,p1,{writable:!0,value:[]}),uv(this,w1,{writable:!0,value:void 0}),uv(this,vI,{writable:!0,value:void 0}),uv(this,v1,{writable:!0,value:void 0}),this.registerHooks()}getMenu(){return Zn(this,Mr)}registerHooks(){this.addLocalHook("click",()=>wI(this,YG,$Ae).call(this))}setItems(e){Mg(this,p1,this.translateNames(e)),Zn(this,Mr)&&Zn(this,Mr).setMenuItems(Zn(this,p1))}translateNames(e){return F(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),Mg(this,Mr,new bg(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Zn(this,Mr).setMenuItems(Zn(this,p1));const e=new ea(this.hot,{className:"htUISelectCaption"}),n=new ea(this.hot,{className:"htUISelectDropdown"});Mg(this,w1,e),Mg(this,vI,e.element),Mg(this,v1,n),this.hot.getSettings().ariaTags&&(dt(n.element,[Ll()]),dt(this._element,[qB()])),F([e,n],r=>this._element.appendChild(r.element)),Zn(this,Mr).addLocalHook("select",r=>wI(this,$G,UAe).call(this,r)),Zn(this,Mr).addLocalHook("afterClose",()=>wI(this,GG,zAe).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=Zn(this,Mr).hot.getTranslatedPhrase(NC),Zn(this,vI).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();Zn(this,Mr)&&(Zn(this,Mr).open(),Zn(this,Mr).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),Zn(this,Mr).getNavigator().toFirstItem(),Zn(this,Mr).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Zn(this,Mr)&&Zn(this,Mr).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Zn(this,Mr)&&(Zn(this,Mr).destroy(),Mg(this,Mr,null)),Zn(this,w1)&&Zn(this,w1).destroy(),Zn(this,v1)&&Zn(this,v1).destroy(),super.destroy()}}function UAe(t){t.name!==Ht&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function zAe(){this.runLocalHooks("afterClose")}function $Ae(){this.openOptions()}function qG(t,e){GAe(t,e),e.add(t)}function GAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KG(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=qAe(t,"string");return typeof e=="symbol"?e:String(e)}function qAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var XG=new WeakSet,JG=new WeakSet;class yI extends nv{constructor(e,n){super(e,{id:n.id,stateless:!1}),qG(this,JG),qG(this,XG),KG(this,"name",""),KG(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new cv(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Rc(this.hot,{placeholder:sA})),this.elements.push(new Rc(this.hot,{placeholder:aA})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>QG(this,XG,KAe).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),F(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>QG(this,JG,QAe).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=Xo(e.command);n.name.startsWith(Jn)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),F(e.args,(r,o)=>{if(o>n.inputsCount-1)return!1;const i=this.getInputElement(o);i.setValue(r),i[n.inputsCount>o?"show":"hide"](),o||this.hot._registerTimeout(()=>i.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||Eg(Ur),n=[];return F(this.getInputElements(),(r,o)=>{e.inputsCount>o&&n.push(r.getValue())}),{command:e,args:n}}updateState(e,n){const r=Eg(e?e.name:Ur);this.state.setValueAtIndex(n,{command:r,args:e?e.args:[]}),e||F(this.getInputElements(),o=>o.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof cv)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Rc)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,o,i,s)=>{_e(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&_e(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return _e(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[Eg(Ur)];if(e!==null){const{visualIndex:r}=e;n=AAe(this.hot.getDataType(0,r,this.hot.countRows(),r))}F(this.getInputElements(),r=>r.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function KAe(t){F(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function QAe(t){nw(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vs(t))}function ZG(t,e,n){XAe(t,e),e.set(t,n)}function XAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hv(t,e){var n=t8(t,e,"get");return JAe(t,n)}function JAe(t,e){return e.get?e.get.call(t):e.value}function e8(t,e,n){var r=t8(t,e,"set");return ZAe(t,r,n),n}function t8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ZAe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var _g=new WeakMap,bI=new WeakMap;class y1 extends ea{static get DEFAULTS(){return Xo({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,yr(y1.DEFAULTS,n)),ZG(this,_g,{writable:!0,value:void 0}),ZG(this,bI,{writable:!0,value:void 0})}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),e8(this,bI,e),e8(this,_g,this._element.firstChild),hv(this,_g).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(hv(this,bI).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?hv(this,_g).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(hv(this,_g).checked=e)}focus(){this.isBuilt()&&hv(this,_g).focus()}}function ePe(t,e){tPe(t,e),e.add(t)}function tPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nPe(t,e,n){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rPe(t){var e=oPe(t,"string");return typeof e=="symbol"?e:String(e)}function oPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const n8=0;var r8=new WeakSet;class sPe extends nv{constructor(e,n){super(e,{id:n.id,stateless:!1}),ePe(this,r8),nPe(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(_e(n.parentNode,"htFiltersMenuOperators"),F(this.elements,r=>n.appendChild(r.element)),n)}}buildOperatorsElement(){const e=[xc,g1];F(e,n=>{const r=new y1(this.hot,{name:"operator",label:{htmlFor:n,textContent:SAe(n)},value:n,checked:n===e[n8],id:n});r.addLocalHook("change",o=>iPe(this,r8,aPe).call(this,o)),this.elements.push(r)})}setChecked(e){if(this.elements.length<e)throw Error(un`Radio button with index ${e} doesn't exist.`);F(this.elements,(n,r)=>{n.setChecked(r===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof y1&&n.isChecked());return e?e.getValue():xc}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&F(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xc,n=arguments.length>1?arguments[1]:void 0,r=e;r===fI&&(r=g1),this.state.setValueAtIndex(n,r)}reset(){this.setChecked(n8)}}function aPe(t){this.setState(t.target.value)}function lPe(t,e,n){uPe(t,e),e.set(t,n)}function uPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CI(t,e){var n=o8(t,e,"get");return cPe(t,n)}function cPe(t,e){return e.get?e.get.call(t):e.value}function hPe(t,e,n){var r=o8(t,e,"set");return dPe(t,r,n),n}function o8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function dPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var dv=new WeakMap;class fv extends ea{static get DEFAULTS(){return Xo({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,yr(fv.DEFAULTS,n)),lPe(this,dv,{writable:!0,value:void 0})}build(){super.build(),hPe(this,dv,this._element.firstChild)}update(){this.isBuilt()&&(CI(this,dv).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&CI(this,dv).focus()}activate(){CI(this,dv).click()}}function b1(t,e){i8(t,e),e.add(t)}function Og(t,e,n){i8(t,e),e.set(t,n)}function i8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C1(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Ct(t,e){var n=s8(t,e,"get");return fPe(t,n)}function fPe(t,e){return e.get?e.get.call(t):e.value}function ta(t,e,n){var r=s8(t,e,"set");return gPe(t,r,n),n}function s8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function gPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const a8="multipleSelect.itemBox";var na=new WeakMap,Vn=new WeakMap,SI=new WeakMap,eu=new WeakMap,kc=new WeakMap,Ec=new WeakMap,l8=new WeakSet,u8=new WeakSet,c8=new WeakSet,h8=new WeakSet;class gv extends ea{static get DEFAULTS(){return Xo({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,yr(gv.DEFAULTS,n)),b1(this,h8),b1(this,c8),b1(this,u8),b1(this,l8),Og(this,na,{writable:!0,value:[]}),Og(this,Vn,{writable:!0,value:void 0}),Og(this,SI,{writable:!0,value:void 0}),Og(this,eu,{writable:!0,value:void 0}),Og(this,kc,{writable:!0,value:void 0}),Og(this,Ec,{writable:!0,value:void 0}),ta(this,eu,new Rc(this.hot,{placeholder:iA,className:"htUIMultipleSelectSearch"})),ta(this,kc,new fv(this.hot,{textContent:tA,className:"htUISelectAll"})),ta(this,Ec,new fv(this.hot,{textContent:nA,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Ct(this,Vn)}registerHooks(){Ct(this,eu).addLocalHook("keydown",e=>C1(this,u8,pPe).call(this,e)),Ct(this,eu).addLocalHook("input",e=>C1(this,l8,mPe).call(this,e)),Ct(this,kc).addLocalHook("click",e=>C1(this,c8,wPe).call(this,e)),Ct(this,Ec).addLocalHook("click",e=>C1(this,h8,vPe).call(this,e))}setItems(e){ta(this,na,e),Ct(this,Vn)&&Ct(this,Vn).loadData(Ct(this,na))}setLocale(e){ta(this,SI,e)}getLocale(){return Ct(this,SI)}getItems(){return[...Ct(this,na)]}getValue(){return bPe(Ct(this,na))}getSearchInputElement(){return Ct(this,eu)}getSelectAllElement(){return Ct(this,kc)}getClearAllElement(){return Ct(this,Ec)}isSelectedAllValues(){return Ct(this,na).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),r=new ea(this.hot,{className:"htUISelectionControls",children:[Ct(this,kc),Ct(this,Ec)]});this._element.appendChild(Ct(this,eu).element),this._element.appendChild(r.element),this._element.appendChild(n);const o=i=>{if(!this._element)return;Ct(this,Vn)&&Ct(this,Vn).destroy(),_e(i,"htUIMultipleSelectHot"),ta(this,Vn,new this.hot.constructor(i,{data:Ct(this,na),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(a,l,u,c,h,d)=>{a.title=d.instance.getDataAtRowProp(l,d.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Ct(this,Vn).listen()},maxCols:1,autoWrapCol:!0,height:110,colWidths:()=>Ct(this,Vn).container.scrollWidth-Lr(e),copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Ct(this,Vn).init();const s=Ct(this,Vn).getShortcutManager().getContext("grid");s.removeShortcutsByKeys(["Tab"]),s.removeShortcutsByKeys(["Shift","Tab"]),s.addShortcut({keys:[["Escape"]],callback:a=>{this.runLocalHooks("keydown",a,this)},group:a8}),s.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:a=>{Ct(this,Vn).deselectCell(),this.runLocalHooks("keydown",a,this),this.runLocalHooks("listTabKeydown",a,this)},group:a8})};o(n),this.hot._registerTimeout(()=>o(n),100)}focus(){this.isBuilt()&&Ct(this,Vn).listen()}reset(){Ct(this,eu).reset(),Ct(this,kc).reset(),Ct(this,Ec).reset()}update(){this.isBuilt()&&(Ct(this,Vn).loadData(yPe(Ct(this,na),this.options.value)),super.update())}destroy(){Ct(this,Vn)&&Ct(this,Vn).destroy(),Ct(this,eu).destroy(),Ct(this,Ec).destroy(),Ct(this,kc).destroy(),ta(this,eu,null),ta(this,Ec,null),ta(this,kc,null),ta(this,Vn,null),ta(this,na,null),super.destroy()}}function mPe(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...Ct(this,na)]:n=os(Ct(this,na),r=>`${r.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Ct(this,Vn).loadData(n)}function pPe(t){this.runLocalHooks("keydown",t,this),dU(nw,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),Vs(t),Ct(this,Vn).listen(),Ct(this,Vn).selectCell(0,0))}function wPe(t){const e=[];t.preventDefault(),F(Ct(this,Vn).getSourceData(),(n,r)=>{n.checked=!0,e.push(lz(n,r)[0])}),Ct(this,Vn).setSourceDataAtCell(e)}function vPe(t){const e=[];t.preventDefault(),F(Ct(this,Vn).getSourceData(),(n,r)=>{n.checked=!1,e.push(lz(n,r)[0])}),Ct(this,Vn).setSourceDataAtCell(e)}function yPe(t,e){const n=sv(e);return Pt(t,r=>(r.checked=n(r.value),r))}function bPe(t){const e=[];return F(t,n=>{n.checked&&e.push(n.value)}),e}function CPe(t,e){SPe(t,e),e.add(t)}function SPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xPe(t,e,n){return e=RPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RPe(t){var e=kPe(t,"string");return typeof e=="symbol"?e:String(e)}function kPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var d8=new WeakSet;class TPe extends nv{constructor(e,n){super(e,{id:n.id,stateless:!1}),CPe(this,d8),xPe(this,"name",""),this.name=n.name,this.elements.push(new gv(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>EPe(this,d8,MPe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===td){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?Ur:td},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(r,o,i,s,a)=>{const[l]=os(o,h=>h.name===td),u={},c=this.hot.getTranslatedPhrase(LC);if(l){const h=hI(Pt(s(r,a),v=>v.value));i&&(l.args[0]=i);const d=[],g=DG(h,l.args[0],c,v=>{v.checked&&d.push(v.value)}),p=e.editedConditionStack.column;u.locale=this.hot.getCellMeta(0,p).locale,u.args=[d],u.command=Eg(td),u.itemsSnapshot=g}else u.args=[],u.command=Eg(Ur);this.state.setValueAtIndex(r,u)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof gv)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,o,i,s)=>{_e(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return _e(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(LC),n=hI(this._getColumnVisibleValues()),r=DG(n,n,e);this.getMultipleSelectElement().setItems(r),super.reset(),this.getMultipleSelectElement().setValue(n);const o=this.hot.getPlugin("filters").getSelectedColumn();o!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,o.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:Pt(this.hot.getDataAtCol(e.visualIndex),n=>NG(n))}}function MPe(t){nw(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vs(t))}var f8;function _Pe(t,e){OPe(t,e),e.add(t)}function OPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function APe(t,e,n){return e=PPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PPe(t){var e=IPe(t,"string");return typeof e=="symbol"?e:String(e)}function IPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var g8=new WeakSet;class mv extends nv{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),_Pe(this,g8),APe(this,"name",""),this.name=n.name,this.elements.push(new Rc(this.hot,{type:"button",value:rA,className:"htUIButton htUIButtonOK",identifier:mv.BUTTON_OK})),this.elements.push(new Rc(this.hot,{type:"button",value:oA,className:"htUIButton htUIButtonCancel",identifier:mv.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){F(this.elements,e=>{e.addLocalHook("click",(n,r)=>HPe(this,g8,NPe).call(this,n,r))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(_e(n.parentNode,"htFiltersMenuActionBar"),F(this.elements,r=>n.appendChild(r.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}f8=mv;function NPe(t,e){e.options.identifier===f8.BUTTON_OK?this.accept():this.cancel()}function xI(t,e,n){return e=DPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DPe(t){var e=LPe(t,"string");return typeof e=="symbol"?e:String(e)}function LPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const m8="ConditionCollection.filteringStates";class RI{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;xI(this,"hot",void 0),xI(this,"isMapRegistrable",void 0),xI(this,"filteringStates",new _C),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(m8,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var r;const o=this.filteringStates.getValueAtIndex(n),i=(r=o==null?void 0:o.conditions)!==null&&r!==void 0?r:[],s=o==null?void 0:o.operation;return this.isMatchInConditions(i,e,s)}isMatchInConditions(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xc;return e.length?CAe(r)(e,n):!0}addCondition(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xc,o=arguments.length>3?arguments[3]:void 0;const i=this.hot.getCellMeta(0,e).locale,s=Pt(n.args,c=>typeof c=="string"?c.toLocaleLowerCase(i):c),a=n.name||n.command.key;this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==r)throw Error(un`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(Tn(av[r]))throw new Error(un`Unexpected operation named \`${r}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const u=this.getConditions(e);u.length===0?this.filteringStates.setValueAtIndex(e,{operation:r,conditions:[{name:a,args:s,func:Sc(a,s)}]},o):u.push({name:a,args:s,func:Sc(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,r;return(n=(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return fo(this.filteringStates.getEntries(),(e,n)=>{let[r,{operation:o,conditions:i}]=n;return e.push({column:r,operation:o,conditions:Pt(i,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),e},[])}importAllConditions(e){this.clean(),F(e,n=>{F(n.conditions,r=>this.addCondition(n.column,r))})}removeConditions(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const r=this.getConditions(e);return n?r.some(o=>o.name===n):r.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(m8),this.filteringStates=null,this.clearLocalHooks()}}bn(RI,ei);function p8(t,e,n){return e=jPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jPe(t){var e=FPe(t,"string");return typeof e=="symbol"?e:String(e)}function FPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class w8{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];p8(this,"conditionCollection",void 0),p8(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return F(this.conditionCollection.getFilteredColumns(),(n,r)=>{let o=this.columnDataFactory(n);r&&(o=this._getIntersectData(o,e)),e=this.filterByColumn(n,o)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];return F(n,o=>{o!==void 0&&this.conditionCollection.isMatch(o,e)&&r.push(o)}),r}_getIntersectData(e,n){const r=[];return F(n,o=>{const i=o.meta.visualRow;e[i]!==void 0&&(r[i]=e[i])}),r}}function kI(t,e){WPe(t,e),e.add(t)}function WPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nd(t,e,n){return e=VPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VPe(t){var e=BPe(t,"string");return typeof e=="symbol"?e:String(e)}function BPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EI(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var v8=new WeakSet,y8=new WeakSet,b8=new WeakSet;class C8{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];kI(this,b8),kI(this,y8),kI(this,v8),nd(this,"hot",void 0),nd(this,"conditionCollection",void 0),nd(this,"columnDataFactory",void 0),nd(this,"changes",[]),nd(this,"grouping",!1),nd(this,"latestEditedColumnPosition",-1),nd(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=r,this.conditionCollection.addLocalHook("beforeRemove",o=>EI(this,v8,UPe).call(this,o)),this.conditionCollection.addLocalHook("afterRemove",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("afterAdd",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("beforeClean",()=>EI(this,y8,zPe).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>EI(this,b8,$Pe).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,F(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var r=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const o=this.conditionCollection.exportAllConditions();let i=this.conditionCollection.getColumnStackPosition(e);i===-1&&(i=this.latestEditedColumnPosition);const s=o.slice(0,i),a=o.slice(i);a.length&&a[0].column===e&&a.shift();const l=mpe(function(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const g=new RI(r.hot,!1),p=[].concat(c,d);g.importAllConditions(p);const v=r.columnDataFactory(h);let C;g.isEmpty()?C=v:C=new w8(g,y=>r.columnDataFactory(y)).filter(),C=Pt(C,y=>y.meta.visualRow);const w=sv(C);return g.destroy(),os(v,y=>w(y.meta.visualRow))})(s),u=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:u},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),It(this,(e,n)=>{this[n]=null})}}function UPe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function zPe(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function $Pe(){F(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}bn(C8,ei);function GPe(t){return _6({initialPage:0,size:()=>t.length,onItemSelect:(e,n)=>{const r=t[e];if(r instanceof gv)return n;if(r.element&&!Th(r.element))return!1;r.focus()}})}const pv="filters";function YPe(t,e){let n=-1;const r=GPe(e),o=l=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(pv),r.setCurrentPage(e.indexOf(l))};e.forEach(l=>{l instanceof ea&&(l.addLocalHook("click",o(l)),l.addLocalHook("focus",o(l)),l.addLocalHook("afterClose",o(l)))}),t.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||r.clear()});function i(l){const u=t.getKeyboardShortcutsCtrl(),c=l.getKeyboardShortcutsCtrl();r.clear(),c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:u.getContext(pv),callback:()=>{l.isSubMenu()&&l.close(),u.listen(pv)}}]),!l.isSubMenu()&&u.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:h=>{const d=t.getNavigator();d.getCurrentPage()>-1&&(n=d.getCurrentPage()),d.clear(),h.shiftKey?r.toPreviousItem():r.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:h=>{const d=e[r.getCurrentPage()];d instanceof cv&&(d.openOptions(),h.preventDefault()),d instanceof fv&&(d.activate(),h.preventDefault()),d instanceof ea||h.preventDefault()}}],pv)}t.addLocalHook("afterSubmenuOpen",i),t.addLocalHook("afterOpen",i);function s(){t.focus(),t.getKeyboardShortcutsCtrl().listen(pv)}function a(){return n}return{...r,listen:s,getLastMenuPage:a}}function tu(t,e){S8(t,e),e.add(t)}function qPe(t,e,n){S8(t,e),e.set(t,n)}function S8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wv(t,e,n){return e=KPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KPe(t){var e=QPe(t,"string");return typeof e=="symbol"?e:String(e)}function QPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XPe(t,e,n){var r=x8(t,e,"set");return JPe(t,r,n),n}function JPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function vv(t,e){var n=x8(t,e,"get");return ZPe(t,n)}function x8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ZPe(t,e){return e.get?e.get.call(t):e.value}function ra(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const TI="filters",eIe=250,R8=TI;var rd=new WeakMap,k8=new WeakSet,E8=new WeakSet,T8=new WeakSet,M8=new WeakSet,MI=new WeakSet,_8=new WeakSet,_I=new WeakSet,O8=new WeakSet,A8=new WeakSet;class tIe extends an{static get PLUGIN_KEY(){return TI}static get PLUGIN_PRIORITY(){return eIe}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),tu(this,A8),tu(this,O8),tu(this,_I),tu(this,_8),tu(this,MI),tu(this,M8),tu(this,T8),tu(this,E8),tu(this,k8),wv(this,"dropdownMenuPlugin",null),wv(this,"conditionCollection",null),wv(this,"conditionUpdateObserver",null),wv(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),wv(this,"filtersRowsMap",null),qPe(this,rd,{writable:!0,value:void 0}),this.hot.addHook("afterGetColHeader",(n,r)=>ra(this,O8,aIe).call(this,n,r))}isEnabled(){return!!this.hot.getSettings()[TI]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new yw),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,n=e&&e.uiContainer||this.hot.rootDocument.body,r=s=>(s.addLocalHook("accept",()=>ra(this,MI,P8).call(this,"accept")),s.addLocalHook("cancel",()=>ra(this,MI,P8).call(this,"cancel")),s.addLocalHook("change",a=>ra(this,_8,sIe).call(this,s,a)),s),o=()=>`${this.hot.getTranslatedPhrase(JO)}:`,i=()=>`${this.hot.getTranslatedPhrase(ZO)}:`;if(!this.components.get("filter_by_condition")){const s=new yI(this.hot,{id:"filter_by_condition",name:o,addSeparator:!1,menuContainer:n});s.addLocalHook("afterClose",()=>ra(this,_I,I8).call(this)),this.components.set("filter_by_condition",r(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new sPe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const s=new yI(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});s.addLocalHook("afterClose",()=>ra(this,_I,I8).call(this)),this.components.set("filter_by_condition2",r(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",r(new TPe(this.hot,{id:"filter_by_value",name:i}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",r(new mv(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new RI(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new C8(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>ra(this,A8,lIe).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>ra(this,M8,iIe).call(this,s)),this.addHook("afterDropdownMenuShow",()=>ra(this,E8,rIe).call(this)),this.addHook("afterDropdownMenuHide",()=>ra(this,T8,oIe).call(this)),this.addHook("afterChange",s=>ra(this,k8,nIe).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!vv(this,rd)&&this.dropdownMenuPlugin.enabled){const s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{const u=s.getNavigator(),c=vv(this,rd).getLastMenuPage();s.focus(),c>0?u.setCurrentPage(c):u.toFirstItem()}},...Array.from(this.components).map(u=>{let[,c]=u;return c.getElements()}).flat()];XPe(this,rd,YPe(s,a));const l=u=>{vv(this,rd).listen(),u.preventDefault(),nw(u.keyCode,"TAB")&&(u.shiftKey?vv(this,rd).toPreviousItem():vv(this,rd).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,r)=>{n.destroy(),this.components.set(r,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:R8})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(R8)}addCondition(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xc;const i=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(i,{command:{key:n},args:r},o)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),r=!this.conditionCollection.isEmpty();let o=[];const i=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",i)!==!1)if(r){const s=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),o=Pt(n.filter(),l=>l.meta.visualRow);const a=sv(o);Je(this.hot.countSourceRows()-1,l=>{a(l)||s.push(l)}),F(s,l=>{this.filtersRowsMap.setValueAtIndex(l,!0)})},!0),!e&&!o.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",i),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),r=[];return F(this.hot.getSourceDataAtCol(n),(o,i)=>{var s;const{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:g,locale:p}=this.hot.getCellMeta(i,n),v=(s=this.hot.getDataAtCell(this.hot.toVisualRow(i),n))!==null&&s!==void 0?s:o;r.push({meta:{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:g,locale:p},value:NG(v)})}),r}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),r=hI(n);this.conditionUpdateObserver.updateStatesAtColumn(e,r)}restoreComponents(e){var n;const r=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(o=>{o.isHidden()||o.restoreState(r)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,r,o){let i=e;return i===g1&&n.command.key!==Ur&&r.command.key!==Ur&&o.command.key!==Ur?i=fI:o.command.key!==Ur&&(n.command.key===Ur||r.command.key===Ur)&&(i=xc),i}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),r=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...r):this.hideComponents(...r)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new w8(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return F(o,s=>{F(n.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const n=this.dropdownMenuPlugin.menu.hotMenu,r=n.getPlugin("hiddenRows");for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];const a=this.getIndexesOfComponents(...i);e?r.showRows(a):r.hideRows(a),n.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function nIe(t){t&&F(t,e=>{const[,n]=e,r=this.hot.propToCol(n);this.conditionCollection.hasConditions(r)&&this.updateValueComponentCondition(r)})}function rIe(){this.restoreComponents(Array.from(this.components.values()))}function oIe(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function iIe(t){t.items.push({name:Ht}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function P8(t){var e;if(t==="accept"){const r=this.getSelectedColumn();if(r===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:o}=r,i=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),i,s,a);this.conditionUpdateObserver.groupChanges();let u=this.conditionCollection.getColumnStackPosition(o);u===-1&&(u=void 0),this.conditionCollection.removeConditions(o),i.command.key!==Ur&&(this.conditionCollection.addCondition(o,i,l,u),s.command.key!==Ur&&this.conditionCollection.addCondition(o,s,l,u)),a.command.key!==Ur&&this.conditionCollection.addCondition(o,a,l,u),this.conditionUpdateObserver.flush(),this.components.forEach(c=>c.saveState(o)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function sIe(t,e){this.updateDependentComponentsVisibility(),t.constructor===yI&&!e.inputsCount&&this.setListeningDropdownMenu()}function I8(){this.setListeningDropdownMenu()}function aIe(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?_e(e,"htFiltersActive"):Rt(e,"htFiltersActive")}function lIe(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:r}}=t,o=n.filter(s=>s.name===td),i=n.filter(s=>s.name!==td);if(o.length>=2||i.length>=3)wn(un`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const s=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(i[0],r),this.components.get("filter_by_condition2").updateState(i[1],r),this.components.get("filter_operators").updateState(s,r),this.components.get("filter_by_value").updateState(t)}}const H8="internal-use-in-handsontable",OI={licenseKey:H8,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function N8(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[wo])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function D8(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function uIe(t){var e;const n=t[wo],r=D8(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=N8(t);return{...OI,...r,...o}}function cIe(t){var e;const n=t[wo],r=D8(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=N8(t);return{...r,...o}}function hIe(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function S1(){const t="engine_relationship",e=Bs(wo);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function AI(){const t="shared_engine_usage",e=Bs(wo);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function dIe(t){const e=t.getSettings(),n=e[wo],r=n==null?void 0:n.engine;if(n===!0||Tn(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var o;return fIe((o=r.hyperformula)!==null&&o!==void 0?o:r,e,t)}else if(typeof r=="object"&&Tn(r.hyperformula)){const i=S1(),s=AI().get(r);return i.has(r)||i.set(r,[]),i.get(r).push(t),s&&s.push(t.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:H8}),(r.getConfig().leapYear1900!==OI.leapYear1900||_M(r.getConfig().nullDate,OI.nullDate)===!1)&&wn(un`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function fIe(t,e,n){const r=e[wo],o=uIe(e),i=S1(),s=AI();gIe(t,r.functions),mIe(t,r.language);const a=t.buildEmpty(o);return i.set(a,[n]),s.set(a,[n.guid]),pIe(a,r.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function L8(t){var e;const n=S1(),r=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(r.map(o=>[o.getPlugin("formulas").sheetId,o]))}function j8(t,e){if(t){const n=S1(),r=n.get(t),o=AI(),i=o.get(t);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),r.length===0&&n.delete(t)),i&&i.includes(e.guid)&&(i.splice(i.indexOf(e.guid),1),i.length===0&&(o.delete(t),t.destroy()))}}function gIe(t,e){e&&e.forEach(n=>{const{name:r,plugin:o,translations:i}=n;try{t.registerFunction(r,o,i)}catch(s){wn(s.message)}})}function mIe(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(r){wn(r.message)}}}function pIe(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:r,expression:o,scope:i,options:s}=n;try{t.addNamedExpression(r,o,i,s)}catch(a){wn(a.message)}}),t.resumeEvaluation())}function wIe(t,e){return(Tn(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const F8="DD/MM/YYYY";function W8(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function vIe(t){return W8(t)?t.substr(1):t}function yIe(t){return typeof t=="string"&&t.startsWith("=")}function PI(t,e){return typeof t=="string"&&e==="date"}function V8(t,e){return ke(t,e,!0).isValid()}function B8(t,e){return ke(t,e,!0).format(F8)}function bIe(t,e){return ke(t,F8,!0).format(e)}function U8(t,e){const n=new Date(Date.UTC(0,0,t+-1));return ke(n).format(e)}function od(t,e,n){CIe(t,e),e.set(t,n)}function CIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dn(t,e){var n=z8(t,e,"get");return SIe(t,n)}function SIe(t,e){return e.get?e.get.call(t):e.value}function Tc(t,e,n){var r=z8(t,e,"set");return xIe(t,r,n),n}function z8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function xIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var yv=new WeakMap,Mc=new WeakMap,Ai=new WeakMap,x1=new WeakMap,II=new WeakMap,HI=new WeakMap,R1=new WeakMap;class $8{constructor(e,n,r){od(this,yv,{writable:!0,value:void 0}),od(this,Mc,{writable:!0,value:void 0}),od(this,Ai,{writable:!0,value:void 0}),od(this,x1,{writable:!0,value:[]}),od(this,II,{writable:!0,value:[]}),od(this,HI,{writable:!0,value:void 0}),od(this,R1,{writable:!0,value:[]}),Tc(this,yv,e),Tc(this,Mc,n),Tc(this,Ai,r)}setRemovedHfIndexes(e){return Tc(this,R1,e.map(n=>{const r=Dn(this,Mc).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(r)})),Dn(this,R1)}getRemovedHfIndexes(){return Dn(this,R1)}getHfIndexFromVisualIndex(e){const n=Dn(this,Mc).getIndexesSequence(),r=Dn(this,Mc).getNotTrimmedIndexes();return n.indexOf(r[e])}syncMoves(e){const n=`move${Ws(Dn(this,yv))}s`;Dn(this,Ai).getEngine().batch(()=>{e.forEach(r=>{const o=r.from!==r.to,i=r.from+1!==r.to;o&&i&&Dn(this,Ai).getEngine()[n](Dn(this,Ai).getSheetId(),r.from,1,r.to)})})}storeMovesInformation(e,n,r){r!==!1&&(Tc(this,II,e.map(o=>this.getHfIndexFromVisualIndex(o))),Tc(this,HI,this.getHfIndexFromVisualIndex(n)))}getMoveLine(e,n){const r=Dn(this,Mc).getNumberOfIndexes(),o=Array.from(Array(r).keys()).filter(s=>e.includes(s)===!1);if(n===0){var i;return(i=o[n])!==null&&i!==void 0?i:0}return o[n-1]+1}getInitiallyCalculatedMoves(e,n){let r=this.getMoveLine(e,n);const o=[];return e.forEach(i=>{const s={from:i,to:r};o.forEach(a=>{const l=a.from>a.to,u=a.to<=s.from;a.from>s.from&&u&&l&&(s.from+=1)}),s.from>=r&&(r+=1),o.push(s)}),o}adjustedCalculatedMoves(e){return e.forEach((n,r)=>{e.slice(r+1).forEach(o=>{const i=o.from<o.to;o.from>n.from&&i&&(o.from-=1)})}),e}calculateAndSyncMoves(e,n){if(Dn(this,Ai).isPerformingUndoRedo()||e===!1||n===!1)return;const r=this.adjustedCalculatedMoves(this.getInitiallyCalculatedMoves(Dn(this,II),Dn(this,HI)));Dn(this,Ai).getSheetId()===null?Dn(this,Ai).getPostponeAction(()=>this.syncMoves(r)):this.syncMoves(r)}getIndexesChangeSyncMethod(){const e=`set${Ws(Dn(this,yv))}Order`;return n=>{if(Dn(this,Ai).isPerformingUndoRedo())return;const r=Dn(this,Mc).getIndexesSequence();if(n==="update"){const o=Dn(this,x1).map(l=>r.indexOf(l)),i=Dn(this,Ai).getEngine().getSheetDimensions(Dn(this,Ai).getSheetId());let s;Dn(this,yv)==="row"?s=i.height:s=i.width;const a=o.length;for(let l=a;l<s;l+=1)o.push(l);Dn(this,Ai).getEngine()[e](Dn(this,Ai).getSheetId(),o)}Tc(this,x1,r)}}init(){Tc(this,x1,Dn(this,Mc).getIndexesSequence())}}function id(t,e,n){RIe(t,e),e.set(t,n)}function RIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nu(t,e){var n=G8(t,e,"get");return kIe(t,n)}function kIe(t,e){return e.get?e.get.call(t):e.value}function sd(t,e,n){var r=G8(t,e,"set");return EIe(t,r,n),n}function G8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function EIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var k1=new WeakMap,E1=new WeakMap,NI=new WeakMap,DI=new WeakMap,LI=new WeakMap,jI=new WeakMap,FI=new WeakMap;class TIe{constructor(e,n,r){id(this,k1,{writable:!0,value:void 0}),id(this,E1,{writable:!0,value:void 0}),id(this,NI,{writable:!0,value:void 0}),id(this,DI,{writable:!0,value:!1}),id(this,LI,{writable:!0,value:!1}),id(this,jI,{writable:!0,value:null}),id(this,FI,{writable:!0,value:null}),sd(this,k1,new $8("row",e,this)),sd(this,E1,new $8("column",n,this)),sd(this,NI,r)}getForAxis(e){return e==="row"?nu(this,k1):nu(this,E1)}setPerformUndo(e){sd(this,DI,e)}setPerformRedo(e){sd(this,LI,e)}isPerformingUndoRedo(){return nu(this,DI)||nu(this,LI)}getSheetId(){return nu(this,FI)}getEngine(){return nu(this,jI)}getPostponeAction(){return nu(this,NI)}setupSyncEndpoint(e,n){sd(this,jI,e),sd(this,FI,n),nu(this,k1).init(),nu(this,E1).init()}}function Bn(t,e){Y8(t,e),e.add(t)}function Ag(t,e,n){return e=MIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MIe(t){var e=_Ie(t,"string");return typeof e=="symbol"?e:String(e)}function _Ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WI(t,e,n){Y8(t,e),e.set(t,n)}function Y8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _c(t,e,n){var r=q8(t,e,"set");return OIe(t,r,n),n}function OIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Pg(t,e){var n=q8(t,e,"get");return AIe(t,n)}function q8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function AIe(t,e){return e.get?e.get.call(t):e.value}function Cn(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const wo="formulas",PIe=["maxRows","maxColumns","language"],IIe=260;$e.getSingleton().register("afterNamedExpressionAdded"),$e.getSingleton().register("afterNamedExpressionRemoved"),$e.getSingleton().register("afterSheetAdded"),$e.getSingleton().register("afterSheetRemoved"),$e.getSingleton().register("afterSheetRenamed"),$e.getSingleton().register("afterFormulasValuesUpdate");const Ig=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var ru=new WeakMap,VI=new WeakMap,bv=new WeakMap,K8=new WeakSet,Q8=new WeakSet,BI=new WeakSet,X8=new WeakSet,UI=new WeakSet,J8=new WeakSet,Z8=new WeakSet,zI=new WeakSet,eY=new WeakSet,tY=new WeakSet,nY=new WeakSet,rY=new WeakSet,oY=new WeakSet,iY=new WeakSet,sY=new WeakSet,aY=new WeakSet,lY=new WeakSet,uY=new WeakSet,cY=new WeakSet,hY=new WeakSet,dY=new WeakSet,fY=new WeakSet,gY=new WeakSet,mY=new WeakSet;class HIe extends an{constructor(){var e;super(...arguments),e=this,Bn(this,mY),Bn(this,gY),Bn(this,fY),Bn(this,dY),Bn(this,hY),Bn(this,cY),Bn(this,uY),Bn(this,lY),Bn(this,aY),Bn(this,sY),Bn(this,iY),Bn(this,oY),Bn(this,rY),Bn(this,nY),Bn(this,tY),Bn(this,eY),Bn(this,zI),Bn(this,Z8),Bn(this,J8),Bn(this,UI),Bn(this,X8),Bn(this,BI),Bn(this,Q8),Bn(this,K8),WI(this,ru,{writable:!0,value:!1}),WI(this,VI,{writable:!0,value:!1}),WI(this,bv,{writable:!0,value:[["valuesUpdated",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,cY,QIe).call(e,...r)}],["namedExpressionAdded",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,hY,XIe).call(e,...r)}],["namedExpressionRemoved",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,dY,JIe).call(e,...r)}],["sheetAdded",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,fY,ZIe).call(e,...r)}],["sheetRenamed",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,gY,eHe).call(e,...r)}],["sheetRemoved",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,mY,tHe).call(e,...r)}]]}),Ag(this,"staticRegister",Bs("formulas")),Ag(this,"engine",null),Ag(this,"sheetName",null),Ag(this,"indexSyncer",null),Ag(this,"rowAxisSyncer",null),Ag(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return wo}static get PLUGIN_PRIORITY(){return IIe}static get SETTING_KEYS(){return[wo,...PIe]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[wo]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=dIe(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){wn("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const r=this.addSheet(this.sheetName,this.hot.getSourceDataArray());r!==!1&&(this.sheetName=r)}this.addHook("beforeLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,BI,pY).call(n,...o)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,UI,wY).call(n,...o)}),this.addHook("beforeUpdateData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,BI,pY).call(n,...o)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,UI,wY).call(n,...o)}),this.addHook("modifyData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,J8,jIe).call(n,...o)}),this.addHook("modifySourceData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,Z8,FIe).call(n,...o)}),this.addHook("beforeValidate",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,K8,NIe).call(n,...o)}),this.addHook("afterSetSourceDataAtCell",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,eY,WIe).call(n,...o)}),this.addHook("afterSetDataAtCell",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,zI,vY).call(n,...o)}),this.addHook("afterSetDataAtRowProp",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,zI,vY).call(n,...o)}),this.addHook("beforeCreateRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,tY,VIe).call(n,...o)}),this.addHook("beforeCreateCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,nY,BIe).call(n,...o)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,iY,$Ie).call(n,...o)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,sY,GIe).call(n,...o)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,rY,UIe).call(n,...o)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,oY,zIe).call(n,...o)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,aY,YIe).call(n,...o)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,lY,qIe).call(n,...o)}),this.indexSyncer=new TIe(this.hot.rowIndexMapper,this.hot.columnIndexMapper,r=>{this.hot.addHookOnce("init",()=>{r()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(r,o,i,s)=>{this.rowAxisSyncer.storeMovesInformation(r,o,s)}),this.hot.addHook("beforeColumnMove",(r,o,i,s)=>{this.columnAxisSyncer.storeMovesInformation(r,o,s)}),this.hot.addHook("afterRowMove",(r,o,i,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(r,o,i,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(r,o)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart,o)}),this.hot.addHook("afterColumnFreeze",(r,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.hot.addHook("beforeColumnUnfreeze",(r,o)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart-1,o)}),this.hot.addHook("afterColumnUnfreeze",(r,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.addHook("afterCellMetaReset",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,X8,LIe).call(n,...o)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,uY,KIe).call(n,...o)}),this.addHook("beforeAutofill",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,Q8,DIe).call(n,...o)}),Pg(this,bv).forEach(r=>{let[o,i]=r;return this.engine.on(o,i)}),super.enablePlugin()}}disablePlugin(){Pg(this,bv).forEach(e=>{let[n,r]=e;return this.engine.off(n,r)}),j8(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=cIe(this.hot.getSettings());hIe(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const r=this.hot.getSettings()[wo];if(Be(r)&&Be(r.sheetName)&&r.sheetName!==this.sheetName&&this.switchSheet(r.sheetName),!e.data&&this.sheetName===null){const o=this.hot.getSettings()[wo].sheetName;o&&this.engine.doesSheetExist(o)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(o??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){Pg(this,bv).forEach(e=>{var n;let[r,o]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(r,o)}),_c(this,bv,null),j8(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(Be(n)&&!qbe(n))return wn("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return wn("Sheet with the provided name already exists."),!1;try{const r=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(r),n),r}catch(r){return wn(r.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){DM(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Ws(wo)}.switchSheet`)}getCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const o=this.hot.toPhysicalRow(e),i=this.hot.toPhysicalColumn(n);return o!==null&&i!==null?this.engine.getCellType({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=new Set;e.forEach(o=>{var i;const s=o==null||(i=o.address)===null||i===void 0?void 0:i.sheet;s!==void 0&&(r.has(s)||r.add(s))}),L8(this.engine).forEach((o,i)=>{if((n||i!==this.sheetId)&&r.has(i)){var s;o.render(),(s=o.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=i=>{var s;const{row:a,col:l,sheet:u}=(s=i==null?void 0:i.address)!==null&&s!==void 0?s:{};return Be(u)?`${u}:${a}x${l}`:""},o=new Set(n.map(i=>r(i)));e.forEach(i=>{var s,a;const{row:l,col:u}=(s=i.address)!==null&&s!==void 0?s:{};if(Be(l)===!1||Be(u)===!1||l>=this.hot.countRows()||u>=this.hot.countCols())return;const c=i==null||(a=i.address)===null||a===void 0?void 0:a.sheet,h=r(i);if(c!==void 0&&!o.has(h)){const d=L8(this.engine).get(c);if(!d)return;d.validateCell(d.getDataAtCell(l,u),d.getCellMeta(l,u),()=>{})}})}syncChangeWithEngine(e,n,r){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(o)){wn(`Not possible to set cell data at ${JSON.stringify(o)}`);return}const i=this.hot.getCellMeta(e,n);return PI(r,i.type)&&(V8(r,i.dateFormat)?r=B8(r,i.dateFormat):yIe(r)===!1&&(r=`'${r}`)),this.engine.setCellContents(o,r)}}function NIe(t,e,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(e,r)){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},i=this.hot.getCellMeta(e,r);let s=this.engine.getCellValue(o);return i.type==="date"&&Jo(s)&&(s=U8(s,i.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function DIe(t,e,n){const{row:r,col:o}=e.getTopStartCorner(),{row:i,col:s}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(d)===!1)return!1;const g=this.engine.getFillRangeData(h,d),{row:p,col:v}=h.start,{row:C,col:w}=h.end,y=C-p+1,x=w-v+1;for(let T=0;T<g.length;T+=1)for(let _=0;_<g[T].length;_+=1){const E=g[T][_],O=T%y,N=_%x,H=this.hot.getCellMeta(O,N);PI(E,H.type)&&(E.startsWith("'")?g[T][_]=E.slice(1):this.isFormulaCellType(O,N,this.sheetId)===!1&&(g[T][_]=bIe(E,H.dateFormat)))}return g}function pY(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Ws(wo))||_c(this,VI,Tn(this.hot.getSettings().data))}function LIe(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach((n,r)=>{n.forEach((o,i)=>{const s=this.hot.getCellMeta(r,i),a=s.dateFormat;PI(o,s.type)&&(e=!0,V8(o,a)?t[r][i]=B8(o,a):this.isFormulaCellType(r,i)===!1&&(t[r][i]=`'${o}`))})}),e===!0&&(_c(this,ru,!0),this.engine.setSheetContent(this.sheetId,t),_c(this,ru,!1))}function wY(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Ws(wo)))if(this.sheetName=wIe(this.engine,this.hot.getSettings()[wo].sheetName),Pg(this,VI))this.switchSheet(this.sheetName);else{const n=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,n)){_c(this,ru,!0);const r=this.engine.setSheetContent(this.sheetId,n);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(r),_c(this,ru,!1)}}}function jIe(t,e,n,r){if(r!=="get"||Pg(this,ru)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t);if(o===null||e===null)return;if(!this.isFormulaCellType(o,e)&&this.getCellType(o,e)!=="ARRAY"){W8(n.value)&&(n.value=vIe(n.value));return}const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let s=this.engine.getCellValue(i);const a=this.hot.getCellMeta(o,e);a.type==="date"&&Jo(s)&&(s=U8(s,a.dateFormat));const l=typeof s=="object"&&s!==null?s.value:s;n.value=l}function FIe(t,e,n,r){if(r!=="get"||Pg(this,ru)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t),i=this.hot.propToCol(e);if(o===null||i===null||!this.isFormulaCellType(o,i)&&this.getCellType(o,i)!=="ARRAY")return;const s=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(s.width===0&&s.height===0)return;const a={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId};n.value=this.engine.getCellSerialized(a)}function vY(t,e){if(Ig(e))return;const n=[],r=[],o=this.engine.batch(()=>{t.forEach(i=>{let[s,a,,l]=i;const u=this.hot.propToCol(a),c=this.hot.toPhysicalRow(s),h=this.hot.toPhysicalColumn(u),d={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId};c!==null&&h!==null?this.syncChangeWithEngine(s,u,l):n.push([s,u,l]),r.push({address:d})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const i=this.engine.batch(()=>{n.forEach(s=>{let[a,l,u]=s;this.syncChangeWithEngine(a,l,u)})});this.renderDependentSheets(i,!0)}),this.renderDependentSheets(o),this.validateDependentCells(o,r)}function WIe(t,e){if(Ig(e))return;const n=[],r=[];t.forEach(o=>{let[i,s,,a]=o;const l=this.hot.propToCol(s);if(!Jo(l))return;const u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(u)){wn(`Not possible to set source cell data at ${JSON.stringify(u)}`);return}r.push({address:u}),n.push(...this.engine.setCellContents(u,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function VIe(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function BIe(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function UIe(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(r=>this.engine.isItPossibleToRemoveRows(this.sheetId,[r,1]))===!1?!1:void 0}function zIe(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(r=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[r,1]))===!1?!1:void 0}function $Ie(t,e,n){if(Ig(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function GIe(t,e,n){if(Ig(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function YIe(t,e,n,r){if(Ig(r))return;const o=this.rowAxisSyncer.getRemovedHfIndexes().sort().reverse(),i=this.engine.batch(()=>{o.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(i)}function qIe(t,e,n,r){if(Ig(r))return;const o=this.columnAxisSyncer.getRemovedHfIndexes().sort().reverse(),i=this.engine.batch(()=>{o.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(i)}function KIe(t,e,n){var r;_c(this,ru,!0);const o=this.hot.getSourceDataArray(n,0,n+(((r=e.__children)===null||r===void 0?void 0:r.length)||0),this.hot.countSourceCols());_c(this,ru,!1),o.forEach((i,s)=>{i.forEach((a,l)=>{this.engine.setCellContents({col:l,row:n+s,sheet:this.sheetId},[[a]])})})}function QIe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function XIe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function JIe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function ZIe(t){this.hot.runHooks("afterSheetAdded",t)}function eHe(t,e){this.hot.runHooks("afterSheetRenamed",t,e)}function tHe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function nHe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,r,,o]=e;r-o!==0&&(n=1)}return this.getTranslatedPhrase(_O,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.col,n.col),0),o=Math.max(e.col,n.col),i=[];for(let l=r;l<=o;l+=1)i.push(l);t.hideColumns(i);const s=i[i.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function rHe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(OO,n)},callback(){var n,r;if(e.length===0)return;let o=e[0],i=e[e.length-1];o=(n=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,i=(r=this.columnIndexMapper.getNearestNotHiddenIndex(i+1,1))!==null&&r!==void 0?r:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(!0),i-o+1===this.countCols()||this.selectColumns(o,i)},disabled:!1,hidden(){const n=Pt(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),o=r.getTopStartCorner().col,i=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(o),l=s.getRenderableFromVisualIndex(i),u=s.getNotTrimmedIndexes(),c=[];if(o!==i){const h=i-o+1,d=l-a+1;if(h>d){const g=u.slice(o,i+1);c.push(...g.filter(p=>n.includes(p)))}}else if(a===0&&a<o)c.push(...u.slice(0,o));else if(a===null)c.push(...u.slice(0,this.countCols()));else{const h=this.countCols()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>i&&c.push(...u.slice(i+1))}return F(c,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function Hg(t,e){bY(t,e),e.add(t)}function yY(t,e,n){bY(t,e),e.set(t,n)}function bY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ng(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Pi(t,e){var n=CY(t,e,"get");return oHe(t,n)}function oHe(t,e){return e.get?e.get.call(t):e.value}function Cv(t,e,n){var r=CY(t,e,"set");return iHe(t,r,n),n}function CY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function iHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}$e.getSingleton().register("beforeHideColumns"),$e.getSingleton().register("afterHideColumns"),$e.getSingleton().register("beforeUnhideColumns"),$e.getSingleton().register("afterUnhideColumns");const $I="hiddenColumns",sHe=310;var Ga=new WeakMap,Ya=new WeakMap,SY=new WeakSet,xY=new WeakSet,RY=new WeakSet,kY=new WeakSet,EY=new WeakSet,TY=new WeakSet;class aHe extends an{constructor(){super(...arguments),Hg(this,TY),Hg(this,EY),Hg(this,kY),Hg(this,RY),Hg(this,xY),Hg(this,SY),yY(this,Ga,{writable:!0,value:{}}),yY(this,Ya,{writable:!0,value:null})}static get PLUGIN_KEY(){return $I}static get PLUGIN_PRIORITY(){return sHe}isEnabled(){return!!this.hot.getSettings()[$I]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[$I];Ot(n)&&(Cv(this,Ga,n),Tn(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Cv(this,Ya,new MC),Pi(this,Ya).addLocalHook("init",()=>Ng(this,TY,fHe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Pi(this,Ya)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ng(e,EY,dHe).call(e,...o)}),this.addHook("afterGetCellMeta",(r,o,i)=>Ng(this,xY,uHe).call(this,r,o,i)),this.addHook("modifyColWidth",(r,o)=>Ng(this,SY,lHe).call(this,r,o)),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ng(e,kY,hHe).call(e,...o)}),this.addHook("modifyCopyableRange",r=>Ng(this,RY,cHe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Cv(this,Ga,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let o=n;const i=Pi(this,Ya).getValues().slice(),s=e.length>0;if(r&&s){const a=e.map(l=>this.hot.toPhysicalColumn(l));F(a,l=>{i[l]=!1}),o=fo(i,(l,u,c)=>(u&&l.push(this.hot.toVisualColumn(c)),l),[])}this.hot.runHooks("beforeUnhideColumns",n,o,r&&s)!==!1&&(r&&s&&Pi(this,Ya).setValues(i),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,o,r&&s,r&&o.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{Pi(this,Ya).setValueAtIndex(this.hot.toPhysicalColumn(i),!0)})},!0),this.hot.runHooks("afterHideColumns",n,o,r,r&&o.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideColumns(n)}getHiddenColumns(){return Pt(Pi(this,Ya).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return Pi(this,Ya).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){Cv(this,Ga,null),Cv(this,Ya,null),super.destroy()}}function lHe(t,e){if(this.isHidden(e))return 0;if(Pi(this,Ga).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function uHe(t,e,n){if(Pi(this,Ga).copyPasteEnabled===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const r=n.className.split(" ");if(r.length>0){const o=r.indexOf("afterHiddenColumn");o>-1&&r.splice(o,1),n.className=r.join(" ")}}}function cHe(t){if(Pi(this,Ga).copyPasteEnabled)return t;const e=[],n=(r,o,i,s)=>{e.push({startRow:r,endRow:o,startCol:i,endCol:s})};return F(t,r=>{let o=!0,i=0;Je(r.startCol,r.endCol,s=>{this.isHidden(s)?(o||n(r.startRow,r.endRow,i,s-1),o=!0):(o&&(i=s),s===r.endCol&&n(r.startRow,r.endRow,i,s),o=!1)})}),e}function hHe(t,e){if(!Pi(this,Ga).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),_e(e,n)}function dHe(t){t.items.push({name:Ht},nHe(this),rHe(this))}function fHe(){Array.isArray(Pi(this,Ga).columns)&&this.hideColumns(Pi(this,Ga).columns)}function gHe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[r,,o]=e;r-o!==0&&(n=1)}return this.getTranslatedPhrase(AO,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.row,n.row),0),o=Math.max(e.row,n.row),i=[];for(let l=r;l<=o;l+=1)i.push(l);t.hideRows(i);const s=i[i.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function mHe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(PO,n)},callback(){var n,r;if(e.length===0)return;let o=e[0],i=e[e.length-1];o=(n=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,i=(r=this.rowIndexMapper.getNearestNotHiddenIndex(i+1,1))!==null&&r!==void 0?r:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(!0),i-o+1===this.countRows()||this.selectRows(o,i)},disabled:!1,hidden(){const n=Pt(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),o=r.getTopStartCorner().row,i=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(o),l=s.getRenderableFromVisualIndex(i),u=s.getNotTrimmedIndexes(),c=[];if(o!==i){const h=i-o+1,d=l-a+1;if(h>d){const g=u.slice(o,i+1);c.push(...g.filter(p=>n.includes(p)))}}else if(a===0&&a<o)c.push(...u.slice(0,o));else if(a===null)c.push(...u.slice(0,this.countRows()));else{const h=this.countRows()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>i&&c.push(...u.slice(i+1))}return F(c,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function Dg(t,e){_Y(t,e),e.add(t)}function MY(t,e,n){_Y(t,e),e.set(t,n)}function _Y(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function vs(t,e){var n=OY(t,e,"get");return pHe(t,n)}function pHe(t,e){return e.get?e.get.call(t):e.value}function Sv(t,e,n){var r=OY(t,e,"set");return wHe(t,r,n),n}function OY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function wHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}$e.getSingleton().register("beforeHideRows"),$e.getSingleton().register("afterHideRows"),$e.getSingleton().register("beforeUnhideRows"),$e.getSingleton().register("afterUnhideRows");const GI="hiddenRows",vHe=320;var ou=new WeakMap,qa=new WeakMap,AY=new WeakSet,PY=new WeakSet,IY=new WeakSet,HY=new WeakSet,NY=new WeakSet,DY=new WeakSet;class yHe extends an{constructor(){super(...arguments),Dg(this,DY),Dg(this,NY),Dg(this,HY),Dg(this,IY),Dg(this,PY),Dg(this,AY),MY(this,ou,{writable:!0,value:{}}),MY(this,qa,{writable:!0,value:null})}static get PLUGIN_KEY(){return GI}static get PLUGIN_PRIORITY(){return vHe}isEnabled(){return!!this.hot.getSettings()[GI]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[GI];Ot(n)&&(Sv(this,ou,n),Tn(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Sv(this,qa,new MC),vs(this,qa).addLocalHook("init",()=>Lg(this,DY,kHe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,vs(this,qa)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Lg(e,NY,RHe).call(e,...o)}),this.addHook("afterGetCellMeta",(r,o,i)=>Lg(this,PY,CHe).call(this,r,o,i)),this.addHook("modifyRowHeight",(r,o)=>Lg(this,AY,bHe).call(this,r,o)),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Lg(e,HY,xHe).call(e,...o)}),this.addHook("modifyCopyableRange",r=>Lg(this,IY,SHe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),Sv(this,ou,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let o=n;const i=vs(this,qa).getValues().slice(),s=e.length>0;if(r&&s){const a=e.map(l=>this.hot.toPhysicalRow(l));F(a,l=>{i[l]=!1}),o=fo(i,(l,u,c)=>(u&&l.push(this.hot.toVisualRow(c)),l),[])}this.hot.runHooks("beforeUnhideRows",n,o,r&&s)!==!1&&(r&&s&&vs(this,qa).setValues(i),this.hot.runHooks("afterUnhideRows",n,o,r&&s,r&&o.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{vs(this,qa).setValueAtIndex(this.hot.toPhysicalRow(i),!0)})},!0),this.hot.runHooks("afterHideRows",n,o,r,r&&o.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideRows(n)}getHiddenRows(){return Pt(vs(this,qa).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return vs(this,qa).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){Sv(this,ou,null),Sv(this,qa,null),super.destroy()}}function bHe(t,e){return this.isHidden(e)?0:t}function CHe(t,e,n){if(vs(this,ou).copyPasteEnabled===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const r=n.className.split(" ");if(r.length>0){const o=r.indexOf("afterHiddenRow");o>-1&&r.splice(o,1),n.className=r.join(" ")}}}function SHe(t){if(vs(this,ou).copyPasteEnabled)return t;const e=[],n=(r,o,i,s)=>{e.push({startRow:r,endRow:o,startCol:i,endCol:s})};return F(t,r=>{let o=!0,i=0;Je(r.startRow,r.endRow,s=>{this.isHidden(s)?(o||n(i,s-1,r.startCol,r.endCol),o=!0):(o&&(i=s),s===r.endRow&&n(i,s,r.startCol,r.endCol),o=!1)})}),e}function xHe(t,e){if(!vs(this,ou).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),_e(e,n)}function RHe(t){t.items.push({name:Ht},gHe(this),mHe(this))}function kHe(){Array.isArray(vs(this,ou).rows)&&this.hideRows(vs(this,ou).rows)}function EHe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(iO)},callback(e,n){const[{start:{col:r}}]=n;t.freezeColumn(r),this.render(),this.view.adjustElementsSize(!0)},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function THe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(sO)},callback(e,n){const[{start:{col:r}}]=n;t.unfreezeColumn(r),this.render(),this.view.adjustElementsSize(!0)},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function LY(t,e){jY(t,e),e.add(t)}function MHe(t,e,n){jY(t,e),e.set(t,n)}function jY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YI(t,e){var n=FY(t,e,"get");return _He(t,n)}function _He(t,e){return e.get?e.get.call(t):e.value}function qI(t,e,n){var r=FY(t,e,"set");return OHe(t,r,n),n}function FY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function OHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function WY(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("beforeColumnFreeze"),$e.getSingleton().register("afterColumnFreeze"),$e.getSingleton().register("beforeColumnUnfreeze"),$e.getSingleton().register("afterColumnUnfreeze");const VY="manualColumnFreeze",AHe=110;var ad=new WeakMap,BY=new WeakSet,UY=new WeakSet;class PHe extends an{constructor(){super(...arguments),LY(this,UY),LY(this,BY),MHe(this,ad,{writable:!0,value:!1})}static get PLUGIN_KEY(){return VY}static get PLUGIN_PRIORITY(){return AHe}isEnabled(){return!!this.hot.getSettings()[VY]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>WY(this,BY,IHe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>WY(this,UY,HHe).call(this,e,n)),super.enablePlugin())}disablePlugin(){qI(this,ad,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;YI(this,ad)||qI(this,ad,!0),this.hot.runHooks("beforeColumnFreeze",e,r)!==!1&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}unfreezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;YI(this,ad)||qI(this,ad,!0),this.hot.runHooks("beforeColumnUnfreeze",e,r)!==!1&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}}function IHe(t){t.items.push({name:"---------"},EHe(this),THe(this))}function HHe(t,e){if(YI(this,ad)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(r=>r<n))return!1}}function T1(t,e,n){return e=NHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NHe(t){var e=DHe(t,"string");return typeof e=="symbol"?e:String(e)}function DHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const KI=0,zY=1,$Y=2,jg="px";let GY=class{constructor(t){T1(this,"hot",void 0),T1(this,"_element",null),T1(this,"state",KI),T1(this,"inlineProperty",void 0),this.hot=t,this.inlineProperty=t.isRtl()?"right":"left"}appendTo(t){t.appendChild(this._element),this.state=$Y}build(){this.state===KI&&(this._element=this.hot.rootDocument.createElement("div"),this.state=zY)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=KI}isAppended(){return this.state===$Y}isBuilt(){return this.state>=zY}setPosition(t,e){Jo(t)&&(this._element.style.top=t+jg),Jo(e)&&(this._element.style[this.inlineProperty]=e+jg)}getPosition(){const t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}setSize(t,e){Jo(t)&&(this._element.style.width=t+jg),Jo(e)&&(this._element.style.height=e+jg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){Jo(t)&&(this._element.style.marginTop=t+jg),Jo(e)&&(this._element.style[`margin${Ws(this.inlineProperty)}`]=e+jg)}getOffset(){const t=this._element.style,e=`margin${Ws(this.inlineProperty)}`;return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[e]?parseInt(t[e],10):0}}};const LHe="ht__manualColumnMove--backlight";let jHe=class extends GY{build(){super.build(),_e(this._element,LHe)}};const FHe="ht__manualColumnMove--guideline";let WHe=class extends GY{build(){super.build(),_e(this._element,FHe)}};function Fg(t,e){YY(t,e),e.add(t)}function oa(t,e,n){YY(t,e),e.set(t,n)}function YY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function si(t,e,n){var r=qY(t,e,"set");return VHe(t,r,n),n}function VHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Qe(t,e){var n=qY(t,e,"get");return BHe(t,n)}function qY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function BHe(t,e){return e.get?e.get.call(t):e.value}function Wg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("beforeColumnMove"),$e.getSingleton().register("afterColumnMove");const QI="manualColumnMove",UHe=120,KY="ht__manualColumnMove",M1="show-ui",XI="on-moving--columns",JI="after-selection--columns";var Ho=new WeakMap,Oc=new WeakMap,iu=new WeakMap,_1=new WeakMap,Ac=new WeakMap,No=new WeakMap,O1=new WeakMap,ys=new WeakMap,Vg=new WeakMap,A1=new WeakMap,xv=new WeakMap,QY=new WeakSet,XY=new WeakSet,JY=new WeakSet,ZY=new WeakSet,e5=new WeakSet,t5=new WeakSet;class zHe extends an{constructor(){super(...arguments),Fg(this,t5),Fg(this,e5),Fg(this,ZY),Fg(this,JY),Fg(this,XY),Fg(this,QY),oa(this,Ho,{writable:!0,value:new jHe(this.hot)}),oa(this,Oc,{writable:!0,value:new WHe(this.hot)}),oa(this,iu,{writable:!0,value:[]}),oa(this,_1,{writable:!0,value:0}),oa(this,Ac,{writable:!0,value:!1}),oa(this,No,{writable:!0,value:{}}),oa(this,O1,{writable:!0,value:void 0}),oa(this,ys,{writable:!0,value:void 0}),oa(this,Vg,{writable:!0,value:void 0}),oa(this,A1,{writable:!0,value:void 0}),oa(this,xv,{writable:!0,value:void 0})}static get PLUGIN_KEY(){return QI}static get PLUGIN_PRIORITY(){return UHe}isEnabled(){return!!this.hot.getSettings()[QI]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Wg(e,QY,$He).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Wg(e,JY,YHe).call(e,...r)}),this.addHook("afterScrollVertically",()=>Wg(this,e5,KHe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Wg(e,t5,QHe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),_e(this.hot.rootElement,KY),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Rt(this.hot.rootElement,KY),this.unregisterEvents(),Qe(this,Ho).destroy(),Qe(this,Oc).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const r=Qe(this,O1),o=this.isMovePossible(e,n),i=this.hot.runHooks("beforeColumnMove",e,n,r,o);if(si(this,O1,void 0),i===!1)return;o&&this.hot.columnIndexMapper.moveIndexes(e,n);const s=o&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,r,o,s),s}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const r=this.countFinalIndex(e,n);return si(this,O1,n),this.moveColumns(e,r)}isMovePossible(e,n){const r=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>r,i=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(o||i||s||a)}isColumnOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}countFinalIndex(e,n){const r=fo(e,(o,i)=>(i<n&&(o+=1),o),0);return n-r}getColumnsWidth(e,n){const r=this.hot.columnIndexMapper;let o=0;for(let i=e;i<=n;i+=1){const s=r.getRenderableFromVisualIndex(i);i<0?o+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(o+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[QI];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const r=[];return Je(e,n,o=>{r.push(o)}),r}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(Qe(this,ys))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,o=typeof r.scrollX=="number"?r.scrollX:r.scrollLeft;let i=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,Qe(this,ys)-1);const s=n.hider.offsetWidth,a=n.TBODY.offsetLeft,l=Qe(this,Ho).getOffset().start,u=Qe(this,Ho).getSize().width;let c=0,h=0;if(this.hot.isRtl()){const p=this.hot.rootWindow,v=pn(this.hot.rootElement),C=p.innerWidth-Qe(this,Vg)-v;h=p.innerWidth-Qe(this,No).eventPageX-C-(r.scrollX===void 0?o:0)}else h=Qe(this,No).eventPageX-(Qe(this,Vg)-(r.scrollX===void 0?o:0));if(Qe(this,A1)&&(c=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(Qe(this,ys))&&(i+=o),i+=c,Qe(this,ys)<0)Qe(this,xv)>0?Qe(this,No).col=0:Qe(this,No).col=e>0?e-1:e;else if(Qe(this,No).TD.offsetWidth/2+i<=h){const p=Qe(this,ys)>=Qe(this,_1)?Qe(this,_1)-1:Qe(this,ys);Qe(this,No).col=p+1,i+=Qe(this,No).TD.offsetWidth}else Qe(this,No).col=Qe(this,ys);let d=h,g=i;h+u+l>=s?d=s-u-l:h+l<a+c&&(d=a+c+Math.abs(l)),i>=s-1?g=s-1:g===0?g=1:r.scrollX!==void 0&&Qe(this,ys)<Qe(this,xv)&&(g-=Qe(this,Vg)<=r.scrollX?Qe(this,Vg):0),Qe(this,Ho).setPosition(null,d),Qe(this,Oc).setPosition(null,g)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Wg(this,XY,GHe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Wg(this,ZY,qHe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Qe(this,Ho).build(),Qe(this,Oc).build()}destroy(){Qe(this,Ho).destroy(),Qe(this,Oc).destroy(),super.destroy()}}function $He(t,e,n,r){const o=this.hot.view._wt.wtTable,i=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=yt(t.target,"sortAction");if(!s||!i||Qe(this,Ac)||t.button!==0||a){si(this,Ac,!1),Qe(this,iu).length=0,Rt(this.hot.rootElement,[XI,M1]);return}const l=Qe(this,Oc).isBuilt()&&!Qe(this,Oc).isAppended(),u=Qe(this,Ho).isBuilt()&&!Qe(this,Ho).isAppended();l&&u&&(Qe(this,Oc).appendTo(o.hider),Qe(this,Ho).appendTo(o.hider));const{from:c,to:h}=s,d=Math.min(c.col,h.col),g=Math.max(c.col,h.col);if(e.row<0&&e.col>=d&&e.col<=g){r.column=!0,si(this,Ac,!0);const p=n.firstChild?Bpe(t,n.firstChild).x:t.offsetX;Qe(this,No).eventPageX=t.pageX,si(this,ys,e.col),Qe(this,No).TD=n,Qe(this,No).col=e.col,si(this,iu,this.prepareColumnsToMoving(d,g)),si(this,A1,!!this.hot.getSettings().rowHeaders),si(this,_1,this.hot.countCols()),si(this,xv,this.hot.getSettings().fixedColumnsStart),si(this,Vg,Dr(this.hot.rootElement).left);const v=Qe(this,A1)?-1:0,C=o.holder.scrollTop+o.getColumnHeaderHeight(0)+1,w=e.col<Qe(this,xv),y=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),x=Math.abs(p-(this.hot.isRtl()?n.offsetWidth:0)),T=this.getColumnsWidth(d,e.col-1)+x,_=this.getColumnsWidth(v,d-1)+(w?y:0)+T;Qe(this,Ho).setPosition(C,_),Qe(this,Ho).setSize(this.getColumnsWidth(d,g),o.hider.offsetHeight-C),Qe(this,Ho).setOffset(null,-T),_e(this.hot.rootElement,XI)}else Rt(this.hot.rootElement,JI),si(this,Ac,!1),Qe(this,iu).length=0}function GHe(t){Qe(this,Ac)&&(Qe(this,No).eventPageX=t.pageX,this.refreshPositions())}function YHe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Qe(this,Ac)||(Qe(this,iu).indexOf(e.col)>-1?Rt(this.hot.rootElement,M1):_e(this.hot.rootElement,M1),r.row=!0,r.column=!0,r.cell=!0,si(this,ys,e.col),Qe(this,No).TD=n)}function qHe(){const t=Qe(this,No).col,e=Qe(this,iu).length;if(si(this,ys,void 0),si(this,Ac,!1),Rt(this.hot.rootElement,[XI,M1,JI]),this.hot.selection.isSelectedByColumnHeader()&&_e(this.hot.rootElement,JI),e<1||t===void 0)return;const n=Qe(this,iu)[0],r=this.hot.toPhysicalColumn(n),o=this.dragColumns(Qe(this,iu),t);if(Qe(this,iu).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const i=this.hot.toVisualColumn(r),s=i+e-1;this.hot.selectColumns(i,s)}}function KHe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,r=e+n;Qe(this,Ho).setPosition(r),Qe(this,Ho).setSize(null,t.hider.offsetHeight-r)}function QHe(){this.moveBySettingsOrLoad()}function su(t,e){n5(t,e),e.add(t)}function vo(t,e,n){n5(t,e),e.set(t,n)}function n5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function au(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function sr(t,e,n){var r=r5(t,e,"set");return XHe(t,r,n),n}function XHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function We(t,e){var n=r5(t,e,"get");return JHe(t,n)}function r5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function JHe(t,e){return e.get?e.get.call(t):e.value}const P1="manualColumnResize",ZHe=130,o5="manualColumnWidths";var lu=new WeakMap,I1=new WeakMap,Ii=new WeakMap,H1=new WeakMap,Ka=new WeakMap,eNe=new WeakMap,Bg=new WeakMap,N1=new WeakMap,ai=new WeakMap,uu=new WeakMap,ld=new WeakMap,D1=new WeakMap,Rv=new WeakMap,kv=new WeakMap,Hi=new WeakMap,Ev=new WeakMap,i5=new WeakSet,s5=new WeakSet,a5=new WeakSet,l5=new WeakSet,u5=new WeakSet,c5=new WeakSet,h5=new WeakSet,d5=new WeakSet,f5=new WeakSet;class tNe extends an{static get PLUGIN_KEY(){return P1}static get PLUGIN_PRIORITY(){return ZHe}constructor(e){super(e),su(this,f5),su(this,d5),su(this,h5),su(this,c5),su(this,u5),su(this,l5),su(this,a5),su(this,s5),su(this,i5),vo(this,lu,{writable:!0,value:null}),vo(this,I1,{writable:!0,value:null}),vo(this,Ii,{writable:!0,value:[]}),vo(this,H1,{writable:!0,value:null}),vo(this,Ka,{writable:!0,value:null}),vo(this,eNe,{writable:!0,value:null}),vo(this,Bg,{writable:!0,value:null}),vo(this,N1,{writable:!0,value:null}),vo(this,ai,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),vo(this,uu,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),vo(this,ld,{writable:!0,value:null}),vo(this,D1,{writable:!0,value:!1}),vo(this,Rv,{writable:!0,value:0}),vo(this,kv,{writable:!0,value:null}),vo(this,Hi,{writable:!0,value:void 0}),vo(this,Ev,{writable:!0,value:void 0}),_e(We(this,ai),"manualColumnResizer"),_e(We(this,uu),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[P1]}enablePlugin(){this.enabled||(sr(this,Hi,new dc),We(this,Hi).addLocalHook("init",()=>au(this,i5,nNe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,We(this,Hi)),this.addHook("modifyColWidth",(e,n)=>au(this,h5,lNe).call(this,e,n)),this.addHook("beforeStretchingColumnWidth",(e,n)=>au(this,d5,uNe).call(this,e,n)),this.addHook("beforeColumnResize",(e,n,r)=>au(this,f5,cNe).call(this,e,n,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){sr(this,Ev,We(this,Hi).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",o5,We(this,Hi).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",o5,e),e.value}setManualSize(e,n){const r=Math.max(n,20),o=this.hot.toPhysicalColumn(e);return We(this,Hi).setValueAtIndex(o,r),r}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);We(this,Hi).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;sr(this,lu,e);const{_wt:n}=this.hot.view,r=n.wtTable.getCoords(We(this,lu)),o=r.col;if(o<0)return;const i=Kn(We(this,lu)),s=We(this,lu).getBoundingClientRect(),a=o<n.getSetting("fixedColumnsStart");let l;a&&(l=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(We(this,lu),r.row,r.col)),l||(l=n.wtOverlays.topOverlay.getRelativeCellPosition(We(this,lu),r.row,r.col)),sr(this,I1,this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)),sr(this,Ii,[]);const u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&u){const c=this.hot.getSelectedRange();F(c,h=>{const d=h.getTopStartCorner().col,g=h.getBottomEndCorner().col;Je(d,g,p=>{We(this,Ii).includes(p)||We(this,Ii).push(p)})})}We(this,Ii).includes(We(this,I1))||sr(this,Ii,[We(this,I1)]),sr(this,N1,l.start-6),sr(this,Bg,parseInt(s.width,10)),We(this,ai).style.top=`${l.top}px`,We(this,ai).style[this.inlineDir]=`${We(this,N1)+We(this,Bg)}px`,We(this,ai).style.height=`${i}px`,this.hot.rootElement.appendChild(We(this,ai))}refreshHandlePosition(){We(this,ai).style[this.inlineDir]=`${We(this,N1)+We(this,H1)}px`}setupGuidePosition(){const e=parseInt(Kn(We(this,ai)),10),n=parseInt(We(this,ai).style.top,10)+e,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);_e(We(this,ai),"active"),_e(We(this,uu),"active"),We(this,uu).style.top=`${n}px`,this.refreshGuidePosition(),We(this,uu).style.height=`${r-e}px`,this.hot.rootElement.appendChild(We(this,uu))}refreshGuidePosition(){We(this,uu).style[this.inlineDir]=We(this,ai).style[this.inlineDir]}hideHandleAndGuide(){Rt(We(this,ai),"active"),Rt(We(this,uu),"active")}checkIfColumnHeader(e){const n=xh(e,["THEAD"],this.hot.rootElement),{topOverlay:r,topInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.THEAD,o.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},n=(r,o)=>{const i=this.hot.runHooks("beforeColumnResize",We(this,Ka),r,!0);i!==void 0&&sr(this,Ka,i),this.hot.getSettings().stretchH==="all"?this.clearManualSize(r):this.setManualSize(r,We(this,Ka)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",We(this,Ka),r,!0),o&&e()};We(this,Rv)>=2&&(We(this,Ii).length>1?(F(We(this,Ii),r=>{n(r)}),e()):F(We(this,Ii),r=>{n(r,!0)})),sr(this,Rv,0),sr(this,kv,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",r=>au(this,s5,rNe).call(this,r)),this.eventManager.addEventListener(n,"mousedown",r=>au(this,a5,oNe).call(this,r)),this.eventManager.addEventListener(e,"mousemove",r=>au(this,l5,iNe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>au(this,u5,sNe).call(this)),this.eventManager.addEventListener(We(this,ai),"contextmenu",()=>au(this,c5,aNe).call(this))}destroy(){super.destroy()}}function nNe(){const t=this.hot.getSettings()[P1],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,r)=>{We(this,Hi).setValueAtIndex(r,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,r)=>{We(this,Hi).setValueAtIndex(r,n)})},!0),sr(this,Ev,t)):t===!0&&Array.isArray(We(this,Ev))&&this.hot.batchExecution(()=>{We(this,Ev).forEach((n,r)=>{We(this,Hi).setValueAtIndex(r,n)})},!0)}function rNe(t){if(!uU(t.target)&&We(this,D1)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(We(this,ld)||this.setupHandlePosition(e))}}function oNe(t){yt(t.target,"manualColumnResizer")&&(this.setupHandlePosition(We(this,lu)),this.setupGuidePosition(),sr(this,ld,!0),We(this,kv)===null&&(sr(this,kv,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(We(this,kv))),sr(this,Rv,We(this,Rv)+1),this.startX=t.pageX,sr(this,Ka,We(this,Bg)))}function iNe(t){if(We(this,ld)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();sr(this,H1,We(this,Bg)+e),F(We(this,Ii),n=>{sr(this,Ka,this.setManualSize(n,We(this,H1)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function sNe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(n,r)=>{this.hot.runHooks("beforeColumnResize",We(this,Ka),n,!1),r&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",We(this,Ka),n,!1)};We(this,ld)&&(this.hideHandleAndGuide(),sr(this,ld,!1),We(this,Ka)!==We(this,Bg)&&(We(this,Ii).length>1?(F(We(this,Ii),n=>{e(n)}),t()):F(We(this,Ii),n=>{e(n,!0)})),this.setupHandlePosition(We(this,lu)))}function aNe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(We(this,ai)),this.hot.rootElement.removeChild(We(this,uu)),sr(this,ld,!1),sr(this,D1,!0),this.hot._registerImmediate(()=>{sr(this,D1,!1)})}function lNe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalColumn(e),o=We(this,Hi).getValueAtIndex(r);this.hot.getSettings()[P1]&&o&&(n=o)}return n}function uNe(t,e){let n=We(this,Hi).getValueAtIndex(e);return n===null&&(n=t),n}function cNe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function ZI(t,e,n){return e=hNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hNe(t){var e=dNe(t,"string");return typeof e=="symbol"?e:String(e)}function dNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const eH=0,g5=1,m5=2,Ug="px";let p5=class{constructor(t){ZI(this,"hot",void 0),ZI(this,"_element",null),ZI(this,"state",eH),this.hot=t}appendTo(t){t.appendChild(this._element),this.state=m5}build(){this.state===eH&&(this._element=this.hot.rootDocument.createElement("div"),this.state=g5)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=eH}isAppended(){return this.state===m5}isBuilt(){return this.state>=g5}setPosition(t,e){t!==void 0&&(this._element.style.top=t+Ug),e!==void 0&&(this._element.style.left=e+Ug)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(t,e){t&&(this._element.style.width=t+Ug),e&&(this._element.style.height=e+Ug)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){t&&(this._element.style.marginTop=t+Ug),e&&(this._element.style.marginLeft=e+Ug)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const fNe="ht__manualRowMove--backlight";class gNe extends p5{build(){super.build(),_e(this._element,fNe)}}const mNe="ht__manualRowMove--guideline";class pNe extends p5{build(){super.build(),_e(this._element,mNe)}}function zg(t,e){w5(t,e),e.add(t)}function $g(t,e,n){w5(t,e),e.set(t,n)}function w5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ud(t,e,n){var r=v5(t,e,"set");return wNe(t,r,n),n}function wNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function kt(t,e){var n=v5(t,e,"get");return vNe(t,n)}function v5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function vNe(t,e){return e.get?e.get.call(t):e.value}function Gg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("beforeRowMove"),$e.getSingleton().register("afterRowMove");const tH="manualRowMove",yNe=140,y5="ht__manualRowMove",L1="show-ui",nH="on-moving--rows",rH="after-selection--rows";var Do=new WeakMap,Pc=new WeakMap,cu=new WeakMap,Ic=new WeakMap,li=new WeakMap,j1=new WeakMap,b5=new WeakSet,C5=new WeakSet,S5=new WeakSet,x5=new WeakSet,R5=new WeakSet,k5=new WeakSet;class bNe extends an{constructor(){super(...arguments),zg(this,k5),zg(this,R5),zg(this,x5),zg(this,S5),zg(this,C5),zg(this,b5),$g(this,Do,{writable:!0,value:new gNe(this.hot)}),$g(this,Pc,{writable:!0,value:new pNe(this.hot)}),$g(this,cu,{writable:!0,value:[]}),$g(this,Ic,{writable:!0,value:void 0}),$g(this,li,{writable:!0,value:{}}),$g(this,j1,{writable:!0,value:void 0})}static get PLUGIN_KEY(){return tH}static get PLUGIN_PRIORITY(){return yNe}isEnabled(){return!!this.hot.getSettings()[tH]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,b5,CNe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,S5,xNe).call(e,...r)}),this.addHook("afterScrollHorizontally",()=>Gg(this,R5,kNe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,k5,ENe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),_e(this.hot.rootElement,y5),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Rt(this.hot.rootElement,y5),this.unregisterEvents(),kt(this,Do).destroy(),kt(this,Pc).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const r=kt(this,j1),o=this.isMovePossible(e,n),i=this.hot.runHooks("beforeRowMove",e,n,r,o);if(ud(this,j1,void 0),i===!1)return;o&&this.hot.rowIndexMapper.moveIndexes(e,n);const s=o&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,r,o,s),s}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const r=this.countFinalIndex(e,n);return ud(this,j1,n),this.moveRows(e,r)}isMovePossible(e,n){const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>r,i=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(o||i||s||a)}isRowOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}countFinalIndex(e,n){const r=fo(e,(o,i)=>(i<n&&(o+=1),o),0);return n-r}getRowsHeight(e,n){const r=this.hot.rowIndexMapper;let o=0;for(let i=e;i<=n;i++){const s=r.getRenderableFromVisualIndex(i);s!==null&&(o+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[tH];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:r,to:o}=e,i=Math.min(r.row,o.row),s=Math.max(r.row,o.row);return Je(i,s,a=>{n.push(a)}),n}refreshPositions(){const e=kt(this,li).coords,n=this.hot.view.getFirstFullyVisibleRow(),r=this.hot.view.getLastFullyVisibleRow(),o=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&r<o&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);const i=this.hot.view._wt.wtTable,s=kt(this,li).TD,a=this.hot.rootElement,l=Dr(a),u=Vf(a),c=i.holder.scrollTop,h=this.hot.rootWindow!==u?u.scrollTop:0,d=l.top-h,g=kt(this,li).eventPageY-d+c,p=i.hider.offsetHeight,v=i.TBODY.offsetTop,C=kt(this,Do).getOffset().top,w=kt(this,Do).getSize().height,y=s.offsetHeight/2,x=s.offsetHeight;let T=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const _=g>=T+y;this.isFixedRowTop(e.row)&&(T+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?kt(this,li).row=n>0?n-1:n:_?(kt(this,li).row=e.row+1,T+=e.row===0?x-1:x):kt(this,li).row=e.row;let E=g,O=T;g+w+C>=p?E=p-w-C:g+C<v&&(E=v+Math.abs(C)),T>=p-1&&(O=p-1),kt(this,Do).setPosition(E),kt(this,Pc).setPosition(O)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Gg(this,C5,SNe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Gg(this,x5,RNe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){kt(this,Do).build(),kt(this,Pc).build()}destroy(){kt(this,Do).destroy(),kt(this,Pc).destroy(),super.destroy()}}function CNe(t,e,n,r){const{wtTable:o,wtViewport:i}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||kt(this,Ic)||t.button!==0){ud(this,Ic,!1),kt(this,cu).length=0,Rt(this.hot.rootElement,[nH,L1]);return}const l=kt(this,Pc).isBuilt()&&!kt(this,Pc).isAppended(),u=kt(this,Do).isBuilt()&&!kt(this,Do).isAppended();l&&u&&(kt(this,Pc).appendTo(o.hider),kt(this,Do).appendTo(o.hider));const{from:c,to:h}=a,d=Math.min(c.row,h.row),g=Math.max(c.row,h.row);if(e.col<0&&e.row>=d&&e.row<=g){r.row=!0,ud(this,Ic,!0),kt(this,li).eventPageY=t.pageY,kt(this,li).coords=e,kt(this,li).TD=n,ud(this,cu,this.prepareRowsToMoving());const p=o.holder.scrollLeft+i.getRowHeaderWidth(),v=this.getRowsHeight(d,e.row-1)+t.offsetY;kt(this,Do).setPosition(null,p),kt(this,Do).setSize(o.hider.offsetWidth-p,this.getRowsHeight(d,g)),kt(this,Do).setOffset(-v,null),_e(this.hot.rootElement,nH),this.refreshPositions()}else Rt(this.hot.rootElement,rH),ud(this,Ic,!1),kt(this,cu).length=0}function SNe(t){kt(this,Ic)&&(kt(this,li).eventPageY=t.pageY,this.refreshPositions())}function xNe(t,e,n,r){!this.hot.getSelectedRangeLast()||!kt(this,Ic)||(kt(this,cu).indexOf(e.row)>-1?Rt(this.hot.rootElement,L1):_e(this.hot.rootElement,L1),r.row=!0,r.column=!0,r.cell=!0,kt(this,li).coords=e,kt(this,li).TD=n)}function RNe(){const t=kt(this,li).row,e=kt(this,cu).length;if(ud(this,Ic,!1),Rt(this.hot.rootElement,[nH,L1,rH]),this.hot.selection.isSelectedByRowHeader()&&_e(this.hot.rootElement,rH),e<1||t===void 0)return;const n=kt(this,cu)[0],r=this.hot.toPhysicalRow(n),o=this.dragRows(kt(this,cu),t);if(kt(this,cu).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const i=this.hot.toVisualRow(r),s=i+e-1;this.hot.selectRows(i,s)}}function kNe(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,r=e+n;kt(this,Do).setPosition(null,r),kt(this,Do).setSize(t.hider.offsetWidth-r)}function ENe(){this.moveBySettingsOrLoad()}function cd(t,e){E5(t,e),e.add(t)}function yo(t,e,n){E5(t,e),e.set(t,n)}function E5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hd(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function er(t,e,n){var r=T5(t,e,"set");return TNe(t,r,n),n}function TNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Ve(t,e){var n=T5(t,e,"get");return MNe(t,n)}function T5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function MNe(t,e){return e.get?e.get.call(t):e.value}const F1="manualRowResize",_Ne=30,M5="manualRowHeights";var Qa=new WeakMap,W1=new WeakMap,Ni=new WeakMap,V1=new WeakMap,Hc=new WeakMap,oH=new WeakMap,Yg=new WeakMap,B1=new WeakMap,Lo=new WeakMap,Xa=new WeakMap,dd=new WeakMap,U1=new WeakMap,Tv=new WeakMap,Mv=new WeakMap,ia=new WeakMap,_v=new WeakMap,_5=new WeakSet,O5=new WeakSet,A5=new WeakSet,P5=new WeakSet,I5=new WeakSet,H5=new WeakSet,N5=new WeakSet;class ONe extends an{static get PLUGIN_KEY(){return F1}static get PLUGIN_PRIORITY(){return _Ne}constructor(e){super(e),cd(this,N5),cd(this,H5),cd(this,I5),cd(this,P5),cd(this,A5),cd(this,O5),cd(this,_5),yo(this,Qa,{writable:!0,value:null}),yo(this,W1,{writable:!0,value:null}),yo(this,Ni,{writable:!0,value:[]}),yo(this,V1,{writable:!0,value:null}),yo(this,Hc,{writable:!0,value:null}),yo(this,oH,{writable:!0,value:null}),yo(this,Yg,{writable:!0,value:null}),yo(this,B1,{writable:!0,value:null}),yo(this,Lo,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),yo(this,Xa,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),yo(this,dd,{writable:!0,value:!1}),yo(this,U1,{writable:!0,value:!1}),yo(this,Tv,{writable:!0,value:0}),yo(this,Mv,{writable:!0,value:null}),yo(this,ia,{writable:!0,value:void 0}),yo(this,_v,{writable:!0,value:void 0}),_e(Ve(this,Lo),"manualRowResizer"),_e(Ve(this,Xa),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[F1]}enablePlugin(){this.enabled||(er(this,ia,new dc),Ve(this,ia).addLocalHook("init",()=>hd(this,N5,LNe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Ve(this,ia)),this.addHook("modifyRowHeight",(e,n)=>hd(this,H5,DNe).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){er(this,_v,Ve(this,ia).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",M5,Ve(this,ia).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",M5,e),e.value}setManualSize(e,n){const r=this.hot.toPhysicalRow(e),o=Math.max(n,fC.DEFAULT_HEIGHT);return Ve(this,ia).setValueAtIndex(r,o),o}setupHandlePosition(e){er(this,Qa,e);const{view:n}=this.hot,{_wt:r}=n,o=r.wtTable.getCoords(Ve(this,Qa)),i=o.row;if(i<0)return;const s=pn(Ve(this,Qa)),a=Ve(this,Qa).getBoundingClientRect(),l=i<r.getSetting("fixedRowsTop"),u=i>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");let c;l?c=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Ve(this,Qa),o.row,o.col):u&&(c=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Ve(this,Qa),o.row,o.col)),c||(c=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Ve(this,Qa),o.row,o.col)),er(this,W1,this.hot.rowIndexMapper.getVisualFromRenderableIndex(i)),er(this,Ni,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const d=this.hot.getSelectedRange();F(d,g=>{const p=g.getTopStartCorner().row,v=g.getBottomStartCorner().row;Je(p,v,C=>{Ve(this,Ni).includes(C)||Ve(this,Ni).push(C)})})}Ve(this,Ni).includes(Ve(this,W1))||er(this,Ni,[Ve(this,W1)]),er(this,B1,c.top-6),er(this,Yg,parseInt(a.height,10)),Ve(this,Lo).style.top=`${Ve(this,B1)+Ve(this,Yg)}px`,Ve(this,Lo).style[this.inlineDir]=`${c.start}px`,Ve(this,Lo).style.width=`${s}px`,this.hot.rootElement.appendChild(Ve(this,Lo))}refreshHandlePosition(){Ve(this,Lo).style.top=`${Ve(this,B1)+Ve(this,V1)}px`}setupGuidePosition(){const e=parseInt(pn(Ve(this,Lo)),10),n=parseInt(Ve(this,Lo).style[this.inlineDir],10)+e,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);_e(Ve(this,Lo),"active"),_e(Ve(this,Xa),"active"),Ve(this,Xa).style.top=Ve(this,Lo).style.top,Ve(this,Xa).style[this.inlineDir]=`${n}px`,Ve(this,Xa).style.width=`${r-e}px`,this.hot.rootElement.appendChild(Ve(this,Xa))}refreshGuidePosition(){Ve(this,Xa).style.top=Ve(this,Lo).style.top}hideHandleAndGuide(){Rt(Ve(this,Lo),"active"),Rt(Ve(this,Xa),"active")}checkIfRowHeader(e){const n=xh(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:r,topInlineStartCornerOverlay:o,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.TBODY,o.clone.wtTable.TBODY,i.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&Ve(this,Hc)<n?n:Ve(this,Hc)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},n=(r,o)=>{const i=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!0);i!==void 0&&er(this,Hc,i),this.setManualSize(r,Ve(this,Hc)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!0),o&&e()};Ve(this,Tv)>=2&&(Ve(this,Ni).length>1?(F(Ve(this,Ni),r=>{n(r)}),e()):F(Ve(this,Ni),r=>{n(r,!0)})),er(this,Tv,0),er(this,Mv,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",r=>hd(this,_5,ANe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>hd(this,O5,PNe).call(this,r)),this.eventManager.addEventListener(n,"mousemove",r=>hd(this,A5,INe).call(this,r)),this.eventManager.addEventListener(n,"mouseup",()=>hd(this,P5,HNe).call(this)),this.eventManager.addEventListener(Ve(this,Lo),"contextmenu",()=>hd(this,I5,NNe).call(this))}destroy(){super.destroy()}}function ANe(t){if(!uU(t.target)&&Ve(this,U1)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(Ve(this,dd)||this.setupHandlePosition(e))}}function PNe(t){yt(t.target,"manualRowResizer")&&(this.setupHandlePosition(Ve(this,Qa)),this.setupGuidePosition(),er(this,dd,!0),Ve(this,Mv)===null&&(er(this,Mv,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Ve(this,Mv))),er(this,Tv,Ve(this,Tv)+1),er(this,oH,t.pageY),er(this,Hc,Ve(this,Yg)))}function INe(t){Ve(this,dd)&&(er(this,V1,Ve(this,Yg)+(t.pageY-Ve(this,oH))),F(Ve(this,Ni),e=>{er(this,Hc,this.setManualSize(e,Ve(this,V1)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function HNe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(n,r)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),r&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};Ve(this,dd)&&(this.hideHandleAndGuide(),er(this,dd,!1),Ve(this,Hc)!==Ve(this,Yg)&&(Ve(this,Ni).length>1?(F(Ve(this,Ni),n=>{e(n)}),t()):F(Ve(this,Ni),n=>{e(n,!0)})),this.setupHandlePosition(Ve(this,Qa)))}function NNe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Ve(this,Lo)),this.hot.rootElement.removeChild(Ve(this,Xa)),er(this,dd,!1),er(this,U1,!0),this.hot._registerImmediate(()=>{er(this,U1,!1)})}function DNe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalRow(e),o=Ve(this,ia).getValueAtIndex(r);this.hot.getSettings()[F1]&&o&&(n=o)}return n}function LNe(){const t=this.hot.getSettings()[F1],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,r)=>{Ve(this,ia).setValueAtIndex(r,n)}):Array.isArray(t)?(t.forEach((n,r)=>{Ve(this,ia).setValueAtIndex(r,n)}),er(this,_v,t)):t===!0&&Array.isArray(Ve(this,_v))&&Ve(this,_v).forEach((n,r)=>{Ve(this,ia).setValueAtIndex(r,n)})},!0)}function fd(t,e,n){return e=jNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jNe(t){var e=FNe(t,"string");return typeof e=="symbol"?e:String(e)}function FNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ja{constructor(e,n,r,o,i,s){fd(this,"row",void 0),fd(this,"col",void 0),fd(this,"rowspan",void 0),fd(this,"colspan",void 0),fd(this,"removed",!1),fd(this,"cellCoordsFactory",void 0),fd(this,"cellRangeFactory",void 0),this.row=e,this.col=n,this.rowspan=r,this.colspan=o,this.cellCoordsFactory=i,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){return un`The merged cell declared with {row: ${e.row}, col: ${e.col},\x20
      rowspan: ${e.rowspan}, colspan: ${e.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){return un`The merged cell declared at [${e.row}, ${e.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}static isSingleCell(e){return e.colspan===1&&e.rowspan===1}static containsZeroSpan(e){return e.colspan===0||e.rowspan===0}static isOutOfBounds(e,n,r){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=r||e.col+e.colspan-1>=r}normalize(e){const n=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const r=e[0]||e[1],o=n+Math.abs(e[0]||e[1])-1,i=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(n,o),l=Math.max(n,o),u=this[s],c=this[s]+this[i]-1;if(u>=n&&(this[s]+=r),r>0)n<=c&&n>u&&(this[i]+=r);else if(r<0){if(a<=u&&l>=c)return this.removed=!0,!1;if(u>=a&&u<=l){const h=l-u+1,d=Math.abs(r)-h;this[s]-=d+r,this[i]-=h}else if(u<=a&&c>=l)this[i]+=r;else if(u<=a&&c>=a&&c<l){const h=c-a+1;this[i]-=h}}return!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}function iH(t,e,n,r){e?e.row===n&&e.col===r?(t.setAttribute("rowspan",e.rowspan.toString()),t.setAttribute("colspan",e.colspan.toString())):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="")}function sH(t,e,n){return e=WNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WNe(t){var e=VNe(t,"string");return typeof e=="symbol"?e:String(e)}function VNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aH{constructor(e){sH(this,"plugin",void 0),sH(this,"mergedCells",[]),sH(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){const r=this.mergedCells;let o=!1;return F(r,i=>i.row<=e&&i.row+i.rowspan-1>=e&&i.col<=n&&i.col+i.colspan-1>=n?(o=i,!1):!0),o}getByRange(e){const n=this.mergedCells;let r=!1;return F(n,o=>o.row<=e.from.row&&o.row+o.rowspan-1>=e.to.row&&o.col<=e.from.col&&o.col+o.colspan-1>=e.to.col?(r=o,r):!0),r}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCells,o=[];let i=e;if(!i.includesRange){const s=this.hot._createCellCoords(i.from.row,i.from.col),a=this.hot._createCellCoords(i.to.row,i.to.col);i=this.hot._createCellRange(s,s,a)}return F(r,s=>{const a=this.hot._createCellCoords(s.row,s.col),l=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1),u=this.hot._createCellRange(a,a,l);n?i.overlaps(u)&&o.push(s):i.includesRange(u)&&o.push(s)}),o.length?o:!1}add(e){const n=this.mergedCells,r=e.row,o=e.col,i=e.rowspan,s=e.colspan,a=new Ja(r,o,i,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(r,o),u=this.isOverlapping(a);return!l&&!u?(this.hot&&a.normalize(this.hot),n.push(a),a):(wn(aH.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const r=this.mergedCells,o=this.get(e,n),i=o?this.mergedCells.indexOf(o):-1;return o&&i!==-1?(r.splice(i,1),o):!1}clear(){const e=this.mergedCells,n=[],r=[];F(e,o=>{const i=this.hot.getCell(o.row,o.col);i&&n.push([i,this.get(o.row,o.col),o.row,o.col])}),this.mergedCells.length=0,F(n,(o,i)=>{Je(0,o.rowspan-1,s=>{Je(0,o.colspan-1,a=>{if(a!==0||s!==0){const l=this.hot.getCell(o.row+s,o.col+a);l&&r.push([l,null,null,null])}})}),n[i][1]=null}),F(n,o=>{iH(...o)}),F(r,o=>{iH(...o)})}isOverlapping(e){const n=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(e.row,e.col),this.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1));let r=!1;return F(this.mergedCells,o=>this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(o.row,o.col),this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1)).overlaps(n)?(r=!0,!1):!0),r}isFirstRenderableMergedCell(e,n){const r=this.get(e,n);return r&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1)===n}getFirstRenderableCoords(e,n){const r=this.get(e,n);if(!r||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1),i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1);return this.hot._createCellCoords(o,i)}shiftCollections(e,n,r){const o=[0,0];switch(e){case"right":o[0]+=r;break;case"left":o[0]-=r;break;case"down":o[1]+=r;break;case"up":o[1]-=r;break}F(this.mergedCells,i=>{i.shift(o,n)}),UM(this.mergedCells.length-1,0,i=>{const s=this.mergedCells[i];s&&s.removed&&this.mergedCells.splice(this.mergedCells.indexOf(s),1)})}}function lH(t,e,n){return e=BNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BNe(t){var e=UNe(t,"string");return typeof e=="symbol"?e:String(e)}function UNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zNe{constructor(e){lH(this,"plugin",void 0),lH(this,"mergedCellsCollection",void 0),lH(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const n=this.mergedCellsCollection.get(e[0],e[1]);n&&(e[2]=e[0]+n.rowspan-1,e[3]=e[1]+n.colspan-1)}}getDirection(e,n){let r=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?r="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?r="up":n[1]===e[1]&&n[2]===e[2]?r="right":r="left",r}snapDragArea(e,n,r,o){const i=n.slice(0),s=this.getAutofillSize(e,n,r),[a,l,u,c]=e,h=["up","down"].indexOf(r)>-1?u-a+1:c-l+1,d=Math.floor(s/h)*h,g=s-d,p=this.getFarthestCollection(e,n,r,o);if(p){if(r==="down"){const v=p.row+p.rowspan-a-g;i[2]+v>=this.plugin.hot.countRows()?i[2]-=g:i[2]+=g?v:0}else if(r==="right"){const v=p.col+p.colspan-l-g;i[3]+v>=this.plugin.hot.countCols()?i[3]-=g:i[3]+=g?v:0}else if(r==="up"){const v=u-g-p.row+1;i[0]+v<0?i[0]+=g:i[0]-=g?v:0}else if(r==="left"){const v=c-g-p.col+1;i[1]+v<0?i[1]+=g:i[1]-=g?v:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:o,fillSize:s,dragArea:i,cycleLength:h}),i}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),yr(this.currentFillData,e)}getAutofillSize(e,n,r){const[o,i,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return o-l;case"down":return c-s;case"left":return i-u;case"right":return h-a;default:return null}}getDragArea(e,n,r){const[o,i,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return[l,u,o-1,a];case"down":return[s+1,i,c,a];case"left":return[l,u,s,i-1];case"right":return[o,a+1,c,h];default:return null}}getFarthestCollection(e,n,r,o){const[i,s,a,l]=e,u=["up","down"].indexOf(r)>-1,c=u?a:l,h=u?i:s,d=this.getAutofillSize(e,n,r),g=u?a-i+1:l-s+1,p=Math.floor(d/g)*g,v=d-p;let C=null,w=null,y=null;switch(r){case"up":C="includesVertically",y=c-v+1;break;case"left":C="includesHorizontally",y=c-v+1;break;case"down":C="includesVertically",y=h+v-1;break;case"right":C="includesHorizontally",y=h+v-1;break}return F(o,x=>{x[C](y)&&x.isFarther(w,r)&&(w=x)}),w}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,i=(u,c)=>{switch(o){case"up":return u.row-c>=n.from.row;case"down":return u.row+u.rowspan-1+c<=n.to.row;case"left":return u.col-c>=n.from.column;case"right":return u.col+u.colspan-1+c<=n.to.column;default:return null}};let s=0,a=null,l=1;do for(let u=0;u<r.length;u+=1){if(a=r[u],s=l*this.currentFillData.cycleLength,i(a,s))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break}u===r.length-1&&(l+=1)}while(i(a,s));this.currentFillData=null,this.plugin.hot.render(),r.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},r={min:null,max:null};return F(e,o=>{const i=o[0],s=this.plugin.hot.propToCol(o[1]);(n.min===null||i<n.min)&&(n.min=i),(n.max===null||i>n.max)&&(n.max=i),(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}dragAreaOverlapsCollections(e,n,r){const o=this.getDragArea(e,n,r),[i,s,a,l]=o,u=this.plugin.hot._createCellCoords(i,s),c=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(u,u,c);return!!this.mergedCellsCollection.getWithinRange(h,!0)}}function uH(t,e,n){return e=$Ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ne(t){var e=GNe(t,"string");return typeof e=="symbol"?e:String(e)}function GNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class YNe{constructor(e){uH(this,"plugin",void 0),uH(this,"hot",void 0),uH(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}snapDelta(e,n,r){const o=n.to,i=o.row+e.row,s=o.col+e.col;e.row?this.jumpOverMergedCell(e,r,i):e.col&&this.jumpOverMergedCell(e,r,s)}jumpOverMergedCell(e,n,r){let o=e.row||e.col,i=null,s=null,a=null;e.row?(i=n.includesVertically(r),s=n.row,a=n.getLastRow()):e.col&&(i=n.includesHorizontally(r),s=n.col,a=n.getLastColumn()),o!==0&&(o>0?i&&r!==s&&(o+=a-r+1):i&&r!==a&&(o-=r-s+1),e.row?e.row=o:e.col&&(e.col=o))}getUpdatedSelectionRange(e,n){return this.hot._createCellRange(e.highlight,e.from,this.hot._createCellCoords(e.to.row+n.row,e.to.col+n.col))}getSelectedMergedCellClassName(e,n,r,o){const i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]);if(o===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const u=this.plugin.mergedCellsCollection.get(e,n);if(!u)return;const c=u.getLastRow(),h=u.getLastColumn();if(i<=u.row&&s<=u.col&&a>=c&&l>=h)return`${this.fullySelectedMergedCellClassName}-${o}`;if(this.plugin.selectionCalculations.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const r=[];if(!n||!e)return!1;for(let o=0;o<e.rowspan;o+=1)for(let i=0;i<e.colspan;i+=1)r.push(this.hot._createCellCoords(e.row+o,e.col+i));for(let o=0;o<r.length;o+=1){const i=[];for(let s=0;s<n.length;s+=1)i[s]=n[s].includes(r[o]);if(!i.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function qNe(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(lO)}return this.getTranslatedPhrase(aO)},callback(){t.toggleMergeOnSelection()},disabled(){const e=this.getSelectedLast();return e?Ja.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function ar(t,e){D5(t,e),e.add(t)}function KNe(t,e,n){D5(t,e),e.set(t,n)}function D5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cH(t,e,n){return e=QNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QNe(t){var e=XNe(t,"string");return typeof e=="symbol"?e:String(e)}function XNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hH(t,e,n){var r=L5(t,e,"set");return JNe(t,r,n),n}function JNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qg(t,e){var n=L5(t,e,"get");return ZNe(t,n)}function L5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ZNe(t,e){return e.get?e.get.call(t):e.value}function tr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}$e.getSingleton().register("beforeMergeCells"),$e.getSingleton().register("afterMergeCells"),$e.getSingleton().register("beforeUnmergeCells"),$e.getSingleton().register("afterUnmergeCells");const Ov="mergeCells",eDe=150,j5=Ov;var Za=new WeakMap,F5=new WeakSet,W5=new WeakSet,V5=new WeakSet,B5=new WeakSet,U5=new WeakSet,z5=new WeakSet,$5=new WeakSet,dH=new WeakSet,G5=new WeakSet,Y5=new WeakSet,q5=new WeakSet,K5=new WeakSet,Q5=new WeakSet,X5=new WeakSet,J5=new WeakSet,Z5=new WeakSet,e9=new WeakSet,t9=new WeakSet,n9=new WeakSet,r9=new WeakSet,o9=new WeakSet,i9=new WeakSet;class tDe extends an{constructor(){super(...arguments),ar(this,i9),ar(this,o9),ar(this,r9),ar(this,n9),ar(this,t9),ar(this,e9),ar(this,Z5),ar(this,J5),ar(this,X5),ar(this,Q5),ar(this,K5),ar(this,q5),ar(this,Y5),ar(this,G5),ar(this,dH),ar(this,$5),ar(this,z5),ar(this,U5),ar(this,B5),ar(this,V5),ar(this,W5),ar(this,F5),cH(this,"mergedCellsCollection",null),cH(this,"autofillCalculations",null),cH(this,"selectionCalculations",null),KNe(this,Za,{writable:!0,value:null})}static get PLUGIN_KEY(){return Ov}static get PLUGIN_PRIORITY(){return eDe}isEnabled(){return!!this.hot.getSettings()[Ov]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new aH(this),this.autofillCalculations=new zNe(this),this.selectionCalculations=new YNe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,F5,nDe).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,V5,oDe).call(e,...r)}),this.addHook("afterModifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,r9,bDe).call(e,...r)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,B5,iDe).call(e,...r)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,U5,sDe).call(e,...r)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,dH,s9).call(e,...r)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,dH,s9).call(e,...r)}),this.addHook("beforeSetRangeEnd",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,G5,uDe).call(e,...r)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,W5,rDe).call(e,...r)}),this.addHook("afterRenderer",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,$5,lDe).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,z5,aDe).call(e,...r)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Y5,cDe).call(e,...r)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,q5,hDe).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,K5,dDe).call(e,...r)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Q5,fDe).call(e,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,X5,gDe).call(e,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,J5,mDe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Z5,pDe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,e9,wDe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,t9,vDe).call(e,...r)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,n9,yDe).call(e,...r)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,o9,CDe).call(e,...r)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,i9,SDe).call(e,...r)}),this.addHook("beforeUndoStackChange",(n,r)=>{if(r==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[Ov];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!MU())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(r=>{const{row:o,rowspan:i}=r;for(let s=o+1;s<o+i;s++)n.push(s)}),n=[...new Set(n)],n.forEach(r=>{const o=this.hot.rowIndexMapper.getRenderableFromVisualIndex(r);this.hot.view._wt.wtOverlays.getOverlays(!0).map(i=>(i==null?void 0:i.name)==="master"?i:i.clone.wtTable).forEach(i=>{const s=i.getRow(o);s&&(s.style.background=Xp(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(r=>{r.style.background=Xp(r,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){let n=!0;return e?(Ja.containsNegativeValues(e)?(wn(Ja.NEGATIVE_VALUES_WARNING(e)),n=!1):Ja.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(wn(Ja.IS_OUT_OF_BOUNDS_WARNING(e)),n=!1):Ja.isSingleCell(e)?(wn(Ja.IS_SINGLE_CELL(e)),n=!1):Ja.containsZeroSpan(e)&&(wn(Ja.ZERO_SPAN_WARNING(e)),n=!1),n):!1}generateFromSettings(e){if(Array.isArray(e)){const n=[];if(F(e,r=>{if(!this.validateSetting(r))return;const o=this.hot._createCellCoords(r.row,r.col),i=this.hot._createCellCoords(r.row+r.rowspan-1,r.col+r.colspan-1),s=this.hot._createCellRange(o,o,i);this.mergeRange(s,!0,!0),Je(r.row,r.row+r.rowspan-1,a=>{Je(r.col,r.col+r.colspan-1,l=>{a===r.row&&l===r.col||n.push([a,l,null])})})}),n.length===0)return;this.hot.setDataAtCell(n)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return arguments.length>1&&arguments[1]!==void 0&&arguments[1]?!0:this.validateSetting(e)}toggleMergeOnSelection(){const e=this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.toggleMerge(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:r}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=e.getTopStartCorner(),i=e.getBottomEndCorner(),s={row:o.row,col:o.col,rowspan:i.row-o.row+1,colspan:i.col-o.col+1},a=[];let l=null;return this.canMergeRange(s,n)?(this.hot.runHooks("beforeMergeCells",e,n),Je(0,s.rowspan-1,u=>{Je(0,s.colspan-1,c=>{let h=null;a[u]||(a[u]=[]),u===0&&c===0?h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+u,s.col+c,"hidden",!0),a[u][c]=h})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s)?(r?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,n),l):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCellsCollection.getWithinRange(e);r&&(this.hot.runHooks("beforeUnmergeCells",e,n),F(r,o=>{this.mergedCellsCollection.remove(o.row,o.col),Je(0,o.rowspan-1,i=>{Je(0,o.colspan-1,s=>{this.hot.removeCellMeta(o.row+i,o.col+s,"hidden"),this.hot.removeCellMeta(o.row+i,o.col+s,"copyable")})}),this.hot.removeCellMeta(o.row,o.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const n=this.mergedCellsCollection.get(e.from.row,e.from.col);n.row===e.from.row&&n.col===e.from.col&&n.row+n.rowspan-1===e.to.row&&n.col+n.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,r,o){const i=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,o);this.mergeRange(this.hot._createCellRange(i,i,s))}unmerge(e,n,r,o){const i=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,o);this.unmergeRange(this.hot._createCellRange(i,i,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const e=this.hot.getSelectedRangeLast();e&&!e.isSingleHeader()&&(this.toggleMerge(e),this.hot.render())},runOnlyIf:e=>!e.altKey,group:j5})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(j5)}modifyViewportRowStart(e,n){const r=this.hot.rowIndexMapper,o=r.getVisualFromRenderableIndex(e.startRow);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(o,i);if(Ot(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const r=this.hot.rowIndexMapper,o=r.getVisualFromRenderableIndex(e.endRow);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(o,i);if(Ot(s)){const a=s.row+s.rowspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const r=this.hot.columnIndexMapper,o=r.getVisualFromRenderableIndex(e.startColumn);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(i,o);if(Ot(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const r=this.hot.columnIndexMapper,o=r.getVisualFromRenderableIndex(e.endColumn);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(i,o);if(Ot(s)){const a=s.col+s.colspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,r,o){const{rowIndexMapper:i,columnIndexMapper:s}=this.hot;let a,l;n===0?a=i.getNearestNotHiddenIndex(e,1):a=i.getNearestNotHiddenIndex(e+n-1,-1),o===0?l=s.getNearestNotHiddenIndex(r,1):l=s.getNearestNotHiddenIndex(r+o-1,-1);const u=e>=0?i.getRenderableFromVisualIndex(a):e,c=r>=0?s.getRenderableFromVisualIndex(l):r;return[u,c]}}function nDe(){this.generateFromSettings(this.hot.getSettings()[Ov]),this.hot.render()}function rDe(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast();for(let r=0;r<e.length;r+=1)if(n.from.row===e[r].row&&n.from.col===e[r].col&&n.to.row===e[r].row+e[r].rowspan-1&&n.to.col===e[r].col+e[r].colspan-1)return!1}return t}function oDe(t){const e=this.hot.getSelectedRangeLast();let n={row:t.row,col:t.col},r=null;const o=this.hot._createCellCoords(e.highlight.row,e.highlight.col),i=this.mergedCellsCollection.get(o.row,o.col);if(qg(this,Za)||hH(this,Za,this.hot._createCellCoords(null,null)),i){const a=this.hot._createCellCoords(i.row,i.col),l=this.hot._createCellCoords(i.row+i.rowspan-1,i.col+i.colspan-1);this.hot._createCellRange(a,a,l).includes(qg(this,Za))||hH(this,Za,this.hot._createCellCoords(null,null)),n.row=qg(this,Za).row?qg(this,Za).row-o.row:n.row,n.col=qg(this,Za).col?qg(this,Za).col-o.col:n.col,t.row>0?n.row=i.row+i.rowspan-1-o.row+t.row:t.row<0&&(n.row=o.row-i.row+t.row),t.col>0?n.col=i.col+i.colspan-1-o.col+t.col:t.col<0&&(n.col=o.col-i.col+t.col)}r=this.hot._createCellCoords(e.highlight.row+n.row,e.highlight.col+n.col);const s=this.mergedCellsCollection.get(r.row,r.col);if(s){const a=this.mergedCellsCollection.getFirstRenderableCoords(s.row,s.col);hH(this,Za,r),n={row:a.row-o.row,col:a.col-o.col}}n.row!==0&&(t.row=n.row),n.col!==0&&(t.col=n.col)}function iDe(t){const e=this.hot.getSelectedRangeLast(),n=Xo(t),r=this.selectionCalculations.getUpdatedSelectionRange(e,t);let o=Xo(n);const i=this.mergedCellsCollection.getWithinRange(r,!0);do o=Xo(n),this.selectionCalculations.getUpdatedSelectionRange(e,n),F(i,s=>{this.selectionCalculations.snapDelta(n,e,s)});while(n.row!==o.row||n.col!==o.col);t.row=n.row,t.col=n.col}function sDe(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:r,col:o,colspan:i,rowspan:s}=n;return[r,o,r+s-1,o+i-1]}function aDe(t){t.items.push({name:"---------"},qNe(this))}function lDe(t,e,n){const r=this.mergedCellsCollection.get(e,n),o=Ot(r)?Xo(r):void 0;if(Ot(o)){const{rowIndexMapper:i,columnIndexMapper:s}=this.hot,{row:a,col:l,colspan:u,rowspan:c}=o,[h,d]=this.translateMergedCellToRenderable(a,c,l,u),g=i.getRenderableFromVisualIndex(e),p=s.getRenderableFromVisualIndex(n),v=h-g+1,C=d-p+1;o.row=i.getNearestNotHiddenIndex(o.row,1),o.col=s.getNearestNotHiddenIndex(o.col,1),o.rowspan=Math.min(o.rowspan,v),o.colspan=Math.min(o.colspan,C)}iH(t,o,e,n)}function s9(t){if(this.mergedCellsCollection.isFirstRenderableMergedCell(t.row,t.col)){const e=this.mergedCellsCollection.get(t.row,t.col);[t.row,t.col]=[e.row,e.col]}}function uDe(t){const e=this.hot.getSelectedRangeLast();e.highlight=this.hot._createCellCoords(e.highlight.row,e.highlight.col),e.to=t;let n=!1;if(!(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()))do{n=!1;for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1){const o=this.mergedCellsCollection.mergedCells[r].getRange();e.expandByRange(o)&&(t.row=e.to.row,t.col=e.to.col,n=!0)}}while(n)}function cDe(t,e,n){const r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function hDe(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function dDe(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function fDe(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let r=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,r,n))return r=e,r;const o=this.mergedCellsCollection.getWithinRange({from:{row:e[0],col:e[1]},to:{row:e[2],col:e[3]}});return o&&(r=this.autofillCalculations.snapDragArea(e,r,n,o)),r}function gDe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function mDe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function pDe(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function wDe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function vDe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function yDe(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);F(r,o=>{n.getBottomEndCorner().row===o.getLastRow()&&n.getBottomEndCorner().col===o.getLastColumn()&&(t[2]=o.row,t[3]=o.col)})}}function bDe(t,e,n){if(!this.enabled)return;const r=this.mergedCellsCollection.get(t.row,t.col);if(!r)return;const o=e>0,i=e<0,s=n<0,a=n>0,l=r.row+r.rowspan-1===this.hot.countRows()-1,u=r.row===0,c=r.col+r.colspan-1===this.hot.countCols()-1,h=r.col===0;(o&&l||i&&u||a&&c||s&&h)&&(t.row=r.row,t.col=r.col)}function CDe(t,e,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}function SDe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function xDe(t,e){return function(n,r){const[,...o]=n,[,...i]=r;return function s(a){const l=t[a],u=e[a],c=o[a],h=i[a],d=u.multiColumnSorting,g=(d.compareFunctionFactory?d.compareFunctionFactory:t6(u.type))(l,u,d)(c,h);if(g===Wa){const p=a+1;if(typeof e[p]<"u")return s(p)}return g}(0)}}function a9(){wn(un`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}const l9="sort";function RDe(t,e,n){const r=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push(`${l9}-${t.getIndexOfColumnInSortQueue(e)+1}`),r}function kDe(t){const e=t.className.split(" "),n=new RegExp(`^${l9}-[0-9]{1,2}$`);return e.filter(r=>n.test(r))}function EDe(t,e,n){return e=TDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TDe(t){var e=MDe(t,"string");return typeof e=="symbol"?e:String(e)}function MDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const z1="multiColumnSorting",_De=170,u9="columnSorting",c9=z1;e6(z1,xDe);class ODe extends s6{constructor(){super(...arguments),EDe(this,"pluginKey",z1)}static get PLUGIN_KEY(){return z1}static get PLUGIN_PRIORITY(){return _De}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[u9]&&a9(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,HS))},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:c9})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(c9)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];super.updateHeaderClasses(e,...r),Rt(e,kDe(e)),this.enabled!==!1&&_e(e,RDe(...r))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[u9]&&a9(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,n){TP(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,HS))):this.sort(this.getColumnNextConfig(n.col)))}}function h9(t,e,n){return e=ADe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ADe(t){var e=PDe(t,"string");return typeof e=="symbol"?e:String(e)}function PDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const IDe="multipleSelectionHandles",HDe=160;class NDe extends an{constructor(){super(...arguments),h9(this,"dragged",[]),h9(this,"lastSetCell",null)}static get PLUGIN_KEY(){return IDe}static get PLUGIN_PRIORITY(){return HDe}isEnabled(){return oc()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function r(o){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const i=e.dragged.indexOf(o);if(i===-1)return!1;i===0?e.dragged=e.dragged.slice(0,1):i===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",o=>{let i;if(yt(o.target,"topSelectionHandle-HitArea"))return i=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},o.preventDefault(),!1;if(yt(o.target,"bottomSelectionHandle-HitArea"))return i=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",o=>{if(yt(o.target,"topSelectionHandle-HitArea"))return r.call(e,"top"),e.touchStartRange=void 0,o.preventDefault(),!1;if(yt(o.target,"bottomSelectionHandle-HitArea"))return r.call(e,"bottom"),e.touchStartRange=void 0,o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",o=>{const{rootDocument:i}=this.hot;let s,a,l,u,c,h;if(e.dragged.length===0)return;const d=i.elementFromPoint(o.touches[0].clientX,o.touches[0].clientY);!d||d===e.lastSetCell||((d.nodeName==="TD"||d.nodeName==="TH")&&(s=e.hot.getCoords(d),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),u=a.getHeight(),c=a.getDirection(),l===1&&u===1&&e.hot.selection.setRangeEnd(s),h=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,c,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=d),o.preventDefault())})}getCurrentRangeCoords(e,n,r,o,i){const s=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),u=e.getTopEndCorner();let c={start:null,end:null};switch(r){case"NE-SW":switch(o){case"NE-SW":case"NW-SE":i==="top"?c={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,s.col)};break;case"SE-NW":i==="bottom"&&(c={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,s.col)});break}break;case"NW-SE":switch(o){case"NE-SW":i==="top"?c={start:n,end:l}:c.end=n;break;case"NW-SE":i==="top"?c={start:n,end:a}:c.end=n;break;case"SE-NW":i==="top"?c={start:n,end:s}:c.end=n;break;case"SW-NE":i==="top"?c={start:n,end:u}:c.end=n;break}break;case"SW-NE":switch(o){case"NW-SE":i==="bottom"?c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(s.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":i==="top"?c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(s.row,n.col)};break;case"SE-NW":i==="bottom"?c={start:this.hot._createCellCoords(n.row,u.col),end:this.hot._createCellCoords(s.row,n.col)}:i==="top"&&(c={start:l,end:n});break}break;case"SE-NW":switch(o){case"NW-SE":case"NE-SW":case"SW-NE":i==="top"&&(c.end=n);break;case"SE-NW":i==="top"?c.end=n:c={start:n,end:s};break}break}return c}isDragged(){return this.dragged.length>0}}function fH(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:o=[],isCollapsed:i=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:r,isCollapsed:i,crossHiddenColumns:o,isHidden:s,isRoot:a,isPlaceholder:l}}function d9(){return{label:"",isPlaceholder:!0}}function DDe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;F(t,o=>{const i=[];let s=0;n.push(i),F(o,a=>{const l=fH();if(Ot(a)){const{label:c,colspan:h}=a;l.label=fr(c),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h)}else l.label=fr(a);s+=l.origColspan;let u=!1;if(s>=e&&(l.colspan=l.origColspan-(s-e),l.origColspan=l.colspan,u=!0),i.push(l),l.colspan>1)for(let c=0;c<l.colspan-1;c++)i.push(d9());return!u})});const r=Math.max(...Pt(n,o=>o.length));return F(n,o=>{if(o.length<r){const i=Pt(new Array(r-o.length),()=>fH());o.splice(o.length,0,...i)}}),n}function gH(t,e,n){LDe(t,e),e.set(t,n)}function LDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sa(t,e){var n=f9(t,e,"get");return jDe(t,n)}function jDe(t,e){return e.get?e.get.call(t):e.value}function Av(t,e,n){var r=f9(t,e,"set");return FDe(t,r,n),n}function f9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function FDe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const g9=["label","collapsible"];var hu=new WeakMap,gd=new WeakMap,mH=new WeakMap;class WDe{constructor(){gH(this,hu,{writable:!0,value:[]}),gH(this,gd,{writable:!0,value:0}),gH(this,mH,{writable:!0,value:1/0})}setColumnsLimit(e){Av(this,mH,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Av(this,hu,DDe(e,sa(this,mH))),Av(this,gd,sa(this,hu).length)}getData(){return sa(this,hu)}mergeWith(e){F(e,n=>{let{row:r,col:o,...i}=n;const s=this.getHeaderSettings(r,o);s!==null&&yr(s,i,g9)})}map(e){F(sa(this,hu),n=>{F(n,r=>{const o=e({...r});Ot(o)&&yr(r,o,g9)})})}getHeaderSettings(e,n){var r;if(e>=sa(this,gd)||e<0)return null;const o=sa(this,hu)[e];return Array.isArray(o)===!1||n>=o.length?null:(r=o[n])!==null&&r!==void 0?r:null}getHeadersSettings(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=[];if(e>=sa(this,gd)||e<0)return o;const i=sa(this,hu)[e];let s=0;for(let a=n;a<i.length;a++){const l=i[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,o.push(l),l.colspan>1&&(a+=l.colspan-1),s===r)break;if(s>r)throw new Error("The last column settings cannot overlap the other header layers")}return o}getLayersCount(){return sa(this,gd)}getColumnsCount(){return sa(this,gd)>0?sa(this,hu)[0].length:0}clear(){Av(this,hu,[]),Av(this,gd,0)}}function pH(t,e,n){return e=VDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VDe(t){var e=BDe(t,"string");return typeof e=="symbol"?e:String(e)}function BDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const m9="DF-pre-order";function p9(t,e){let n=t.call(e,this);for(let r=0;r<this.childs.length;r++){if(n===!1)return!1;n=p9.call(this.childs[r],t,e)}return n}const UDe="DF-post-order";function w9(t,e){for(let n=0;n<this.childs.length;n++)if(w9.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const v9="BF";function zDe(t,e){const n=[this];function r(){if(n.length===0)return;const o=n.shift();n.push(...o.childs),t.call(e,o)!==!1&&r()}r()}const $De=v9,y9=new Map([[m9,p9],[UDe,w9],[v9,zDe]]);class $1{constructor(e){pH(this,"data",{}),pH(this,"parent",null),pH(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new $1({...e.data});for(let r=0;r<e.childs.length;r++)n.addChild(this.cloneTree(e.childs[r]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$De;if(!y9.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);y9.get(n).call(this,e,this)}walkUp(e){const n=this,r=o=>{e.call(n,o)!==!1&&o.parent!==null&&r(o.parent)};r(this)}}function wH(t,e,n){GDe(t,e),e.set(t,n)}function GDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jo(t,e){var n=b9(t,e,"get");return YDe(t,n)}function YDe(t,e){return e.get?e.get.call(t):e.value}function qDe(t,e,n){var r=b9(t,e,"set");return KDe(t,r,n),n}function b9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function KDe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Kg=new WeakMap,md=new WeakMap,Qg=new WeakMap;class QDe{constructor(e){wH(this,Kg,{writable:!0,value:new Map}),wH(this,md,{writable:!0,value:new Map}),wH(this,Qg,{writable:!0,value:null}),qDe(this,Qg,e)}getRoots(){return Array.from(jo(this,Kg).values())}getRootByColumn(e){let n;return jo(this,md).has(e)&&(n=jo(this,Kg).get(jo(this,md).get(e))),n}getNode(e,n){const r=this.getRootByColumn(n);if(!r)return;const o=n-jo(this,md).get(n);let i=0,s;return r.walkDown(a=>{const{data:{origColspan:l,headerLevel:u}}=a;if(e===u){if(o>=i&&o<=i+l-1)return s=a,s.data.isRoot=n===s.data.columnIndex,!1;i+=l}}),s}rebuildTreeIndex(){let e=0;jo(this,md).clear(),F(jo(this,Kg),n=>{let[,{data:{colspan:r}}]=n;for(let o=e;o<e+r;o++)jo(this,md).set(o,e);e+=r})}buildTree(){this.clear();const e=jo(this,Qg).getColumnsCount();let n=0;for(;n<e;){const r=jo(this,Qg).getHeaderSettings(0,n),o=new $1;jo(this,Kg).set(n,o),this.buildLeaves(o,n,0,r.origColspan),n+=r.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const i=jo(this,Qg).getHeadersSettings(r,n,o);r+=1,F(i,s=>{const a={...s,headerLevel:r-1,columnIndex:n};let l;r===1?(e.data=a,l=e):(l=new $1(a),e.addChild(l)),r<jo(this,Qg).getLayersCount()&&this.buildLeaves(l,n,r,s.origColspan),n+=s.origColspan})}clear(){jo(this,Kg).clear(),jo(this,md).clear()}}function C9(t,e){t.walkDown(n=>{let{data:r,childs:o}=n;if(!r.isHidden&&(e(r.columnIndex),o.length===0))for(let i=1;i<r.colspan;i++)e(r.columnIndex+i)})}function G1(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function Y1(t){return G1(t,"origColspan")===t.data.origColspan}function vH(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Y1(t))return vH(n[0]);e.isCollapsed=!1;const r=n.slice(1),o=new Set;let i=0;if(r.length>0)F(r,s=>{s.replaceTreeWith(s.data.clonedTree),s.data.clonedTree=null;const a=s.data;i+=a.colspan,C9(s,l=>{o.add(l)})});else{const{colspan:s,origColspan:a,columnIndex:l}=e;i=a-s;for(let u=1;u<a;u++)o.add(l+u)}return t.walkUp(s=>{const{data:a}=s;a.colspan+=i,a.colspan>=a.origColspan?(a.colspan=a.origColspan,a.isCollapsed=!1):Y1(s)&&(a.isCollapsed=G1(s,"isCollapsed"))}),{rollbackModification:()=>yH(t),affectedColumns:Array.from(o),colspanCompensation:i}}function yH(t){var e;const{data:n,childs:r}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Y1(t))return yH(r[0]);n.isCollapsed=!0;const o=r.slice(1),i=new Set;if(o.length>0)F(o,a=>{C9(a,l=>{i.add(l)}),a.data.clonedTree=a.cloneTree(),a.walkDown(l=>{let{data:u}=l;u.isHidden=!0})});else{const{origColspan:a,columnIndex:l}=n;for(let u=1;u<a;u++){const c=l+u;i.add(c)}}const s=n.colspan-((e=G1(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(a=>{const{data:l}=a;l.colspan-=s,l.colspan<=1?(l.colspan=1,l.isCollapsed=!0):Y1(a)&&(l.isCollapsed=G1(a,"isCollapsed"))}),{rollbackModification:()=>vH(t),affectedColumns:Array.from(i),colspanCompensation:s}}function XDe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(un`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let r=!1;t.walkUp(o=>{const{data:{collapsible:i}}=o;if(i)return r=!0,!1}),!r&&t.walkUp(o=>{const{data:i}=o;i.crossHiddenColumns.push(e),i.colspan>1?i.colspan-=1:i.isHidden=!0})}function JDe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(un`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let r=!1;t.walkUp(o=>{const{data:{collapsible:i}}=o;if(i)return r=!0,!1}),!r&&t.walkUp(o=>{const{data:i}=o;i.crossHiddenColumns.splice(i.crossHiddenColumns.indexOf(e),1),!i.isHidden&&i.colspan<i.origColspan&&(i.colspan+=1),i.isHidden=!1})}const S9=new Map([["collapse",yH],["expand",vH],["hide-column",XDe],["show-column",JDe]]);function ZDe(t,e,n){if(!S9.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return S9.get(t)(e,n)}function q1(t){const e=[];return F(t,n=>{n.walkDown(r=>{const o=r.data,{origColspan:i,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=o,u=tLe(e,a);let c=!1;for(let h=s;h<s+i;h++)if(l.includes(h)||c)u.push(d9());else{const d=eLe(o);d.isRoot=!0,u.push(d),c=!0}})}),e}function eLe(t){const{crossHiddenColumns:e,...n}=fH(t);return n}function tLe(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function bH(t,e,n){nLe(t,e),e.set(t,n)}function nLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pv(t,e,n){var r=x9(t,e,"set");return rLe(t,r,n),n}function rLe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function nr(t,e){var n=x9(t,e,"get");return oLe(t,n)}function x9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function oLe(t,e){return e.get?e.get.call(t):e.value}var el=new WeakMap,ui=new WeakMap,pd=new WeakMap;class iLe{constructor(){bH(this,el,{writable:!0,value:new WDe}),bH(this,ui,{writable:!0,value:new QDe(nr(this,el))}),bH(this,pd,{writable:!0,value:[[]]})}setState(e){nr(this,el).setData(e);let n=!1;try{nr(this,ui).buildTree()}catch{nr(this,ui).clear(),nr(this,el).clear(),n=!0}return Pv(this,pd,q1(nr(this,ui).getRoots())),n}setColumnsLimit(e){nr(this,el).setColumnsLimit(e)}mergeStateWith(e){const n=Pt(e,r=>{let{row:o,...i}=r;return{row:o<0?this.rowCoordsToLevel(o):o,...i}});nr(this,el).mergeWith(n),nr(this,ui).buildTree(),Pv(this,pd,q1(nr(this,ui).getRoots()))}mapState(e){nr(this,el).map(e),nr(this,ui).buildTree(),Pv(this,pd,q1(nr(this,ui).getRoots()))}mapNodes(e){return fo(nr(this,ui).getRoots(),(n,r)=>(r.walkDown(o=>{const i=e(o.data);i!==void 0&&n.push(i)}),n),[])}triggerNodeModification(e,n,r){n<0&&(n=this.rowCoordsToLevel(n));const o=nr(this,ui).getNode(n,r);let i;return o&&(i=ZDe(e,o,r),Pv(this,pd,q1(nr(this,ui).getRoots()))),i}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var r,o;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(r=(o=nr(this,pd)[e])===null||o===void 0?void 0:o[n])!==null&&r!==void 0?r:null}getHeaderTreeNodeData(e,n){const r=this.getHeaderTreeNode(e,n);return r?{...r.data}:null}getHeaderTreeNode(e,n){return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:nr(this,ui).getNode(e,n)||null}findTopMostEntireHeaderLevel(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const o=r-e+1;let i=!1,s=null;for(let a=e;a<=r;a++){const l=nr(this,ui).getRootByColumn(a);if(!l)break;i=!0,l.walkDown(u=>{const{columnIndex:c,headerLevel:h,origColspan:d,isHidden:g}=u.data;g||d<=o&&c>=e&&c+d-1<=r&&(s===null||h<s)&&(s=h)},m9)}return i&&s===null?-1:this.levelToRowCoords((n=s)!==null&&n!==void 0?n:0)}findLeftMostColumnIndex(e,n){var r;const{isRoot:o}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0};if(o)return n;let i=n-1;for(;i>=0;){var s;const{isRoot:a}=(s=this.getHeaderSettings(e,i))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;i-=1}return i}findRightMostColumnIndex(e,n){var r;const{isRoot:o,origColspan:i}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0,origColspan:1};if(o)return n+i-1;let s=n+1;for(;s<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return nr(this,el).getLayersCount()}getColumnsCount(){return nr(this,el).getColumnsCount()}clear(){Pv(this,pd,[]),nr(this,el).clear(),nr(this,ui).clear()}}function Iv(t,e,n){return e=sLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sLe(t){var e=aLe(t,"string");return typeof e=="symbol"?e:String(e)}function aLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lLe{constructor(e,n){Iv(this,"hot",void 0),Iv(this,"nestedHeaderSettingsGetter",void 0),Iv(this,"layersCount",0),Iv(this,"container",void 0),Iv(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),n=e.length;this.widthsMap.clear();for(let r=0;r<n;r++){const o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(r),i=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(i,e[r].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:r}=this.hot,o=n.createDocumentFragment(),i=n.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=r.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const u=n.createElement("tr");for(let c=0;c<a;c++){let h=r.getVisualFromRenderableIndex(c);h===null&&(h=c);const d=n.createElement("th"),g=this.nestedHeaderSettingsGetter(l,h);if(g&&(!g.isPlaceholder||g.isHidden)){let p=g.label;s&&(p+='<button class="changeType"></button>'),Wf(d,p),d.colSpan=g.colspan,u.appendChild(d)}}i.appendChild(u)}o.appendChild(i),e.appendChild(o)}clear(){this.widthsMap.clear(),this.container=null}}function zr(t,e){k9(t,e),e.add(t)}function R9(t,e,n){return e=uLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uLe(t){var e=cLe(t,"string");return typeof e=="symbol"?e:String(e)}function cLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K1(t,e,n){k9(t,e),e.set(t,n)}function k9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wd(t,e,n){var r=E9(t,e,"set");return hLe(t,r,n),n}function hLe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Kt(t,e){var n=E9(t,e,"get");return dLe(t,n)}function E9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function dLe(t,e){return e.get?e.get.call(t):e.value}function xr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const T9="nestedHeaders",fLe=280;var gn=new WeakMap,Nc=new WeakMap,Hv=new WeakMap,Q1=new WeakMap,X1=new WeakSet,M9=new WeakSet,_9=new WeakSet,O9=new WeakSet,A9=new WeakSet,P9=new WeakSet,I9=new WeakSet,H9=new WeakSet,N9=new WeakSet,D9=new WeakSet,L9=new WeakSet,j9=new WeakSet,F9=new WeakSet,W9=new WeakSet,V9=new WeakSet,B9=new WeakSet,U9=new WeakSet,z9=new WeakSet;class gLe extends an{constructor(){super(...arguments),zr(this,z9),zr(this,U9),zr(this,B9),zr(this,V9),zr(this,W9),zr(this,F9),zr(this,j9),zr(this,L9),zr(this,D9),zr(this,N9),zr(this,H9),zr(this,I9),zr(this,P9),zr(this,A9),zr(this,O9),zr(this,_9),zr(this,M9),zr(this,X1),K1(this,gn,{writable:!0,value:new iLe}),K1(this,Nc,{writable:!0,value:null}),K1(this,Hv,{writable:!0,value:null}),K1(this,Q1,{writable:!0,value:!1}),R9(this,"ghostTable",new lLe(this.hot,(e,n)=>this.getHeaderSettings(e,n))),R9(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return T9}static get PLUGIN_PRIORITY(){return fLe}isEnabled(){return!!this.hot.getSettings()[T9]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&wn(un`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>xr(this,U9,OLe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,z9,ALe).call(e,...o)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,A9,vLe).call(e,...o)}),this.addHook("afterOnCellMouseDown",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,P9,yLe).call(e,...o)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,I9,bLe).call(e,...o)}),this.addHook("beforeOnCellMouseUp",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,H9,CLe).call(e,...o)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,N9,SLe).call(e,...o)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,D9,xLe).call(e,...o)}),this.addHook("afterSelection",()=>xr(this,X1,CH).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,M9,mLe).call(e,...o)}),this.addHook("afterGetColumnHeaderRenderers",r=>xr(this,j9,kLe).call(this,r)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,W9,TLe).call(e,...o)}),this.addHook("modifyColumnHeaderValue",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,V9,MLe).call(e,...o)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,_9,pLe).call(e,...o)}),this.addHook("beforeCopy",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,O9,wLe).call(e,...o)}),this.addHook("beforeSelectColumns",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,L9,RLe).call(e,...o)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,F9,ELe).call(e,...o)}),this.addHook("modifyFocusedElement",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,B9,_Le).call(e,...o)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>xr(this,X1,CH).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>xr(this,X1,CH).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();Kt(this,gn).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=Kt(this,gn).setState(e)),this.detectedOverlappedHeaders&&wn(un`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,r)=>{const o=n===!0?"hide-column":"show-column";Kt(this,gn).triggerColumnModification(o,r)}),!Kt(this,Nc)&&this.enabled&&wd(this,Nc,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(r=>{let{op:o,index:i,newValue:s}=r;if(o==="replace"){const a=s===!0?"hide-column":"show-column";Kt(this,gn).triggerColumnModification(a,i)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Kt(this,gn).clear(),Kt(this,Nc).unsubscribe(),wd(this,Nc,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Kt(this,gn)}getLayersCount(){return Kt(this,gn).getLayersCount()}getHeaderSettings(e,n){return Kt(this,gn).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,r=e.wtTable.THEAD,o=e.wtOverlays.topOverlay.clone.wtTable.THEAD,i=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<n;s++){const a=r.childNodes[s];if(!a)break;const l=o.childNodes[s],u=i?i.childNodes[s]:null;for(let c=0,h=a.childNodes.length;c<h;c++)a.childNodes[c].removeAttribute("colspan"),Rt(a.childNodes[c],"hiddenHeader"),l&&l.childNodes[c]&&(l.childNodes[c].removeAttribute("colspan"),Rt(l.childNodes[c],"hiddenHeader")),i&&u&&u.childNodes[c]&&(u.childNodes[c].removeAttribute("colspan"),Rt(u.childNodes[c],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const r=this.hot.view._wt.getSetting("fixedColumnsStart");return(o,i)=>{var s;const{columnIndexMapper:a,view:l}=this.hot;let u=a.getVisualFromRenderableIndex(o);u===null&&(u=o),i.removeAttribute("colspan"),Rt(i,"hiddenHeader");const{colspan:c,isHidden:h,isPlaceholder:d}=(s=Kt(this,gn).getHeaderSettings(e,u))!==null&&s!==void 0?s:{label:""};if(d||h)_e(i,"hiddenHeader");else if(c>1){var g,p;const{wtOverlays:v}=l._wt,C=(g=v.topInlineStartCornerOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(i),w=(p=v.inlineStartOverlay)===null||p===void 0?void 0:p.clone.wtTable.THEAD.contains(i),y=C||w?Math.min(c,r-o):c;y>1&&i.setAttribute("colspan",y)}this.hot.view.appendColHeader(u,i,function(){return n.getColumnHeaderValue(...arguments)},e)}}getColumnHeaderValue(e,n){var r;const{isHidden:o,isPlaceholder:i}=(r=Kt(this,gn).getHeaderSettings(n,e))!==null&&r!==void 0?r:{};return i||o?"":this.hot.getColHeader(e,n)}destroy(){wd(this,gn,null),Kt(this,Nc)!==null&&(Kt(this,Nc).unsubscribe(),wd(this,Nc,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return Kt(this,gn).getHeaderTreeNodeData(e.row,e.col)}}function CH(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const r=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=r,o.visualCellRange.from.col=r,o.visualCellRange.to.col=r,o.commit()}}function mLe(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e;if(!(n.isHeader()&&n.col>=0))return t;const r=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),i=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),s=Kt(this,gn).findRightMostColumnIndex(n.row,n.col);return i<r&&s>o?t:i<r?i:s}function pLe(t,e,n){const r=Kt(this,gn).getHeaderTreeNodeData(e,t);if(!r)return t;const{columnCursor:o,selectionType:i,selectionWidth:s}=n,{isRoot:a,colspan:l}=Kt(this,gn).getHeaderSettings(e,t);if(i===p_){if(!a)return r.columnIndex}else if(i===F3&&(l>s-o||!a))return null;return t}function wLe(t,e,n){let{columnHeadersCount:r}=n;if(r!==0)for(let i=0;i<e.length;i++){const{startRow:s,startCol:a,endRow:l,endCol:u}=e[i],c=l-s+1,h=a-u+1;if(s>=0||h===1)break;for(let d=a;d<=u;d++)for(let g=s;g<=l;g++){var o;const p=c+g,v=d-a;v!==0&&((o=Kt(this,gn).getHeaderTreeNodeData(g,d))===null||o===void 0?void 0:o.isRoot)===!1&&(t[p][v]="")}}}function vLe(t,e,n,r){this._getHeaderTreeNodeDataByCoords(e)&&(r.column=!0)}function yLe(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;wd(this,Hv,e.clone()),wd(this,Q1,!0);const{selection:r}=this.hot,o=r.isSelected()?r.getSelectedRange().current():null,i=[],{columnIndex:s,origColspan:a}=n,l=!r.inInSelection(e);t.shiftKey&&o?e.col<o.from.col?i.push(o.getTopEndCorner().col,s,e.row):e.col>o.from.col?i.push(o.getTopStartCorner().col,s+a-1,e.row):i.push(s,s+a-1,e.row):(NM(t)||_h(t)&&l)&&i.push(s,s+a-1,e.row),r.selectColumns(...i)}function bLe(t,e,n,r){if(!this.hot.view.isMouseDown())return;const o=this._getHeaderTreeNodeDataByCoords(e);if(!o)return;const{columnIndex:i,origColspan:s}=o,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),u=a.getBottomEndCorner(),{from:c}=a;r.column=!0,r.cell=!0;const h=[],d=Ei(e.row,-1/0,-1);e.col<c.col?h.push(u.col,i,d):e.col>c.col?h.push(l.col,i+s-1,d):h.push(i,i+s-1,d),this.hot.selection.selectColumns(...h)}function CLe(){wd(this,Q1,!1)}function SLe(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Kt(this,Q1)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,r=e.getBottomEndCorner().col,{columnIndex:o,origColspan:i}=Kt(this,gn).getHeaderTreeNodeData(Kt(this,Hv).row,Kt(this,Hv).col);if(e.setHighlight(Kt(this,Hv)),i>e.getWidth()||o<n||o+i-1>r){const s=Kt(this,gn).findTopMostEntireHeaderLevel(Ei(n,o,o+i-1),Ei(r,o,o+i-1));e.highlight.row=s,e.highlight.col=e.from.col}}function xLe(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const r=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),o=Kt(this,gn).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const i=e.col>=r&&e.col<=o?r-1:o,s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i,-1);s===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(s,e.col)-1,1)}else if(t.col>0){const i=e.col>=r&&e.col<=o?o+1:r,s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i,1);s===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,s)-1,1)}}function RLe(t,e){const n=t.row,r=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),o=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(r&&(t.col=r.columnIndex+r.origColspan-1),o&&(e.col=o.columnIndex)):e.col>=t.col&&(r&&(t.col=r.columnIndex),o&&(e.col=o.columnIndex+o.origColspan-1))}function kLe(t){t.length=0;for(let e=0;e<Kt(this,gn).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function ELe(t){const e=Kt(this,gn).getLayersCount();let n=t.startColumn,r=!!e;for(let o=0;o<e;o++){const i=Kt(this,gn).findLeftMostColumnIndex(o,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(i);if(i>=0&&(r=!1),Jo(s)&&s<t.startColumn){n=s;break}}t.startColumn=r?Kt(this,gn).getHeaderTreeNodeData(0,n).columnIndex:n}function TLe(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function MLe(t,e,n){var r;const{label:o}=(r=Kt(this,gn).getHeaderTreeNodeData(n,e))!==null&&r!==void 0?r:{label:""};return o}function _Le(t,e){if(t<0)return this.hot.getCell(t,Kt(this,gn).findLeftMostColumnIndex(t,e),!0)}function OLe(){this.updatePlugin()}function ALe(t,e){e||this.updatePlugin()}function Nv(t,e,n){return e=PLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PLe(t){var e=ILe(t,"string");return typeof e=="symbol"?e:String(e)}function ILe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HLe{constructor(e,n){Nv(this,"hot",void 0),Nv(this,"data",null),Nv(this,"plugin",void 0),Nv(this,"parentReference",new WeakMap),Nv(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Je(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,r){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:r,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&F(e.__children,o=>{this.cacheNode(o,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,r,o){let i=!1,s=n;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},i=!0,s-=1),r!=null&&s===r?{result:a,end:!0}:o!=null&&a===o?{result:s,end:!0}:(s+=1,a.__children&&F(a.__children,l=>{if(this.parentReference.set(l,i?null:a),s=this.readTreeNodes(l,s,r,o),isNaN(s)&&s.end)return!1}),s)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return It(this.data[0],(n,r)=>{e[r]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const r=this.getRowParent(e);return r==null?this.data.indexOf(n):r.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),!r||!r.__children?0:(F(r.__children,o=>{n+=1,o.__children&&(n+=this.countChildren(o))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var r;return((r=e.__children)===null||r===void 0?void 0:r[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&!!r.__children&&((n=r.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let r=n;this.hot.runHooks("beforeAddChild",e,r);let o=null;e&&(o=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(e)+1,1);let i=e;e||(i=this.mockParent()),i.__children||(i.__children=[]),r||(r=this.mockNode()),i.__children.push(r),this.rewriteCache();const s=this.getRowIndex(r);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,r)}addChildAtIndex(e,n,r){let o=r,i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",e,o,n),e){const s=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",s,1),e.__children.splice(n,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(s,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",s,1),i=s}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),i=this.getRowIndex(this.data[n]);o=this.getDataObject(i),this.hot.runHooks("afterAddChild",e,o,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const r=this.translateTrimmedRow(e),o=this.getRowParent(r),i=this.getRowIndexWithinParent(r);switch(n){case"below":this.addChildAtIndex(o,i+1,null);break;case"above":this.addChildAtIndex(o,i,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=null;const o=[];Array.isArray(e)?(Je(e[0],e[2],d=>{const g=this.translateTrimmedRow(d);o.push(this.getDataObject(g))}),Je(0,o.length-2,d=>{this.detachFromParent(o[d],!1)}),r=o[o.length-1]):r=e;const i=this.getRowIndex(r),s=this.countChildren(r),a=this.getRowIndexWithinParent(r),l=this.getRowParent(r),u=this.getRowParent(l),c=this.getRowIndex(u);let h=null;if(this.hot.runHooks("beforeDetachChild",l,r),a!=null){const d=Array.from(new Array(i+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",i,s+1,d,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",i,s+1,d,this.plugin.pluginName),u){h=c+this.countChildren(u);const g=this.getChild(u,this.countChildren(u)-1),p=this.getRowIndex(g);this.hot.runHooks("beforeCreateRow",p+1,s+1,this.plugin.pluginName),u.__children.push(r)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,s+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,r,this.getRowIndex(r)),n&&this.hot.render()}filterData(e,n,r){const o=[];F(r,i=>{o.push(this.getDataObject(i))}),F(o,i=>{const s=this.getRowIndexWithinParent(i),a=this.getRowParent(i);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,n,r){const o=this.getDataObject(e-1);let i=null,s=e;o&&o.__children&&o.__children.length===0?(i=o,s=0):e<this.countAllRows()&&(i=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),i?r?i.__children.splice(s,n,...r):i.__children.splice(s,n):r?this.data.splice(s,n,...r):this.data.splice(s,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,r=null;do r=this.getRowParent(r),r!==null&&(n=r);while(r!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,r,o){const i=n===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=s.__children.slice(a,a+1),u=e>n;let c=i?this.getRowParent(n-1):this.getRowParent(n);c==null&&(c=this.getRowParent(n-1)),c==null&&(c=this.getDataObject(n-1)),c?c.__children||(c.__children=[]):(c=this.getDataObject(n),c.__children=[]);const h=i||r||o?c.__children.length:this.getRowIndexWithinParent(n),d=s===c;c.__children.splice(h,0,l[0]),s.__children.splice(a+(u&&d?1:0),1),this.syncRowWithRawSource(s),d||this.syncRowWithRawSource(c)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function $9(t,e,n){return e=NLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NLe(t){var e=DLe(t,"string");return typeof e=="symbol"?e:String(e)}function DLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class SH{constructor(e,n){$9(this,"hot",void 0),$9(this,"plugin",void 0),this.hot=n,this.plugin=e}}class tl extends SH{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const r=this.hot.toPhysicalRow(e),o=this.dataManager.getRowLevel(r),i=this.dataManager.getDataObject(r),s=n.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),u=this.hot.getSettings().ariaTags;if(F(l,c=>{c&&s.removeChild(c)}),_e(n,tl.CSS_CLASSES.indicatorContainer),o){const{rootDocument:c}=this.hot,h=a.cloneNode(!0);s.innerHTML="",Je(0,o-1,()=>{const d=c.createElement("SPAN");_e(d,tl.CSS_CLASSES.emptyIndicator),s.appendChild(d)}),s.appendChild(h)}if(this.dataManager.hasChildren(i)){const c=this.hot.rootDocument.createElement("DIV");u&&dt(c,[Ll()]),_e(n,tl.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?(_e(c,`${tl.CSS_CLASSES.button} ${tl.CSS_CLASSES.expandButton}`),u&&dt(n,[is(!1)])):(_e(c,`${tl.CSS_CLASSES.button} ${tl.CSS_CLASSES.collapseButton}`),u&&dt(n,[is(!0)])),s.appendChild(c)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*n+25),this.hot.render()}}class LLe extends SH{constructor(e,n){var r;super(e,n),r=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,o)},shiftStash:function(o,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i==null&&(i=1/0),F(r.lastCollapsedRows,(a,l)=>{a>=o&&a<i&&(r.lastCollapsedRows[l]=a+s)})},applyStash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r.collapseMultipleChildren(r.lastCollapsedRows,o),r.lastCollapsedRows=void 0},trimStash:(o,i)=>{Je(o,o+i-1,s=>{const a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let i=null,s=null,a=null;return isNaN(e)?(i=e,s=this.dataManager.getRowIndex(i)):(i=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(i)&&F(i.__children,l=>{o.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(o,!0,!1),r&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,i=>{o.push(...this.collapseChildren(i,!1,!1))}),r&&this.trimRows(o),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,i=>{o.push(i),n&&this.collapseChildRows(i,o)}),r&&this.trimRows(o),o}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,i=>{const s=this.dataManager.getRowIndex(i);n.push(s),this.collapseChildRows(s,n)})}r&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,i=>{o.push(i),n&&this.expandChildRows(i,o)}),r&&this.untrimRows(o),o}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,i=>{if(!this.isAnyParentCollapsed(i)){const s=this.dataManager.getRowIndex(i);n.push(s),this.expandChildRows(s,n)}})}r&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let i=null,s=null,a=null;return isNaN(e)?(i=e,s=this.dataManager.getRowIndex(e)):(i=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(i)&&F(i.__children,l=>{const u=this.dataManager.getRowIndex(l);o.push(u)}),a=this.expandRows(o,!0,!1),r&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,i=>{o.push(...this.expandChildren(i,!1,!1))}),r&&this.untrimRows(o),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];F(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];F(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&F(n.__children,o=>{const i=this.dataManager.getRowIndex(o);if(!this.plugin.collapsedRowsMap.getValueAtIndex(i))return r=!1,!1}),r}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const r=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(r)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const r=this.translateTrimmedRow(n.row);yt(e.target,tl.CSS_CLASSES.button)&&(this.areChildrenCollapsed(r)?this.expandChildren(r):this.collapseChildren(r),Vs(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function jLe(t,e,n){FLe(t,e),e.set(t,n)}function FLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function WLe(t,e,n){return e=VLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VLe(t){var e=BLe(t,"string");return typeof e=="symbol"?e:String(e)}function BLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ULe(t,e){var n=zLe(t,e,"get");return $Le(t,n)}function zLe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function $Le(t,e){return e.get?e.get.call(t):e.value}var G9=new WeakMap;class GLe extends SH{constructor(){super(...arguments),WLe(this,"dataManager",this.plugin.dataManager),jLe(this,G9,{writable:!0,value:{row_above:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"above")},row_below:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"below")}}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(TO)},callback:()=>{const r=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),o=this.dataManager.getDataObject(r);this.dataManager.addChild(o)},disabled:()=>{const r=this.hot.getSelectedLast();return!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(MO)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const r=this.hot.getSelectedLast(),o=this.dataManager.translateTrimmedRow(r[0]);return!this.dataManager.getRowParent(o)||!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Je(0,e.items.length-1,r=>{if(r===0)return F(n,(o,i)=>{e.items.splice(r+i,0,o)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Je(0,e.items.length-1,n=>{const r=ULe(this,G9)[e.items[n].key];r!=null&&(e.items[n].callback=r)}),e}}function J1(t,e,n){return e=YLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YLe(t){var e=qLe(t,"string");return typeof e=="symbol"?e:String(e)}function qLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KLe{constructor(e){J1(this,"plugin",void 0),J1(this,"hot",void 0),J1(this,"dataManager",void 0),J1(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,r,o){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:r,movePossible:o}))return!1;this.movedToCollapsed=!1;const i=r===this.hot.countRows(),s=i?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(r);let a=!0;const l=e.map(g=>{if(!a)return!1;const p=this.dataManager.translateTrimmedRow(g);return a=this.shouldAllowMoving(p,s),p}),u=l.indexOf(s)===-1;if(!a||!u)return!1;const c=this.getBaseParent(l),h=this.getTargetParent(i,s),d=c===h;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(h),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(l,s,d),this.moveRows(l,s,h),this.dataManager.rewriteCache(),this.moveCellsMeta(l,s),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,r,o,o&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,r),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:r,dropIndex:o,movePossible:i}=e;let s=!1;return Tn(o)&&(wn(un`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,r,o,i,!1),s=!0),s}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let r=this.dataManager.getRowParent(e?n-1:n);return r==null&&(r=this.dataManager.getRowParent(n-1)),r}shiftCollapsibleParentsLocations(e,n,r){r||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,r){const o=n===this.dataManager.getRowIndex(r)+this.dataManager.countChildren(r)+1;this.hot.batchRender(()=>{e.forEach(i=>{this.dataManager.moveRow(i,n,this.movedToCollapsed,o)})})}moveCellsMeta(e,n){const r=[],o=Math.max(...e)<n;e.forEach(i=>{r.push(this.hot.getCellMetaAtRow(i))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(o?r.length:0),0,...r)}selectCells(e,n){const r=e.length;let o=0,i=0,s=null,a=null;if(this.movedToCollapsed){let l=null;e[r-1]<n?l=this.dataManager.translateTrimmedRow(n-r):l=this.dataManager.translateTrimmedRow(n);const u=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),c=this.dataManager.getRowIndex(u);o=this.dataManager.untranslateTrimmedRow(c),i=o}else e[r-1]<n?(i=n-1,o=i-r+1):(o=n,i=o+r-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(o,0)),s.setRangeEnd(this.hot._createCellCoords(i,a),!0)}isRowOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}}function bo(t,e){q9(t,e),e.add(t)}function Y9(t,e,n){q9(t,e),e.set(t,n)}function q9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xH(t,e,n){return e=QLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QLe(t){var e=XLe(t,"string");return typeof e=="symbol"?e:String(e)}function XLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z1(t,e){var n=K9(t,e,"get");return JLe(t,n)}function JLe(t,e){return e.get?e.get.call(t):e.value}function ex(t,e,n){var r=K9(t,e,"set");return ZLe(t,r,n),n}function K9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ZLe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Jr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const tx="nestedRows",eje=300,Q9=tx,tje="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var nx=new WeakMap,Xg=new WeakMap,X9=new WeakSet,J9=new WeakSet,Z9=new WeakSet,eq=new WeakSet,tq=new WeakSet,nq=new WeakSet,rq=new WeakSet,oq=new WeakSet,iq=new WeakSet,sq=new WeakSet,aq=new WeakSet,lq=new WeakSet,uq=new WeakSet,cq=new WeakSet,hq=new WeakSet,RH=new WeakSet;class nje extends an{constructor(){super(...arguments),bo(this,RH),bo(this,hq),bo(this,cq),bo(this,uq),bo(this,lq),bo(this,aq),bo(this,sq),bo(this,iq),bo(this,oq),bo(this,rq),bo(this,nq),bo(this,tq),bo(this,eq),bo(this,Z9),bo(this,J9),bo(this,X9),xH(this,"dataManager",null),xH(this,"headersUI",null),xH(this,"collapsedRowsMap",null),Y9(this,nx,{writable:!0,value:!1}),Y9(this,Xg,{writable:!0,value:!1})}static get PLUGIN_KEY(){return tx}static get PLUGIN_PRIORITY(){return eje}isEnabled(){return!!this.hot.getSettings()[tx]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new yw),this.dataManager=new HLe(this,this.hot),this.collapsingUI=new LLe(this,this.hot),this.headersUI=new tl(this,this.hot),this.contextMenuUI=new GLe(this,this.hot),this.rowMoveController=new KLe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,cq,pje).call(e,...r)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,hq,wje).call(e,...r)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,Z9,ije).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,eq,sje).call(e,...r)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,tq,aje).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,J9,oje).call(e,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,oq,cje).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,rq,uje).call(e,...r)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,iq,hje).call(e,...r)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,sq,dje).call(e,...r)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,aq,fje).call(e,...r)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,lq,gje).call(e,...r)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,nq,lje).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,uq,mje).call(e,...r)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,X9,rje).call(e,...r)}),this.addHook("beforeLoadData",n=>Jr(this,RH,dq).call(this,n)),this.addHook("beforeUpdateData",n=>Jr(this,RH,dq).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();if(e.col===-1&&e.row>=0){const n=this.collapsingUI.translateTrimmedRow(e.row);this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n)}},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:Q9})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Q9)}disableCoreAPIModifiers(){ex(this,Xg,!0)}enableCoreAPIModifiers(){ex(this,Xg,!1)}onModifyRowData(e){if(!Z1(this,Xg))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!Z1(this,Xg))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,r){return Z1(this,Xg)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,r),!1)}destroy(){super.destroy()}}function rje(t,e,n,r){return this.rowMoveController.onBeforeRowMove(t,e,n,r)}function oje(t,e,n){this.collapsingUI.toggleState(t,e,n)}function ije(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),ex(this,nx,!0),this.dataManager.getData().slice()}function sje(t){return this.contextMenuUI.appendOptions(t)}function aje(t,e){this.headersUI.appendLevelIndicators(t,e)}function lje(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function uje(t,e,n,r){r!==this.pluginName&&this.hot._registerTimeout(()=>{ex(this,nx,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function cje(t,e,n){const r=Array.from(n.reduce((o,i)=>{if(this.dataManager.isParent(i)){const s=this.dataManager.getDataObject(i).__children;return o.add(i),Array.isArray(s)&&s.forEach(a=>o.add(this.dataManager.getRowIndex(a))),o}return o.add(i)},new Set));n.length=0,n.push(...r)}function hje(){this.collapsingUI.collapsedRowsStash.stash()}function dje(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function fje(){this.collapsingUI.collapsedRowsStash.stash()}function gje(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function mje(){this.dataManager.rewriteCache()}function pje(){this.headersUI.updateRowHeaderWidth()}function wje(t,e){Z1(this,nx)&&(e.skipRender=!0)}function dq(t){if(!Kbe(t)){DM(tje),this.hot.getSettings()[tx]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function kH(t,e,n){return e=vje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vje(t){var e=yje(t,"string");return typeof e=="symbol"?e:String(e)}function yje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bje{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;kH(this,"rootWindow",void 0),kH(this,"prefix",void 0),kH(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const r=typeof e>"u"?n:e,o=this.rootWindow.localStorage.getItem(`${this.prefix}_${r}`);return o===null?void 0:JSON.parse(o)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){F(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function Cje(t,e,n){return e=Sje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sje(t){var e=xje(t,"string");return typeof e=="symbol"?e:String(e)}function xje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}$e.getSingleton().register("persistentStateSave"),$e.getSingleton().register("persistentStateLoad"),$e.getSingleton().register("persistentStateReset");const fq="persistentState",Rje=0;class kje extends an{constructor(){super(...arguments),Cje(this,"storage",void 0)}static get PLUGIN_KEY(){return fq}static get PLUGIN_PRIORITY(){return Rje}isEnabled(){return!!this.hot.getSettings()[fq]}enablePlugin(){this.enabled||(this.storage||(this.storage=new bje(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function Eje(t,e){Tje(t,e),e.add(t)}function Tje(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EH(t,e,n){return e=Mje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mje(t){var e=_je(t,"string");return typeof e=="symbol"?e:String(e)}function _je(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gq(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const TH="search",Oje=190,Aje="htSearchResult",Pje=function(t,e,n,r,o){t.getCellMeta(e,n).isSearchResult=o},Ije=function(t,e,n){return Tn(t)||t===null||!t.toLocaleLowerCase||t.length===0||Tn(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var MH=new WeakSet;class Hje extends an{constructor(){super(...arguments),Eje(this,MH),EH(this,"callback",Pje),EH(this,"queryMethod",Ije),EH(this,"searchResultClass",Aje)}static get PLUGIN_KEY(){return TH}static get PLUGIN_PRIORITY(){return Oje}isEnabled(){return this.hot.getSettings()[TH]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[TH];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gq(e,MH,mq).call(e,...o)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gq(e,MH,mq).call(e,...o)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const o=this.hot.countRows(),i=this.hot.countCols(),s=[],a=this.hot;return Je(0,o-1,l=>{Je(0,i-1,u=>{const c=this.hot.getDataAtCell(l,u),h=this.hot.getCellMeta(l,u),d=h.search.callback||n,g=(h.search.queryMethod||r)(e,c,h);if(g){const p={row:l,col:u,data:c};s.push(p)}d&&d(a,l,u,c,g)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){Ot(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function mq(t,e,n,r,o,i){const s=i.className||[];let a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&i.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),i.className=a.join(" ")}function _H(t,e){Nje(t,e),e.add(t)}function Nje(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rx(t,e,n){return e=Dje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dje(t){var e=Lje(t,"string");return typeof e=="symbol"?e:String(e)}function Lje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OH(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const jje="touchScroll",Fje=200;var pq=new WeakSet,wq=new WeakSet,vq=new WeakSet;class Wje extends an{constructor(){super(...arguments),_H(this,vq),_H(this,wq),_H(this,pq),rx(this,"scrollbars",[]),rx(this,"clones",[]),rx(this,"lockedCollection",!1),rx(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return jje}static get PLUGIN_PRIORITY(){return Fje}static get SETTING_KEYS(){return!0}isEnabled(){return TU()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>OH(this,pq,Vje).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>OH(this,wq,Bje).call(this)),this.addHook("afterMomentumScroll",()=>OH(this,vq,Uje).call(this))}}function Vje(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),r&&this.scrollbars.push(r),o&&o.clone&&this.scrollbars.push(o),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}function Bje(){this.freezeOverlays=!0,F(this.clones,t=>{_e(t,"hide-tween")})}function Uje(){this.freezeOverlays=!1,F(this.clones,t=>{Rt(t,"hide-tween"),_e(t,"show-tween")}),this.hot._registerTimeout(()=>{F(this.clones,t=>{Rt(t,"show-tween")})},400),F(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function zje(t,e){$je(t,e),e.add(t)}function $je(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gje(t,e,n){return e=Yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yje(t){var e=qje(t,"string");return typeof e=="symbol"?e:String(e)}function qje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kje(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const ox="trimRows",Qje=330;var yq=new WeakSet;class Xje extends an{constructor(){super(...arguments),zje(this,yq),Gje(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return ox}static get PLUGIN_PRIORITY(){return Qje}isEnabled(){return!!this.hot.getSettings()[ox]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new yw),this.trimmedRowsMap.addLocalHook("init",()=>Kje(this,yq,Jje).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[ox];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),F(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{this.trimmedRowsMap.setValueAtIndex(i,!0)})},!0),this.hot.runHooks("afterTrimRow",n,o,r,r&&o.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let o=n;const i=this.trimmedRowsMap.getValues().slice(),s=e.length>0;r&&s&&(F(e,a=>{i[a]=!1}),o=fo(i,(a,l,u)=>(l&&a.push(u),a),[])),this.hot.runHooks("beforeUntrimRow",n,o,r&&s)!==!1&&(r&&s&&this.trimmedRowsMap.setValues(i),this.hot.runHooks("afterUntrimRow",n,o,r&&s,r&&o.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(r=>Number.isInteger(r)&&r>=0&&r<n)}destroy(){super.destroy()}}function Jje(){const t=this.hot.getSettings()[ox];Array.isArray(t)&&this.hot.batchExecution(()=>{F(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var bq={},Zje=Mf,eFe=bq,tFe=Zje("iterator"),nFe=Array.prototype,rFe=function(t){return t!==void 0&&(eFe.Array===t||nFe[tFe]===t)},oFe=eV,Cq=KE,iFe=VE,sFe=bq,aFe=Mf,lFe=aFe("iterator"),Sq=function(t){if(!iFe(t))return Cq(t,lFe)||Cq(t,"@@iterator")||sFe[oFe(t)]},uFe=mh,cFe=o0,hFe=qu,dFe=r0,fFe=Sq,gFe=TypeError,mFe=function(t,e){var n=arguments.length<2?fFe(t):e;if(cFe(n))return hFe(uFe(n,t));throw new gFe(dFe(t)+" is not iterable")},pFe=mh,xq=qu,wFe=KE,vFe=function(t,e,n){var r,o;xq(t);try{if(r=wFe(t,"return"),!r){if(e==="throw")throw n;return n}r=pFe(r,t)}catch(i){o=!0,r=i}if(e==="throw")throw n;if(o)throw r;return xq(r),n},yFe=gV,bFe=mh,CFe=qu,SFe=r0,xFe=rFe,RFe=Pp,Rq=zE,kFe=mFe,EFe=Sq,kq=vFe,TFe=TypeError,ix=function(t,e){this.stopped=t,this.result=e},Eq=ix.prototype,MFe=function(t,e,n){var r=n&&n.that,o=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_RECORD),s=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),l=yFe(e,r),u,c,h,d,g,p,v,C=function(y){return u&&kq(u,"normal",y),new ix(!0,y)},w=function(y){return o?(CFe(y),a?l(y[0],y[1],C):l(y[0],y[1])):a?l(y,C):l(y)};if(i)u=t.iterator;else if(s)u=t;else{if(c=EFe(t),!c)throw new TFe(SFe(t)+" is not iterable");if(xFe(c)){for(h=0,d=RFe(t);d>h;h++)if(g=w(t[h]),g&&Rq(Eq,g))return g;return new ix(!1)}u=kFe(t,c)}for(p=i?t.next:u.next;!(v=bFe(p,u)).done;){try{g=w(v.value)}catch(y){kq(u,"throw",y)}if(typeof g=="object"&&g&&Rq(Eq,g))return g}return new ix(!1)},_Fe=As,OFe=Yu,AFe=e0,PFe=function(t,e,n){_Fe?OFe.f(t,e,AFe(0,n)):t[e]=n},IFe=Ku,HFe=MFe,NFe=PFe;IFe({target:"Object",stat:!0},{fromEntries:function(t){var e={};return HFe(t,function(n,r){NFe(e,n,r)},{AS_ENTRIES:!0}),e}});const Tq="undoRedo",DFe="undoRedo";function Ue(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(r,o){const i=r&&r.length;if(!i||!r.find(a=>{const[,,l,u]=a;return l!==u}))return;const s=()=>{const a=r.reduce((u,c)=>(u.push([...c]),u),[]);F(a,u=>{u[1]=t.propToCol(u[1])});const l=i>1?this.getSelected():[[a[0][0],a[0][1]]];return new Ue.ChangeAction(a,l)};e.done(s,o)}),t.addHook("afterCreateRow",(r,o,i)=>{e.done(()=>new Ue.CreateRowAction(r,o),i)});const n=(r,o,i,s)=>{const a=["visualRow","visualCol","row","col","prop"],l=a.length,u=[];return Je(i,s,c=>{Je(r,o,h=>{const d=t.getCellMeta(h,c);if(Object.keys(d).length!==l){const g=Object.fromEntries(Object.entries(d).filter(p=>{let[v]=p;return a.includes(v)===!1}));u.push([d.visualRow,d.visualCol,g])}})}),u};t.addHook("beforeRemoveRow",(r,o,i,s)=>{const a=()=>{const l=t.toPhysicalRow(r),u=l+o-1,c=_o(e.instance.getSourceData(l,0,l+o-1,e.instance.countSourceCols()-1));return new Ue.RemoveRowAction(l,c,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(l,u,0,t.countCols()-1))};e.done(a,s)}),t.addHook("afterCreateCol",(r,o,i)=>{e.done(()=>new Ue.CreateColumnAction(r,o),i)}),t.addHook("beforeRemoveCol",(r,o,i,s)=>{const a=()=>{const l=e.instance.getSourceDataArray(),u=(e.instance.countCols()+r)%e.instance.countCols(),c=u+o-1,h=[],d=[],g=[];Je(l.length-1,C=>{const w=[],y=l[C];Je(u,c,x=>{w.push(y[t.toPhysicalColumn(x)])}),h.push(w)}),Je(o-1,C=>{g.push(t.toPhysicalColumn(u+C))}),Array.isArray(t.getSettings().colHeaders)&&Je(o-1,C=>{d.push(t.getSettings().colHeaders[t.toPhysicalColumn(u+C)]||null)});const p=t.columnIndexMapper.getIndexesSequence(),v=t.rowIndexMapper.getIndexesSequence();return new Ue.RemoveColumnAction(u,g,h,d,p,v,t.getSettings().fixedColumnsStart,n(0,t.countRows(),u,c))};e.done(a,s)}),t.addHook("beforeCellAlignment",(r,o,i,s)=>{e.done(()=>new Ue.CellAlignmentAction(r,o,i,s))}),t.addHook("beforeFilter",r=>{e.done(()=>new Ue.FiltersAction(r))}),t.addHook("beforeRowMove",(r,o)=>{r!==!1&&e.done(()=>new Ue.RowMoveAction(r,o))}),t.addHook("beforeMergeCells",(r,o)=>{o||e.done(()=>new Ue.MergeCellsAction(t,r))}),t.addHook("afterUnmergeCells",(r,o)=>{o||e.done(()=>new Ue.UnmergeCellsAction(t,r))}),t.addHook("afterInit",()=>{e.init()})}Ue.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;const n=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",n,e)===!1)return;const r=t(),o=this.undoneActions.slice();this.doneActions.push(r),this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",o),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice())},Ue.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=_o(e);if(this.instance.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const r=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,()=>{r.ignoreNewActions=!1,r.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}},Ue.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=_o(e);if(this.instance.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const r=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,()=>{r.ignoreNewActions=!1,r.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}},Ue.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Ue.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Ue.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Ue.prototype.isEnabled=function(){return this.enabled},Ue.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,FFe(t),this.registerShortcuts(),t.addHook("afterChange",Mq)},Ue.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,WFe(t),this.unregisterShortcuts(),t.removeHook("afterChange",Mq)},Ue.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},Ue.Action=function(){},Ue.Action.prototype.undo=function(){},Ue.Action.prototype.redo=function(){},Ue.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"},nc(Ue.ChangeAction,Ue.Action),Ue.ChangeAction.prototype.undo=function(t,e){const n=_o(this.changes),r=t.countEmptyRows(!0),o=t.countEmptyCols(!0);for(let s=0,a=n.length;s<a;s++)n[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let s=0,a=n.length;s<a;s++){const[l,u]=n[s];t.getSettings().minSpareRows&&l+1+t.getSettings().minSpareRows===t.countRows()&&r===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(l+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&u+1+t.getSettings().minSpareCols===t.countCols()&&o===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(u+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const i=t.getSelectedLast();if(i!==void 0){const[s,a]=n[0],[l,u]=i,c=t.view.getFirstFullyVisibleRow(),h=t.view.getFirstFullyVisibleColumn(),d=s>=c,g=a>=h;if((d&&g)===!1&&(l!==s||u!==a)){const p={row:s,col:a};d===!1&&(p.verticalSnap="top"),g===!1&&(p.horizontalSnap="start"),t.scrollViewportTo(p)}}t.selectCells(this.selected,!1,!1)},Ue.ChangeAction.prototype.redo=function(t,e){const n=_o(this.changes);for(let r=0,o=n.length;r<o;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)},Ue.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"},nc(Ue.CreateRowAction,Ue.Action),Ue.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},Ue.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},Ue.RemoveRowAction=function(t,e,n,r,o,i){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r,this.rowIndexesSequence=o,this.removedCellMetas=i},nc(Ue.RemoveRowAction,Ue.Action),Ue.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),r=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((o,i)=>{Object.keys(o).forEach(s=>{const a=parseInt(s,10);r.push([this.index+i,isNaN(a)?s:a,o[s]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(o=>{let[i,s,a]=o;t.setCellMetaObject(i,s,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(r,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)},Ue.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Ue.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"},nc(Ue.CreateColumnAction,Ue.Action),Ue.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},Ue.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},Ue.RemoveColumnAction=function(t,e,n,r,o,i,s,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=o.slice(0),this.rowPositions=i.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a},nc(Ue.RemoveColumnAction,Ue.Action),Ue.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const r=this.indexes.slice(0).sort(),o=(u,c,h)=>h[this.indexes.indexOf(r[c])],i=this.data.length,s=[];for(let u=0;u<i;u++)s.push(Pt(this.data[u],o));const a=Pt(this.headers,o),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),F(t.getSourceDataArray(),(u,c)=>{F(r,(h,d)=>{u[h]=s[c][d],l.push([c,h,u[h]])})}),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&F(a,(u,c)=>{t.getSettings().colHeaders[r[c]]=u}),this.removedCellMetas.forEach(u=>{let[c,h,d]=u;t.setCellMetaObject(c,h,d)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()},Ue.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},Ue.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r},Ue.CellAlignmentAction.prototype.undo=function(t,e){F(this.range,n=>{n.forAll((r,o)=>{r>=0&&o>=0&&t.setCellMeta(r,o,"className",this.stateBefore[r][o]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()},Ue.CellAlignmentAction.prototype.redo=function(t,e){pc(this.range,this.type,this.alignment,(n,r)=>t.getCellMeta(n,r),(n,r,o,i)=>t.setCellMeta(n,r,o,i)),t.addHookOnce("afterViewRender",e),t.render()},Ue.FiltersAction=function(t){this.conditionsStack=t,this.actionType="filter"},nc(Ue.FiltersAction,Ue.Action),Ue.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},Ue.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class LFe extends Ue.Action{constructor(e,n){super(),this.cellRange=n;const r=this.cellRange.getTopStartCorner(),o=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(r.row,r.col,o.row,o.col)}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0);const o=this.cellRange.getTopStartCorner();e.populateFromArray(o.row,o.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange)}}Ue.MergeCellsAction=LFe;class jFe extends Ue.Action{constructor(e,n){super(),this.cellRange=n}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange,!0)}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0),e.render()}}Ue.UnmergeCellsAction=jFe,Ue.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalIndex=e,this.actionType="row_move"},nc(Ue.RowMoveAction,Ue.Action),Ue.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove"),r=[].concat(this.rows),o=r.filter(a=>a>this.finalIndex),i=r.filter(a=>a<=this.finalIndex),s=o.sort((a,l)=>l-a).concat(i.sort((a,l)=>a-l));t.addHookOnce("afterViewRender",e);for(let a=0;a<s.length;a+=1){const l=t.toVisualRow(s[a]);n.moveRow(l,s[a])}t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},Ue.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalIndex),t.render(),t.deselectCell(),t.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},Ue.prototype.init=function(){const t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},Ue.prototype.registerShortcuts=function(){const t=this.instance.getShortcutManager().getContext("grid"),e={runOnlyIf:n=>!n.altKey,group:Tq};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],e)},Ue.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(Tq)};function Mq(t,e){const n=this;if(e==="loadData")return n.undoRedo.clear()}function FFe(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function WFe(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}const Dv=$e.getSingleton();Dv.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()}),Dv.register("beforeUndo"),Dv.register("afterUndo"),Dv.register("beforeRedo"),Dv.register("afterRedo"),Ue.PLUGIN_KEY=DFe,Ue.SETTING_KEYS=!0;function VFe(){Jt(Nw),Jt(lEe),Jt(Fw),Jt(FEe),Jt(qEe),Jt(s6),Jt(jTe),Jt(CMe),Jt(e1),Jt($_e),Jt(pOe),Jt(ROe),Jt(c1),Jt(KOe),Jt(tIe),Jt(HIe),Jt(aHe),Jt(yHe),Jt(PHe),Jt(zHe),Jt(tNe),Jt(bNe),Jt(ONe),Jt(tDe),Jt(ODe),Jt(NDe),Jt(gLe),Jt(nje),Jt(kje),Jt(Hje),Jt(Wje),Jt(Xje),Jt(Ue)}function BFe(){IRe(),XRe(),ske(),Eke(),VFe()}BFe();const UFe=LX([{path:"/VLW-Page-Generators-v2/",element:m.jsx(rJ,{}),children:[{path:"",loader:()=>{throw zm("/song-pages")},element:null},{path:"/song-pages",element:m.jsx(Vxe,{})},{path:"/album-pages",element:m.jsx(Yxe,{})},{path:"/producer-pages",element:m.jsx(Zxe,{})},{path:"/lyrics-editor",element:m.jsx(iRe,{})},{path:"/main.html",loader:()=>{throw zm("/song-pages")}},{path:"/album.html",loader:()=>{throw zm("/album-pages")}},{path:"/producer.html",loader:()=>{throw zm("/producer-pages")}},{path:"/lyricseditor.html",loader:()=>{throw zm("/lyrics-editor")}},{path:"*",element:m.jsx("div",{children:"404: Page not found"})}]}]);function zFe(){return m.jsx($X,{router:UFe})}Cx.createRoot(document.getElementById("root")).render(m.jsx(kxe,{children:m.jsx(zFe,{})}))}),VWe=TWe();export{VWe as default};
