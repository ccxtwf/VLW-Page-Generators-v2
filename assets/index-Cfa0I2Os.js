var EFe=Object.defineProperty;var kFe=(to,jn,fu)=>jn in to?EFe(to,jn,{enumerable:!0,configurable:!0,writable:!0,value:fu}):to[jn]=fu;var zn=(to,jn,fu)=>(kFe(to,typeof jn!="symbol"?jn+"":jn,fu),fu);var TFe=(to,jn)=>()=>(jn||to((jn={exports:{}}).exports,jn),jn.exports),MFe=TFe((to,jn)=>{function fu(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var jN={exports:{}},Uw={},WN={exports:{}},Yt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var em=Symbol.for("react.element"),Xq=Symbol.for("react.portal"),Qq=Symbol.for("react.fragment"),Jq=Symbol.for("react.strict_mode"),Zq=Symbol.for("react.profiler"),e7=Symbol.for("react.provider"),t7=Symbol.for("react.context"),n7=Symbol.for("react.forward_ref"),r7=Symbol.for("react.suspense"),o7=Symbol.for("react.memo"),i7=Symbol.for("react.lazy"),FN=Symbol.iterator;function s7(t){return t===null||typeof t!="object"?null:(t=FN&&t[FN]||t["@@iterator"],typeof t=="function"?t:null)}var VN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BN=Object.assign,zN={};function Cd(t,e,n){this.props=t,this.context=e,this.refs=zN,this.updater=n||VN}Cd.prototype.isReactComponent={},Cd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Cd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UN(){}UN.prototype=Cd.prototype;function mx(t,e,n){this.props=t,this.context=e,this.refs=zN,this.updater=n||VN}var px=mx.prototype=new UN;px.constructor=mx,BN(px,Cd.prototype),px.isPureReactComponent=!0;var $N=Array.isArray,GN=Object.prototype.hasOwnProperty,vx={current:null},YN={key:!0,ref:!0,__self:!0,__source:!0};function qN(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)GN.call(e,r)&&!YN.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:em,type:t,key:i,ref:s,props:o,_owner:vx.current}}function a7(t,e){return{$$typeof:em,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wx(t){return typeof t=="object"&&t!==null&&t.$$typeof===em}function l7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KN=/\/+/g;function yx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l7(""+t.key):e.toString(36)}function $w(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case em:case Xq:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+yx(s,0):r,$N(o)?(n="",t!=null&&(n=t.replace(KN,"$&/")+"/"),$w(o,e,n,"",function(u){return u})):o!=null&&(wx(o)&&(o=a7(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(KN,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",$N(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+yx(i,a);s+=$w(i,e,n,l,o)}else if(l=s7(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+yx(i,a++),s+=$w(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Gw(t,e,n){if(t==null)return t;var r=[],o=0;return $w(t,r,"","",function(i){return e.call(n,i,o++)}),r}function u7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var So={current:null},Yw={transition:null},c7={ReactCurrentDispatcher:So,ReactCurrentBatchConfig:Yw,ReactCurrentOwner:vx};Yt.Children={map:Gw,forEach:function(t,e,n){Gw(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gw(t,function(){e++}),e},toArray:function(t){return Gw(t,function(e){return e})||[]},only:function(t){if(!wx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},Yt.Component=Cd,Yt.Fragment=Qq,Yt.Profiler=Zq,Yt.PureComponent=mx,Yt.StrictMode=Jq,Yt.Suspense=r7,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c7,Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BN({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=vx.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GN.call(e,l)&&!YN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:em,type:t.type,key:o,ref:i,props:r,_owner:s}},Yt.createContext=function(t){return t={$$typeof:t7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e7,_context:t},t.Consumer=t},Yt.createElement=qN,Yt.createFactory=function(t){var e=qN.bind(null,t);return e.type=t,e},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(t){return{$$typeof:n7,render:t}},Yt.isValidElement=wx,Yt.lazy=function(t){return{$$typeof:i7,_payload:{_status:-1,_result:t},_init:u7}},Yt.memo=function(t,e){return{$$typeof:o7,type:t,compare:e===void 0?null:e}},Yt.startTransition=function(t){var e=Yw.transition;Yw.transition={};try{t()}finally{Yw.transition=e}},Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Yt.useCallback=function(t,e){return So.current.useCallback(t,e)},Yt.useContext=function(t){return So.current.useContext(t)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(t){return So.current.useDeferredValue(t)},Yt.useEffect=function(t,e){return So.current.useEffect(t,e)},Yt.useId=function(){return So.current.useId()},Yt.useImperativeHandle=function(t,e,n){return So.current.useImperativeHandle(t,e,n)},Yt.useInsertionEffect=function(t,e){return So.current.useInsertionEffect(t,e)},Yt.useLayoutEffect=function(t,e){return So.current.useLayoutEffect(t,e)},Yt.useMemo=function(t,e){return So.current.useMemo(t,e)},Yt.useReducer=function(t,e,n){return So.current.useReducer(t,e,n)},Yt.useRef=function(t){return So.current.useRef(t)},Yt.useState=function(t){return So.current.useState(t)},Yt.useSyncExternalStore=function(t,e,n){return So.current.useSyncExternalStore(t,e,n)},Yt.useTransition=function(){return So.current.useTransition()},Yt.version="18.2.0",WN.exports=Yt;var Y=WN.exports;const de=gu(Y),h7=fu({__proto__:null,default:de},[Y]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var d7=Y,f7=Symbol.for("react.element"),g7=Symbol.for("react.fragment"),m7=Object.prototype.hasOwnProperty,p7=d7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v7={key:!0,ref:!0,__self:!0,__source:!0};function XN(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)m7.call(e,r)&&!v7.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:f7,type:t,key:i,ref:s,props:o,_owner:p7.current}}Uw.Fragment=g7,Uw.jsx=XN,Uw.jsxs=XN,jN.exports=Uw;var m=jN.exports,bx={},QN={exports:{}},di={},JN={exports:{}},ZN={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(ne,S){var R=ne.length;ne.push(S);e:for(;0<R;){var k=R-1>>>1,D=ne[k];if(0<o(D,S))ne[k]=S,ne[R]=D,R=k;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var S=ne[0],R=ne.pop();if(R!==S){ne[0]=R;e:for(var k=0,D=ne.length,W=D>>>1;k<W;){var V=2*(k+1)-1,he=ne[V],te=V+1,we=ne[te];if(0>o(he,R))te<D&&0>o(we,he)?(ne[k]=we,ne[te]=R,k=te):(ne[k]=he,ne[V]=R,k=V);else if(te<D&&0>o(we,R))ne[k]=we,ne[te]=R,k=te;else break e}}return S}function o(ne,S){var R=ne.sortIndex-S.sortIndex;return R!==0?R:ne.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,p=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ne){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=ne)r(u),S.sortIndex=S.expirationTime,e(l,S);else break;S=n(u)}}function M(ne){if(w=!1,x(ne),!p)if(n(l)!==null)p=!0,Me(_);else{var S=n(u);S!==null&&Ce(M,S.startTime-ne)}}function _(ne,S){p=!1,w&&(w=!1,v(I),I=-1),g=!0;var R=d;try{for(x(S),h=n(l);h!==null&&(!(h.expirationTime>S)||ne&&!B());){var k=h.callback;if(typeof k=="function"){h.callback=null,d=h.priorityLevel;var D=k(h.expirationTime<=S);S=t.unstable_now(),typeof D=="function"?h.callback=D:h===n(l)&&r(l),x(S)}else r(l);h=n(l)}if(h!==null)var W=!0;else{var V=n(u);V!==null&&Ce(M,V.startTime-S),W=!1}return W}finally{h=null,d=R,g=!1}}var T=!1,O=null,I=-1,N=5,L=-1;function B(){return!(t.unstable_now()-L<N)}function ae(){if(O!==null){var ne=t.unstable_now();L=ne;var S=!0;try{S=O(!0,ne)}finally{S?U():(T=!1,O=null)}}else T=!1}var U;if(typeof y=="function")U=function(){y(ae)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ve=ce.port2;ce.port1.onmessage=ae,U=function(){ve.postMessage(null)}}else U=function(){C(ae,0)};function Me(ne){O=ne,T||(T=!0,U())}function Ce(ne,S){I=C(function(){ne(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Me(_))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var R=d;d=S;try{return ne()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,S){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var R=d;d=ne;try{return S()}finally{d=R}},t.unstable_scheduleCallback=function(ne,S,R){var k=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?k+R:k):R=k,ne){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=R+D,ne={id:c++,callback:S,priorityLevel:ne,startTime:R,expirationTime:D,sortIndex:-1},R>k?(ne.sortIndex=R,e(u,ne),n(l)===null&&ne===n(u)&&(w?(v(I),I=-1):w=!0,Ce(M,R-k))):(ne.sortIndex=D,e(l,ne),p||g||(p=!0,Me(_))),ne},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ne){var S=d;return function(){var R=d;d=S;try{return ne.apply(this,arguments)}finally{d=R}}}})(ZN),JN.exports=ZN;var w7=JN.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var eH=Y,fi=w7;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tH=new Set,tm={};function Wc(t,e){Sd(t,e),Sd(t+"Capture",e)}function Sd(t,e){for(tm[t]=e,t=0;t<e.length;t++)tH.add(e[t])}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cx=Object.prototype.hasOwnProperty,y7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nH={},rH={};function b7(t){return Cx.call(rH,t)?!0:Cx.call(nH,t)?!1:y7.test(t)?rH[t]=!0:(nH[t]=!0,!1)}function C7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S7(t,e,n,r){if(e===null||typeof e>"u"||C7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xo(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gr[t]=new xo(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gr[e]=new xo(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gr[t]=new xo(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gr[t]=new xo(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gr[t]=new xo(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Gr[t]=new xo(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Gr[t]=new xo(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Gr[t]=new xo(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Gr[t]=new xo(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sx=/[\-:]([a-z])/g;function xx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sx,xx);Gr[e]=new xo(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sx,xx);Gr[e]=new xo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sx,xx);Gr[e]=new xo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Gr[t]=new xo(t,1,!1,t.toLowerCase(),null,!1,!1)}),Gr.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Gr[t]=new xo(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rx(t,e,n,r){var o=Gr.hasOwnProperty(e)?Gr[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S7(e,n,o,r)&&(n=null),r||o===null?b7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ol=eH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qw=Symbol.for("react.element"),xd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),oH=Symbol.for("react.provider"),iH=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),Mx=Symbol.for("react.suspense"),_x=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),mu=Symbol.for("react.lazy"),sH=Symbol.for("react.offscreen"),aH=Symbol.iterator;function nm(t){return t===null||typeof t!="object"?null:(t=aH&&t[aH]||t["@@iterator"],typeof t=="function"?t:null)}var Un=Object.assign,Ax;function rm(t){if(Ax===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ax=e&&e[1]||""}return`
`+Ax+t}var Px=!1;function Ix(t,e){if(!t||Px)return"";Px=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Px=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rm(t):""}function x7(t){switch(t.tag){case 5:return rm(t.type);case 16:return rm("Lazy");case 13:return rm("Suspense");case 19:return rm("SuspenseList");case 0:case 2:case 15:return t=Ix(t.type,!1),t;case 11:return t=Ix(t.type.render,!1),t;case 1:return t=Ix(t.type,!0),t;default:return""}}function Nx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rd:return"Fragment";case xd:return"Portal";case kx:return"Profiler";case Ex:return"StrictMode";case Mx:return"Suspense";case _x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iH:return(t.displayName||"Context")+".Consumer";case oH:return(t._context.displayName||"Context")+".Provider";case Tx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ox:return e=t.displayName||null,e!==null?e:Nx(t.type)||"Memo";case mu:e=t._payload,t=t._init;try{return Nx(t(e))}catch{}}return null}function R7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nx(e);case 8:return e===Ex?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E7(t){var e=lH(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kw(t){t._valueTracker||(t._valueTracker=E7(t))}function uH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lH(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hx(t,e){var n=e.checked;return Un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cH(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hH(t,e){e=e.checked,e!=null&&Rx(t,"checked",e,!1)}function Dx(t,e){hH(t,e);var n=pu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lx(t,e.type,pu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dH(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lx(t,e,n){(e!=="number"||Xw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var om=Array.isArray;function Ed(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pu(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function jx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fH(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(om(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pu(n)}}function gH(t,e){var n=pu(e.value),r=pu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mH(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qw,vH=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qw=Qw||document.createElement("div"),Qw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function im(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k7=["Webkit","ms","Moz","O"];Object.keys(sm).forEach(function(t){k7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sm[e]=sm[t]})});function wH(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sm.hasOwnProperty(t)&&sm[t]?(""+e).trim():e+"px"}function yH(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wH(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var T7=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fx(t,e){if(e){if(T7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Vx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=null;function zx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ux=null,kd=null,Td=null;function bH(t){if(t=Mm(t)){if(typeof Ux!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=by(e),Ux(t.stateNode,t.type,e))}}function CH(t){kd?Td?Td.push(t):Td=[t]:kd=t}function SH(){if(kd){var t=kd,e=Td;if(Td=kd=null,bH(t),e)for(t=0;t<e.length;t++)bH(e[t])}}function xH(t,e){return t(e)}function RH(){}var $x=!1;function EH(t,e,n){if($x)return t(e,n);$x=!0;try{return xH(t,e,n)}finally{$x=!1,(kd!==null||Td!==null)&&(RH(),SH())}}function am(t,e){var n=t.stateNode;if(n===null)return null;var r=by(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Gx=!1;if(rl)try{var lm={};Object.defineProperty(lm,"passive",{get:function(){Gx=!0}}),window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{Gx=!1}function M7(t,e,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var um=!1,Jw=null,Zw=!1,Yx=null,_7={onError:function(t){um=!0,Jw=t}};function O7(t,e,n,r,o,i,s,a,l){um=!1,Jw=null,M7.apply(_7,arguments)}function A7(t,e,n,r,o,i,s,a,l){if(O7.apply(this,arguments),um){if(um){var u=Jw;um=!1,Jw=null}else throw Error(_e(198));Zw||(Zw=!0,Yx=u)}}function Fc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TH(t){if(Fc(t)!==t)throw Error(_e(188))}function P7(t){var e=t.alternate;if(!e){if(e=Fc(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return TH(o),t;if(i===r)return TH(o),e;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function MH(t){return t=P7(t),t!==null?_H(t):null}function _H(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_H(t);if(e!==null)return e;t=t.sibling}return null}var OH=fi.unstable_scheduleCallback,AH=fi.unstable_cancelCallback,I7=fi.unstable_shouldYield,N7=fi.unstable_requestPaint,ur=fi.unstable_now,H7=fi.unstable_getCurrentPriorityLevel,qx=fi.unstable_ImmediatePriority,PH=fi.unstable_UserBlockingPriority,ey=fi.unstable_NormalPriority,D7=fi.unstable_LowPriority,IH=fi.unstable_IdlePriority,ty=null,ua=null;function L7(t){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(ty,t,void 0,(t.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:F7,j7=Math.log,W7=Math.LN2;function F7(t){return t>>>=0,t===0?32:31-(j7(t)/W7|0)|0}var ny=64,ry=4194304;function cm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=cm(a):(i&=s,i!==0&&(r=cm(i)))}else s=n&~o,s!==0?r=cm(s):i!==0&&(r=cm(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xs(e),o=1<<n,r|=t[n],e&=~o;return r}function V7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-xs(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=V7(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Kx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NH(){var t=ny;return ny<<=1,!(ny&4194240)&&(ny=64),t}function Xx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xs(e),t[e]=n}function z7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-xs(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Qx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xs(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var dn=0;function HH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DH,Jx,LH,jH,WH,Zx=!1,iy=[],vu=null,wu=null,yu=null,dm=new Map,fm=new Map,bu=[],U7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FH(t,e){switch(t){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(e.pointerId)}}function gm(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Mm(e),e!==null&&Jx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function $7(t,e,n,r,o){switch(e){case"focusin":return vu=gm(vu,t,e,n,r,o),!0;case"dragenter":return wu=gm(wu,t,e,n,r,o),!0;case"mouseover":return yu=gm(yu,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return dm.set(i,gm(dm.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,fm.set(i,gm(fm.get(i)||null,t,e,n,r,o)),!0}return!1}function VH(t){var e=Vc(t.target);if(e!==null){var n=Fc(e);if(n!==null){if(e=n.tag,e===13){if(e=kH(n),e!==null){t.blockedOn=e,WH(t.priority,function(){LH(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bx=r,n.target.dispatchEvent(r),Bx=null}else return e=Mm(n),e!==null&&Jx(e),t.blockedOn=n,!1;e.shift()}return!0}function BH(t,e,n){sy(t)&&n.delete(e)}function G7(){Zx=!1,vu!==null&&sy(vu)&&(vu=null),wu!==null&&sy(wu)&&(wu=null),yu!==null&&sy(yu)&&(yu=null),dm.forEach(BH),fm.forEach(BH)}function mm(t,e){t.blockedOn===e&&(t.blockedOn=null,Zx||(Zx=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,G7)))}function pm(t){function e(o){return mm(o,t)}if(0<iy.length){mm(iy[0],t);for(var n=1;n<iy.length;n++){var r=iy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vu!==null&&mm(vu,t),wu!==null&&mm(wu,t),yu!==null&&mm(yu,t),dm.forEach(e),fm.forEach(e),n=0;n<bu.length;n++)r=bu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bu.length&&(n=bu[0],n.blockedOn===null);)VH(n),n.blockedOn===null&&bu.shift()}var Md=ol.ReactCurrentBatchConfig,ay=!0;function Y7(t,e,n,r){var o=dn,i=Md.transition;Md.transition=null;try{dn=1,eR(t,e,n,r)}finally{dn=o,Md.transition=i}}function q7(t,e,n,r){var o=dn,i=Md.transition;Md.transition=null;try{dn=4,eR(t,e,n,r)}finally{dn=o,Md.transition=i}}function eR(t,e,n,r){if(ay){var o=tR(t,e,n,r);if(o===null)wR(t,e,r,ly,n),FH(t,r);else if($7(o,t,e,n,r))r.stopPropagation();else if(FH(t,r),e&4&&-1<U7.indexOf(t)){for(;o!==null;){var i=Mm(o);if(i!==null&&DH(i),i=tR(t,e,n,r),i===null&&wR(t,e,r,ly,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else wR(t,e,r,null,n)}}var ly=null;function tR(t,e,n,r){if(ly=null,t=zx(r),t=Vc(t),t!==null)if(e=Fc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kH(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ly=t,null}function zH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H7()){case qx:return 1;case PH:return 4;case ey:case D7:return 16;case IH:return 536870912;default:return 16}default:return 16}}var Cu=null,nR=null,uy=null;function UH(){if(uy)return uy;var t,e=nR,n=e.length,r,o="value"in Cu?Cu.value:Cu.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return uy=o.slice(t,1<r?1-r:void 0)}function cy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hy(){return!0}function $H(){return!1}function gi(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hy:$H,this.isPropagationStopped=$H,this}return Un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hy)},persist:function(){},isPersistent:hy}),e}var _d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rR=gi(_d),vm=Un({},_d,{view:0,detail:0}),K7=gi(vm),oR,iR,wm,dy=Un({},vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wm&&(wm&&t.type==="mousemove"?(oR=t.screenX-wm.screenX,iR=t.screenY-wm.screenY):iR=oR=0,wm=t),oR)},movementY:function(t){return"movementY"in t?t.movementY:iR}}),GH=gi(dy),X7=Un({},dy,{dataTransfer:0}),Q7=gi(X7),J7=Un({},vm,{relatedTarget:0}),sR=gi(J7),Z7=Un({},_d,{animationName:0,elapsedTime:0,pseudoElement:0}),eK=gi(Z7),tK=Un({},_d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nK=gi(tK),rK=Un({},_d,{data:0}),YH=gi(rK),oK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sK[t])?!!e[t]:!1}function aR(){return aK}var lK=Un({},vm,{key:function(t){if(t.key){var e=oK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aR,charCode:function(t){return t.type==="keypress"?cy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uK=gi(lK),cK=Un({},dy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qH=gi(cK),hK=Un({},vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aR}),dK=gi(hK),fK=Un({},_d,{propertyName:0,elapsedTime:0,pseudoElement:0}),gK=gi(fK),mK=Un({},dy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pK=gi(mK),vK=[9,13,27,32],lR=rl&&"CompositionEvent"in window,ym=null;rl&&"documentMode"in document&&(ym=document.documentMode);var wK=rl&&"TextEvent"in window&&!ym,KH=rl&&(!lR||ym&&8<ym&&11>=ym),XH=" ",QH=!1;function JH(t,e){switch(t){case"keyup":return vK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Od=!1;function yK(t,e){switch(t){case"compositionend":return ZH(e);case"keypress":return e.which!==32?null:(QH=!0,XH);case"textInput":return t=e.data,t===XH&&QH?null:t;default:return null}}function bK(t,e){if(Od)return t==="compositionend"||!lR&&JH(t,e)?(t=UH(),uy=nR=Cu=null,Od=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KH&&e.locale!=="ko"?null:e.data;default:return null}}var CK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CK[t.type]:e==="textarea"}function tD(t,e,n,r){CH(r),e=vy(e,"onChange"),0<e.length&&(n=new rR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bm=null,Cm=null;function SK(t){yD(t,0)}function fy(t){var e=Hd(t);if(uH(e))return t}function xK(t,e){if(t==="change")return e}var nD=!1;if(rl){var uR;if(rl){var cR="oninput"in document;if(!cR){var rD=document.createElement("div");rD.setAttribute("oninput","return;"),cR=typeof rD.oninput=="function"}uR=cR}else uR=!1;nD=uR&&(!document.documentMode||9<document.documentMode)}function oD(){bm&&(bm.detachEvent("onpropertychange",iD),Cm=bm=null)}function iD(t){if(t.propertyName==="value"&&fy(Cm)){var e=[];tD(e,Cm,t,zx(t)),EH(SK,e)}}function RK(t,e,n){t==="focusin"?(oD(),bm=e,Cm=n,bm.attachEvent("onpropertychange",iD)):t==="focusout"&&oD()}function EK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fy(Cm)}function kK(t,e){if(t==="click")return fy(e)}function TK(t,e){if(t==="input"||t==="change")return fy(e)}function MK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rs=typeof Object.is=="function"?Object.is:MK;function Sm(t,e){if(Rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Cx.call(e,o)||!Rs(t[o],e[o]))return!1}return!0}function sD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aD(t,e){var n=sD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sD(n)}}function lD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uD(){for(var t=window,e=Xw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xw(t.document)}return e}function hR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _K(t){var e=uD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lD(n.ownerDocument.documentElement,n)){if(r!==null&&hR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=aD(n,i);var s=aD(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OK=rl&&"documentMode"in document&&11>=document.documentMode,Ad=null,dR=null,xm=null,fR=!1;function cD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fR||Ad==null||Ad!==Xw(r)||(r=Ad,"selectionStart"in r&&hR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xm&&Sm(xm,r)||(xm=r,r=vy(dR,"onSelect"),0<r.length&&(e=new rR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ad)))}function gy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},gR={},hD={};rl&&(hD=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function my(t){if(gR[t])return gR[t];if(!Pd[t])return t;var e=Pd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hD)return gR[t]=e[n];return t}var dD=my("animationend"),fD=my("animationiteration"),gD=my("animationstart"),mD=my("transitionend"),pD=new Map,vD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(t,e){pD.set(t,e),Wc(e,[t])}for(var mR=0;mR<vD.length;mR++){var pR=vD[mR],AK=pR.toLowerCase(),PK=pR[0].toUpperCase()+pR.slice(1);Su(AK,"on"+PK)}Su(dD,"onAnimationEnd"),Su(fD,"onAnimationIteration"),Su(gD,"onAnimationStart"),Su("dblclick","onDoubleClick"),Su("focusin","onFocus"),Su("focusout","onBlur"),Su(mD,"onTransitionEnd"),Sd("onMouseEnter",["mouseout","mouseover"]),Sd("onMouseLeave",["mouseout","mouseover"]),Sd("onPointerEnter",["pointerout","pointerover"]),Sd("onPointerLeave",["pointerout","pointerover"]),Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rm));function wD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A7(r,e,void 0,t),t.currentTarget=null}function yD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;wD(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;wD(o,a,u),i=l}}}if(Zw)throw t=Yx,Zw=!1,Yx=null,t}function On(t,e){var n=e[RR];n===void 0&&(n=e[RR]=new Set);var r=t+"__bubble";n.has(r)||(bD(e,t,2,!1),n.add(r))}function vR(t,e,n){var r=0;e&&(r|=4),bD(n,t,r,e)}var py="_reactListening"+Math.random().toString(36).slice(2);function Em(t){if(!t[py]){t[py]=!0,tH.forEach(function(n){n!=="selectionchange"&&(IK.has(n)||vR(n,!1,t),vR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[py]||(e[py]=!0,vR("selectionchange",!1,e))}}function bD(t,e,n,r){switch(zH(e)){case 1:var o=Y7;break;case 4:o=q7;break;default:o=eR}n=o.bind(null,e,n,t),o=void 0,!Gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function wR(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Vc(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}EH(function(){var u=i,c=zx(n),h=[];e:{var d=pD.get(t);if(d!==void 0){var g=rR,p=t;switch(t){case"keypress":if(cy(n)===0)break e;case"keydown":case"keyup":g=uK;break;case"focusin":p="focus",g=sR;break;case"focusout":p="blur",g=sR;break;case"beforeblur":case"afterblur":g=sR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=GH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Q7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dK;break;case dD:case fD:case gD:g=eK;break;case mD:g=gK;break;case"scroll":g=K7;break;case"wheel":g=pK;break;case"copy":case"cut":case"paste":g=nK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qH}var w=(e&4)!==0,C=!w&&t==="scroll",v=w?d!==null?d+"Capture":null:d;w=[];for(var y=u,x;y!==null;){x=y;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,v!==null&&(M=am(y,v),M!=null&&w.push(km(y,M,x)))),C)break;y=y.return}0<w.length&&(d=new g(d,p,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Bx&&(p=n.relatedTarget||n.fromElement)&&(Vc(p)||p[il]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?Vc(p):null,p!==null&&(C=Fc(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(w=GH,M="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=qH,M="onPointerLeave",v="onPointerEnter",y="pointer"),C=g==null?d:Hd(g),x=p==null?d:Hd(p),d=new w(M,y+"leave",g,n,c),d.target=C,d.relatedTarget=x,M=null,Vc(c)===u&&(w=new w(v,y+"enter",p,n,c),w.target=x,w.relatedTarget=C,M=w),C=M,g&&p)t:{for(w=g,v=p,y=0,x=w;x;x=Id(x))y++;for(x=0,M=v;M;M=Id(M))x++;for(;0<y-x;)w=Id(w),y--;for(;0<x-y;)v=Id(v),x--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Id(w),v=Id(v)}w=null}else w=null;g!==null&&CD(h,d,g,w,!1),p!==null&&C!==null&&CD(h,C,p,w,!0)}}e:{if(d=u?Hd(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var _=xK;else if(eD(d))if(nD)_=TK;else{_=EK;var T=RK}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=kK);if(_&&(_=_(t,u))){tD(h,_,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Lx(d,"number",d.value)}switch(T=u?Hd(u):window,t){case"focusin":(eD(T)||T.contentEditable==="true")&&(Ad=T,dR=u,xm=null);break;case"focusout":xm=dR=Ad=null;break;case"mousedown":fR=!0;break;case"contextmenu":case"mouseup":case"dragend":fR=!1,cD(h,n,c);break;case"selectionchange":if(OK)break;case"keydown":case"keyup":cD(h,n,c)}var O;if(lR)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Od?JH(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(KH&&n.locale!=="ko"&&(Od||I!=="onCompositionStart"?I==="onCompositionEnd"&&Od&&(O=UH()):(Cu=c,nR="value"in Cu?Cu.value:Cu.textContent,Od=!0)),T=vy(u,I),0<T.length&&(I=new YH(I,t,null,n,c),h.push({event:I,listeners:T}),O?I.data=O:(O=ZH(n),O!==null&&(I.data=O)))),(O=wK?yK(t,n):bK(t,n))&&(u=vy(u,"onBeforeInput"),0<u.length&&(c=new YH("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=O))}yD(h,e)})}function km(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vy(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=am(t,n),i!=null&&r.unshift(km(t,i,o)),i=am(t,e),i!=null&&r.push(km(t,i,o))),t=t.return}return r}function Id(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CD(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=am(n,i),l!=null&&s.unshift(km(n,l,a))):o||(l=am(n,i),l!=null&&s.push(km(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NK=/\r\n?/g,HK=/\u0000|\uFFFD/g;function SD(t){return(typeof t=="string"?t:""+t).replace(NK,`
`).replace(HK,"")}function wy(t,e,n){if(e=SD(e),SD(t)!==e&&n)throw Error(_e(425))}function yy(){}var yR=null,bR=null;function CR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SR=typeof setTimeout=="function"?setTimeout:void 0,DK=typeof clearTimeout=="function"?clearTimeout:void 0,xD=typeof Promise=="function"?Promise:void 0,LK=typeof queueMicrotask=="function"?queueMicrotask:typeof xD<"u"?function(t){return xD.resolve(null).then(t).catch(jK)}:SR;function jK(t){setTimeout(function(){throw t})}function xR(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),pm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);pm(e)}function xu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),ca="__reactFiber$"+Nd,Tm="__reactProps$"+Nd,il="__reactContainer$"+Nd,RR="__reactEvents$"+Nd,WK="__reactListeners$"+Nd,FK="__reactHandles$"+Nd;function Vc(t){var e=t[ca];if(e)return e;for(var n=t.parentNode;n;){if(e=n[il]||n[ca]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RD(t);t!==null;){if(n=t[ca])return n;t=RD(t)}return e}t=n,n=t.parentNode}return null}function Mm(t){return t=t[ca]||t[il],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function by(t){return t[Tm]||null}var ER=[],Dd=-1;function Ru(t){return{current:t}}function An(t){0>Dd||(t.current=ER[Dd],ER[Dd]=null,Dd--)}function Rn(t,e){Dd++,ER[Dd]=t.current,t.current=e}var Eu={},no=Ru(Eu),Wo=Ru(!1),Bc=Eu;function Ld(t,e){var n=t.type.contextTypes;if(!n)return Eu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Fo(t){return t=t.childContextTypes,t!=null}function Cy(){An(Wo),An(no)}function ED(t,e,n){if(no.current!==Eu)throw Error(_e(168));Rn(no,e),Rn(Wo,n)}function kD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(_e(108,R7(t)||"Unknown",o));return Un({},n,r)}function Sy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eu,Bc=no.current,Rn(no,t),Rn(Wo,Wo.current),!0}function TD(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=kD(t,e,Bc),r.__reactInternalMemoizedMergedChildContext=t,An(Wo),An(no),Rn(no,t)):An(Wo),Rn(Wo,n)}var sl=null,xy=!1,kR=!1;function MD(t){sl===null?sl=[t]:sl.push(t)}function VK(t){xy=!0,MD(t)}function ku(){if(!kR&&sl!==null){kR=!0;var t=0,e=dn;try{var n=sl;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sl=null,xy=!1}catch(o){throw sl!==null&&(sl=sl.slice(t+1)),OH(qx,ku),o}finally{dn=e,kR=!1}}return null}var jd=[],Wd=0,Ry=null,Ey=0,ji=[],Wi=0,zc=null,al=1,ll="";function Uc(t,e){jd[Wd++]=Ey,jd[Wd++]=Ry,Ry=t,Ey=e}function _D(t,e,n){ji[Wi++]=al,ji[Wi++]=ll,ji[Wi++]=zc,zc=t;var r=al;t=ll;var o=32-xs(r)-1;r&=~(1<<o),n+=1;var i=32-xs(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,al=1<<32-xs(e)+o|n<<o|r,ll=i+t}else al=1<<i|n<<o|r,ll=t}function TR(t){t.return!==null&&(Uc(t,1),_D(t,1,0))}function MR(t){for(;t===Ry;)Ry=jd[--Wd],jd[Wd]=null,Ey=jd[--Wd],jd[Wd]=null;for(;t===zc;)zc=ji[--Wi],ji[Wi]=null,ll=ji[--Wi],ji[Wi]=null,al=ji[--Wi],ji[Wi]=null}var mi=null,pi=null,Wn=!1,Es=null;function OD(t,e){var n=zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mi=t,pi=xu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mi=t,pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zc!==null?{id:al,overflow:ll}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mi=t,pi=null,!0):!1;default:return!1}}function _R(t){return(t.mode&1)!==0&&(t.flags&128)===0}function OR(t){if(Wn){var e=pi;if(e){var n=e;if(!AD(t,e)){if(_R(t))throw Error(_e(418));e=xu(n.nextSibling);var r=mi;e&&AD(t,e)?OD(r,n):(t.flags=t.flags&-4097|2,Wn=!1,mi=t)}}else{if(_R(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Wn=!1,mi=t}}}function PD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mi=t}function ky(t){if(t!==mi)return!1;if(!Wn)return PD(t),Wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!CR(t.type,t.memoizedProps)),e&&(e=pi)){if(_R(t))throw ID(),Error(_e(418));for(;e;)OD(t,e),e=xu(e.nextSibling)}if(PD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pi=xu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pi=null}}else pi=mi?xu(t.stateNode.nextSibling):null;return!0}function ID(){for(var t=pi;t;)t=xu(t.nextSibling)}function Fd(){pi=mi=null,Wn=!1}function AR(t){Es===null?Es=[t]:Es.push(t)}var BK=ol.ReactCurrentBatchConfig;function ks(t,e){if(t&&t.defaultProps){e=Un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ty=Ru(null),My=null,Vd=null,PR=null;function IR(){PR=Vd=My=null}function NR(t){var e=Ty.current;An(Ty),t._currentValue=e}function HR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bd(t,e){My=t,PR=Vd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vo=!0),t.firstContext=null)}function Fi(t){var e=t._currentValue;if(PR!==t)if(t={context:t,memoizedValue:e,next:null},Vd===null){if(My===null)throw Error(_e(308));Vd=t,My.dependencies={lanes:0,firstContext:t}}else Vd=Vd.next=t;return e}var $c=null;function DR(t){$c===null?$c=[t]:$c.push(t)}function ND(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,DR(e)):(n.next=o.next,o.next=n),e.interleaved=n,ul(t,r)}function ul(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tu=!1;function LR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,ul(t,n)}return o=r.interleaved,o===null?(e.next=e,DR(r)):(e.next=o.next,o.next=e),r.interleaved=e,ul(t,n)}function _y(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qx(t,n)}}function DD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oy(t,e,n,r){var o=t.updateQueue;Tu=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=o.baseState;s=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,w=a;switch(d=e,g=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=Un({},h,d);break e;case 2:Tu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);qc|=s,t.lanes=s,t.memoizedState=h}}function LD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(_e(191,o));o.call(r)}}}var jD=new eH.Component().refs;function jR(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ay={isMounted:function(t){return(t=t._reactInternals)?Fc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Eo(),o=Pu(t),i=cl(r,o);i.payload=e,n!=null&&(i.callback=n),e=Mu(t,i,o),e!==null&&(_s(e,t,o,r),_y(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Eo(),o=Pu(t),i=cl(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mu(t,i,o),e!==null&&(_s(e,t,o,r),_y(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Eo(),r=Pu(t),o=cl(n,r);o.tag=2,e!=null&&(o.callback=e),e=Mu(t,o,r),e!==null&&(_s(e,t,r,n),_y(e,t,r))}};function WD(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Sm(n,r)||!Sm(o,i):!0}function FD(t,e,n){var r=!1,o=Eu,i=e.contextType;return typeof i=="object"&&i!==null?i=Fi(i):(o=Fo(e)?Bc:no.current,r=e.contextTypes,i=(r=r!=null)?Ld(t,o):Eu),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function VD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ay.enqueueReplaceState(e,e.state,null)}function WR(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=jD,LR(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Fi(i):(i=Fo(e)?Bc:no.current,o.context=Ld(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jR(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ay.enqueueReplaceState(o,o.state,null),Oy(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function _m(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===jD&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Py(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BD(t){var e=t._init;return e(t._payload)}function zD(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(v,y){return v=Nu(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,M){return y===null||y.tag!==6?(y=CE(x,v.mode,M),y.return=v,y):(y=o(y,x),y.return=v,y)}function l(v,y,x,M){var _=x.type;return _===Rd?c(v,y,x.props.children,M,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mu&&BD(_)===y.type)?(M=o(y,x.props),M.ref=_m(v,y,x),M.return=v,M):(M=Qy(x.type,x.key,x.props,null,v.mode,M),M.ref=_m(v,y,x),M.return=v,M)}function u(v,y,x,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=SE(x,v.mode,M),y.return=v,y):(y=o(y,x.children||[]),y.return=v,y)}function c(v,y,x,M,_){return y===null||y.tag!==7?(y=Jc(x,v.mode,M,_),y.return=v,y):(y=o(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=CE(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qw:return x=Qy(y.type,y.key,y.props,null,v.mode,x),x.ref=_m(v,null,y),x.return=v,x;case xd:return y=SE(y,v.mode,x),y.return=v,y;case mu:var M=y._init;return h(v,M(y._payload),x)}if(om(y)||nm(y))return y=Jc(y,v.mode,x,null),y.return=v,y;Py(v,y)}return null}function d(v,y,x,M){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(v,y,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qw:return x.key===_?l(v,y,x,M):null;case xd:return x.key===_?u(v,y,x,M):null;case mu:return _=x._init,d(v,y,_(x._payload),M)}if(om(x)||nm(x))return _!==null?null:c(v,y,x,M,null);Py(v,x)}return null}function g(v,y,x,M,_){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(x)||null,a(y,v,""+M,_);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case qw:return v=v.get(M.key===null?x:M.key)||null,l(y,v,M,_);case xd:return v=v.get(M.key===null?x:M.key)||null,u(y,v,M,_);case mu:var T=M._init;return g(v,y,x,T(M._payload),_)}if(om(M)||nm(M))return v=v.get(x)||null,c(y,v,M,_,null);Py(y,M)}return null}function p(v,y,x,M){for(var _=null,T=null,O=y,I=y=0,N=null;O!==null&&I<x.length;I++){O.index>I?(N=O,O=null):N=O.sibling;var L=d(v,O,x[I],M);if(L===null){O===null&&(O=N);break}t&&O&&L.alternate===null&&e(v,O),y=i(L,y,I),T===null?_=L:T.sibling=L,T=L,O=N}if(I===x.length)return n(v,O),Wn&&Uc(v,I),_;if(O===null){for(;I<x.length;I++)O=h(v,x[I],M),O!==null&&(y=i(O,y,I),T===null?_=O:T.sibling=O,T=O);return Wn&&Uc(v,I),_}for(O=r(v,O);I<x.length;I++)N=g(O,v,I,x[I],M),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?I:N.key),y=i(N,y,I),T===null?_=N:T.sibling=N,T=N);return t&&O.forEach(function(B){return e(v,B)}),Wn&&Uc(v,I),_}function w(v,y,x,M){var _=nm(x);if(typeof _!="function")throw Error(_e(150));if(x=_.call(x),x==null)throw Error(_e(151));for(var T=_=null,O=y,I=y=0,N=null,L=x.next();O!==null&&!L.done;I++,L=x.next()){O.index>I?(N=O,O=null):N=O.sibling;var B=d(v,O,L.value,M);if(B===null){O===null&&(O=N);break}t&&O&&B.alternate===null&&e(v,O),y=i(B,y,I),T===null?_=B:T.sibling=B,T=B,O=N}if(L.done)return n(v,O),Wn&&Uc(v,I),_;if(O===null){for(;!L.done;I++,L=x.next())L=h(v,L.value,M),L!==null&&(y=i(L,y,I),T===null?_=L:T.sibling=L,T=L);return Wn&&Uc(v,I),_}for(O=r(v,O);!L.done;I++,L=x.next())L=g(O,v,I,L.value,M),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?I:L.key),y=i(L,y,I),T===null?_=L:T.sibling=L,T=L);return t&&O.forEach(function(ae){return e(v,ae)}),Wn&&Uc(v,I),_}function C(v,y,x,M){if(typeof x=="object"&&x!==null&&x.type===Rd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qw:e:{for(var _=x.key,T=y;T!==null;){if(T.key===_){if(_=x.type,_===Rd){if(T.tag===7){n(v,T.sibling),y=o(T,x.props.children),y.return=v,v=y;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mu&&BD(_)===T.type){n(v,T.sibling),y=o(T,x.props),y.ref=_m(v,T,x),y.return=v,v=y;break e}n(v,T);break}else e(v,T);T=T.sibling}x.type===Rd?(y=Jc(x.props.children,v.mode,M,x.key),y.return=v,v=y):(M=Qy(x.type,x.key,x.props,null,v.mode,M),M.ref=_m(v,y,x),M.return=v,v=M)}return s(v);case xd:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=o(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=SE(x,v.mode,M),y.return=v,v=y}return s(v);case mu:return T=x._init,C(v,y,T(x._payload),M)}if(om(x))return p(v,y,x,M);if(nm(x))return w(v,y,x,M);Py(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=o(y,x),y.return=v,v=y):(n(v,y),y=CE(x,v.mode,M),y.return=v,v=y),s(v)):n(v,y)}return C}var zd=zD(!0),UD=zD(!1),Om={},ha=Ru(Om),Am=Ru(Om),Pm=Ru(Om);function Gc(t){if(t===Om)throw Error(_e(174));return t}function FR(t,e){switch(Rn(Pm,e),Rn(Am,t),Rn(ha,Om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wx(e,t)}An(ha),Rn(ha,e)}function Ud(){An(ha),An(Am),An(Pm)}function $D(t){Gc(Pm.current);var e=Gc(ha.current),n=Wx(e,t.type);e!==n&&(Rn(Am,t),Rn(ha,n))}function VR(t){Am.current===t&&(An(ha),An(Am))}var $n=Ru(0);function Iy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BR=[];function zR(){for(var t=0;t<BR.length;t++)BR[t]._workInProgressVersionPrimary=null;BR.length=0}var Ny=ol.ReactCurrentDispatcher,UR=ol.ReactCurrentBatchConfig,Yc=0,Gn=null,Rr=null,Ar=null,Hy=!1,Im=!1,Nm=0,zK=0;function ro(){throw Error(_e(321))}function $R(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rs(t[n],e[n]))return!1;return!0}function GR(t,e,n,r,o,i){if(Yc=i,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ny.current=t===null||t.memoizedState===null?YK:qK,t=n(r,o),Im){i=0;do{if(Im=!1,Nm=0,25<=i)throw Error(_e(301));i+=1,Ar=Rr=null,e.updateQueue=null,Ny.current=KK,t=n(r,o)}while(Im)}if(Ny.current=jy,e=Rr!==null&&Rr.next!==null,Yc=0,Ar=Rr=Gn=null,Hy=!1,e)throw Error(_e(300));return t}function YR(){var t=Nm!==0;return Nm=0,t}function da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Gn.memoizedState=Ar=t:Ar=Ar.next=t,Ar}function Vi(){if(Rr===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Ar===null?Gn.memoizedState:Ar.next;if(e!==null)Ar=e,Rr=t;else{if(t===null)throw Error(_e(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Ar===null?Gn.memoizedState=Ar=t:Ar=Ar.next=t}return Ar}function Hm(t,e){return typeof e=="function"?e(t):e}function qR(t){var e=Vi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=Rr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((Yc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Gn.lanes|=c,qc|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,Rs(r,e.memoizedState)||(Vo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Gn.lanes|=i,qc|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function KR(t){var e=Vi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Rs(i,e.memoizedState)||(Vo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GD(){}function YD(t,e){var n=Gn,r=Vi(),o=e(),i=!Rs(r.memoizedState,o);if(i&&(r.memoizedState=o,Vo=!0),r=r.queue,XR(XD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ar!==null&&Ar.memoizedState.tag&1){if(n.flags|=2048,Dm(9,KD.bind(null,n,r,o,e),void 0,null),Pr===null)throw Error(_e(349));Yc&30||qD(n,e,o)}return o}function qD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KD(t,e,n,r){e.value=n,e.getSnapshot=r,QD(e)&&JD(t)}function XD(t,e,n){return n(function(){QD(e)&&JD(t)})}function QD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rs(t,n)}catch{return!0}}function JD(t){var e=ul(t,1);e!==null&&_s(e,t,1,-1)}function ZD(t){var e=da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:t},e.queue=t,t=t.dispatch=GK.bind(null,Gn,t),[e.memoizedState,t]}function Dm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eL(){return Vi().memoizedState}function Dy(t,e,n,r){var o=da();Gn.flags|=t,o.memoizedState=Dm(1|e,n,void 0,r===void 0?null:r)}function Ly(t,e,n,r){var o=Vi();r=r===void 0?null:r;var i=void 0;if(Rr!==null){var s=Rr.memoizedState;if(i=s.destroy,r!==null&&$R(r,s.deps)){o.memoizedState=Dm(e,n,i,r);return}}Gn.flags|=t,o.memoizedState=Dm(1|e,n,i,r)}function tL(t,e){return Dy(8390656,8,t,e)}function XR(t,e){return Ly(2048,8,t,e)}function nL(t,e){return Ly(4,2,t,e)}function rL(t,e){return Ly(4,4,t,e)}function oL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iL(t,e,n){return n=n!=null?n.concat([t]):null,Ly(4,4,oL.bind(null,e,t),n)}function QR(){}function sL(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$R(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aL(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$R(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lL(t,e,n){return Yc&21?(Rs(n,e)||(n=NH(),Gn.lanes|=n,qc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vo=!0),t.memoizedState=n)}function UK(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=UR.transition;UR.transition={};try{t(!1),e()}finally{dn=n,UR.transition=r}}function uL(){return Vi().memoizedState}function $K(t,e,n){var r=Pu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cL(t))hL(e,n);else if(n=ND(t,e,n,r),n!==null){var o=Eo();_s(n,t,r,o),dL(n,e,r)}}function GK(t,e,n){var r=Pu(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cL(t))hL(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Rs(a,s)){var l=e.interleaved;l===null?(o.next=o,DR(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=ND(t,e,o,r),n!==null&&(o=Eo(),_s(n,t,r,o),dL(n,e,r))}}function cL(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function hL(t,e){Im=Hy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qx(t,n)}}var jy={readContext:Fi,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useInsertionEffect:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useSyncExternalStore:ro,useId:ro,unstable_isNewReconciler:!1},YK={readContext:Fi,useCallback:function(t,e){return da().memoizedState=[t,e===void 0?null:e],t},useContext:Fi,useEffect:tL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dy(4194308,4,oL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dy(4,2,t,e)},useMemo:function(t,e){var n=da();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=da();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$K.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=da();return t={current:t},e.memoizedState=t},useState:ZD,useDebugValue:QR,useDeferredValue:function(t){return da().memoizedState=t},useTransition:function(){var t=ZD(!1),e=t[0];return t=UK.bind(null,t[1]),da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,o=da();if(Wn){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Pr===null)throw Error(_e(349));Yc&30||qD(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,tL(XD.bind(null,r,i,t),[t]),r.flags|=2048,Dm(9,KD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=da(),e=Pr.identifierPrefix;if(Wn){var n=ll,r=al;n=(r&~(1<<32-xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qK={readContext:Fi,useCallback:sL,useContext:Fi,useEffect:XR,useImperativeHandle:iL,useInsertionEffect:nL,useLayoutEffect:rL,useMemo:aL,useReducer:qR,useRef:eL,useState:function(){return qR(Hm)},useDebugValue:QR,useDeferredValue:function(t){var e=Vi();return lL(e,Rr.memoizedState,t)},useTransition:function(){var t=qR(Hm)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:YD,useId:uL,unstable_isNewReconciler:!1},KK={readContext:Fi,useCallback:sL,useContext:Fi,useEffect:XR,useImperativeHandle:iL,useInsertionEffect:nL,useLayoutEffect:rL,useMemo:aL,useReducer:KR,useRef:eL,useState:function(){return KR(Hm)},useDebugValue:QR,useDeferredValue:function(t){var e=Vi();return Rr===null?e.memoizedState=t:lL(e,Rr.memoizedState,t)},useTransition:function(){var t=KR(Hm)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:YD,useId:uL,unstable_isNewReconciler:!1};function $d(t,e){try{var n="",r=e;do n+=x7(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function JR(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZR(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XK=typeof WeakMap=="function"?WeakMap:Map;function fL(t,e,n){n=cl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$y||($y=!0,fE=r),ZR(t,e)},n}function gL(t,e,n){n=cl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){ZR(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ZR(t,e),typeof r!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function mL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XK;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=cX.bind(null,t,e,n),e.then(t,t))}function pL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vL(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cl(-1,1),e.tag=2,Mu(n,e,1))),n.lanes|=1),t)}var QK=ol.ReactCurrentOwner,Vo=!1;function Ro(t,e,n,r){e.child=t===null?UD(e,null,n,r):zd(e,t.child,n,r)}function wL(t,e,n,r,o){n=n.render;var i=e.ref;return Bd(e,o),r=GR(t,e,n,r,i,o),n=YR(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,hl(t,e,o)):(Wn&&n&&TR(e),e.flags|=1,Ro(t,e,r,o),e.child)}function yL(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!bE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bL(t,e,i,r,o)):(t=Qy(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sm,n(s,r)&&t.ref===e.ref)return hl(t,e,o)}return e.flags|=1,t=Nu(i,r),t.ref=e.ref,t.return=e,e.child=t}function bL(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Sm(i,r)&&t.ref===e.ref)if(Vo=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Vo=!0);else return e.lanes=t.lanes,hl(t,e,o)}return eE(t,e,n,r,o)}function CL(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Yd,vi),vi|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn(Yd,vi),vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rn(Yd,vi),vi|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Rn(Yd,vi),vi|=r;return Ro(t,e,o,n),e.child}function SL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eE(t,e,n,r,o){var i=Fo(n)?Bc:no.current;return i=Ld(e,i),Bd(e,o),n=GR(t,e,n,r,i,o),r=YR(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,hl(t,e,o)):(Wn&&r&&TR(e),e.flags|=1,Ro(t,e,n,o),e.child)}function xL(t,e,n,r,o){if(Fo(n)){var i=!0;Sy(e)}else i=!1;if(Bd(e,o),e.stateNode===null)Fy(t,e),FD(e,n,r),WR(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=Fo(n)?Bc:no.current,u=Ld(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&VD(e,s,r,u),Tu=!1;var d=e.memoizedState;s.state=d,Oy(e,r,s,o),l=e.memoizedState,a!==r||d!==l||Wo.current||Tu?(typeof c=="function"&&(jR(e,n,c,r),l=e.memoizedState),(a=Tu||WD(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,HD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ks(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fi(l):(l=Fo(n)?Bc:no.current,l=Ld(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&VD(e,s,r,l),Tu=!1,d=e.memoizedState,s.state=d,Oy(e,r,s,o);var p=e.memoizedState;a!==h||d!==p||Wo.current||Tu?(typeof g=="function"&&(jR(e,n,g,r),p=e.memoizedState),(u=Tu||WD(e,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return tE(t,e,n,r,i,o)}function tE(t,e,n,r,o,i){SL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&TD(e,n,!1),hl(t,e,i);r=e.stateNode,QK.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=zd(e,t.child,null,i),e.child=zd(e,null,a,i)):Ro(t,e,a,i),e.memoizedState=r.state,o&&TD(e,n,!0),e.child}function RL(t){var e=t.stateNode;e.pendingContext?ED(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ED(t,e.context,!1),FR(t,e.containerInfo)}function EL(t,e,n,r,o){return Fd(),AR(o),e.flags|=256,Ro(t,e,n,r),e.child}var nE={dehydrated:null,treeContext:null,retryLane:0};function rE(t){return{baseLanes:t,cachePool:null,transitions:null}}function kL(t,e,n){var r=e.pendingProps,o=$n.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Rn($n,o&1),t===null)return OR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Jy(s,r,0,null),t=Jc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rE(n),e.memoizedState=nE,t):oE(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return JK(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nu(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Nu(a,i):(i=Jc(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?rE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=nE,r}return i=t.child,t=i.sibling,r=Nu(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oE(t,e){return e=Jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wy(t,e,n,r){return r!==null&&AR(r),zd(e,t.child,null,n),t=oE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JK(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=JR(Error(_e(422))),Wy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Jy({mode:"visible",children:r.children},o,0,null),i=Jc(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zd(e,t.child,null,s),e.child.memoizedState=rE(s),e.memoizedState=nE,i);if(!(e.mode&1))return Wy(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(_e(419)),r=JR(i,r,void 0),Wy(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vo||a){if(r=Pr,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ul(t,o),_s(r,t,o,-1))}return yE(),r=JR(Error(_e(421))),Wy(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=hX.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,pi=xu(o.nextSibling),mi=e,Wn=!0,Es=null,t!==null&&(ji[Wi++]=al,ji[Wi++]=ll,ji[Wi++]=zc,al=t.id,ll=t.overflow,zc=e),e=oE(e,r.children),e.flags|=4096,e)}function TL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),HR(t.return,e,n)}function iE(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ML(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ro(t,e,r.children,n),r=$n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TL(t,n,e);else if(t.tag===19)TL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn($n,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Iy(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),iE(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Iy(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}iE(e,!0,n,null,i);break;case"together":iE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Nu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZK(t,e,n){switch(e.tag){case 3:RL(e),Fd();break;case 5:$D(e);break;case 1:Fo(e.type)&&Sy(e);break;case 4:FR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Rn(Ty,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn($n,$n.current&1),e.flags|=128,null):n&e.child.childLanes?kL(t,e,n):(Rn($n,$n.current&1),t=hl(t,e,n),t!==null?t.sibling:null);Rn($n,$n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ML(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Rn($n,$n.current),r)break;return null;case 22:case 23:return e.lanes=0,CL(t,e,n)}return hl(t,e,n)}var _L,sE,OL,AL;_L=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},sE=function(){},OL=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Gc(ha.current);var i=null;switch(n){case"input":o=Hx(t,o),r=Hx(t,r),i=[];break;case"select":o=Un({},o,{value:void 0}),r=Un({},r,{value:void 0}),i=[];break;case"textarea":o=jx(t,o),r=jx(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yy)}Fx(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o==null?void 0:o[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&On("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}},AL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lm(t,e){if(!Wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eX(t,e,n){var r=e.pendingProps;switch(MR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(e),null;case 1:return Fo(e.type)&&Cy(),oo(e),null;case 3:return r=e.stateNode,Ud(),An(Wo),An(no),zR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ky(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Es!==null&&(pE(Es),Es=null))),sE(t,e),oo(e),null;case 5:VR(e);var o=Gc(Pm.current);if(n=e.type,t!==null&&e.stateNode!=null)OL(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return oo(e),null}if(t=Gc(ha.current),ky(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ca]=e,r[Tm]=i,t=(e.mode&1)!==0,n){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(o=0;o<Rm.length;o++)On(Rm[o],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":cH(r,i),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},On("invalid",r);break;case"textarea":fH(r,i),On("invalid",r)}Fx(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wy(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wy(r.textContent,a,t),o=["children",""+a]):tm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&On("scroll",r)}switch(n){case"input":Kw(r),dH(r,i,!0);break;case"textarea":Kw(r),mH(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yy)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pH(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ca]=e,t[Tm]=r,_L(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vx(n,r),n){case"dialog":On("cancel",t),On("close",t),o=r;break;case"iframe":case"object":case"embed":On("load",t),o=r;break;case"video":case"audio":for(o=0;o<Rm.length;o++)On(Rm[o],t);o=r;break;case"source":On("error",t),o=r;break;case"img":case"image":case"link":On("error",t),On("load",t),o=r;break;case"details":On("toggle",t),o=r;break;case"input":cH(t,r),o=Hx(t,r),On("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Un({},r,{value:void 0}),On("invalid",t);break;case"textarea":fH(t,r),o=jx(t,r),On("invalid",t);break;default:o=r}Fx(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yH(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vH(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&im(t,l):typeof l=="number"&&im(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tm.hasOwnProperty(i)?l!=null&&i==="onScroll"&&On("scroll",t):l!=null&&Rx(t,i,l,s))}switch(n){case"input":Kw(t),dH(t,r,!1);break;case"textarea":Kw(t),mH(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pu(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ed(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ed(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=yy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return oo(e),null;case 6:if(t&&e.stateNode!=null)AL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Gc(Pm.current),Gc(ha.current),ky(e)){if(r=e.stateNode,n=e.memoizedProps,r[ca]=e,(i=r.nodeValue!==n)&&(t=mi,t!==null))switch(t.tag){case 3:wy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wy(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ca]=e,e.stateNode=r}return oo(e),null;case 13:if(An($n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wn&&pi!==null&&e.mode&1&&!(e.flags&128))ID(),Fd(),e.flags|=98560,i=!1;else if(i=ky(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(_e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[ca]=e}else Fd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oo(e),i=!1}else Es!==null&&(pE(Es),Es=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$n.current&1?Er===0&&(Er=3):yE())),e.updateQueue!==null&&(e.flags|=4),oo(e),null);case 4:return Ud(),sE(t,e),t===null&&Em(e.stateNode.containerInfo),oo(e),null;case 10:return NR(e.type._context),oo(e),null;case 17:return Fo(e.type)&&Cy(),oo(e),null;case 19:if(An($n),i=e.memoizedState,i===null)return oo(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Lm(i,!1);else{if(Er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Iy(t),s!==null){for(e.flags|=128,Lm(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn($n,$n.current&1|2),e.child}t=t.sibling}i.tail!==null&&ur()>qd&&(e.flags|=128,r=!0,Lm(i,!1),e.lanes=4194304)}else{if(!r)if(t=Iy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Wn)return oo(e),null}else 2*ur()-i.renderingStartTime>qd&&n!==1073741824&&(e.flags|=128,r=!0,Lm(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ur(),e.sibling=null,n=$n.current,Rn($n,r?n&1|2:n&1),e):(oo(e),null);case 22:case 23:return wE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vi&1073741824&&(oo(e),e.subtreeFlags&6&&(e.flags|=8192)):oo(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function tX(t,e){switch(MR(e),e.tag){case 1:return Fo(e.type)&&Cy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ud(),An(Wo),An(no),zR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return VR(e),null;case 13:if(An($n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Fd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return An($n),null;case 4:return Ud(),null;case 10:return NR(e.type._context),null;case 22:case 23:return wE(),null;case 24:return null;default:return null}}var Vy=!1,io=!1,nX=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Gd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rr(t,e,r)}else n.current=null}function PL(t,e,n){try{n()}catch(r){rr(t,e,r)}}var IL=!1;function rX(t,e){if(yR=ay,t=uD(),hR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==i||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===o&&(a=s),d===i&&++c===r&&(l=s),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bR={focusedElem:t,selectionRange:n},ay=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,C=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:ks(e.type,w),C);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(M){rr(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return p=IL,IL=!1,p}function jm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&PL(e,n,i)}o=o.next}while(o!==r)}}function By(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function aE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NL(t){var e=t.alternate;e!==null&&(t.alternate=null,NL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ca],delete e[Tm],delete e[RR],delete e[WK],delete e[FK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HL(t){return t.tag===5||t.tag===3||t.tag===4}function DL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yy));else if(r!==4&&(t=t.child,t!==null))for(lE(t,e,n),t=t.sibling;t!==null;)lE(t,e,n),t=t.sibling}function uE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uE(t,e,n),t=t.sibling;t!==null;)uE(t,e,n),t=t.sibling}var Yr=null,Ts=!1;function _u(t,e,n){for(n=n.child;n!==null;)LL(t,e,n),n=n.sibling}function LL(t,e,n){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(ty,n)}catch{}switch(n.tag){case 5:io||Gd(n,e);case 6:var r=Yr,o=Ts;Yr=null,_u(t,e,n),Yr=r,Ts=o,Yr!==null&&(Ts?(t=Yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&(Ts?(t=Yr,n=n.stateNode,t.nodeType===8?xR(t.parentNode,n):t.nodeType===1&&xR(t,n),pm(t)):xR(Yr,n.stateNode));break;case 4:r=Yr,o=Ts,Yr=n.stateNode.containerInfo,Ts=!0,_u(t,e,n),Yr=r,Ts=o;break;case 0:case 11:case 14:case 15:if(!io&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&PL(n,e,s),o=o.next}while(o!==r)}_u(t,e,n);break;case 1:if(!io&&(Gd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rr(n,e,a)}_u(t,e,n);break;case 21:_u(t,e,n);break;case 22:n.mode&1?(io=(r=io)||n.memoizedState!==null,_u(t,e,n),io=r):_u(t,e,n);break;default:_u(t,e,n)}}function jL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nX),e.forEach(function(r){var o=dX.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ms(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yr=a.stateNode,Ts=!1;break e;case 3:Yr=a.stateNode.containerInfo,Ts=!0;break e;case 4:Yr=a.stateNode.containerInfo,Ts=!0;break e}a=a.return}if(Yr===null)throw Error(_e(160));LL(i,s,o),Yr=null,Ts=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){rr(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WL(e,t),e=e.sibling}function WL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ms(e,t),fa(t),r&4){try{jm(3,t,t.return),By(3,t)}catch(w){rr(t,t.return,w)}try{jm(5,t,t.return)}catch(w){rr(t,t.return,w)}}break;case 1:Ms(e,t),fa(t),r&512&&n!==null&&Gd(n,n.return);break;case 5:if(Ms(e,t),fa(t),r&512&&n!==null&&Gd(n,n.return),t.flags&32){var o=t.stateNode;try{im(o,"")}catch(w){rr(t,t.return,w)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hH(o,i),Vx(a,s);var u=Vx(a,i);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?yH(o,h):c==="dangerouslySetInnerHTML"?vH(o,h):c==="children"?im(o,h):Rx(o,c,h,u)}switch(a){case"input":Dx(o,i);break;case"textarea":gH(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ed(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ed(o,!!i.multiple,i.defaultValue,!0):Ed(o,!!i.multiple,i.multiple?[]:"",!1))}o[Tm]=i}catch(w){rr(t,t.return,w)}}break;case 6:if(Ms(e,t),fa(t),r&4){if(t.stateNode===null)throw Error(_e(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(w){rr(t,t.return,w)}}break;case 3:if(Ms(e,t),fa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pm(e.containerInfo)}catch(w){rr(t,t.return,w)}break;case 4:Ms(e,t),fa(t);break;case 13:Ms(e,t),fa(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(dE=ur())),r&4&&jL(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(io=(u=io)||c,Ms(e,t),io=u):Ms(e,t),fa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ye=t,c=t.child;c!==null;){for(h=Ye=c;Ye!==null;){switch(d=Ye,g=d.child,d.tag){case 0:case 11:case 14:case 15:jm(4,d,d.return);break;case 1:Gd(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(w){rr(r,n,w)}}break;case 5:Gd(d,d.return);break;case 22:if(d.memoizedState!==null){BL(h);continue}}g!==null?(g.return=d,Ye=g):BL(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{o=h.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wH("display",s))}catch(w){rr(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){rr(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ms(e,t),fa(t),r&4&&jL(t);break;case 21:break;default:Ms(e,t),fa(t)}}function fa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HL(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(im(o,""),r.flags&=-33);var i=DL(t);uE(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=DL(t);lE(t,a,s);break;default:throw Error(_e(161))}}catch(l){rr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oX(t,e,n){Ye=t,FL(t)}function FL(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var o=Ye,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Vy;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||io;a=Vy;var u=io;if(Vy=s,(io=l)&&!u)for(Ye=o;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?zL(o):l!==null?(l.return=s,Ye=l):zL(o);for(;i!==null;)Ye=i,FL(i),i=i.sibling;Ye=o,Vy=a,io=u}VL(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ye=i):VL(t)}}function VL(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:io||By(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!io)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:ks(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&LD(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LD(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&pm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}io||e.flags&512&&aE(e)}catch(d){rr(e,e.return,d)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function BL(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function zL(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{By(4,e)}catch(l){rr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){rr(e,o,l)}}var i=e.return;try{aE(e)}catch(l){rr(e,i,l)}break;case 5:var s=e.return;try{aE(e)}catch(l){rr(e,s,l)}}}catch(l){rr(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var iX=Math.ceil,zy=ol.ReactCurrentDispatcher,cE=ol.ReactCurrentOwner,Bi=ol.ReactCurrentBatchConfig,Qt=0,Pr=null,pr=null,qr=0,vi=0,Yd=Ru(0),Er=0,Wm=null,qc=0,Uy=0,hE=0,Fm=null,Bo=null,dE=0,qd=1/0,dl=null,$y=!1,fE=null,Ou=null,Gy=!1,Au=null,Yy=0,Vm=0,gE=null,qy=-1,Ky=0;function Eo(){return Qt&6?ur():qy!==-1?qy:qy=ur()}function Pu(t){return t.mode&1?Qt&2&&qr!==0?qr&-qr:BK.transition!==null?(Ky===0&&(Ky=NH()),Ky):(t=dn,t!==0||(t=window.event,t=t===void 0?16:zH(t.type)),t):1}function _s(t,e,n,r){if(50<Vm)throw Vm=0,gE=null,Error(_e(185));hm(t,n,r),(!(Qt&2)||t!==Pr)&&(t===Pr&&(!(Qt&2)&&(Uy|=n),Er===4&&Iu(t,qr)),zo(t,r),n===1&&Qt===0&&!(e.mode&1)&&(qd=ur()+500,xy&&ku()))}function zo(t,e){var n=t.callbackNode;B7(t,e);var r=oy(t,t===Pr?qr:0);if(r===0)n!==null&&AH(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AH(n),e===1)t.tag===0?VK($L.bind(null,t)):MD($L.bind(null,t)),LK(function(){!(Qt&6)&&ku()}),n=null;else{switch(HH(r)){case 1:n=qx;break;case 4:n=PH;break;case 16:n=ey;break;case 536870912:n=IH;break;default:n=ey}n=ZL(n,UL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UL(t,e){if(qy=-1,Ky=0,Qt&6)throw Error(_e(327));var n=t.callbackNode;if(Kd()&&t.callbackNode!==n)return null;var r=oy(t,t===Pr?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xy(t,r);else{e=r;var o=Qt;Qt|=2;var i=YL();(Pr!==t||qr!==e)&&(dl=null,qd=ur()+500,Xc(t,e));do try{lX();break}catch(a){GL(t,a)}while(!0);IR(),zy.current=i,Qt=o,pr!==null?e=0:(Pr=null,qr=0,e=Er)}if(e!==0){if(e===2&&(o=Kx(t),o!==0&&(r=o,e=mE(t,o))),e===1)throw n=Wm,Xc(t,0),Iu(t,r),zo(t,ur()),n;if(e===6)Iu(t,r);else{if(o=t.current.alternate,!(r&30)&&!sX(o)&&(e=Xy(t,r),e===2&&(i=Kx(t),i!==0&&(r=i,e=mE(t,i))),e===1))throw n=Wm,Xc(t,0),Iu(t,r),zo(t,ur()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Qc(t,Bo,dl);break;case 3:if(Iu(t,r),(r&130023424)===r&&(e=dE+500-ur(),10<e)){if(oy(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Eo(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=SR(Qc.bind(null,t,Bo,dl),e);break}Qc(t,Bo,dl);break;case 4:if(Iu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-xs(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iX(r/1960))-r,10<r){t.timeoutHandle=SR(Qc.bind(null,t,Bo,dl),r);break}Qc(t,Bo,dl);break;case 5:Qc(t,Bo,dl);break;default:throw Error(_e(329))}}}return zo(t,ur()),t.callbackNode===n?UL.bind(null,t):null}function mE(t,e){var n=Fm;return t.current.memoizedState.isDehydrated&&(Xc(t,e).flags|=256),t=Xy(t,e),t!==2&&(e=Bo,Bo=n,e!==null&&pE(e)),t}function pE(t){Bo===null?Bo=t:Bo.push.apply(Bo,t)}function sX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Rs(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Iu(t,e){for(e&=~hE,e&=~Uy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xs(e),r=1<<n;t[n]=-1,e&=~r}}function $L(t){if(Qt&6)throw Error(_e(327));Kd();var e=oy(t,0);if(!(e&1))return zo(t,ur()),null;var n=Xy(t,e);if(t.tag!==0&&n===2){var r=Kx(t);r!==0&&(e=r,n=mE(t,r))}if(n===1)throw n=Wm,Xc(t,0),Iu(t,e),zo(t,ur()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qc(t,Bo,dl),zo(t,ur()),null}function vE(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(qd=ur()+500,xy&&ku())}}function Kc(t){Au!==null&&Au.tag===0&&!(Qt&6)&&Kd();var e=Qt;Qt|=1;var n=Bi.transition,r=dn;try{if(Bi.transition=null,dn=1,t)return t()}finally{dn=r,Bi.transition=n,Qt=e,!(Qt&6)&&ku()}}function wE(){vi=Yd.current,An(Yd)}function Xc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DK(n)),pr!==null)for(n=pr.return;n!==null;){var r=n;switch(MR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cy();break;case 3:Ud(),An(Wo),An(no),zR();break;case 5:VR(r);break;case 4:Ud();break;case 13:An($n);break;case 19:An($n);break;case 10:NR(r.type._context);break;case 22:case 23:wE()}n=n.return}if(Pr=t,pr=t=Nu(t.current,null),qr=vi=e,Er=0,Wm=null,hE=Uy=qc=0,Bo=Fm=null,$c!==null){for(e=0;e<$c.length;e++)if(n=$c[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}$c=null}return t}function GL(t,e){do{var n=pr;try{if(IR(),Ny.current=jy,Hy){for(var r=Gn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Hy=!1}if(Yc=0,Ar=Rr=Gn=null,Im=!1,Nm=0,cE.current=null,n===null||n.return===null){Er=1,Wm=e,pr=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=qr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=pL(s);if(g!==null){g.flags&=-257,vL(g,s,a,i,e),g.mode&1&&mL(i,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var w=new Set;w.add(l),e.updateQueue=w}else p.add(l);break e}else{if(!(e&1)){mL(i,u,e),yE();break e}l=Error(_e(426))}}else if(Wn&&a.mode&1){var C=pL(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),vL(C,s,a,i,e),AR($d(l,a));break e}}i=l=$d(l,a),Er!==4&&(Er=2),Fm===null?Fm=[i]:Fm.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=fL(i,l,e);DD(i,v);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ou===null||!Ou.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=gL(i,a,e);DD(i,M);break e}}i=i.return}while(i!==null)}KL(n)}catch(_){e=_,pr===n&&n!==null&&(pr=n=n.return);continue}break}while(!0)}function YL(){var t=zy.current;return zy.current=jy,t===null?jy:t}function yE(){(Er===0||Er===3||Er===2)&&(Er=4),Pr===null||!(qc&268435455)&&!(Uy&268435455)||Iu(Pr,qr)}function Xy(t,e){var n=Qt;Qt|=2;var r=YL();(Pr!==t||qr!==e)&&(dl=null,Xc(t,e));do try{aX();break}catch(o){GL(t,o)}while(!0);if(IR(),Qt=n,zy.current=r,pr!==null)throw Error(_e(261));return Pr=null,qr=0,Er}function aX(){for(;pr!==null;)qL(pr)}function lX(){for(;pr!==null&&!I7();)qL(pr)}function qL(t){var e=JL(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?KL(t):pr=e,cE.current=null}function KL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tX(n,e),n!==null){n.flags&=32767,pr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Er=6,pr=null;return}}else if(n=eX(n,e,vi),n!==null){pr=n;return}if(e=e.sibling,e!==null){pr=e;return}pr=e=t}while(e!==null);Er===0&&(Er=5)}function Qc(t,e,n){var r=dn,o=Bi.transition;try{Bi.transition=null,dn=1,uX(t,e,n,r)}finally{Bi.transition=o,dn=r}return null}function uX(t,e,n,r){do Kd();while(Au!==null);if(Qt&6)throw Error(_e(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(z7(t,i),t===Pr&&(pr=Pr=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gy||(Gy=!0,ZL(ey,function(){return Kd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bi.transition,Bi.transition=null;var s=dn;dn=1;var a=Qt;Qt|=4,cE.current=null,rX(t,n),WL(n,t),_K(bR),ay=!!yR,bR=yR=null,t.current=n,oX(n),N7(),Qt=a,dn=s,Bi.transition=i}else t.current=n;if(Gy&&(Gy=!1,Au=t,Yy=o),i=t.pendingLanes,i===0&&(Ou=null),L7(n.stateNode),zo(t,ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($y)throw $y=!1,t=fE,fE=null,t;return Yy&1&&t.tag!==0&&Kd(),i=t.pendingLanes,i&1?t===gE?Vm++:(Vm=0,gE=t):Vm=0,ku(),null}function Kd(){if(Au!==null){var t=HH(Yy),e=Bi.transition,n=dn;try{if(Bi.transition=null,dn=16>t?16:t,Au===null)var r=!1;else{if(t=Au,Au=null,Yy=0,Qt&6)throw Error(_e(331));var o=Qt;for(Qt|=4,Ye=t.current;Ye!==null;){var i=Ye,s=i.child;if(Ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ye=u;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:jm(8,c,i)}var h=c.child;if(h!==null)h.return=c,Ye=h;else for(;Ye!==null;){c=Ye;var d=c.sibling,g=c.return;if(NL(c),c===u){Ye=null;break}if(d!==null){d.return=g,Ye=d;break}Ye=g}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}Ye=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ye=s;else e:for(;Ye!==null;){if(i=Ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jm(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ye=v;break e}Ye=i.return}}var y=t.current;for(Ye=y;Ye!==null;){s=Ye;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ye=x;else e:for(s=y;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:By(9,a)}}catch(_){rr(a,a.return,_)}if(a===s){Ye=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Ye=M;break e}Ye=a.return}}if(Qt=o,ku(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(ty,t)}catch{}r=!0}return r}finally{dn=n,Bi.transition=e}}return!1}function XL(t,e,n){e=$d(n,e),e=fL(t,e,1),t=Mu(t,e,1),e=Eo(),t!==null&&(hm(t,1,e),zo(t,e))}function rr(t,e,n){if(t.tag===3)XL(t,t,n);else for(;e!==null;){if(e.tag===3){XL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ou===null||!Ou.has(r))){t=$d(n,t),t=gL(e,t,1),e=Mu(e,t,1),t=Eo(),e!==null&&(hm(e,1,t),zo(e,t));break}}e=e.return}}function cX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Eo(),t.pingedLanes|=t.suspendedLanes&n,Pr===t&&(qr&n)===n&&(Er===4||Er===3&&(qr&130023424)===qr&&500>ur()-dE?Xc(t,0):hE|=n),zo(t,e)}function QL(t,e){e===0&&(t.mode&1?(e=ry,ry<<=1,!(ry&130023424)&&(ry=4194304)):e=1);var n=Eo();t=ul(t,e),t!==null&&(hm(t,e,n),zo(t,n))}function hX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QL(t,n)}function dX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),QL(t,n)}var JL;JL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wo.current)Vo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vo=!1,ZK(t,e,n);Vo=!!(t.flags&131072)}else Vo=!1,Wn&&e.flags&1048576&&_D(e,Ey,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fy(t,e),t=e.pendingProps;var o=Ld(e,no.current);Bd(e,n),o=GR(null,e,r,t,o,n);var i=YR();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fo(r)?(i=!0,Sy(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,LR(e),o.updater=Ay,e.stateNode=o,o._reactInternals=e,WR(e,r,t,n),e=tE(null,e,r,!0,i,n)):(e.tag=0,Wn&&i&&TR(e),Ro(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fy(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=gX(r),t=ks(r,t),o){case 0:e=eE(null,e,r,t,n);break e;case 1:e=xL(null,e,r,t,n);break e;case 11:e=wL(null,e,r,t,n);break e;case 14:e=yL(null,e,r,ks(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ks(r,o),eE(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ks(r,o),xL(t,e,r,o,n);case 3:e:{if(RL(e),t===null)throw Error(_e(387));r=e.pendingProps,i=e.memoizedState,o=i.element,HD(t,e),Oy(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=$d(Error(_e(423)),e),e=EL(t,e,r,n,o);break e}else if(r!==o){o=$d(Error(_e(424)),e),e=EL(t,e,r,n,o);break e}else for(pi=xu(e.stateNode.containerInfo.firstChild),mi=e,Wn=!0,Es=null,n=UD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fd(),r===o){e=hl(t,e,n);break e}Ro(t,e,r,n)}e=e.child}return e;case 5:return $D(e),t===null&&OR(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,CR(r,o)?s=null:i!==null&&CR(r,i)&&(e.flags|=32),SL(t,e),Ro(t,e,s,n),e.child;case 6:return t===null&&OR(e),null;case 13:return kL(t,e,n);case 4:return FR(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zd(e,null,r,n):Ro(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ks(r,o),wL(t,e,r,o,n);case 7:return Ro(t,e,e.pendingProps,n),e.child;case 8:return Ro(t,e,e.pendingProps.children,n),e.child;case 12:return Ro(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Rn(Ty,r._currentValue),r._currentValue=s,i!==null)if(Rs(i.value,s)){if(i.children===o.children&&!Wo.current){e=hl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cl(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),HR(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(_e(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),HR(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ro(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Bd(e,n),o=Fi(o),r=r(o),e.flags|=1,Ro(t,e,r,n),e.child;case 14:return r=e.type,o=ks(r,e.pendingProps),o=ks(r.type,o),yL(t,e,r,o,n);case 15:return bL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ks(r,o),Fy(t,e),e.tag=1,Fo(r)?(t=!0,Sy(e)):t=!1,Bd(e,n),FD(e,r,o),WR(e,r,o,n),tE(null,e,r,!0,t,n);case 19:return ML(t,e,n);case 22:return CL(t,e,n)}throw Error(_e(156,e.tag))};function ZL(t,e){return OH(t,e)}function fX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(t,e,n,r){return new fX(t,e,n,r)}function bE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gX(t){if(typeof t=="function")return bE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tx)return 11;if(t===Ox)return 14}return 2}function Nu(t,e){var n=t.alternate;return n===null?(n=zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qy(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")bE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rd:return Jc(n.children,o,i,e);case Ex:s=8,o|=8;break;case kx:return t=zi(12,n,e,o|2),t.elementType=kx,t.lanes=i,t;case Mx:return t=zi(13,n,e,o),t.elementType=Mx,t.lanes=i,t;case _x:return t=zi(19,n,e,o),t.elementType=_x,t.lanes=i,t;case sH:return Jy(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oH:s=10;break e;case iH:s=9;break e;case Tx:s=11;break e;case Ox:s=14;break e;case mu:s=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=zi(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Jc(t,e,n,r){return t=zi(7,t,r,e),t.lanes=n,t}function Jy(t,e,n,r){return t=zi(22,t,r,e),t.elementType=sH,t.lanes=n,t.stateNode={isHidden:!1},t}function CE(t,e,n){return t=zi(6,t,null,e),t.lanes=n,t}function SE(t,e,n){return e=zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mX(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xx(0),this.expirationTimes=Xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xx(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function xE(t,e,n,r,o,i,s,a,l){return t=new mX(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zi(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},LR(i),t}function pX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ej(t){if(!t)return Eu;t=t._reactInternals;e:{if(Fc(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Fo(n))return kD(t,n,e)}return e}function tj(t,e,n,r,o,i,s,a,l){return t=xE(n,r,!0,t,o,i,s,a,l),t.context=ej(null),n=t.current,r=Eo(),o=Pu(n),i=cl(r,o),i.callback=e??null,Mu(n,i,o),t.current.lanes=o,hm(t,o,r),zo(t,r),t}function Zy(t,e,n,r){var o=e.current,i=Eo(),s=Pu(o);return n=ej(n),e.context===null?e.context=n:e.pendingContext=n,e=cl(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mu(o,e,s),t!==null&&(_s(t,o,s,i),_y(t,o,s)),s}function eb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RE(t,e){nj(t,e),(t=t.alternate)&&nj(t,e)}function vX(){return null}var rj=typeof reportError=="function"?reportError:function(t){console.error(t)};function EE(t){this._internalRoot=t}tb.prototype.render=EE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Zy(t,e,null,null)},tb.prototype.unmount=EE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kc(function(){Zy(null,t,null,null)}),e[il]=null}};function tb(t){this._internalRoot=t}tb.prototype.unstable_scheduleHydration=function(t){if(t){var e=jH();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bu.length&&e!==0&&e<bu[n].priority;n++);bu.splice(n,0,t),n===0&&VH(t)}};function kE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oj(){}function wX(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=eb(s);i.call(u)}}var s=tj(e,r,t,0,null,!1,!1,"",oj);return t._reactRootContainer=s,t[il]=s.current,Em(t.nodeType===8?t.parentNode:t),Kc(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=eb(l);a.call(u)}}var l=xE(t,0,!1,null,null,!1,!1,"",oj);return t._reactRootContainer=l,t[il]=l.current,Em(t.nodeType===8?t.parentNode:t),Kc(function(){Zy(e,l,n,r)}),l}function rb(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=eb(s);a.call(l)}}Zy(e,s,t,o)}else s=wX(n,e,t,o,r);return eb(s)}DH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cm(e.pendingLanes);n!==0&&(Qx(e,n|1),zo(e,ur()),!(Qt&6)&&(qd=ur()+500,ku()))}break;case 13:Kc(function(){var r=ul(t,1);if(r!==null){var o=Eo();_s(r,t,1,o)}}),RE(t,1)}},Jx=function(t){if(t.tag===13){var e=ul(t,134217728);if(e!==null){var n=Eo();_s(e,t,134217728,n)}RE(t,134217728)}},LH=function(t){if(t.tag===13){var e=Pu(t),n=ul(t,e);if(n!==null){var r=Eo();_s(n,t,e,r)}RE(t,e)}},jH=function(){return dn},WH=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}},Ux=function(t,e,n){switch(e){case"input":if(Dx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=by(r);if(!o)throw Error(_e(90));uH(r),Dx(r,o)}}}break;case"textarea":gH(t,n);break;case"select":e=n.value,e!=null&&Ed(t,!!n.multiple,e,!1)}},xH=vE,RH=Kc;var yX={usingClientEntryPoint:!1,Events:[Mm,Hd,by,CH,SH,vE]},Bm={findFiberByHostInstance:Vc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bX={bundleType:Bm.bundleType,version:Bm.version,rendererPackageName:Bm.rendererPackageName,rendererConfig:Bm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ol.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MH(t),t===null?null:t.stateNode},findFiberByHostInstance:Bm.findFiberByHostInstance||vX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ob.isDisabled&&ob.supportsFiber)try{ty=ob.inject(bX),ua=ob}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yX,di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kE(e))throw Error(_e(200));return pX(t,e,null,n)},di.createRoot=function(t,e){if(!kE(t))throw Error(_e(299));var n=!1,r="",o=rj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=xE(t,1,!1,null,null,n,!1,r,o),t[il]=e.current,Em(t.nodeType===8?t.parentNode:t),new EE(e)},di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=MH(e),t=t===null?null:t.stateNode,t},di.flushSync=function(t){return Kc(t)},di.hydrate=function(t,e,n){if(!nb(e))throw Error(_e(200));return rb(null,t,e,!0,n)},di.hydrateRoot=function(t,e,n){if(!kE(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=rj;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=tj(e,null,t,1,n??null,o,!1,i,s),t[il]=e.current,Em(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new tb(e)},di.render=function(t,e,n){if(!nb(e))throw Error(_e(200));return rb(null,t,e,!1,n)},di.unmountComponentAtNode=function(t){if(!nb(t))throw Error(_e(40));return t._reactRootContainer?(Kc(function(){rb(null,null,t,!1,function(){t._reactRootContainer=null,t[il]=null})}),!0):!1},di.unstable_batchedUpdates=vE,di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nb(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return rb(t,e,n,!1,r)},di.version="18.2.0-next-9e3b772b8-20220608";function ij(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ij)}catch(t){console.error(t)}}ij(),QN.exports=di;var Zc=QN.exports;const TE=gu(Zc),CX=fu({__proto__:null,default:TE},[Zc]);var sj=Zc;bx.createRoot=sj.createRoot,bx.hydrateRoot=sj.hydrateRoot;/**
* @remix-run/router v1.15.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yn.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const aj="popstate";function SX(t){t===void 0&&(t={});function e(o,i){let{pathname:s="/",search:a="",hash:l=""}=ga(o.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),zm("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=o.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:eh(i))}function r(o,i){Hu(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return RX(e,n,r,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xX(){return Math.random().toString(36).substr(2,8)}function lj(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n,r){return n===void 0&&(n=null),Yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:n,key:e&&e.key||r||xX()})}function eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RX(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=cr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Yn({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=cr.Pop;let C=c(),v=C==null?null:C-u;u=C,l&&l({action:a,location:w.location,delta:v})}function d(C,v){a=cr.Push;let y=zm(w.location,C,v);n&&n(y,C),u=c()+1;let x=lj(y,u),M=w.createHref(y);try{s.pushState(x,"",M)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(M)}i&&l&&l({action:a,location:w.location,delta:1})}function g(C,v){a=cr.Replace;let y=zm(w.location,C,v);n&&n(y,C),u=c();let x=lj(y,u),M=w.createHref(y);s.replaceState(x,"",M),i&&l&&l({action:a,location:w.location,delta:0})}function p(C){let v=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof C=="string"?C:eh(C);return Ft(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(o,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(aj,h),l=C,()=>{o.removeEventListener(aj,h),l=null}},createHref(C){return e(o,C)},createURL:p,encodeLocation(C){let v=p(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:g,go(C){return s.go(C)}};return w}var or;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(or||(or={}));const EX=new Set(["lazy","caseSensitive","path","id","index","children"]);function kX(t){return t.index===!0}function ME(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,i)=>{let s=[...n,i],a=typeof o.id=="string"?o.id:s.join("-");if(Ft(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ft(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),kX(o)){let l=Yn({},o,e(o),{id:a});return r[a]=l,l}else{let l=Yn({},o,e(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=ME(o.children,e,s,r)),l}})}function Xd(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ga(e):e,o=fl(r.pathname||"/",n);if(o==null)return null;let i=uj(t);MX(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=LX(i[a],WX(o));return s}function TX(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function uj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gl([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uj(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:HX(u,i.index),routesMeta:c})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of cj(i.path))o(i,s,l)}),e}function cj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=cj(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _X=/^:[\w-]+$/,OX=3,AX=2,PX=1,IX=10,NX=-2,hj=t=>t==="*";function HX(t,e){let n=t.split("/"),r=n.length;return n.some(hj)&&(r+=NX),e&&(r+=AX),n.filter(o=>!hj(o)).reduce((o,i)=>o+(_X.test(i)?OX:i===""?PX:IX),r)}function DX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function LX(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",c=_E({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;i.push({params:r,pathname:gl([o,c.pathname]),pathnameBase:zX(gl([o,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(o=gl([o,c.pathnameBase]))}return i}function _E(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jX(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((l,u,c)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let p=a[c]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[c];return d&&!g?l[h]=void 0:l[h]=FX(g||"",h),l},{}),pathname:i,pathnameBase:s,pattern:t}}function jX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function WX(t){try{return decodeURI(t)}catch(e){return Hu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FX(t,e){try{return decodeURIComponent(t)}catch(n){return Hu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VX(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:BX(n,e):e,search:UX(r),hash:$X(o)}}function BX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function OE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AE(t,e){let n=dj(t);return e?n.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function PE(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ga(t):(o=Yn({},t),Ft(!o.pathname||!o.pathname.includes("?"),OE("?","pathname","search",o)),Ft(!o.pathname||!o.pathname.includes("#"),OE("#","pathname","hash",o)),Ft(!o.search||!o.search.includes("#"),OE("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;o.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=VX(o,a),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const gl=t=>t.join("/").replace(/\/\/+/g,"/"),zX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$X=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,GX=function(t,e){e===void 0&&(e=302);let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,Yn({},n,{headers:r}))};class IE{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gj=["post","put","patch","delete"],YX=new Set(gj),qX=["get",...gj],KX=new Set(qX),XX=new Set([301,302,303,307,308]),QX=new Set([307,308]),NE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JX={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Um={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZX=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),pj="remix-router-transitions";function eQ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ft(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let X=t.detectErrorBoundary;o=ie=>({hasErrorBoundary:X(ie)})}else o=ZX;let i={},s=ME(t.routes,o,void 0,i),a,l=t.basename||"/",u=Yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,d=null,g=null,p=null,w=t.hydrationData!=null,C=Xd(s,t.history.location,l),v=null;if(C==null){let X=Ui(404,{pathname:t.history.location.pathname}),{matches:ie,route:ge}=Ej(s);C=ie,v={[ge.id]:X}}let y,x=C.some(X=>X.route.lazy),M=C.some(X=>X.route.loader);if(x)y=!1;else if(!M)y=!0;else if(u.v7_partialHydration){let X=t.hydrationData?t.hydrationData.loaderData:null,ie=t.hydrationData?t.hydrationData.errors:null;y=C.every(ge=>ge.route.loader&&ge.route.loader.hydrate!==!0&&(X&&X[ge.route.id]!==void 0||ie&&ie[ge.route.id]!==void 0))}else y=t.hydrationData!=null;let _,T={historyAction:t.history.action,location:t.history.location,matches:C,initialized:y,navigation:NE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},O=cr.Pop,I=!1,N,L=!1,B=new Map,ae=null,U=!1,ce=!1,ve=[],Me=[],Ce=new Map,ne=0,S=-1,R=new Map,k=new Set,D=new Map,W=new Map,V=new Set,he=new Map,te=new Map,we=!1;function ye(){if(c=t.history.listen(X=>{let{action:ie,location:ge,delta:J}=X;if(we){we=!1;return}Hu(te.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=ln({currentLocation:T.location,nextLocation:ge,historyAction:ie});if(Pe&&J!=null){we=!0,t.history.go(J*-1),pt(Pe,{state:"blocked",location:ge,proceed(){pt(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),t.history.go(J)},reset(){let lt=new Map(T.blockers);lt.set(Pe,Um),We({blockers:lt})}});return}return mt(ie,ge)}),n){hQ(e,B);let X=()=>dQ(e,B);e.addEventListener("pagehide",X),ae=()=>e.removeEventListener("pagehide",X)}return T.initialized||mt(cr.Pop,T.location,{initialHydration:!0}),_}function pe(){c&&c(),ae&&ae(),h.clear(),N&&N.abort(),T.fetchers.forEach((X,ie)=>q(ie)),T.blockers.forEach((X,ie)=>at(ie))}function $e(X){return h.add(X),()=>h.delete(X)}function We(X,ie){ie===void 0&&(ie={}),T=Yn({},T,X);let ge=[],J=[];u.v7_fetcherPersist&&T.fetchers.forEach((Pe,lt)=>{Pe.state==="idle"&&(V.has(lt)?J.push(lt):ge.push(lt))}),[...h].forEach(Pe=>Pe(T,{deletedFetchers:J,unstable_viewTransitionOpts:ie.viewTransitionOpts,unstable_flushSync:ie.flushSync===!0})),u.v7_fetcherPersist&&(ge.forEach(Pe=>T.fetchers.delete(Pe)),J.forEach(Pe=>q(Pe)))}function Xe(X,ie,ge){var J,Pe;let{flushSync:lt}=ge===void 0?{}:ge,ht=T.actionData!=null&&T.navigation.formMethod!=null&&Os(T.navigation.formMethod)&&T.navigation.state==="loading"&&((J=X.state)==null?void 0:J._isRedirect)!==!0,it;ie.actionData?Object.keys(ie.actionData).length>0?it=ie.actionData:it=null:ht?it=T.actionData:it=null;let nt=ie.loaderData?Rj(T.loaderData,ie.loaderData,ie.matches||[],ie.errors):T.loaderData,Mt=T.blockers;Mt.size>0&&(Mt=new Map(Mt),Mt.forEach((sn,Sn)=>Mt.set(Sn,Um)));let yn=I===!0||T.navigation.formMethod!=null&&Os(T.navigation.formMethod)&&((Pe=X.state)==null?void 0:Pe._isRedirect)!==!0;a&&(s=a,a=void 0),U||O===cr.Pop||(O===cr.Push?t.history.push(X,X.state):O===cr.Replace&&t.history.replace(X,X.state));let st;if(O===cr.Pop){let sn=B.get(T.location.pathname);sn&&sn.has(X.pathname)?st={currentLocation:T.location,nextLocation:X}:B.has(X.pathname)&&(st={currentLocation:X,nextLocation:T.location})}else if(L){let sn=B.get(T.location.pathname);sn?sn.add(X.pathname):(sn=new Set([X.pathname]),B.set(T.location.pathname,sn)),st={currentLocation:T.location,nextLocation:X}}We(Yn({},ie,{actionData:it,loaderData:nt,historyAction:O,location:X,initialized:!0,navigation:NE,revalidation:"idle",restoreScrollPosition:sa(X,ie.matches||T.matches),preventScrollReset:yn,blockers:Mt}),{viewTransitionOpts:st,flushSync:lt===!0}),O=cr.Pop,I=!1,L=!1,U=!1,ce=!1,ve=[],Me=[]}async function Se(X,ie){if(typeof X=="number"){t.history.go(X);return}let ge=HE(T.location,T.matches,l,u.v7_prependBasename,X,u.v7_relativeSplatPath,ie==null?void 0:ie.fromRouteId,ie==null?void 0:ie.relative),{path:J,submission:Pe,error:lt}=vj(u.v7_normalizeFormMethod,!1,ge,ie),ht=T.location,it=zm(T.location,J,ie&&ie.state);it=Yn({},it,t.history.encodeLocation(it));let nt=ie&&ie.replace!=null?ie.replace:void 0,Mt=cr.Push;nt===!0?Mt=cr.Replace:nt===!1||Pe!=null&&Os(Pe.formMethod)&&Pe.formAction===T.location.pathname+T.location.search&&(Mt=cr.Replace);let yn=ie&&"preventScrollReset"in ie?ie.preventScrollReset===!0:void 0,st=(ie&&ie.unstable_flushSync)===!0,sn=ln({currentLocation:ht,nextLocation:it,historyAction:Mt});if(sn){pt(sn,{state:"blocked",location:it,proceed(){pt(sn,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),Se(X,ie)},reset(){let Sn=new Map(T.blockers);Sn.set(sn,Um),We({blockers:Sn})}});return}return await mt(Mt,it,{submission:Pe,pendingError:lt,preventScrollReset:yn,replace:ie&&ie.replace,enableViewTransition:ie&&ie.unstable_viewTransition,flushSync:st})}function le(){if(Z(),We({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){mt(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}mt(O||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function mt(X,ie,ge){N&&N.abort(),N=null,O=X,U=(ge&&ge.startUninterruptedRevalidation)===!0,bs(T.location,T.matches),I=(ge&&ge.preventScrollReset)===!0,L=(ge&&ge.enableViewTransition)===!0;let J=a||s,Pe=ge&&ge.overrideNavigation,lt=Xd(J,ie,l),ht=(ge&&ge.flushSync)===!0;if(!lt){let Sn=Ui(404,{pathname:ie.pathname}),{matches:Zr,route:xn}=Ej(J);St(),Xe(ie,{matches:Zr,loaderData:{},errors:{[xn.id]:Sn}},{flushSync:ht});return}if(T.initialized&&!ce&&iQ(T.location,ie)&&!(ge&&ge.submission&&Os(ge.submission.formMethod))){Xe(ie,{matches:lt},{flushSync:ht});return}N=new AbortController;let it=Gm(t.history,ie,N.signal,ge&&ge.submission),nt,Mt;if(ge&&ge.pendingError)Mt={[Ym(lt).route.id]:ge.pendingError};else if(ge&&ge.submission&&Os(ge.submission.formMethod)){let Sn=await Qe(it,ie,ge.submission,lt,{replace:ge.replace,flushSync:ht});if(Sn.shortCircuited)return;nt=Sn.pendingActionData,Mt=Sn.pendingActionError,Pe=WE(ie,ge.submission),ht=!1,it=new Request(it.url,{signal:it.signal})}let{shortCircuited:yn,loaderData:st,errors:sn}=await et(it,ie,lt,Pe,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,ht,nt,Mt);yn||(N=null,Xe(ie,Yn({matches:lt},nt?{actionData:nt}:{},{loaderData:st,errors:sn})))}async function Qe(X,ie,ge,J,Pe){Pe===void 0&&(Pe={}),Z();let lt=uQ(ie,ge);We({navigation:lt},{flushSync:Pe.flushSync===!0});let ht,it=jE(J,ie);if(!it.route.action&&!it.route.lazy)ht={type:or.error,error:Ui(405,{method:X.method,pathname:ie.pathname,routeId:it.route.id})};else if(ht=await $m("action",X,it,J,i,o,l,u.v7_relativeSplatPath),X.signal.aborted)return{shortCircuited:!0};if(nh(ht)){let nt;return Pe&&Pe.replace!=null?nt=Pe.replace:nt=ht.location===T.location.pathname+T.location.search,await H(T,ht,{submission:ge,replace:nt}),{shortCircuited:!0}}if(Qd(ht)){let nt=Ym(J,it.route.id);return(Pe&&Pe.replace)!==!0&&(O=cr.Push),{pendingActionData:{},pendingActionError:{[nt.route.id]:ht.error}}}if(th(ht))throw Ui(400,{type:"defer-action"});return{pendingActionData:{[it.route.id]:ht.data}}}async function et(X,ie,ge,J,Pe,lt,ht,it,nt,Mt,yn){let st=J||WE(ie,Pe),sn=Pe||lt||Oj(st),Sn=a||s,[Zr,xn]=wj(t.history,T,ge,sn,ie,u.v7_partialHydration&&it===!0,ce,ve,Me,V,D,k,Sn,l,Mt,yn);if(St(gt=>!(ge&&ge.some(Ht=>Ht.route.id===gt))||Zr&&Zr.some(Ht=>Ht.route.id===gt)),S=++ne,Zr.length===0&&xn.length===0){let gt=Oe();return Xe(ie,Yn({matches:ge,loaderData:{},errors:yn||null},Mt?{actionData:Mt}:{},gt?{fetchers:new Map(T.fetchers)}:{}),{flushSync:nt}),{shortCircuited:!0}}if(!U&&(!u.v7_partialHydration||!it)){xn.forEach(Ht=>{let Zt=T.fetchers.get(Ht.key),Co=qm(void 0,Zt?Zt.data:void 0);T.fetchers.set(Ht.key,Co)});let gt=Mt||T.actionData;We(Yn({navigation:st},gt?Object.keys(gt).length===0?{actionData:null}:{actionData:gt}:{},xn.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:nt})}xn.forEach(gt=>{Ce.has(gt.key)&&Q(gt.key),gt.controller&&Ce.set(gt.key,gt.controller)});let $r=()=>xn.forEach(gt=>Q(gt.key));N&&N.signal.addEventListener("abort",$r);let{results:lr,loaderResults:Cs,fetcherResults:Di}=await j(T.matches,ge,Zr,xn,X);if(X.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",$r),xn.forEach(gt=>Ce.delete(gt.key));let ci=kj(lr);if(ci){if(ci.idx>=Zr.length){let gt=xn[ci.idx-Zr.length].key;k.add(gt)}return await H(T,ci.result,{replace:ht}),{shortCircuited:!0}}let{loaderData:Lc,errors:G}=xj(T,ge,Zr,Cs,yn,xn,Di,he);he.forEach((gt,Ht)=>{gt.subscribe(Zt=>{(Zt||gt.done)&&he.delete(Ht)})});let Ie=Oe(),Te=De(S),Wt=Ie||Te||xn.length>0;return Yn({loaderData:Lc,errors:G},Wt?{fetchers:new Map(T.fetchers)}:{})}function ft(X,ie,ge,J){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ce.has(X)&&Q(X);let Pe=(J&&J.unstable_flushSync)===!0,lt=a||s,ht=HE(T.location,T.matches,l,u.v7_prependBasename,ge,u.v7_relativeSplatPath,ie,J==null?void 0:J.relative),it=Xd(lt,ht,l);if(!it){ee(X,ie,Ui(404,{pathname:ht}),{flushSync:Pe});return}let{path:nt,submission:Mt,error:yn}=vj(u.v7_normalizeFormMethod,!0,ht,J);if(yn){ee(X,ie,yn,{flushSync:Pe});return}let st=jE(it,nt);if(I=(J&&J.preventScrollReset)===!0,Mt&&Os(Mt.formMethod)){He(X,ie,nt,st,it,Pe,Mt);return}D.set(X,{routeId:ie,path:nt}),A(X,ie,nt,st,it,Pe,Mt)}async function He(X,ie,ge,J,Pe,lt,ht){if(Z(),D.delete(X),!J.route.action&&!J.route.lazy){let Ht=Ui(405,{method:ht.formMethod,pathname:ge,routeId:ie});ee(X,ie,Ht,{flushSync:lt});return}let it=T.fetchers.get(X);$(X,cQ(ht,it),{flushSync:lt});let nt=new AbortController,Mt=Gm(t.history,ge,nt.signal,ht);Ce.set(X,nt);let yn=ne,st=await $m("action",Mt,J,Pe,i,o,l,u.v7_relativeSplatPath);if(Mt.signal.aborted){Ce.get(X)===nt&&Ce.delete(X);return}if(u.v7_fetcherPersist&&V.has(X)){if(nh(st)||Qd(st)){$(X,Du(void 0));return}}else{if(nh(st))if(Ce.delete(X),S>yn){$(X,Du(void 0));return}else return k.add(X),$(X,qm(ht)),H(T,st,{fetcherSubmission:ht});if(Qd(st)){ee(X,ie,st.error);return}}if(th(st))throw Ui(400,{type:"defer-action"});let sn=T.navigation.location||T.location,Sn=Gm(t.history,sn,nt.signal),Zr=a||s,xn=T.navigation.state!=="idle"?Xd(Zr,T.navigation.location,l):T.matches;Ft(xn,"Didn't find any matches after fetcher action");let $r=++ne;R.set(X,$r);let lr=qm(ht,st.data);T.fetchers.set(X,lr);let[Cs,Di]=wj(t.history,T,xn,ht,sn,!1,ce,ve,Me,V,D,k,Zr,l,{[J.route.id]:st.data},void 0);Di.filter(Ht=>Ht.key!==X).forEach(Ht=>{let Zt=Ht.key,Co=T.fetchers.get(Zt),hi=qm(void 0,Co?Co.data:void 0);T.fetchers.set(Zt,hi),Ce.has(Zt)&&Q(Zt),Ht.controller&&Ce.set(Zt,Ht.controller)}),We({fetchers:new Map(T.fetchers)});let ci=()=>Di.forEach(Ht=>Q(Ht.key));nt.signal.addEventListener("abort",ci);let{results:Lc,loaderResults:G,fetcherResults:Ie}=await j(T.matches,xn,Cs,Di,Sn);if(nt.signal.aborted)return;nt.signal.removeEventListener("abort",ci),R.delete(X),Ce.delete(X),Di.forEach(Ht=>Ce.delete(Ht.key));let Te=kj(Lc);if(Te){if(Te.idx>=Cs.length){let Ht=Di[Te.idx-Cs.length].key;k.add(Ht)}return H(T,Te.result)}let{loaderData:Wt,errors:gt}=xj(T,T.matches,Cs,G,void 0,Di,Ie,he);if(T.fetchers.has(X)){let Ht=Du(st.data);T.fetchers.set(X,Ht)}De($r),T.navigation.state==="loading"&&$r>S?(Ft(O,"Expected pending action"),N&&N.abort(),Xe(T.navigation.location,{matches:xn,loaderData:Wt,errors:gt,fetchers:new Map(T.fetchers)})):(We({errors:gt,loaderData:Rj(T.loaderData,Wt,xn,gt),fetchers:new Map(T.fetchers)}),ce=!1)}async function A(X,ie,ge,J,Pe,lt,ht){let it=T.fetchers.get(X);$(X,qm(ht,it?it.data:void 0),{flushSync:lt});let nt=new AbortController,Mt=Gm(t.history,ge,nt.signal);Ce.set(X,nt);let yn=ne,st=await $m("loader",Mt,J,Pe,i,o,l,u.v7_relativeSplatPath);if(th(st)&&(st=await _j(st,Mt.signal,!0)||st),Ce.get(X)===nt&&Ce.delete(X),!Mt.signal.aborted){if(V.has(X)){$(X,Du(void 0));return}if(nh(st))if(S>yn){$(X,Du(void 0));return}else{k.add(X),await H(T,st);return}if(Qd(st)){ee(X,ie,st.error);return}Ft(!th(st),"Unhandled fetcher deferred data"),$(X,Du(st.data))}}async function H(X,ie,ge){let{submission:J,fetcherSubmission:Pe,replace:lt}=ge===void 0?{}:ge;ie.revalidate&&(ce=!0);let ht=zm(X.location,ie.location,{_isRedirect:!0});if(Ft(ht,"Expected a location on the redirect navigation"),n){let sn=!1;if(ie.reloadDocument)sn=!0;else if(mj.test(ie.location)){const Sn=t.history.createURL(ie.location);sn=Sn.origin!==e.location.origin||fl(Sn.pathname,l)==null}if(sn){lt?e.location.replace(ie.location):e.location.assign(ie.location);return}}N=null;let it=lt===!0?cr.Replace:cr.Push,{formMethod:nt,formAction:Mt,formEncType:yn}=X.navigation;!J&&!Pe&&nt&&Mt&&yn&&(J=Oj(X.navigation));let st=J||Pe;if(QX.has(ie.status)&&st&&Os(st.formMethod))await mt(it,ht,{submission:Yn({},st,{formAction:ie.location}),preventScrollReset:I});else{let sn=WE(ht,J);await mt(it,ht,{overrideNavigation:sn,fetcherSubmission:Pe,preventScrollReset:I})}}async function j(X,ie,ge,J,Pe){let lt=await Promise.all([...ge.map(nt=>$m("loader",Pe,nt,ie,i,o,l,u.v7_relativeSplatPath)),...J.map(nt=>nt.matches&&nt.match&&nt.controller?$m("loader",Gm(t.history,nt.path,nt.controller.signal),nt.match,nt.matches,i,o,l,u.v7_relativeSplatPath):{type:or.error,error:Ui(404,{pathname:nt.path})})]),ht=lt.slice(0,ge.length),it=lt.slice(ge.length);return await Promise.all([Mj(X,ge,ht,ht.map(()=>Pe.signal),!1,T.loaderData),Mj(X,J.map(nt=>nt.match),it,J.map(nt=>nt.controller?nt.controller.signal:null),!0)]),{results:lt,loaderResults:ht,fetcherResults:it}}function Z(){ce=!0,ve.push(...St()),D.forEach((X,ie)=>{Ce.has(ie)&&(Me.push(ie),Q(ie))})}function $(X,ie,ge){ge===void 0&&(ge={}),T.fetchers.set(X,ie),We({fetchers:new Map(T.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function ee(X,ie,ge,J){J===void 0&&(J={});let Pe=Ym(T.matches,ie);q(X),We({errors:{[Pe.route.id]:ge},fetchers:new Map(T.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function K(X){return u.v7_fetcherPersist&&(W.set(X,(W.get(X)||0)+1),V.has(X)&&V.delete(X)),T.fetchers.get(X)||JX}function q(X){let ie=T.fetchers.get(X);Ce.has(X)&&!(ie&&ie.state==="loading"&&R.has(X))&&Q(X),D.delete(X),R.delete(X),k.delete(X),V.delete(X),T.fetchers.delete(X)}function oe(X){if(u.v7_fetcherPersist){let ie=(W.get(X)||0)-1;ie<=0?(W.delete(X),V.add(X)):W.set(X,ie)}else q(X);We({fetchers:new Map(T.fetchers)})}function Q(X){let ie=Ce.get(X);Ft(ie,"Expected fetch controller: "+X),ie.abort(),Ce.delete(X)}function re(X){for(let ie of X){let ge=K(ie),J=Du(ge.data);T.fetchers.set(ie,J)}}function Oe(){let X=[],ie=!1;for(let ge of k){let J=T.fetchers.get(ge);Ft(J,"Expected fetcher: "+ge),J.state==="loading"&&(k.delete(ge),X.push(ge),ie=!0)}return re(X),ie}function De(X){let ie=[];for(let[ge,J]of R)if(J<X){let Pe=T.fetchers.get(ge);Ft(Pe,"Expected fetcher: "+ge),Pe.state==="loading"&&(Q(ge),R.delete(ge),ie.push(ge))}return re(ie),ie.length>0}function tt(X,ie){let ge=T.blockers.get(X)||Um;return te.get(X)!==ie&&te.set(X,ie),ge}function at(X){T.blockers.delete(X),te.delete(X)}function pt(X,ie){let ge=T.blockers.get(X)||Um;Ft(ge.state==="unblocked"&&ie.state==="blocked"||ge.state==="blocked"&&ie.state==="blocked"||ge.state==="blocked"&&ie.state==="proceeding"||ge.state==="blocked"&&ie.state==="unblocked"||ge.state==="proceeding"&&ie.state==="unblocked","Invalid blocker state transition: "+ge.state+" -> "+ie.state);let J=new Map(T.blockers);J.set(X,ie),We({blockers:J})}function ln(X){let{currentLocation:ie,nextLocation:ge,historyAction:J}=X;if(te.size===0)return;te.size>1&&Hu(!1,"A router only supports one blocker at a time");let Pe=Array.from(te.entries()),[lt,ht]=Pe[Pe.length-1],it=T.blockers.get(lt);if(!(it&&it.state==="proceeding")&&ht({currentLocation:ie,nextLocation:ge,historyAction:J}))return lt}function St(X){let ie=[];return he.forEach((ge,J)=>{(!X||X(J))&&(ge.cancel(),ie.push(J),he.delete(J))}),ie}function Be(X,ie,ge){if(d=X,p=ie,g=ge||null,!w&&T.navigation===NE){w=!0;let J=sa(T.location,T.matches);J!=null&&We({restoreScrollPosition:J})}return()=>{d=null,p=null,g=null}}function cn(X,ie){return g&&g(X,ie.map(ge=>TX(ge,T.loaderData)))||X.key}function bs(X,ie){if(d&&p){let ge=cn(X,ie);d[ge]=p()}}function sa(X,ie){if(d){let ge=cn(X,ie),J=d[ge];if(typeof J=="number")return J}return null}function hn(X){i={},a=ME(X,o,void 0,i)}return _={get basename(){return l},get future(){return u},get state(){return T},get routes(){return s},get window(){return e},initialize:ye,subscribe:$e,enableScrollRestoration:Be,navigate:Se,fetch:ft,revalidate:le,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:K,deleteFetcher:oe,dispose:pe,getBlocker:tt,deleteBlocker:at,_internalFetchControllers:Ce,_internalActiveDeferreds:he,_internalSetRoutes:hn},_}function tQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function HE(t,e,n,r,o,i,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=PE(o||".",AE(l,i),fl(t.pathname,n)||t.pathname,a==="path");return o==null&&(c.search=t.search,c.hash=t.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!LE(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:gl([n,c.pathname])),eh(c)}function vj(t,e,n,r){if(!r||!tQ(r))return{path:n};if(r.formMethod&&!lQ(r.formMethod))return{path:n,error:Ui(405,{method:r.formMethod})};let o=()=>({path:n,error:Ui(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=t?i.toUpperCase():i.toLowerCase(),a=Tj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Os(s))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,p)=>{let[w,C]=p;return""+g+w+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Os(s))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=DE(r.formData),u=r.formData;else if(r.body instanceof FormData)l=DE(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Sj(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Sj(l)}catch{return o()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Os(c.formMethod))return{path:n,submission:c};let h=ga(n);return e&&h.search&&LE(h.search)&&l.append("index",""),h.search="?"+l,{path:eh(h),submission:c}}function nQ(t,e){let n=t;if(e){let r=t.findIndex(o=>o.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function wj(t,e,n,r,o,i,s,a,l,u,c,h,d,g,p,w){let C=w?Object.values(w)[0]:p?Object.values(p)[0]:void 0,v=t.createURL(e.location),y=t.createURL(o),x=w?Object.keys(w)[0]:void 0,M=nQ(n,x).filter((T,O)=>{let{route:I}=T;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if(rQ(e.loaderData,e.matches[O],T)||a.some(B=>B===T.route.id))return!0;let N=e.matches[O],L=T;return bj(T,Yn({currentUrl:v,currentParams:N.params,nextUrl:y,nextParams:L.params},r,{actionResult:C,defaultShouldRevalidate:s||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||yj(N,L)}))}),_=[];return c.forEach((T,O)=>{if(i||!n.some(ae=>ae.route.id===T.routeId)||u.has(O))return;let I=Xd(d,T.path,g);if(!I){_.push({key:O,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),L=jE(I,T.path),B=!1;h.has(O)?B=!1:l.includes(O)?B=!0:N&&N.state!=="idle"&&N.data===void 0?B=s:B=bj(L,Yn({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:C,defaultShouldRevalidate:s})),B&&_.push({key:O,routeId:T.routeId,path:T.path,matches:I,match:L,controller:new AbortController})}),[M,_]}function rQ(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function yj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bj(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Cj(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];Ft(o,"No route found in manifest");let i={};for(let s in r){let a=o[s]!==void 0&&s!=="hasErrorBoundary";Hu(!a,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!EX.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Yn({},e(o),{lazy:void 0}))}async function $m(t,e,n,r,o,i,s,a,l){l===void 0&&(l={});let u,c,h,d=w=>{let C,v=new Promise((y,x)=>C=x);return h=()=>C(),e.signal.addEventListener("abort",h),Promise.race([w({request:e,params:n.params,context:l.requestContext}),v])};try{let w=n.route[t];if(n.route.lazy)if(w){let C,v=await Promise.all([d(w).catch(y=>{C=y}),Cj(n.route,i,o)]);if(C)throw C;c=v[0]}else if(await Cj(n.route,i,o),w=n.route[t],w)c=await d(w);else if(t==="action"){let C=new URL(e.url),v=C.pathname+C.search;throw Ui(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:or.data,data:void 0};else if(w)c=await d(w);else{let C=new URL(e.url),v=C.pathname+C.search;throw Ui(404,{pathname:v})}Ft(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(w){u=or.error,c=w}finally{h&&e.signal.removeEventListener("abort",h)}if(aQ(c)){let w=c.status;if(XX.has(w)){let v=c.headers.get("Location");if(Ft(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!mj.test(v))v=HE(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,v,a);else if(!l.isStaticRequest){let y=new URL(e.url),x=v.startsWith("//")?new URL(y.protocol+v):new URL(v),M=fl(x.pathname,s)!=null;x.origin===y.origin&&M&&(v=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw c.headers.set("Location",v),c;return{type:or.redirect,status:w,location:v,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===or.error?or.error:or.data,response:c};let C;try{let v=c.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?c.body==null?C=null:C=await c.json():C=await c.text()}catch(v){return{type:or.error,error:v}}return u===or.error?{type:u,error:new IE(w,c.statusText,C),headers:c.headers}:{type:or.data,data:C,statusCode:c.status,headers:c.headers}}if(u===or.error)return{type:u,error:c};if(sQ(c)){var g,p;return{type:or.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:or.data,data:c}}function Gm(t,e,n,r){let o=t.createURL(Tj(e)).toString(),i={signal:n};if(r&&Os(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=DE(r.formData):i.body=r.formData}return new Request(o,i)}function DE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Sj(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function oQ(t,e,n,r,o){let i={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=e[h].route.id;if(Ft(!nh(c),"Cannot handle redirect results in processLoaderData"),Qd(c)){let g=Ym(t,d),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=p),i[d]=void 0,l||(l=!0,a=fj(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else th(c)?(o.set(d,c.deferredData),i[d]=c.deferredData.data):i[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:u}}function xj(t,e,n,r,o,i,s,a){let{loaderData:l,errors:u}=oQ(e,n,r,o,a);for(let c=0;c<i.length;c++){let{key:h,match:d,controller:g}=i[c];Ft(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(g&&g.signal.aborted))if(Qd(p)){let w=Ym(t.matches,d==null?void 0:d.route.id);u&&u[w.route.id]||(u=Yn({},u,{[w.route.id]:p.error})),t.fetchers.delete(h)}else if(nh(p))Ft(!1,"Unhandled fetcher revalidation redirect");else if(th(p))Ft(!1,"Unhandled fetcher deferred data");else{let w=Du(p.data);t.fetchers.set(h,w)}}return{loaderData:l,errors:u}}function Rj(t,e,n,r){let o=Yn({},e);for(let i of n){let s=i.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(o[s]=e[s]):t[s]!==void 0&&i.route.loader&&(o[s]=t[s]),r&&r.hasOwnProperty(s))break}return o}function Ym(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Ej(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ui(t,e){let{pathname:n,routeId:r,method:o,type:i}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",o&&n&&r?a="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",o&&n&&r?a="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(a='Invalid request method "'+o.toUpperCase()+'"')),new IE(t||500,s,new Error(a),!0)}function kj(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(nh(n))return{result:n,idx:e}}}function Tj(t){let e=typeof t=="string"?ga(t):t;return eh(Yn({},e,{hash:""}))}function iQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function th(t){return t.type===or.deferred}function Qd(t){return t.type===or.error}function nh(t){return(t&&t.type)===or.redirect}function sQ(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lQ(t){return KX.has(t.toLowerCase())}function Os(t){return YX.has(t.toLowerCase())}async function Mj(t,e,n,r,o,i){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!yj(u,l)&&(i&&i[l.route.id])!==void 0;if(th(a)&&(o||c)){let h=r[s];Ft(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await _j(a,h,o).then(d=>{d&&(n[s]=d||n[s])})}}}async function _j(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:or.data,data:t.deferredData.unwrappedData}}catch(r){return{type:or.error,error:r}}return{type:or.data,data:t.deferredData.data}}}function LE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jE(t,e){let n=typeof e=="string"?ga(e).search:e.search;if(t[t.length-1].route.index&&LE(n||""))return t[t.length-1];let r=dj(t);return r[r.length-1]}function Oj(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:i,json:s}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function WE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Du(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hQ(t,e){try{let n=t.sessionStorage.getItem(pj);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(o,new Set(i||[]))}}catch{}}function dQ(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(pj,JSON.stringify(n))}catch(r){Hu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
* React Router v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}const Xm=Y.createContext(null),FE=Y.createContext(null),Lu=Y.createContext(null),ib=Y.createContext(null),ju=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Aj=Y.createContext(null);function fQ(t,e){let{relative:n}=e===void 0?{}:e;Qm()||Ft(!1);let{basename:r,navigator:o}=Y.useContext(Lu),{hash:i,pathname:s,search:a}=sb(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:gl([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Qm(){return Y.useContext(ib)!=null}function Jd(){return Qm()||Ft(!1),Y.useContext(ib).location}function Pj(t){Y.useContext(Lu).static||Y.useLayoutEffect(t)}function gQ(){let{isDataRoute:t}=Y.useContext(ju);return t?MQ():mQ()}function mQ(){Qm()||Ft(!1);let t=Y.useContext(Xm),{basename:e,future:n,navigator:r}=Y.useContext(Lu),{matches:o}=Y.useContext(ju),{pathname:i}=Jd(),s=JSON.stringify(AE(o,n.v7_relativeSplatPath)),a=Y.useRef(!1);return Pj(()=>{a.current=!0}),Y.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=PE(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:gl([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,s,i,t])}const pQ=Y.createContext(null);function vQ(t){let e=Y.useContext(ju).outlet;return e&&Y.createElement(pQ.Provider,{value:t},e)}function sb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Y.useContext(Lu),{matches:o}=Y.useContext(ju),{pathname:i}=Jd(),s=JSON.stringify(AE(o,r.v7_relativeSplatPath));return Y.useMemo(()=>PE(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function wQ(t,e,n,r){Qm()||Ft(!1);let{navigator:o}=Y.useContext(Lu),{matches:i}=Y.useContext(ju),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Jd(),c;if(e){var h;let C=typeof e=="string"?ga(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||Ft(!1),c=C}else c=u;let d=c.pathname||"/",g=l==="/"?d:d.slice(l.length)||"/",p=Xd(t,{pathname:g}),w=xQ(p&&p.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:gl([l,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:gl([l,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return e&&w?Y.createElement(ib.Provider,{value:{location:Km({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:cr.Pop}},w):w}function yQ(){let t=TQ(),e=fj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:r},n):null,null)}const bQ=Y.createElement(yQ,null);class CQ extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(ju.Provider,{value:this.props.routeContext},Y.createElement(Aj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SQ(t){let{routeContext:e,match:n,children:r}=t,o=Y.useContext(Xm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(ju.Provider,{value:e},r)}function xQ(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||Ft(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:g}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let g,p=!1,w=null,C=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||bQ,l&&(u<0&&d===0?(_Q("route-fallback",!1),p=!0,C=null):u===d&&(p=!0,C=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),y=()=>{let x;return g?x=w:p?x=C:h.route.Component?x=Y.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,Y.createElement(SQ,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?Y.createElement(CQ,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Ij=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ij||{}),ab=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ab||{});function RQ(t){let e=Y.useContext(Xm);return e||Ft(!1),e}function EQ(t){let e=Y.useContext(FE);return e||Ft(!1),e}function kQ(t){let e=Y.useContext(ju);return e||Ft(!1),e}function Nj(t){let e=kQ(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function TQ(){var t;let e=Y.useContext(Aj),n=EQ(ab.UseRouteError),r=Nj(ab.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MQ(){let{router:t}=RQ(Ij.UseNavigateStable),e=Nj(ab.UseNavigateStable),n=Y.useRef(!1);return Pj(()=>{n.current=!0}),Y.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Km({fromRouteId:e},o)))},[t,e])}const Hj={};function _Q(t,e,n){!e&&!Hj[t]&&(Hj[t]=!0)}function OQ(t){return vQ(t.context)}function AQ(t){let{basename:e="/",children:n=null,location:r,navigationType:o=cr.Pop,navigator:i,static:s=!1,future:a}=t;Qm()&&Ft(!1);let l=e.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:l,navigator:i,static:s,future:Km({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=ga(r));let{pathname:c="/",search:h="",hash:d="",state:g=null,key:p="default"}=r,w=Y.useMemo(()=>{let C=fl(c,l);return C==null?null:{location:{pathname:C,search:h,hash:d,state:g,key:p},navigationType:o}},[l,c,h,d,g,p,o]);return w==null?null:Y.createElement(Lu.Provider,{value:u},Y.createElement(ib.Provider,{children:n,value:w}))}new Promise(()=>{});function PQ(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
* React Router DOM v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function Dj(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function IQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NQ(t,e){return t.button===0&&(!e||e==="_self")&&!IQ(t)}const HQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DQ=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],LQ="6";try{window.__reactRouterVersion=LQ}catch{}function jQ(t,e){return eQ({basename:e==null?void 0:e.basename,future:Zd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:SX({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||WQ(),routes:t,mapRouteProperties:PQ,window:e==null?void 0:e.window}).initialize()}function WQ(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Zd({},e,{errors:FQ(e.errors)})),e}function FQ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new IE(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const Lj=Y.createContext({isTransitioning:!1}),VQ=Y.createContext(new Map),BQ="startTransition",jj=h7[BQ],zQ="flushSync",Wj=CX[zQ];function UQ(t){jj?jj(t):t()}function Jm(t){Wj?Wj(t):t()}class $Q{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function GQ(t){let{fallbackElement:e,router:n,future:r}=t,[o,i]=Y.useState(n.state),[s,a]=Y.useState(),[l,u]=Y.useState({isTransitioning:!1}),[c,h]=Y.useState(),[d,g]=Y.useState(),[p,w]=Y.useState(),C=Y.useRef(new Map),{v7_startTransition:v}=r||{},y=Y.useCallback(O=>{v?UQ(O):O()},[v]),x=Y.useCallback((O,I)=>{let{deletedFetchers:N,unstable_flushSync:L,unstable_viewTransitionOpts:B}=I;N.forEach(U=>C.current.delete(U)),O.fetchers.forEach((U,ce)=>{U.data!==void 0&&C.current.set(ce,U.data)});let ae=n.window==null||typeof n.window.document.startViewTransition!="function";if(!B||ae){L?Jm(()=>i(O)):y(()=>i(O));return}if(L){Jm(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let U=n.window.document.startViewTransition(()=>{Jm(()=>i(O))});U.finished.finally(()=>{Jm(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),Jm(()=>g(U));return}d?(c&&c.resolve(),d.skipTransition(),w({state:O,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(a(O),u({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,d,c,C,y]);Y.useLayoutEffect(()=>n.subscribe(x),[n,x]),Y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new $Q)},[l]),Y.useEffect(()=>{if(c&&s&&n.window){let O=s,I=c.promise,N=n.window.document.startViewTransition(async()=>{y(()=>i(O)),await I});N.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(N)}},[y,s,c,n.window]),Y.useEffect(()=>{c&&s&&o.location.key===s.location.key&&c.resolve()},[c,d,o.location,s]),Y.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),w(void 0))},[l.isTransitioning,p]),Y.useEffect(()=>{},[]);let M=Y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:O=>n.navigate(O),push:(O,I,N)=>n.navigate(O,{state:I,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(O,I,N)=>n.navigate(O,{replace:!0,state:I,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),_=n.basename||"/",T=Y.useMemo(()=>({router:n,navigator:M,static:!1,basename:_}),[n,M,_]);return Y.createElement(Y.Fragment,null,Y.createElement(Xm.Provider,{value:T},Y.createElement(FE.Provider,{value:o},Y.createElement(VQ.Provider,{value:C.current},Y.createElement(Lj.Provider,{value:l},Y.createElement(AQ,{basename:_,location:o.location,navigationType:o.historyAction,navigator:M,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?Y.createElement(YQ,{routes:n.routes,future:n.future,state:o}):e))))),null)}function YQ(t){let{routes:e,future:n,state:r}=t;return wQ(e,void 0,r,n)}const qQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XQ=Y.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:o,replace:i,state:s,target:a,to:l,preventScrollReset:u,unstable_viewTransition:c}=t,h=Dj(t,HQ),{basename:d}=Y.useContext(Lu),g,p=!1;if(typeof l=="string"&&KQ.test(l)&&(g=l,qQ))try{let y=new URL(window.location.href),x=l.startsWith("//")?new URL(y.protocol+l):new URL(l),M=fl(x.pathname,d);x.origin===y.origin&&M!=null?l=M+x.search+x.hash:p=!0}catch{}let w=fQ(l,{relative:r}),C=JQ(l,{replace:i,state:s,target:a,preventScrollReset:u,relative:r,unstable_viewTransition:c});function v(y){n&&n(y),y.defaultPrevented||C(y)}return Y.createElement("a",Zd({},h,{href:g||w,onClick:p||o?n:v,ref:e,target:a}))}),lb=Y.forwardRef(function(t,e){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:i=!1,style:s,to:a,unstable_viewTransition:l,children:u}=t,c=Dj(t,DQ),h=sb(a,{relative:c.relative}),d=Jd(),g=Y.useContext(FE),{navigator:p,basename:w}=Y.useContext(Lu),C=g!=null&&ZQ(h)&&l===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=d.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&w&&(x=fl(x,w)||x);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=y===v||!i&&y.startsWith(v)&&y.charAt(M)==="/",T=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),O={isActive:_,isPending:T,isTransitioning:C},I=_?n:void 0,N;typeof o=="function"?N=o(O):N=[o,_?"active":null,T?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(O):s;return Y.createElement(XQ,Zd({},c,{"aria-current":I,className:N,ref:e,style:L,to:a,unstable_viewTransition:l}),typeof u=="function"?u(O):u)});var VE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VE||(VE={}));var Fj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fj||(Fj={}));function QQ(t){let e=Y.useContext(Xm);return e||Ft(!1),e}function JQ(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=gQ(),u=Jd(),c=sb(t,{relative:s});return Y.useCallback(h=>{if(NQ(h,n)){h.preventDefault();let d=r!==void 0?r:eh(u)===eh(c);l(t,{replace:d,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[u,l,c,r,o,n,t,i,s,a])}function ZQ(t,e){e===void 0&&(e={});let n=Y.useContext(Lj);n==null&&Ft(!1);let{basename:r}=QQ(VE.useViewTransitionState),o=sb(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=fl(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _E(o.pathname,s)!=null||_E(o.pathname,i)!=null}const eJ=t=>{const e=typeof t=="function",n=Y.useRef(t);Y.useEffect(()=>{n.current=t}),Y.useEffect(()=>{if(e){const r=o=>{const i=n.current(o);if(typeof i=="string")return o.preventDefault(),o.returnValue=i;if(o.defaultPrevented)return o.returnValue=""};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}}},[e])},Uo="vocaloidlyrics",BE={Niconico:"NN",YouTube:"YT",bilibili:"BB",piapro:"PP",SoundCloud:"SC",Vimeo:"VM"},zE=[{site:"Niconico",re:/^https?:\/\/www\.nicovideo\.jp/,sanitize:/^(?<head>https?:\/\/www\.nicovideo\.jp\/watch\/)(?<id>[^\/\?]+)/,isMedia:!0},{site:"YouTube",re:/^https?:\/\/(?:(?:|www\.)youtube\.com\/(?:watch\?v=|shorts)|youtu\.be)/,sanitize:/^(?<head>https?:\/\/(?:(?:|www\.)youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/))(?<id>[^\/\?]{11})/,isMedia:!0},{site:"bilibili",re:/^https?:\/\/www\.bilibili\.com/,sanitize:/^(?<head>https?:\/\/www\.bilibili\.com\/video\/)(?<id>[^\/\?]+)/,isMedia:!0},{site:"piapro",re:/^https?:\/\/piapro\.jp/,isMedia:!0},{site:"SoundCloud",re:/^https?:\/\/soundcloud\.com/,isMedia:!0},{site:"Bandcamp",re:/^https?:\/\/[^\.]*\.?bandcamp\.com/,isMedia:!0},{site:"Vimeo",re:/^https?:\/\/vimeo\.com/,isMedia:!0},{site:"Netease Music",re:/^https?:\/\/music\.163\.com/,isMedia:!0},{site:"Spotify",re:/^https?:\/\/[^\.]+\.spotify\.com/,isMedia:!0},{site:"5Sing",re:/^https?:\/\/5sing\.kugou\.com/,isMedia:!0}],Vj=zE.concat([{site:"YouTube Channel",re:/^https?:\/\/www\.youtube\.com\/user\/.*/,isMedia:!0},{site:"YouTube Channel",re:/^https?:\/\/www\.youtube\.com\/channel\/.*/,isMedia:!0},{site:"bilibili Space",re:/^https?:\/\/space\.bilibili\.com\/.*/,isMedia:!0},{site:"VocaDB",re:/^https?:\/\/vocadb\.net\/.*/,sanitize:/(?<head>https?:\/\/vocadb\.net\/(?:S|Ar|Al)\/)(?<id>\d+)/},{site:"TuneCore Japan",re:/^https?:\/\/www\.tunecore\.co\.jp\/.*/,isMedia:!0},{site:"VOCALOID Lyrics Wiki",re:/^https?:\/\/vocaloidlyrics\.fandom\.com\/*/},{site:"VOCALOID Wiki",re:/^https?:\/\/vocaloid\.fandom\.com\/.*/},{site:"Hatsune Miku Wiki",re:/^https?:\/\/www5\.atwiki\.jp\/hmiku\/.*/},{site:"Hatsune Miku Wiki",re:/^https?:\/\/w\.atwiki\.jp\/hmiku\/.*/},{site:"Anime Lyrics",re:/^https?:\/\/www\.animelyrics\.com\/.*/},{site:"Niconico Pedia",re:/^https?:\/\/dic\.nicovideo\.jp\/.*/},{site:"Blomaga",re:/^https?:\/\/ch\.nicovideo\.jp\/.*/},{site:"Niconico Commons",re:/^https?:\/\/commons\.nicovideo\.jp\/.*/},{site:"pixiv",re:/^https?:\/\/www\.pixiv\.net\/.*/,isMedia:!0},{site:"UtaiteDB",re:/^https?:\/\/utaitedb\.net\/.*/},{site:"Project DIVA Wiki",re:/^https?:\/\/project-diva\.fandom\.com\/.*/},{site:"Project DIVA Wiki",re:/^https?:\/\/projectdiva\.wiki\/.*/},{site:"The Evillious Chronicles Wiki",re:/^https?:\/\/theevilliouschronicles\.fandom\.com\/.*/},{site:"Vocaloid English & Romaji Lyrics @wiki",re:/^https?:\/\/w\.atwiki\.jp\/vocaloidenglishlyric\/.*/},{site:"ChordWiki",re:/^https?:\/\/ja\.chordwiki\.org\/.*/},{site:"Pixiv Encyclopedia",re:/^https?:\/\/dic\.pixiv\.net\/.*/},{site:"Pixiv Encyclopedia (English)",re:/^https?:\/\/en-dic\.pixiv\.net\/.*/},{site:"J-Lyrics.net",re:/^https?:\/\/j-lyric\.net\/.*/},{site:"KARENT",re:/^https?:\/\/karent\.jp\/.*/,isMedia:!0},{site:"Wikipedia",re:/^https?:\/\/en\.wikipedia\.org\/.*/},{site:"Wikipedia (Japanese)",re:/^https?:\/\/ja\.wikipedia\.org\/.*/},{site:"X (Twitter)",re:/^https?:\/\/(twitter|x)\.com\/.*/},{site:"UtaTen",re:/^https?:\/\/utaten\.com\/.*/},{site:"KKBOX",re:/^https?:\/\/www\.kkbox\.com\/.*/},{site:"Lyrical Nonsense",re:/^https?:\/\/www\.lyrical-nonsense\.com\/.*/},{site:"KashiGET",re:/^https?:\/\/www\.kget\.jp\/.*/},{site:"Dropbox",re:/^https?:\/\/www\.dropbox\.com\/.*/},{site:"Google Drive",re:/^https?:\/\/drive\.google\.com\/.*/},{site:"Google Docs",re:/^https?:\/\/docs\.google\.com\/.*/},{site:"DeviantArt",re:/^https?:\/\/[^\.]+\.deviantart\.com\/.*/},{site:"DeviantArt",re:/^https?:\/\/fav\.me\/.*/},{site:"Len's Lyrics",re:/^https?:\/\/lenslyrics\.ml\/.*/},{site:"Baidu",re:/^https?:\/\/pan\.baidu\.com\/.*/},{site:"BOOTH",re:/^https?:\/\/[^\.]+\.booth\.pm\/.*/,isMedia:!0},{site:"Pixiv Fanbox",re:/^https?:\/\/www\.pixiv\.net\/fanbox\/.*/,isMedia:!0}]),tJ=t=>{switch(t){case"/song-pages":return["Song Page Generator",`https://${Uo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Song_Article_Guideline`];case"/album-pages":return["Album Page Generator",`https://${Uo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Album_Article_Guideline`];case"/producer-pages":return["Producer Page Generator",`https://${Uo}.fandom.com/wiki/Vocaloid_Lyrics_Wiki:Producer_Article_Guideline`];case"/lyrics-editor":return["Lyrics Editor",null];default:return["Page Generators",null]}};function nJ(){const t=Jd(),[e,n]=tJ(t.pathname);return m.jsxs("header",{children:[m.jsxs("h1",{children:["VLW ",e]}),n&&m.jsxs("div",{children:["For more information, please refer to the ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"wiki guidelines"})]})]})}const ub=({isActive:t})=>t?"active-nav-link":"";function rJ(){return m.jsxs("footer",{children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-item-left",children:["Author: ",m.jsx("a",{href:"https://coolmikehatsune22.wordpress.com/about-me/",target:"_blank",rel:"noopener noreferrer",children:"CoolMikeHatsune22"}),", based on earlier work by ",m.jsx("a",{href:`https://${Uo}.fandom.com/wiki/User:ElectricRaichu`,target:"_blank",rel:"noopener noreferrer",children:"ElectricRaichu"})," and ",m.jsx("a",{href:`https://${Uo}.fandom.com/wiki/User:Nefere`,target:"_blank",rel:"noopener noreferrer",children:"Nefere"}),".",m.jsx("br",{}),"Powered by React, ",m.jsx("a",{href:"https://handsontable.com/",target:"_blank",rel:"noopener noreferrer",children:"Handsontable"}),", and ",m.jsx("a",{href:"https://semantic-ui.com",target:"_blank",rel:"noopener noreferrer",children:"Semantic UI"}),".",m.jsx("br",{}),m.jsx("br",{}),"Github Repository: ",m.jsx("a",{href:"https://github.com/ccxtwf/VLW-Page-Generators-v2",target:"_blank",rel:"noopener noreferrer",children:"VLW Song Page Generator"}),m.jsx("br",{}),"Re-use and modification permitted under the CC license.",m.jsx("br",{}),"Feel free to report any bugs/issues or suggest any improvement to ",m.jsx("a",{href:`https://${Uo}.fandom.com/wiki/User:CoolMikeHatsune22`,target:"_blank",rel:"noopener noreferrer",children:"my VLW profile"}),"."]}),m.jsxs("div",{className:"footer-item-right",children:["Navigation:",m.jsx("br",{}),m.jsx(lb,{to:"/song-pages",className:ub,children:"Song Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/album-pages",className:ub,children:"Album Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/producer-pages",className:ub,children:"Producer Page Generator"}),m.jsx("br",{}),m.jsx(lb,{to:"/lyrics-editor",className:ub,children:"Lyrics Editor"})]})]}),m.jsx("div",{})]})}function oJ(){return eJ(()=>"Are you sure you want to close this tab?"),m.jsxs(m.Fragment,{children:[m.jsx(nJ,{}),m.jsx("hr",{}),m.jsx("main",{children:m.jsx(OQ,{})}),m.jsx("hr",{}),m.jsx(rJ,{})]})}function iJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var Bj={exports:{}},fn={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ir=typeof Symbol=="function"&&Symbol.for,UE=Ir?Symbol.for("react.element"):60103,$E=Ir?Symbol.for("react.portal"):60106,cb=Ir?Symbol.for("react.fragment"):60107,hb=Ir?Symbol.for("react.strict_mode"):60108,db=Ir?Symbol.for("react.profiler"):60114,fb=Ir?Symbol.for("react.provider"):60109,gb=Ir?Symbol.for("react.context"):60110,GE=Ir?Symbol.for("react.async_mode"):60111,mb=Ir?Symbol.for("react.concurrent_mode"):60111,pb=Ir?Symbol.for("react.forward_ref"):60112,vb=Ir?Symbol.for("react.suspense"):60113,sJ=Ir?Symbol.for("react.suspense_list"):60120,wb=Ir?Symbol.for("react.memo"):60115,yb=Ir?Symbol.for("react.lazy"):60116,aJ=Ir?Symbol.for("react.block"):60121,lJ=Ir?Symbol.for("react.fundamental"):60117,uJ=Ir?Symbol.for("react.responder"):60118,cJ=Ir?Symbol.for("react.scope"):60119;function wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UE:switch(t=t.type,t){case GE:case mb:case cb:case db:case hb:case vb:return t;default:switch(t=t&&t.$$typeof,t){case gb:case pb:case yb:case wb:case fb:return t;default:return e}}case $E:return e}}}function zj(t){return wi(t)===mb}fn.AsyncMode=GE,fn.ConcurrentMode=mb,fn.ContextConsumer=gb,fn.ContextProvider=fb,fn.Element=UE,fn.ForwardRef=pb,fn.Fragment=cb,fn.Lazy=yb,fn.Memo=wb,fn.Portal=$E,fn.Profiler=db,fn.StrictMode=hb,fn.Suspense=vb,fn.isAsyncMode=function(t){return zj(t)||wi(t)===GE},fn.isConcurrentMode=zj,fn.isContextConsumer=function(t){return wi(t)===gb},fn.isContextProvider=function(t){return wi(t)===fb},fn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UE},fn.isForwardRef=function(t){return wi(t)===pb},fn.isFragment=function(t){return wi(t)===cb},fn.isLazy=function(t){return wi(t)===yb},fn.isMemo=function(t){return wi(t)===wb},fn.isPortal=function(t){return wi(t)===$E},fn.isProfiler=function(t){return wi(t)===db},fn.isStrictMode=function(t){return wi(t)===hb},fn.isSuspense=function(t){return wi(t)===vb},fn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cb||t===mb||t===db||t===hb||t===vb||t===sJ||typeof t=="object"&&t!==null&&(t.$$typeof===yb||t.$$typeof===wb||t.$$typeof===fb||t.$$typeof===gb||t.$$typeof===pb||t.$$typeof===lJ||t.$$typeof===uJ||t.$$typeof===cJ||t.$$typeof===aJ)},fn.typeOf=wi,Bj.exports=fn;var hJ=Bj.exports;function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},YE(t,e)}function vr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,YE(t,e)}var ma=function(t,e){if(typeof t=="function"){t(e);return}t!==null&&typeof t=="object"&&(t.current=e)},dJ=function(t){return t!==null&&typeof t=="object"&&t.hasOwnProperty("current")},fJ=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.prevNode=void 0,r}var n=e.prototype;return n.componentDidMount=function(){var r=Zc.findDOMNode(this);this.prevNode=r,ma(this.props.innerRef,r)},n.componentDidUpdate=function(r){var o=Zc.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,ma(this.props.innerRef,o)),r.innerRef!==this.props.innerRef&&ma(this.props.innerRef,o)},n.componentWillUnmount=function(){ma(this.props.innerRef,null),delete this.prevNode},n.render=function(){var r=this.props.children;return r},e}(Y.Component),gJ=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.currentNode=void 0,r.handleRefOverride=function(a){var l=r.props,u=l.children,c=l.innerRef;ma(u.ref,a),ma(c,a),r.currentNode=a},r}var n=e.prototype;return n.componentDidUpdate=function(r){r.innerRef!==this.props.innerRef&&ma(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var r=this.props.children;return Y.cloneElement(r,{ref:this.handleRefOverride})},e}(Y.Component),mJ=["children","innerRef"],pa=function(t){var e=t.children,n=t.innerRef,r=iJ(t,mJ),o=Y.Children.only(e),i=hJ.isForwardRef(o)?gJ:fJ,s=o&&r&&Object.keys(r).length>0?Y.cloneElement(o,r):o;return Y.createElement(i,{innerRef:n},s)};function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}var wr=Array.isArray,Uj=typeof global=="object"&&global&&global.Object===Object&&global,pJ=typeof self=="object"&&self&&self.Object===Object&&self,ml=Uj||pJ||Function("return this")(),va=ml.Symbol,$j=Object.prototype,vJ=$j.hasOwnProperty,wJ=$j.toString,Zm=va?va.toStringTag:void 0;function yJ(t){var e=vJ.call(t,Zm),n=t[Zm];try{t[Zm]=void 0;var r=!0}catch{}var o=wJ.call(t);return r&&(e?t[Zm]=n:delete t[Zm]),o}var bJ=Object.prototype,CJ=bJ.toString;function SJ(t){return CJ.call(t)}var xJ="[object Null]",RJ="[object Undefined]",Gj=va?va.toStringTag:void 0;function wa(t){return t==null?t===void 0?RJ:xJ:Gj&&Gj in Object(t)?yJ(t):SJ(t)}function $i(t){return t!=null&&typeof t=="object"}var EJ="[object Symbol]";function bb(t){return typeof t=="symbol"||$i(t)&&wa(t)==EJ}var kJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TJ=/^\w*$/;function qE(t,e){if(wr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bb(t)?!0:TJ.test(t)||!kJ.test(t)||e!=null&&t in Object(e)}function Wu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var MJ="[object AsyncFunction]",_J="[object Function]",OJ="[object GeneratorFunction]",AJ="[object Proxy]";function ef(t){if(!Wu(t))return!1;var e=wa(t);return e==_J||e==OJ||e==MJ||e==AJ}var KE=ml["__core-js_shared__"],Yj=function(){var t=/[^.]+$/.exec(KE&&KE.keys&&KE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PJ(t){return!!Yj&&Yj in t}var IJ=Function.prototype,NJ=IJ.toString;function rh(t){if(t!=null){try{return NJ.call(t)}catch{}try{return t+""}catch{}}return""}var HJ=/[\\^$.*+?()[\]{}|]/g,DJ=/^\[object .+?Constructor\]$/,LJ=Function.prototype,jJ=Object.prototype,WJ=LJ.toString,FJ=jJ.hasOwnProperty,VJ=RegExp("^"+WJ.call(FJ).replace(HJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BJ(t){if(!Wu(t)||PJ(t))return!1;var e=ef(t)?VJ:DJ;return e.test(rh(t))}function zJ(t,e){return t==null?void 0:t[e]}function oh(t,e){var n=zJ(t,e);return BJ(n)?n:void 0}var ep=oh(Object,"create");function UJ(){this.__data__=ep?ep(null):{},this.size=0}function $J(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GJ="__lodash_hash_undefined__",YJ=Object.prototype,qJ=YJ.hasOwnProperty;function KJ(t){var e=this.__data__;if(ep){var n=e[t];return n===GJ?void 0:n}return qJ.call(e,t)?e[t]:void 0}var XJ=Object.prototype,QJ=XJ.hasOwnProperty;function JJ(t){var e=this.__data__;return ep?e[t]!==void 0:QJ.call(e,t)}var ZJ="__lodash_hash_undefined__";function eZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ep&&e===void 0?ZJ:e,this}function ih(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ih.prototype.clear=UJ,ih.prototype.delete=$J,ih.prototype.get=KJ,ih.prototype.has=JJ,ih.prototype.set=eZ;function tZ(){this.__data__=[],this.size=0}function Cb(t,e){return t===e||t!==t&&e!==e}function Sb(t,e){for(var n=t.length;n--;)if(Cb(t[n][0],e))return n;return-1}var nZ=Array.prototype,rZ=nZ.splice;function oZ(t){var e=this.__data__,n=Sb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rZ.call(e,n,1),--this.size,!0}function iZ(t){var e=this.__data__,n=Sb(e,t);return n<0?void 0:e[n][1]}function sZ(t){return Sb(this.__data__,t)>-1}function aZ(t,e){var n=this.__data__,r=Sb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pl.prototype.clear=tZ,pl.prototype.delete=oZ,pl.prototype.get=iZ,pl.prototype.has=sZ,pl.prototype.set=aZ;var tp=oh(ml,"Map");function lZ(){this.size=0,this.__data__={hash:new ih,map:new(tp||pl),string:new ih}}function uZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xb(t,e){var n=t.__data__;return uZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function cZ(t){var e=xb(this,t).delete(t);return this.size-=e?1:0,e}function hZ(t){return xb(this,t).get(t)}function dZ(t){return xb(this,t).has(t)}function fZ(t,e){var n=xb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vl.prototype.clear=lZ,vl.prototype.delete=cZ,vl.prototype.get=hZ,vl.prototype.has=dZ,vl.prototype.set=fZ;var gZ="Expected a function";function Rb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gZ);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Rb.Cache||vl),n}Rb.Cache=vl;var mZ=500;function pZ(t){var e=Rb(t,function(r){return n.size===mZ&&n.clear(),r}),n=e.cache;return e}var vZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wZ=/\\(\\)?/g,yZ=pZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vZ,function(n,r,o,i){e.push(o?i.replace(wZ,"$1"):r||n)}),e});function Eb(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var bZ=1/0,qj=va?va.prototype:void 0,Kj=qj?qj.toString:void 0;function Xj(t){if(typeof t=="string")return t;if(wr(t))return Eb(t,Xj)+"";if(bb(t))return Kj?Kj.call(t):"";var e=t+"";return e=="0"&&1/t==-bZ?"-0":e}function XE(t){return t==null?"":Xj(t)}function np(t,e){return wr(t)?t:qE(t,e)?[t]:yZ(XE(t))}var CZ="[object Arguments]";function Qj(t){return $i(t)&&wa(t)==CZ}var Jj=Object.prototype,SZ=Jj.hasOwnProperty,xZ=Jj.propertyIsEnumerable,RZ=Qj(function(){return arguments}())?Qj:function(t){return $i(t)&&SZ.call(t,"callee")&&!xZ.call(t,"callee")};const kb=RZ;var EZ=9007199254740991,kZ=/^(?:0|[1-9]\d*)$/;function Tb(t,e){var n=typeof t;return e=e??EZ,!!e&&(n=="number"||n!="symbol"&&kZ.test(t))&&t>-1&&t%1==0&&t<e}var TZ=9007199254740991;function QE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TZ}var MZ=1/0;function tf(t){if(typeof t=="string"||bb(t))return t;var e=t+"";return e=="0"&&1/t==-MZ?"-0":e}function _Z(t,e,n){e=np(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=tf(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&QE(o)&&Tb(s,o)&&(wr(t)||kb(t)))}function Zj(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function OZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Mb(t,e){e=np(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tf(e[n++])];return n&&n==r?t:void 0}function eW(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function AZ(t,e){return e.length<2?t:Mb(t,eW(e,0,-1))}function PZ(t,e,n){e=np(e,t),t=AZ(t,e);var r=t==null?t:t[tf(OZ(e))];return r==null?void 0:Zj(r,t,n)}function rp(t){return t}var tW=Math.max;function nW(t,e,n){return e=tW(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=tW(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),Zj(t,this,a)}}function rW(t){return function(){return t}}var _b=function(){try{var t=oh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),IZ=_b?function(t,e){return _b(t,"toString",{configurable:!0,enumerable:!1,value:rW(e),writable:!0})}:rp;const NZ=IZ;var HZ=800,DZ=16,LZ=Date.now;function jZ(t){var e=0,n=0;return function(){var r=LZ(),o=DZ-(r-n);if(n=r,o>0){if(++e>=HZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oW=jZ(NZ);function Ob(t,e){return oW(nW(t,e,rp),t+"")}var Je=Ob(PZ);function WZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ab(t){return t===void 0}var FZ=/\s/;function VZ(t){for(var e=t.length;e--&&FZ.test(t.charAt(e)););return e}var BZ=/^\s+/;function zZ(t){return t&&t.slice(0,VZ(t)+1).replace(BZ,"")}var iW=NaN,UZ=/^[-+]0x[0-9a-f]+$/i,$Z=/^0b[01]+$/i,GZ=/^0o[0-7]+$/i,YZ=parseInt;function sW(t){if(typeof t=="number")return t;if(bb(t))return iW;if(Wu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zZ(t);var n=$Z.test(t);return n||GZ.test(t)?YZ(t.slice(2),n?2:8):UZ.test(t)?iW:+t}var aW=1/0,qZ=17976931348623157e292;function JE(t){if(!t)return t===0?t:0;if(t=sW(t),t===aW||t===-aW){var e=t<0?-1:1;return e*qZ}return t===t?t:0}function ZE(t){var e=JE(t),n=e%1;return e===e?n?e-n:e:0}function lW(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function KZ(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++o];if(n(i[l],l,i)===!1)break}return e}}var XZ=KZ();function QZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function JZ(){return!1}var uW=typeof to=="object"&&to&&!to.nodeType&&to,cW=uW&&typeof jn=="object"&&jn&&!jn.nodeType&&jn,ZZ=cW&&cW.exports===uW,hW=ZZ?ml.Buffer:void 0,eee=hW?hW.isBuffer:void 0,tee=eee||JZ;const Pb=tee;var nee="[object Arguments]",ree="[object Array]",oee="[object Boolean]",iee="[object Date]",see="[object Error]",aee="[object Function]",lee="[object Map]",uee="[object Number]",cee="[object Object]",hee="[object RegExp]",dee="[object Set]",fee="[object String]",gee="[object WeakMap]",mee="[object ArrayBuffer]",pee="[object DataView]",vee="[object Float32Array]",wee="[object Float64Array]",yee="[object Int8Array]",bee="[object Int16Array]",Cee="[object Int32Array]",See="[object Uint8Array]",xee="[object Uint8ClampedArray]",Ree="[object Uint16Array]",Eee="[object Uint32Array]",Pn={};Pn[vee]=Pn[wee]=Pn[yee]=Pn[bee]=Pn[Cee]=Pn[See]=Pn[xee]=Pn[Ree]=Pn[Eee]=!0,Pn[nee]=Pn[ree]=Pn[mee]=Pn[oee]=Pn[pee]=Pn[iee]=Pn[see]=Pn[aee]=Pn[lee]=Pn[uee]=Pn[cee]=Pn[hee]=Pn[dee]=Pn[fee]=Pn[gee]=!1;function kee(t){return $i(t)&&QE(t.length)&&!!Pn[wa(t)]}function dW(t){return function(e){return t(e)}}var fW=typeof to=="object"&&to&&!to.nodeType&&to,op=fW&&typeof jn=="object"&&jn&&!jn.nodeType&&jn,Tee=op&&op.exports===fW,ek=Tee&&Uj.process,gW=function(){try{var t=op&&op.require&&op.require("util").types;return t||ek&&ek.binding&&ek.binding("util")}catch{}}(),mW=gW&&gW.isTypedArray,Mee=mW?dW(mW):kee;const tk=Mee;var _ee=Object.prototype,Oee=_ee.hasOwnProperty;function Aee(t,e){var n=wr(t),r=!n&&kb(t),o=!n&&!r&&Pb(t),i=!n&&!r&&!o&&tk(t),s=n||r||o||i,a=s?QZ(t.length,String):[],l=a.length;for(var u in t)(e||Oee.call(t,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tb(u,l)))&&a.push(u);return a}var Pee=Object.prototype;function pW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pee;return t===n}function vW(t,e){return function(n){return t(e(n))}}var Iee=vW(Object.keys,Object),Nee=Object.prototype,Hee=Nee.hasOwnProperty;function nk(t){if(!pW(t))return Iee(t);var e=[];for(var n in Object(t))Hee.call(t,n)&&n!="constructor"&&e.push(n);return e}function wl(t){return t!=null&&QE(t.length)&&!ef(t)}function nf(t){return wl(t)?Aee(t):nk(t)}function wW(t,e){return t&&XZ(t,e,nf)}function Dee(t,e){return function(n,r){if(n==null)return n;if(!wl(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=Object(n);(e?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var rf=Dee(wW);function Lee(t,e){var n=[];return rf(t,function(r,o,i){e(r,o,i)&&n.push(r)}),n}function jee(){this.__data__=new pl,this.size=0}function Wee(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Fee(t){return this.__data__.get(t)}function Vee(t){return this.__data__.has(t)}var Bee=200;function zee(t,e){var n=this.__data__;if(n instanceof pl){var r=n.__data__;if(!tp||r.length<Bee-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vl(r)}return n.set(t,e),this.size=n.size,this}function yl(t){var e=this.__data__=new pl(t);this.size=e.size}yl.prototype.clear=jee,yl.prototype.delete=Wee,yl.prototype.get=Fee,yl.prototype.has=Vee,yl.prototype.set=zee;var Uee="__lodash_hash_undefined__";function $ee(t){return this.__data__.set(t,Uee),this}function Gee(t){return this.__data__.has(t)}function of(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vl;++e<n;)this.add(t[e])}of.prototype.add=of.prototype.push=$ee,of.prototype.has=Gee;function yW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function rk(t,e){return t.has(e)}var Yee=1,qee=2;function bW(t,e,n,r,o,i){var s=n&Yee,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,g=n&qee?new of:void 0;for(i.set(t,e),i.set(e,t);++h<a;){var p=t[h],w=e[h];if(r)var C=s?r(w,p,h,e,t,i):r(p,w,h,t,e,i);if(C!==void 0){if(C)continue;d=!1;break}if(g){if(!yW(e,function(v,y){if(!rk(g,y)&&(p===v||o(p,v,n,r,i)))return g.push(y)})){d=!1;break}}else if(!(p===w||o(p,w,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var Kee=ml.Uint8Array;const CW=Kee;function Xee(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function ok(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Qee=1,Jee=2,Zee="[object Boolean]",ete="[object Date]",tte="[object Error]",nte="[object Map]",rte="[object Number]",ote="[object RegExp]",ite="[object Set]",ste="[object String]",ate="[object Symbol]",lte="[object ArrayBuffer]",ute="[object DataView]",SW=va?va.prototype:void 0,ik=SW?SW.valueOf:void 0;function cte(t,e,n,r,o,i,s){switch(n){case ute:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lte:return!(t.byteLength!=e.byteLength||!i(new CW(t),new CW(e)));case Zee:case ete:case rte:return Cb(+t,+e);case tte:return t.name==e.name&&t.message==e.message;case ote:case ste:return t==e+"";case nte:var a=Xee;case ite:var l=r&Qee;if(a||(a=ok),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Jee,s.set(t,e);var c=bW(a(t),a(e),r,o,i,s);return s.delete(t),c;case ate:if(ik)return ik.call(t)==ik.call(e)}return!1}function xW(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function hte(t,e,n){var r=e(t);return wr(t)?r:xW(r,n(t))}function dte(){return[]}var fte=Object.prototype,gte=fte.propertyIsEnumerable,RW=Object.getOwnPropertySymbols,mte=RW?function(t){return t==null?[]:(t=Object(t),lW(RW(t),function(e){return gte.call(t,e)}))}:dte;const pte=mte;function EW(t){return hte(t,nf,pte)}var vte=1,wte=Object.prototype,yte=wte.hasOwnProperty;function bte(t,e,n,r,o,i){var s=n&vte,a=EW(t),l=a.length,u=EW(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:yte.call(e,d)))return!1}var g=i.get(t),p=i.get(e);if(g&&p)return g==e&&p==t;var w=!0;i.set(t,e),i.set(e,t);for(var C=s;++h<l;){d=a[h];var v=t[d],y=e[d];if(r)var x=s?r(y,v,d,e,t,i):r(v,y,d,t,e,i);if(!(x===void 0?v===y||o(v,y,n,r,i):x)){w=!1;break}C||(C=d=="constructor")}if(w&&!C){var M=t.constructor,_=e.constructor;M!=_&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof _=="function"&&_ instanceof _)&&(w=!1)}return i.delete(t),i.delete(e),w}var sk=oh(ml,"DataView"),ak=oh(ml,"Promise"),sf=oh(ml,"Set"),lk=oh(ml,"WeakMap"),kW="[object Map]",Cte="[object Object]",TW="[object Promise]",MW="[object Set]",_W="[object WeakMap]",OW="[object DataView]",Ste=rh(sk),xte=rh(tp),Rte=rh(ak),Ete=rh(sf),kte=rh(lk),sh=wa;(sk&&sh(new sk(new ArrayBuffer(1)))!=OW||tp&&sh(new tp)!=kW||ak&&sh(ak.resolve())!=TW||sf&&sh(new sf)!=MW||lk&&sh(new lk)!=_W)&&(sh=function(t){var e=wa(t),n=e==Cte?t.constructor:void 0,r=n?rh(n):"";if(r)switch(r){case Ste:return OW;case xte:return kW;case Rte:return TW;case Ete:return MW;case kte:return _W}return e});const Ib=sh;var Tte=1,AW="[object Arguments]",PW="[object Array]",Nb="[object Object]",Mte=Object.prototype,IW=Mte.hasOwnProperty;function _te(t,e,n,r,o,i){var s=wr(t),a=wr(e),l=s?PW:Ib(t),u=a?PW:Ib(e);l=l==AW?Nb:l,u=u==AW?Nb:u;var c=l==Nb,h=u==Nb,d=l==u;if(d&&Pb(t)){if(!Pb(e))return!1;s=!0,c=!1}if(d&&!c)return i||(i=new yl),s||tk(t)?bW(t,e,n,r,o,i):cte(t,e,l,n,r,o,i);if(!(n&Tte)){var g=c&&IW.call(t,"__wrapped__"),p=h&&IW.call(e,"__wrapped__");if(g||p){var w=g?t.value():t,C=p?e.value():e;return i||(i=new yl),o(w,C,n,r,i)}}return d?(i||(i=new yl),bte(t,e,n,r,o,i)):!1}function Hb(t,e,n,r,o){return t===e?!0:t==null||e==null||!$i(t)&&!$i(e)?t!==t&&e!==e:_te(t,e,n,r,Hb,o)}var Ote=1,Ate=2;function Pte(t,e,n,r){var o=n.length,i=o,s=!r;if(t==null)return!i;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){a=n[o];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new yl;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?Hb(c,u,Ote|Ate,r,h):d))return!1}}return!0}function NW(t){return t===t&&!Wu(t)}function Ite(t){for(var e=nf(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,NW(o)]}return e}function HW(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Nte(t){var e=Ite(t);return e.length==1&&e[0][2]?HW(e[0][0],e[0][1]):function(n){return n===t||Pte(n,t,e)}}function ya(t,e,n){var r=t==null?void 0:Mb(t,e);return r===void 0?n:r}function Hte(t,e){return t!=null&&e in Object(t)}function DW(t,e){return t!=null&&_Z(t,e,Hte)}var Dte=1,Lte=2;function jte(t,e){return qE(t)&&NW(e)?HW(tf(t),e):function(n){var r=ya(n,t);return r===void 0&&r===e?DW(n,t):Hb(e,r,Dte|Lte)}}function LW(t){return function(e){return e==null?void 0:e[t]}}function Wte(t){return function(e){return Mb(e,t)}}function Fte(t){return qE(t)?LW(tf(t)):Wte(t)}function ah(t){return typeof t=="function"?t:t==null?rp:typeof t=="object"?wr(t)?jte(t[0],t[1]):Nte(t):Fte(t)}function jW(t,e){var n=wr(t)?lW:Lee;return n(t,ah(e))}var Vte="[object Map]",Bte="[object Set]",zte=Object.prototype,Ute=zte.hasOwnProperty;function Db(t){if(t==null)return!0;if(wl(t)&&(wr(t)||typeof t=="string"||typeof t.splice=="function"||Pb(t)||tk(t)||kb(t)))return!t.length;var e=Ib(t);if(e==Vte||e==Bte)return!t.size;if(pW(t))return!nk(t).length;for(var n in t)if(Ute.call(t,n))return!1;return!0}function WW(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function $te(t){return t!==t}function Gte(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function FW(t,e,n){return e===e?Gte(t,e,n):WW(t,$te,n)}function VW(t,e){var n=t==null?0:t.length;return!!n&&FW(t,e,0)>-1}function BW(t,e,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Lb(t){return $i(t)&&wl(t)}function Yte(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function qte(t){return typeof t=="function"?t:rp}function Kte(t,e){var n=wr(t)?Yte:rf;return n(t,qte(e))}var Xte=function(t){return"default"+(t[0].toUpperCase()+t.slice(1))},Qte=function(t,e,n,r){r===void 0&&(r=!1);var o=e[t];if(o!==void 0)return o;if(r){var i=e[Xte(t)];if(i!==void 0)return i;if(n){var s=n[t];if(s!==void 0)return s}}if(t==="checked")return!1;if(t==="value")return e.multiple?[]:""},uk=function(t){vr(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=t.call.apply(t,[this].concat(o))||this;var s=n.constructor,a=s.autoControlledProps,l=s.getAutoControlledStateFromProps,u=Je(WZ(n),"getInitialAutoControlledState",n.props)||{},c=a.reduce(function(h,d){return h[d]=Qte(d,n.props,u,!0),h},{});return n.state=xe({},u,c,{autoControlledProps:a,getAutoControlledStateFromProps:l}),n}return e.getDerivedStateFromProps=function(n,r){var o=r.autoControlledProps,i=r.getAutoControlledStateFromProps,s=o.reduce(function(l,u){var c=!Ab(n[u]);return c&&(l[u]=n[u]),l},{});if(i){var a=i(n,xe({},r,s),r);return xe({},s,a)}return s},e.getAutoControlledStateFromProps=function(){return null},e}(de.Component);function Jte(t){return function(e,n,r){var o=Object(e);if(!wl(e)){var i=ah(n);e=nf(e),n=function(a){return i(o[a],a,o)}}var s=t(e,n,r);return s>-1?o[i?e[s]:s]:void 0}}var Zte=Math.max;function ck(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:ZE(n);return o<0&&(o=Zte(r+o,0)),WW(t,ah(e),o)}var zW=Jte(ck);function ene(t,e){var n;return rf(t,function(r,o,i){return n=e(r,o,i),!n}),!!n}function UW(t,e,n){if(!Wu(n))return!1;var r=typeof e;return(r=="number"?wl(n)&&Tb(e,n.length):r=="string"&&e in n)?Cb(n[e],t):!1}function ip(t,e,n){var r=wr(t)?yW:ene;return n&&UW(t,e,n)&&(e=void 0),r(t,ah(e))}var tne=function(t,e){return ip(Y.Children.toArray(t),{type:e})},tn=function(t){return t==null||Array.isArray(t)&&t.length===0},nne={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function $W(t){var e=typeof t;return e==="string"||e==="number"?nne[t]||t:""}var ue=function(t,e){return t&&e},Gi=function(t,e){return t&&t!==!0&&t+" "+e},so=function(t,e){return t&&(t===!0?e:t+" "+e)},jb=function(t,e){return!t||t===!0?null:t.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(n){return n.replace("-"," ")+" "+e}).join(" ")},hk=function(t){return t==="justified"?"justified":Gi(t,"aligned")},sp=function(t){return Gi(t,"aligned")},Yi=function(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=!1),n&&t==="equal")return"equal width";var r=typeof t;return(r==="string"||r==="number")&&e?$W(t)+" "+e:$W(t)},rne=200;function GW(t,e,n,r){var o=-1,i=VW,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=Eb(e,dW(n))),r?(i=BW,s=!1):e.length>=rne&&(i=rk,s=!1,e=new of(e));e:for(;++o<a;){var c=t[o],h=n==null?c:n(c);if(c=r||c!==0?c:0,s&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else i(e,h,r)||l.push(c)}return l}var YW=va?va.isConcatSpreadable:void 0;function one(t){return wr(t)||kb(t)||!!(YW&&t&&t[YW])}function Wb(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=one),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?Wb(a,e-1,n,r,o):xW(o,a):r||(o[o.length]=a)}return o}var qW=Ob(function(t,e){return Lb(t)?GW(t,Wb(e,1,Lb,!0)):[]}),ine="\\ud800-\\udfff",sne="\\u0300-\\u036f",ane="\\ufe20-\\ufe2f",lne="\\u20d0-\\u20ff",une=sne+ane+lne,cne="\\ufe0e\\ufe0f",hne="\\u200d",dne=RegExp("["+hne+ine+une+cne+"]");function fne(t){return dne.test(t)}function gne(t,e,n){e=="__proto__"&&_b?_b(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var mne=Object.prototype,pne=mne.hasOwnProperty;function vne(t,e,n){var r=t[e];(!(pne.call(t,e)&&Cb(r,n))||n===void 0&&!(e in t))&&gne(t,e,n)}function KW(t,e,n,r){if(!Wu(t))return t;e=np(e,t);for(var o=-1,i=e.length,s=i-1,a=t;a!=null&&++o<i;){var l=tf(e[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(o!=s){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=Wu(c)?c:Tb(e[o+1])?[]:{})}vne(a,l,u),a=a[l]}return t}function wne(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=Mb(t,s);n(a,s)&&KW(i,np(s,t),a)}return i}function yne(t,e){return wne(t,e,function(n,r){return DW(t,r)})}function bne(t){var e=t==null?0:t.length;return e?Wb(t,1):[]}function Cne(t){return oW(nW(t,void 0,bne),t+"")}var XW=Cne(function(t,e){return t==null?{}:yne(t,e)}),Sne=vW(Object.getPrototypeOf,Object),xne="[object Object]",Rne=Function.prototype,Ene=Object.prototype,QW=Rne.toString,kne=Ene.hasOwnProperty,Tne=QW.call(Object);function JW(t){if(!$i(t)||wa(t)!=xne)return!1;var e=Sne(t);if(e===null)return!0;var n=kne.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&QW.call(n)==Tne}function qt(t){return t==null}function Mne(t,e){var n=-1,r=wl(t)?Array(t.length):[];return rf(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function af(t,e){var n=wr(t)?Eb:Mne;return n(t,ah(e))}var dk={exports:{}},Fb={},ZW={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(ZW);var _ne=ZW.exports;Object.defineProperty(Fb,"__esModule",{value:!0});var eF=_ne,One=Y;function tF(t){return(tF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lp(t,e,n){return e&&nF(t.prototype,e),n&&nF(t,n),t}function qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oF(t,e)}function rF(t){return(rF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function oF(t,e){return(oF=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ine(t,e){return!e||typeof e!="object"&&typeof e!="function"?Pne(t):e}var iF=function(){function t(e){ap(this,t),qi(this,"handlers",void 0),this.handlers=e.slice(0)}return lp(t,[{key:"addHandlers",value:function(e){for(var n=this.handlers.slice(0),r=e.length,o=0;o<r;o+=1)n.push(e[o]);return new t(n)}},{key:"dispatchEvent",value:function(e,n){var r=this.handlers.length-1;if(n){for(var o=r;o>=0;o-=1)this.handlers[o].called||(this.handlers[o].called=!0,this.handlers[o](e));for(var i=r;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[r])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var n=[],r=this.handlers.length,o=0;o<r;o+=1){var i=this.handlers[o];e.indexOf(i)===-1&&n.push(i)}return new t(n)}}]),t}();function sF(t){var e=new Map;return t.forEach(function(n,r){e.set(r,n)}),e}function aF(t){return Array.isArray(t)?t:[t]}var Nne=function(t){return t!==null&&tF(t)==="object"&&t.hasOwnProperty("current")};function lF(t){return t==="document"?document:t==="window"?window:Nne(t)?t.current||document:t||document}var fk=function(){function t(e,n){ap(this,t),qi(this,"handlerSets",void 0),qi(this,"poolName",void 0),this.handlerSets=n,this.poolName=e}return lp(t,[{key:"addHandlers",value:function(e,n){var r=sF(this.handlerSets);if(r.has(e)){var o=r.get(e);r.set(e,o.addHandlers(n))}else r.set(e,new iF(n));return new t(this.poolName,r)}},{key:"dispatchEvent",value:function(e,n){var r=this.handlerSets.get(e),o=this.poolName==="default";r&&r.dispatchEvent(n,o)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var n=this.handlerSets.get(e);return!!n&&n.hasHandlers()}},{key:"removeHandlers",value:function(e,n){var r=sF(this.handlerSets);if(!r.has(e))return new t(this.poolName,r);var o=r.get(e).removeHandlers(n);return o.hasHandlers()?r.set(e,o):r.delete(e),new t(this.poolName,r)}}]),t}();qi(fk,"createByType",function(t,e,n){var r=new Map;return r.set(e,new iF(n)),new fk(t,r)});var Hne=function(){function t(e){var n=this;ap(this,t),qi(this,"handlers",new Map),qi(this,"pools",new Map),qi(this,"target",void 0),qi(this,"createEmitter",function(r){return function(o){n.pools.forEach(function(i){i.dispatchEvent(r,o)})}}),this.target=e}return lp(t,[{key:"addHandlers",value:function(e,n,r){if(this.pools.has(e)){var o=this.pools.get(e);this.pools.set(e,o.addHandlers(n,r))}else this.pools.set(e,fk.createByType(e,n,r));this.handlers.has(n)||this.addTargetHandler(n)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,n,r){if(this.pools.has(e)){var o=this.pools.get(e).removeHandlers(n,r);o.hasHandlers()?this.pools.set(e,o):this.pools.delete(e);var i=!1;this.pools.forEach(function(s){return i=i||s.hasHandlers(n)}),i||this.removeTargetHandler(n)}}},{key:"addTargetHandler",value:function(e){var n=this.createEmitter(e);this.handlers.set(e,n),this.target.addEventListener(e,n,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),t}(),Dne=function(){function t(){var e=this;ap(this,t),qi(this,"targets",new Map),qi(this,"getTarget",function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=lF(n);if(e.targets.has(o))return e.targets.get(o);if(!r)return null;var i=new Hne(o);return e.targets.set(o,i),i}),qi(this,"removeTarget",function(n){e.targets.delete(lF(n))})}return lp(t,[{key:"sub",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(eF.canUseDOM){var o=r.target,i=o===void 0?document:o,s=r.pool,a=s===void 0?"default":s;this.getTarget(i).addHandlers(a,e,aF(n))}}},{key:"unsub",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(eF.canUseDOM){var o=r.target,i=o===void 0?document:o,s=r.pool,a=s===void 0?"default":s,l=this.getTarget(i,!1);l&&(l.removeHandlers(a,e,aF(n)),l.hasHandlers()||this.removeTarget(i))}}}]),t}(),gk=new Dne,mk=function(t){function e(){return ap(this,e),Ine(this,rF(e).apply(this,arguments))}return Ane(e,One.PureComponent),lp(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(n){this.unsubscribe(n),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(n){var r=n.name,o=n.on,i=n.pool,s=n.target;gk.sub(r,o,{pool:i,target:s})}},{key:"unsubscribe",value:function(n){var r=n.name,o=n.on,i=n.pool,s=n.target;gk.unsub(r,o,{pool:i,target:s})}},{key:"render",value:function(){return null}}]),e}();qi(mk,"defaultProps",{pool:"default",target:"document"}),mk.propTypes={},Fb.instance=gk,Fb.default=mk;var pk;pk=Fb,dk.exports=pk.default;var Lne=dk.exports.instance=pk.instance,jne=dk.exports;const bl=gu(jne);function uF(){}var Wne=1/0,Fne=sf&&1/ok(new sf([,-0]))[1]==Wne?function(t){return new sf(t)}:uF,Vne=200;function cF(t,e,n){var r=-1,o=VW,i=t.length,s=!0,a=[],l=a;if(n)s=!1,o=BW;else if(i>=Vne){var u=e?null:Fne(t);if(u)return ok(u);s=!1,o=rk,l=new of}else l=e?[]:a;e:for(;++r<i;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,s&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else o(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Bne(t){return t&&t.length?cF(t):[]}var zne="[object Number]";function Une(t){return typeof t=="number"||$i(t)&&wa(t)==zne}var $ne="[object String]";function vk(t){return typeof t=="string"||!wr(t)&&$i(t)&&wa(t)==$ne}var Gne="[object Boolean]";function Yne(t){return t===!0||t===!1||$i(t)&&wa(t)==Gne}function hF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=hF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function vt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=hF(t))&&(r&&(r+=" "),r+=e);return r}function wk(t,e,n,r){if(r===void 0&&(r={}),typeof t!="function"&&typeof t!="string")throw new Error("createShorthand() Component must be a string or function.");if(qt(n)||Yne(n))return null;var o=vk(n),i=Une(n),s=ef(n),a=Y.isValidElement(n),l=JW(n),u=o||i||wr(n);if(!s&&!a&&!l&&!u)return null;var c=r,h=c.defaultProps,d=h===void 0?{}:h,g=a&&n.props||l&&n||u&&e(n),p=r,w=p.overrideProps,C=w===void 0?{}:w;C=ef(C)?C(xe({},d,g)):C;var v=xe({},d,g,C);if(d.className||C.className||g.className){var y=vt(d.className,C.className,g.className);v.className=Bne(y.split(" ")).join(" ")}if((d.style||C.style||g.style)&&(v.style=xe({},d.style,g.style,C.style)),qt(v.key)){var x=v.childKey,M=r,_=M.autoGenerateKey,T=_===void 0?!0:_;qt(x)?T&&(o||i)&&(v.key=n):(v.key=typeof x=="function"?x(v):x,delete v.childKey)}if(a)return Y.cloneElement(n,v);if(typeof v.children=="function")return v.children(t,xe({},v,{children:void 0}));if(u||l)return Y.createElement(t,v);if(s)return n(t,v,v.children)}function ir(t,e){if(typeof t!="function"&&typeof t!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return wk(t,e,n,r)}}var qne=ir("div",function(t){return{children:t}}),Kne=ir("input",function(t){return{type:t}}),yk=ir("label",function(t){return{children:t}}),Xne=ir("p",function(t){return{children:t}}),Qne=function(t,e){var n=t.handledProps,r=n===void 0?[]:n;return Object.keys(e).reduce(function(o,i){return i==="childKey"||r.indexOf(i)===-1&&(o[i]=e[i]),o},{})};const wt=Qne;function bt(t,e,n){var r=t.defaultProps,o=r===void 0?{}:r;if(e.as&&e.as!==o.as)return e.as;if(n){var i=n();if(i)return i}return e.href?"a":o.as||"div"}function Jne(t,e){return Eb(e,function(n){return t[n]})}function Zne(t){return t==null?[]:Jne(t,nf(t))}var ere=Math.max;function Cl(t,e,n,r){t=wl(t)?t:Zne(t),n=n&&!r?ZE(n):0;var o=t.length;return n<0&&(n=ere(o+n,0)),vk(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&FW(t,e,n)>-1}var dF=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],tre=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nre=[].concat(dF,tre),rre=["alt","height","src","srcSet","width","loading"],bk=function(t,e){e===void 0&&(e={});var n=e,r=n.htmlProps,o=r===void 0?nre:r,i=n.includeAria,s=i===void 0?!0:i,a={},l={};return Kte(t,function(u,c){var h=s&&(/^aria-.*$/.test(c)||c==="role"),d=Cl(o,c)||h?a:l;d[c]=u}),[a,l]},ore=typeof document=="object"&&document!==null,ire=typeof window=="object"&&window!==null&&window.self===window,Ck=function t(){return qt(t.override)?ore&&ire:t.override},sre=Math.max,are=Math.min;function lre(t,e,n){return t>=are(e,n)&&t<sre(e,n)}function fF(t,e,n){return e=JE(e),n===void 0?(n=e,e=0):n=JE(n),t=sW(t),lre(t,e,n)}function ure(t){return t&&t.length?t[0]:void 0}var cre=function(t,e){if(ip([e,t],qt))return!1;if(e.target&&(Je(e.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Je(e.target,"removeAttribute","data-suir-click-target"),t.contains(e.target);var n=e.clientX,r=e.clientY;if(ip([n,r],qt))return!1;var o=t.getClientRects();if(!t.offsetWidth||!t.offsetHeight||!o||!o.length)return!1;var i=ure(o),s=i.top,a=i.bottom,l=i.left,u=i.right;return ip([s,a,l,u],qt)?!1:fF(r,s,a+.001)&&fF(n,l,u+.001)};const up=cre;function hre(t,e){return Hb(t,e)}var dre=Ob(function(t,e){return Lb(t)?GW(t,e):[]});const fre=dre;function lh(t){var e=t.children,n=t.className,r=t.content,o=t.size,i=vt(o,"icons",n),s=wt(lh,t),a=bt(lh,t);return de.createElement(a,xe({},s,{className:i}),tn(e)?r:e)}lh.handledProps=["as","children","className","content","size"],lh.propTypes={},lh.defaultProps={as:"i"};var Nr=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){var l=r.props.disabled;if(l){a.preventDefault();return}Je(r.props,"onClick",a,r.props)},r}var n=e.prototype;return n.getIconAriaOptions=function(){var r={},o=this.props,i=o["aria-label"],s=o["aria-hidden"];return qt(i)?r["aria-hidden"]="true":r["aria-label"]=i,qt(s)||(r["aria-hidden"]=s),r},n.render=function(){var r=this.props,o=r.bordered,i=r.circular,s=r.className,a=r.color,l=r.corner,u=r.disabled,c=r.fitted,h=r.flipped,d=r.inverted,g=r.link,p=r.loading,w=r.name,C=r.rotated,v=r.size,y=vt(a,w,v,ue(o,"bordered"),ue(i,"circular"),ue(u,"disabled"),ue(c,"fitted"),ue(d,"inverted"),ue(g,"link"),ue(p,"loading"),so(l,"corner"),Gi(h,"flipped"),Gi(C,"rotated"),"icon",s),x=wt(e,this.props),M=bt(e,this.props),_=this.getIconAriaOptions();return de.createElement(M,xe({},x,_,{className:y,onClick:this.handleClick}))},e}(Y.PureComponent);Nr.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Nr.propTypes={},Nr.defaultProps={as:"i"},Nr.Group=lh,Nr.create=ir(Nr,function(t){return{name:t}});for(var gF=function(t){return t!==null&&!Array.isArray(t)&&typeof t=="object"},Vb={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},Bb=0;Bb<24;Bb+=1)Vb[112+Bb]="F"+(Bb+1);for(var Sk=0;Sk<26;Sk+=1){var xk=Sk+65;Vb[xk]=[String.fromCharCode(xk+32),String.fromCharCode(xk)]}var Ne={codes:Vb,getCode:function(t){return gF(t)?t.keyCode||t.which||this[t.key]:this[t]},getKey:function(t){var e=gF(t);if(e&&t.key)return t.key;var n=Vb[e?t.keyCode||t.which:t];return Array.isArray(n)&&(e?n=n[t.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Ne.Spacebar=Ne[" "],Ne.Digit0=Ne[0],Ne.Digit1=Ne[1],Ne.Digit2=Ne[2],Ne.Digit3=Ne[3],Ne.Digit4=Ne[4],Ne.Digit5=Ne[5],Ne.Digit6=Ne[6],Ne.Digit7=Ne[7],Ne.Digit8=Ne[8],Ne.Digit9=Ne[9],Ne.Tilde=Ne["~"],Ne.GraveAccent=Ne["`"],Ne.ExclamationPoint=Ne["!"],Ne.AtSign=Ne["@"],Ne.PoundSign=Ne["#"],Ne.PercentSign=Ne["%"],Ne.Caret=Ne["^"],Ne.Ampersand=Ne["&"],Ne.PlusSign=Ne["+"],Ne.MinusSign=Ne["-"],Ne.EqualsSign=Ne["="],Ne.DivisionSign=Ne["/"],Ne.MultiplicationSign=Ne["*"],Ne.Comma=Ne[","],Ne.Decimal=Ne["."],Ne.Colon=Ne[":"],Ne.Semicolon=Ne[";"],Ne.Pipe=Ne["|"],Ne.BackSlash=Ne["\\"],Ne.QuestionMark=Ne["?"],Ne.SingleQuote=Ne["'"],Ne.DoubleQuote=Ne['"'],Ne.LeftCurlyBrace=Ne["{"],Ne.RightCurlyBrace=Ne["}"],Ne.LeftParenthesis=Ne["("],Ne.RightParenthesis=Ne[")"],Ne.LeftAngleBracket=Ne["<"],Ne.RightAngleBracket=Ne[">"],Ne.LeftSquareBracket=Ne["["],Ne.RightSquareBracket=Ne["]"];var gre=Ne;const Hr=gu(gre);var Rk=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleRef=function(a){ma(r.props.innerRef,a)},r}var n=e.prototype;return n.componentDidMount=function(){Je(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){Je(this.props,"onUnmount",null,this.props)},n.render=function(){if(!Ck())return null;var r=this.props,o=r.children,i=r.mountNode,s=i===void 0?document.body:i;return Zc.createPortal(de.createElement(pa,{innerRef:this.handleRef},o),s)},e}(Y.Component);Rk.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],Rk.propTypes={};const mF=Rk;var lf=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.contentRef=de.createRef(),r.triggerRef=de.createRef(),r.latestDocumentMouseDownEvent=null,r.handleDocumentMouseDown=function(a){r.latestDocumentMouseDownEvent=a},r.handleDocumentClick=function(a){var l=r.props.closeOnDocumentClick,u=r.latestDocumentMouseDownEvent;r.latestDocumentMouseDownEvent=null,!(!r.contentRef.current||up(r.triggerRef.current,a)||u&&up(r.contentRef.current,u)||up(r.contentRef.current,a))&&l&&r.close(a)},r.handleEscape=function(a){r.props.closeOnEscape&&Hr.getCode(a)===Hr.Escape&&r.close(a)},r.handlePortalMouseLeave=function(a){var l=r.props,u=l.closeOnPortalMouseLeave,c=l.mouseLeaveDelay;u&&a.target===r.contentRef.current&&(r.mouseLeaveTimer=r.closeWithTimeout(a,c))},r.handlePortalMouseEnter=function(){var a=r.props.closeOnPortalMouseLeave;a&&clearTimeout(r.mouseLeaveTimer)},r.handleTriggerBlur=function(a){for(var l=r.props,u=l.trigger,c=l.closeOnTriggerBlur,h=arguments.length,d=new Array(h>1?h-1:0),g=1;g<h;g++)d[g-1]=arguments[g];Je.apply(void 0,[u,"props.onBlur",a].concat(d));var p=a.relatedTarget||document.activeElement,w=Je(r.contentRef.current,"contains",p);!c||w||r.close(a)},r.handleTriggerClick=function(a){for(var l=r.props,u=l.trigger,c=l.closeOnTriggerClick,h=l.openOnTriggerClick,d=r.state.open,g=arguments.length,p=new Array(g>1?g-1:0),w=1;w<g;w++)p[w-1]=arguments[w];Je.apply(void 0,[u,"props.onClick",a].concat(p)),d&&c?r.close(a):!d&&h&&r.open(a)},r.handleTriggerFocus=function(a){for(var l=r.props,u=l.trigger,c=l.openOnTriggerFocus,h=arguments.length,d=new Array(h>1?h-1:0),g=1;g<h;g++)d[g-1]=arguments[g];Je.apply(void 0,[u,"props.onFocus",a].concat(d)),c&&r.open(a)},r.handleTriggerMouseLeave=function(a){clearTimeout(r.mouseEnterTimer);for(var l=r.props,u=l.trigger,c=l.closeOnTriggerMouseLeave,h=l.mouseLeaveDelay,d=arguments.length,g=new Array(d>1?d-1:0),p=1;p<d;p++)g[p-1]=arguments[p];Je.apply(void 0,[u,"props.onMouseLeave",a].concat(g)),c&&(r.mouseLeaveTimer=r.closeWithTimeout(a,h))},r.handleTriggerMouseEnter=function(a){clearTimeout(r.mouseLeaveTimer);for(var l=r.props,u=l.trigger,c=l.mouseEnterDelay,h=l.openOnTriggerMouseEnter,d=arguments.length,g=new Array(d>1?d-1:0),p=1;p<d;p++)g[p-1]=arguments[p];Je.apply(void 0,[u,"props.onMouseEnter",a].concat(g)),h&&(r.mouseEnterTimer=r.openWithTimeout(a,c))},r.open=function(a){Je(r.props,"onOpen",a,xe({},r.props,{open:!0})),r.setState({open:!0})},r.openWithTimeout=function(a,l){var u=xe({},a);return setTimeout(function(){return r.open(u)},l||0)},r.close=function(a){r.setState({open:!1}),Je(r.props,"onClose",a,xe({},r.props,{open:!1}))},r.closeWithTimeout=function(a,l){var u=xe({},a);return setTimeout(function(){return r.close(u)},l||0)},r.handleMount=function(){Je(r.props,"onMount",null,r.props)},r.handleUnmount=function(){Je(r.props,"onUnmount",null,r.props)},r.handleTriggerRef=function(a){r.triggerRef.current=a,ma(r.props.triggerRef,a)},r}var n=e.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var r=this.props,o=r.children,i=r.eventPool,s=r.mountNode,a=r.trigger,l=this.state.open;return de.createElement(de.Fragment,null,l&&de.createElement(de.Fragment,null,de.createElement(mF,{innerRef:this.contentRef,mountNode:s,onMount:this.handleMount,onUnmount:this.handleUnmount},o),de.createElement(bl,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:i,target:this.contentRef}),de.createElement(bl,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:i,target:this.contentRef}),de.createElement(bl,{name:"mousedown",on:this.handleDocumentMouseDown,pool:i}),de.createElement(bl,{name:"click",on:this.handleDocumentClick,pool:i}),de.createElement(bl,{name:"keydown",on:this.handleEscape,pool:i})),a&&de.createElement(pa,{innerRef:this.handleTriggerRef},de.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e}(uk);lf.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],lf.propTypes={},lf.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},lf.autoControlledProps=["open"],lf.Inner=mF;const zb=lf;function cp(t){var e=t.blurring,n=t.className,r=t.children,o=t.content,i=t.dimmed,s=vt(ue(e,"blurring"),ue(i,"dimmed"),"dimmable",n),a=wt(cp,t),l=bt(cp,t);return de.createElement(l,xe({},a,{className:s}),tn(r)?o:r)}cp.handledProps=["as","blurring","children","className","content","dimmed"],cp.propTypes={};var hp=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.containerRef=Y.createRef(),r.contentRef=Y.createRef(),r.handleClick=function(a){var l=r.contentRef.current;Je(r.props,"onClick",a,r.props),!(l&&l!==a.target&&up(l,a))&&Je(r.props,"onClickOutside",a,r.props)},r}var n=e.prototype;return n.componentDidMount=function(){var r=this.props.active;this.toggleStyles(r)},n.componentDidUpdate=function(r){var o=this.props.active,i=r.active;i!==o&&this.toggleStyles(o)},n.toggleStyles=function(r){var o=this.containerRef.current;!o||!o.style||(r?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},n.render=function(){var r=this.props,o=r.active,i=r.children,s=r.className,a=r.content,l=r.disabled,u=r.inverted,c=r.page,h=r.simple,d=r.verticalAlign,g=vt("ui",ue(o,"active transition visible"),ue(l,"disabled"),ue(u,"inverted"),ue(c,"page"),ue(h,"simple"),sp(d),"dimmer",s),p=wt(e,this.props),w=bt(e,this.props),C=tn(i)?a:i;return de.createElement(pa,{innerRef:this.containerRef},de.createElement(w,xe({},p,{className:g,onClick:this.handleClick}),C&&de.createElement("div",{className:"content",ref:this.contentRef},C)))},e}(Y.Component);hp.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],hp.propTypes={};var Fu=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handlePortalMount=function(){Ck()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},r.handlePortalUnmount=function(){Ck()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.page,s=wt(e,this.props);return i?de.createElement(zb,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1},de.createElement(hp,xe({},s,{active:o,page:i}))):de.createElement(hp,xe({},s,{active:o,page:i}))},e}(Y.Component);Fu.handledProps=["active","page"],Fu.propTypes={},Fu.Dimmable=cp,Fu.Inner=hp,Fu.create=ir(Fu,function(t){return{content:t}});function uf(t){var e=t.children,n=t.className,r=t.content,o=t.size,i=vt("ui",o,n,"images"),s=wt(uf,t),a=bt(uf,t);return de.createElement(a,xe({},s,{className:i}),tn(e)?r:e)}uf.handledProps=["as","children","className","content","size"],uf.propTypes={};function $o(t){var e=t.avatar,n=t.bordered,r=t.centered,o=t.children,i=t.circular,s=t.className,a=t.content,l=t.dimmer,u=t.disabled,c=t.floated,h=t.fluid,d=t.hidden,g=t.href,p=t.inline,w=t.label,C=t.rounded,v=t.size,y=t.spaced,x=t.verticalAlign,M=t.wrapped,_=t.ui,T=vt(ue(_,"ui"),v,ue(e,"avatar"),ue(n,"bordered"),ue(i,"circular"),ue(r,"centered"),ue(u,"disabled"),ue(h,"fluid"),ue(d,"hidden"),ue(p,"inline"),ue(C,"rounded"),so(y,"spaced"),Gi(c,"floated"),sp(x),"image",s),O=wt($o,t),I=bk(O,{htmlProps:rre}),N=I[0],L=I[1],B=bt($o,t,function(){if(!qt(l)||!qt(w)||!qt(M)||!tn(o))return"div"});return tn(o)?tn(a)?B==="img"?de.createElement(B,xe({},L,N,{className:T})):de.createElement(B,xe({},L,{className:T,href:g}),Fu.create(l,{autoGenerateKey:!1}),yi.create(w,{autoGenerateKey:!1}),de.createElement("img",N)):de.createElement(B,xe({},O,{className:T}),a):de.createElement(B,xe({},O,{className:T}),o)}$o.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],$o.Group=uf,$o.propTypes={},$o.defaultProps={as:"img",ui:!0},$o.create=ir($o,function(t){return{src:t}});function Vu(t){var e=t.children,n=t.className,r=t.content,o=vt("detail",n),i=wt(Vu,t),s=bt(Vu,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}Vu.handledProps=["as","children","className","content"],Vu.propTypes={},Vu.create=ir(Vu,function(t){return{content:t}});function dp(t){var e=t.children,n=t.circular,r=t.className,o=t.color,i=t.content,s=t.size,a=t.tag,l=vt("ui",o,s,ue(n,"circular"),ue(a,"tag"),"labels",r),u=wt(dp,t),c=bt(dp,t);return de.createElement(c,xe({},u,{className:l}),tn(e)?i:e)}dp.handledProps=["as","children","circular","className","color","content","size","tag"],dp.propTypes={};var yi=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){var l=r.props.onClick;l&&l(a,r.props)},r.handleIconOverrides=function(a){return{onClick:function(l){Je(a,"onClick",l),Je(r.props,"onRemove",l,r.props)}}},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.attached,s=r.basic,a=r.children,l=r.circular,u=r.className,c=r.color,h=r.content,d=r.corner,g=r.detail,p=r.empty,w=r.floating,C=r.horizontal,v=r.icon,y=r.image,x=r.onRemove,M=r.pointing,_=r.prompt,T=r.removeIcon,O=r.ribbon,I=r.size,N=r.tag,L=M===!0&&"pointing"||(M==="left"||M==="right")&&M+" pointing"||(M==="above"||M==="below")&&"pointing "+M,B=vt("ui",c,L,I,ue(o,"active"),ue(s,"basic"),ue(l,"circular"),ue(p,"empty"),ue(w,"floating"),ue(C,"horizontal"),ue(y===!0,"image"),ue(_,"prompt"),ue(N,"tag"),so(d,"corner"),so(O,"ribbon"),Gi(i,"attached"),"label",u),ae=wt(e,this.props),U=bt(e,this.props);if(!tn(a))return de.createElement(U,xe({},ae,{className:B,onClick:this.handleClick}),a);var ce=Ab(T)?"delete":T;return de.createElement(U,xe({className:B,onClick:this.handleClick},ae),Nr.create(v,{autoGenerateKey:!1}),typeof y!="boolean"&&$o.create(y,{autoGenerateKey:!1}),h,Vu.create(g,{autoGenerateKey:!1}),x&&Nr.create(ce,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},e}(Y.Component);yi.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],yi.propTypes={},yi.Detail=Vu,yi.Group=dp,yi.create=ir(yi,function(t){return{content:t}});function fp(t){var e=t.children,n=t.className,r=t.content,o=t.hidden,i=t.visible,s=vt(ue(i,"visible"),ue(o,"hidden"),"content",n),a=wt(fp,t),l=bt(fp,t);return de.createElement(l,xe({},a,{className:s}),tn(e)?r:e)}fp.handledProps=["as","children","className","content","hidden","visible"],fp.propTypes={};function uh(t){var e=t.attached,n=t.basic,r=t.buttons,o=t.children,i=t.className,s=t.color,a=t.compact,l=t.content,u=t.floated,c=t.fluid,h=t.icon,d=t.inverted,g=t.labeled,p=t.negative,w=t.positive,C=t.primary,v=t.secondary,y=t.size,x=t.toggle,M=t.vertical,_=t.widths,T=vt("ui",s,y,ue(n,"basic"),ue(a,"compact"),ue(c,"fluid"),ue(h,"icon"),ue(d,"inverted"),ue(g,"labeled"),ue(p,"negative"),ue(w,"positive"),ue(C,"primary"),ue(v,"secondary"),ue(x,"toggle"),ue(M,"vertical"),so(e,"attached"),Gi(u,"floated"),Yi(_),"buttons",i),O=wt(uh,t),I=bt(uh,t);return qt(r)?de.createElement(I,xe({},O,{className:T}),tn(o)?l:o):de.createElement(I,xe({},O,{className:T}),af(r,function(N){return hr.create(N)}))}uh.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],uh.propTypes={};function gp(t){var e=t.className,n=t.text,r=vt("or",e),o=wt(gp,t),i=bt(gp,t);return de.createElement(i,xe({},o,{className:r,"data-text":n}))}gp.handledProps=["as","className","text"],gp.propTypes={};var Sl=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.ref=Y.createRef(),r.computeElementType=function(){var a=r.props,l=a.attached,u=a.label;if(!qt(l)||!qt(u))return"div"},r.computeTabIndex=function(a){var l=r.props,u=l.disabled,c=l.tabIndex;if(!qt(c))return c;if(u)return-1;if(a==="div")return 0},r.focus=function(a){return Je(r.ref.current,"focus",a)},r.handleClick=function(a){var l=r.props.disabled;if(l){a.preventDefault();return}Je(r.props,"onClick",a,r.props)},r.hasIconClass=function(){var a=r.props,l=a.labelPosition,u=a.children,c=a.content,h=a.icon;return h===!0?!0:h&&(l||tn(u)&&qt(c))},r}var n=e.prototype;return n.computeButtonAriaRole=function(r){var o=this.props.role;if(!qt(o))return o;if(r!=="button")return"button"},n.render=function(){var r=this.props,o=r.active,i=r.animated,s=r.attached,a=r.basic,l=r.children,u=r.circular,c=r.className,h=r.color,d=r.compact,g=r.content,p=r.disabled,w=r.floated,C=r.fluid,v=r.icon,y=r.inverted,x=r.label,M=r.labelPosition,_=r.loading,T=r.negative,O=r.positive,I=r.primary,N=r.secondary,L=r.size,B=r.toggle,ae=r.type,U=vt(h,L,ue(o,"active"),ue(a,"basic"),ue(u,"circular"),ue(d,"compact"),ue(C,"fluid"),ue(this.hasIconClass(),"icon"),ue(y,"inverted"),ue(_,"loading"),ue(T,"negative"),ue(O,"positive"),ue(I,"primary"),ue(N,"secondary"),ue(B,"toggle"),so(i,"animated"),so(s,"attached")),ce=vt(so(M||!!x,"labeled")),ve=vt(ue(p,"disabled"),Gi(w,"floated")),Me=wt(e,this.props),Ce=bt(e,this.props,this.computeElementType),ne=this.computeTabIndex(Ce);if(!qt(x)){var S=vt("ui",U,"button",c),R=vt("ui",ce,"button",c,ve),k=yi.create(x,{defaultProps:{basic:!0,pointing:M==="left"?"right":"left"},autoGenerateKey:!1});return de.createElement(Ce,xe({},Me,{className:R,onClick:this.handleClick}),M==="left"&&k,de.createElement(pa,{innerRef:this.ref},de.createElement("button",{className:S,"aria-pressed":B?!!o:void 0,disabled:p,type:ae,tabIndex:ne},Nr.create(v,{autoGenerateKey:!1})," ",g)),(M==="right"||!M)&&k)}var D=vt("ui",U,ve,ce,"button",c),W=!tn(l),V=this.computeButtonAriaRole(Ce);return de.createElement(pa,{innerRef:this.ref},de.createElement(Ce,xe({},Me,{className:D,"aria-pressed":B?!!o:void 0,disabled:p&&Ce==="button"||void 0,onClick:this.handleClick,role:V,type:ae,tabIndex:ne}),W&&l,!W&&Nr.create(v,{autoGenerateKey:!1}),!W&&g))},e}(Y.Component);Sl.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Sl.propTypes={},Sl.defaultProps={as:"button"},Sl.Content=fp,Sl.Group=uh,Sl.Or=gp,Sl.create=ir(Sl,function(t){return{content:t}});const hr=Sl;function mre(t,e,n,r){var o=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function pre(t,e,n,r,o){return o(t,function(i,s,a){n=r?(r=!1,i):e(n,i,s,a)}),n}function pF(t,e,n){var r=wr(t)?mre:pre,o=arguments.length<3;return r(t,ah(e),n,o,rf)}var vre=function(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<i.length;l++){var u=i[l];if(!a(u))return!1;var c=t[u],h=e[u];if(o=n?n.call(r,c,h,u):void 0,o===!1||o===void 0&&c!==h)return!1}return!0};const Ub=gu(vre);function wre(t){return function(e){return t==null?void 0:t[e]}}var yre={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},bre=wre(yre);const Cre=bre;var Sre=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xre="\\u0300-\\u036f",Rre="\\ufe20-\\ufe2f",Ere="\\u20d0-\\u20ff",kre=xre+Rre+Ere,Tre="["+kre+"]",Mre=RegExp(Tre,"g");function vF(t){return t=XE(t),t&&t.replace(Sre,Cre).replace(Mre,"")}function _re(t,e,n){return t==null?t:KW(t,e,n)}var En=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.inputRef=Y.createRef(),r.labelRef=Y.createRef(),r.canToggle=function(){var a=r.props,l=a.disabled,u=a.radio,c=a.readOnly,h=r.state.checked;return!l&&!c&&!(u&&h)},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;return qt(u)?l?-1:0:u},r.handleClick=function(a){var l=r.props.id,u=r.state,c=u.checked,h=u.indeterminate,d=Je(r.inputRef.current,"contains",a.target),g=Je(r.labelRef.current,"contains",a.target),p=!g&&!d,w=!qt(l),C=g&&w;C||Je(r.props,"onClick",a,xe({},r.props,{checked:!c,indeterminate:!!h})),r.isClickFromMouse&&(r.isClickFromMouse=!1,g&&!w&&r.handleChange(a),p&&r.handleChange(a),g&&w&&a.stopPropagation())},r.handleChange=function(a){var l=r.state.checked;r.canToggle()&&(Je(r.props,"onChange",a,xe({},r.props,{checked:!l,indeterminate:!1})),r.setState({checked:!l,indeterminate:!1}))},r.handleMouseDown=function(a){var l=r.state,u=l.checked,c=l.indeterminate;Je(r.props,"onMouseDown",a,xe({},r.props,{checked:!!u,indeterminate:!!c})),a.defaultPrevented||Je(r.inputRef.current,"focus"),a.preventDefault()},r.handleMouseUp=function(a){var l=r.state,u=l.checked,c=l.indeterminate;r.isClickFromMouse=!0,Je(r.props,"onMouseUp",a,xe({},r.props,{checked:!!u,indeterminate:!!c}))},r.setIndeterminate=function(){var a=r.state.indeterminate;_re(r.inputRef,"current.indeterminate",!!a)},r}var n=e.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var r=this.props,o=r.className,i=r.disabled,s=r.label,a=r.id,l=r.name,u=r.radio,c=r.readOnly,h=r.slider,d=r.toggle,g=r.type,p=r.value,w=this.state,C=w.checked,v=w.indeterminate,y=vt("ui",ue(C,"checked"),ue(i,"disabled"),ue(v,"indeterminate"),ue(qt(s),"fitted"),ue(u,"radio"),ue(c,"read-only"),ue(h,"slider"),ue(d,"toggle"),"checkbox",o),x=wt(e,this.props),M=bt(e,this.props),_=bk(x,{htmlProps:dF}),T=_[0],O=_[1],I=yk(s,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||de.createElement("label",{htmlFor:a});return de.createElement(M,xe({},O,{className:y,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),de.createElement(pa,{innerRef:this.inputRef},de.createElement("input",xe({},T,{checked:C,className:"hidden",disabled:i,id:a,name:l,readOnly:!0,tabIndex:this.computeTabIndex(),type:g,value:p}))),de.createElement(pa,{innerRef:this.labelRef},I))},e}(uk);En.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],En.propTypes={},En.defaultProps={type:"checkbox"},En.autoControlledProps=["checked","indeterminate"];function cf(t){var e=t.slider,n=t.toggle,r=t.type,o=wt(cf,t),i=!(e||n)||void 0;return de.createElement(En,xe({},o,{type:r,radio:i,slider:e,toggle:n}))}cf.handledProps=["slider","toggle","type"],cf.propTypes={},cf.defaultProps={type:"radio"};function Ore(t){for(var e=-1,n=t==null?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function Are(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Pre(t,e){var n=!0;return rf(t,function(r,o,i){return n=!!e(r,o,i),n}),n}function Ire(t,e,n){var r=wr(t)?Are:Pre;return n&&UW(t,e,n)&&(e=void 0),r(t,ah(e))}function Nre(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:ZE(e),e=r-e,eW(t,0,e<0?0:e)):[]}var Hre=LW("length"),wF="\\ud800-\\udfff",Dre="\\u0300-\\u036f",Lre="\\ufe20-\\ufe2f",jre="\\u20d0-\\u20ff",Wre=Dre+Lre+jre,Fre="\\ufe0e\\ufe0f",Vre="["+wF+"]",Ek="["+Wre+"]",kk="\\ud83c[\\udffb-\\udfff]",Bre="(?:"+Ek+"|"+kk+")",yF="[^"+wF+"]",bF="(?:\\ud83c[\\udde6-\\uddff]){2}",CF="[\\ud800-\\udbff][\\udc00-\\udfff]",zre="\\u200d",SF=Bre+"?",xF="["+Fre+"]?",Ure="(?:"+zre+"(?:"+[yF,bF,CF].join("|")+")"+xF+SF+")*",$re=xF+SF+Ure,Gre="(?:"+[yF+Ek+"?",Ek,bF,CF,Vre].join("|")+")",RF=RegExp(kk+"(?="+kk+")|"+Gre+$re,"g");function Yre(t){for(var e=RF.lastIndex=0;RF.test(t);)++e;return e}function qre(t){return fne(t)?Yre(t):Hre(t)}var Kre="[object Map]",Xre="[object Set]";function Qre(t){if(t==null)return 0;if(wl(t))return vk(t)?qre(t):t.length;var e=Ib(t);return e==Kre||e==Xre?t.size:nk(t).length}var EF=Ob(function(t){return cF(Wb(t,1,Lb,!0))}),ch=function(t){vr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this.props,o=r.className,i=r.name,s=vt(i,"flag",o),a=wt(e,this.props),l=bt(e,this.props);return de.createElement(l,xe({},a,{className:s}))},e}(Y.PureComponent);ch.handledProps=["as","className","name"],ch.propTypes={},ch.defaultProps={as:"i"},ch.create=ir(ch,function(t){return{name:t}});function mp(t){var e=t.className,n=vt("divider",e),r=wt(mp,t),o=bt(mp,t);return de.createElement(o,xe({},r,{className:n}))}mp.handledProps=["as","className"],mp.propTypes={};var pp=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleClick=function(a){Je(r.props,"onClick",a,r.props)},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.active,i=r.children,s=r.className,a=r.content,l=r.disabled,u=r.description,c=r.flag,h=r.icon,d=r.image,g=r.label,p=r.selected,w=r.text,C=vt(ue(o,"active"),ue(l,"disabled"),ue(p,"selected"),"item",s),v=qt(h)?tne(i,"DropdownMenu")&&"dropdown":h,y=wt(e,this.props),x=bt(e,this.props),M={role:"option","aria-disabled":l,"aria-checked":o,"aria-selected":p};if(!tn(i))return de.createElement(x,xe({},y,M,{className:C,onClick:this.handleClick}),i);var _=ch.create(c,{autoGenerateKey:!1}),T=Nr.create(v,{autoGenerateKey:!1}),O=$o.create(d,{autoGenerateKey:!1}),I=yi.create(g,{autoGenerateKey:!1}),N=wk("span",function(B){return{children:B}},u,{defaultProps:{className:"description"},autoGenerateKey:!1}),L=wk("span",function(B){return{children:B}},tn(a)?w:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return de.createElement(x,xe({},y,M,{className:C,onClick:this.handleClick}),O,T,_,I,N,L)},e}(Y.Component);pp.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],pp.propTypes={},pp.create=ir(pp,function(t){return t});const kF=pp;function Bu(t){var e=t.children,n=t.className,r=t.content,o=t.icon,i=vt("header",n),s=wt(Bu,t),a=bt(Bu,t);return tn(e)?de.createElement(a,xe({},s,{className:i}),Nr.create(o,{autoGenerateKey:!1}),r):de.createElement(a,xe({},s,{className:i}),e)}Bu.handledProps=["as","children","className","content","icon"],Bu.propTypes={},Bu.create=ir(Bu,function(t){return{content:t}});function hf(t){var e=t.children,n=t.className,r=t.content,o=t.direction,i=t.open,s=t.scrolling,a=vt(o,ue(i,"visible"),ue(s,"scrolling"),"menu transition",n),l=wt(hf,t),u=bt(hf,t);return de.createElement(u,xe({},l,{className:a}),tn(e)?r:e)}hf.handledProps=["as","children","className","content","direction","open","scrolling"],hf.propTypes={};var hh=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleChange=function(a){var l=ya(a,"target.value");Je(r.props,"onChange",a,xe({},r.props,{value:l}))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.autoComplete,i=r.className,s=r.tabIndex,a=r.type,l=r.value,u=vt("search",i),c=wt(e,this.props);return de.createElement("input",xe({},c,{"aria-autocomplete":"list",autoComplete:o,className:u,onChange:this.handleChange,tabIndex:s,type:a,value:l}))},e}(Y.Component);hh.handledProps=["as","autoComplete","className","tabIndex","type","value"],hh.propTypes={},hh.defaultProps={autoComplete:"off",type:"text"},hh.create=ir(hh,function(t){return{type:t}});function zu(t){var e=t.children,n=t.className,r=t.content,o=vt("divider",n),i=wt(zu,t),s=bt(zu,t);return de.createElement(s,xe({"aria-atomic":!0,"aria-live":"polite",role:"alert"},i,{className:o}),tn(e)?r:e)}zu.handledProps=["as","children","className","content"],zu.propTypes={},zu.create=ir(zu,function(t){return{content:t}});var TF=/[\\^$.*+?()[\]{}|]/g,Jre=RegExp(TF.source);function Zre(t){return t=XE(t),t&&Jre.test(t)?t.replace(TF,"\\$&"):t}function df(t){var e=t.additionLabel,n=t.additionPosition,r=t.allowAdditions,o=t.deburr,i=t.multiple,s=t.options,a=t.search,l=t.searchQuery,u=t.value,c=s;if(i&&(c=jW(c,function(w){return!Cl(u,w.value)})),a&&l)if(ef(a))c=a(c,l);else{var h=o?vF(l):l,d=new RegExp(Zre(h),"i");c=jW(c,function(w){return d.test(o?vF(w.text):w.text)})}if(r&&a&&l&&!ip(c,{text:l})){var g=de.isValidElement(e)?de.cloneElement(e,{key:"addition-label"}):e||"",p={key:"addition",text:[g,de.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};n==="top"?c.unshift(p):c.push(p)}return c}df.handledProps=[];function MF(t){var e=t.additionLabel,n=t.additionPosition,r=t.allowAdditions,o=t.deburr,i=t.multiple,s=t.options,a=t.search,l=t.searchQuery,u=t.selectedIndex,c=t.value,h=df({value:c,options:s,searchQuery:l,additionLabel:e,additionPosition:n,allowAdditions:r,deburr:o,multiple:i,search:a}),d=pF(h,function(C,v,y){return v.disabled||C.push(y),C},[]),g;if(!u||u<0){var p=d[0];g=i?p:ck(h,["value",c])||d[0]}else if(i)g=zW(d,function(C){return C>=u}),u>=h.length-1&&(g=d[d.length-1]);else{var w=ck(h,["value",c]);g=Cl(d,w)?w:void 0}return(!g||g<0)&&(g=d[0]),g}var _F=function(t,e){return qt(t)?e:t},OF=function(t){return t&&t.map(function(e){return XW(e,["key","value"])})};function AF(t){var e=t.flag,n=t.image,r=t.text;return ef(r)?r:{content:de.createElement(de.Fragment,null,ch.create(e),$o.create(n),r)}}var qn=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.searchRef=Y.createRef(),r.sizerRef=Y.createRef(),r.ref=Y.createRef(),r.handleChange=function(a,l){Je(r.props,"onChange",a,xe({},r.props,{value:l}))},r.closeOnChange=function(a){var l=r.props,u=l.closeOnChange,c=l.multiple,h=Ab(u)?!c:u;h&&r.close(a,uF)},r.closeOnEscape=function(a){r.props.closeOnEscape&&Hr.getCode(a)===Hr.Escape&&(a.preventDefault(),r.close(a))},r.moveSelectionOnKeyDown=function(a){var l,u=r.props,c=u.multiple,h=u.selectOnNavigation,d=r.state.open;if(d){var g=(l={},l[Hr.ArrowDown]=1,l[Hr.ArrowUp]=-1,l),p=g[Hr.getCode(a)];if(p!==void 0){a.preventDefault();var w=r.getSelectedIndexAfterMove(p);!c&&h&&r.makeSelectedItemActive(a,w),r.setState({selectedIndex:w})}}},r.openOnSpace=function(a){var l,u,c,h=r.state.focus&&!r.state.open&&Hr.getCode(a)===Hr.Spacebar,d=((l=a.target)==null?void 0:l.tagName)!=="INPUT"&&((u=a.target)==null?void 0:u.tagName)!=="TEXTAREA"&&((c=a.target)==null?void 0:c.isContentEditable)!==!0;h&&(d&&a.preventDefault(),r.open(a))},r.openOnArrow=function(a){var l=r.state,u=l.focus,c=l.open;if(u&&!c){var h=Hr.getCode(a);(h===Hr.ArrowDown||h===Hr.ArrowUp)&&(a.preventDefault(),r.open(a))}},r.makeSelectedItemActive=function(a,l){var u=r.state,c=u.open,h=u.value,d=r.props.multiple,g=r.getSelectedItem(l),p=ya(g,"value"),w=ya(g,"disabled");if(qt(p)||!c||w)return h;var C=d?EF(h,[p]):p,v=d?!!qW(C,h).length:C!==h;return v&&(r.setState({value:C}),r.handleChange(a,C),g["data-additional"]&&Je(r.props,"onAddItem",a,xe({},r.props,{value:p}))),h},r.selectItemOnEnter=function(a){var l=r.props.search,u=r.state,c=u.open,h=u.selectedIndex;if(c){var d=Hr.getCode(a)===Hr.Enter||!l&&Hr.getCode(a)===Hr.Spacebar;if(d){a.preventDefault();var g=Qre(df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search}));if(!(l&&g===0)){var p=r.makeSelectedItemActive(a,h);r.setState({selectedIndex:MF({additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search,selectedIndex:h,value:p,options:r.props.options,searchQuery:""})}),r.closeOnChange(a),r.clearSearchQuery(),l&&Je(r.searchRef.current,"focus")}}}},r.removeItemOnBackspace=function(a){var l=r.props,u=l.multiple,c=l.search,h=r.state,d=h.searchQuery,g=h.value;if(Hr.getCode(a)===Hr.Backspace&&!(d||!c||!u||Db(g))){a.preventDefault();var p=Nre(g);r.setState({value:p}),r.handleChange(a,p)}},r.closeOnDocumentClick=function(a){r.props.closeOnBlur&&(r.ref.current&&up(r.ref.current,a)||r.close())},r.handleMouseDown=function(a){r.isMouseDown=!0,Je(r.props,"onMouseDown",a,r.props),document.addEventListener("mouseup",r.handleDocumentMouseUp)},r.handleDocumentMouseUp=function(){r.isMouseDown=!1,document.removeEventListener("mouseup",r.handleDocumentMouseUp)},r.handleClick=function(a){var l=r.props,u=l.minCharacters,c=l.search,h=r.state,d=h.open,g=h.searchQuery;if(Je(r.props,"onClick",a,r.props),a.stopPropagation(),!c)return r.toggle(a);if(d){Je(r.searchRef.current,"focus");return}if(g.length>=u||u===1){r.open(a);return}Je(r.searchRef.current,"focus")},r.handleIconClick=function(a){var l=r.props.clearable,u=r.hasValue();Je(r.props,"onClick",a,r.props),a.stopPropagation(),l&&u?r.clearValue(a):r.toggle(a)},r.handleItemClick=function(a,l){var u=r.props,c=u.multiple,h=u.search,d=r.state.value,g=l.value;if(a.stopPropagation(),(c||l.disabled)&&a.nativeEvent.stopImmediatePropagation(),!l.disabled){var p=l["data-additional"],w=c?EF(r.state.value,[g]):g,C=c?!!qW(w,d).length:w!==d;C&&(r.setState({value:w}),r.handleChange(a,w)),r.clearSearchQuery(),Je(h?r.searchRef.current:r.ref.current,"focus"),r.closeOnChange(a),p&&Je(r.props,"onAddItem",a,xe({},r.props,{value:g}))}},r.handleFocus=function(a){var l=r.state.focus;l||(Je(r.props,"onFocus",a,r.props),r.setState({focus:!0}))},r.handleBlur=function(a){var l=ya(a,"currentTarget");if(!(l&&l.contains(document.activeElement))){var u=r.props,c=u.closeOnBlur,h=u.multiple,d=u.selectOnBlur;r.isMouseDown||(Je(r.props,"onBlur",a,r.props),d&&!h&&(r.makeSelectedItemActive(a,r.state.selectedIndex),c&&r.close()),r.setState({focus:!1}),r.clearSearchQuery())}},r.handleSearchChange=function(a,l){var u=l.value;a.stopPropagation();var c=r.props.minCharacters,h=r.state.open,d=u;if(Je(r.props,"onSearchChange",a,xe({},r.props,{searchQuery:d})),r.setState({searchQuery:d,selectedIndex:0}),!h&&d.length>=c){r.open();return}h&&c!==1&&d.length<c&&r.close()},r.handleKeyDown=function(a){r.moveSelectionOnKeyDown(a),r.openOnArrow(a),r.openOnSpace(a),r.selectItemOnEnter(a),Je(r.props,"onKeyDown",a)},r.getSelectedItem=function(a){var l=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});return ya(l,"["+a+"]")},r.getItemByValue=function(a){var l=r.props.options;return zW(l,{value:a})},r.getDropdownAriaOptions=function(){var a=r.props,l=a.loading,u=a.disabled,c=a.search,h=a.multiple,d=r.state.open,g={role:c?"combobox":"listbox","aria-busy":l,"aria-disabled":u,"aria-expanded":!!d};return g.role==="listbox"&&(g["aria-multiselectable"]=h),g},r.clearSearchQuery=function(){var a=r.state.searchQuery;a===void 0||a===""||r.setState({searchQuery:""})},r.handleLabelClick=function(a,l){a.stopPropagation(),r.setState({selectedLabel:l.value}),Je(r.props,"onLabelClick",a,l)},r.handleLabelRemove=function(a,l){a.stopPropagation();var u=r.state.value,c=fre(u,l.value);r.setState({value:c}),r.handleChange(a,c)},r.getSelectedIndexAfterMove=function(a,l){l===void 0&&(l=r.state.selectedIndex);var u=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(!(u===void 0||Ire(u,"disabled"))){var c=u.length-1,h=r.props.wrapSelection,d=l+a;return!h&&(d>c||d<0)?d=l:d>c?d=0:d<0&&(d=c),u[d].disabled?r.getSelectedIndexAfterMove(a,d):d}},r.handleIconOverrides=function(a){var l=r.props.clearable,u=vt(l&&r.hasValue()&&"clear",a.className);return{className:u,onClick:function(c){Je(a,"onClick",c,a),r.handleIconClick(c)}}},r.clearValue=function(a){var l=r.props.multiple,u=l?[]:"";r.setState({value:u}),r.handleChange(a,u)},r.computeSearchInputTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;return qt(u)?l?-1:0:u},r.computeSearchInputWidth=function(){var a=r.state.searchQuery;if(r.sizerRef.current&&a){r.sizerRef.current.style.display="inline",r.sizerRef.current.textContent=a;var l=Math.ceil(r.sizerRef.current.getBoundingClientRect().width);return r.sizerRef.current.style.removeProperty("display"),l}},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.search,c=a.tabIndex;if(!u)return l?-1:qt(c)?0:c},r.handleSearchInputOverrides=function(a){return{onChange:function(l,u){Je(a,"onChange",l,u),r.handleSearchChange(l,u)}}},r.hasValue=function(){var a=r.props.multiple,l=r.state.value;return a?!Db(l):!qt(l)&&l!==""},r.scrollSelectedItemIntoView=function(){if(r.ref.current){var a=r.ref.current.querySelector(".menu.visible");if(a){var l=a.querySelector(".item.selected");if(l){var u=l.offsetTop<a.scrollTop,c=l.offsetTop+l.clientHeight>a.scrollTop+a.clientHeight;u?a.scrollTop=l.offsetTop:c&&(a.scrollTop=l.offsetTop+l.clientHeight-a.clientHeight)}}}},r.setOpenDirection=function(){if(r.ref.current){var a=r.ref.current.querySelector(".menu.visible");if(a){var l=r.ref.current.getBoundingClientRect(),u=a.clientHeight,c=document.documentElement.clientHeight-l.top-l.height-u,h=l.top-u,d=c<0&&h>c;!d!=!r.state.upward&&r.setState({upward:d})}}},r.open=function(a,l){a===void 0&&(a=null),l===void 0&&(l=!0);var u=r.props,c=u.disabled,h=u.search;c||(h&&Je(r.searchRef.current,"focus"),Je(r.props,"onOpen",a,r.props),l&&r.setState({open:!0}),r.scrollSelectedItemIntoView())},r.close=function(a,l){l===void 0&&(l=r.handleClose),r.state.open&&(Je(r.props,"onClose",a,r.props),r.setState({open:!1},l))},r.handleClose=function(){var a=document.activeElement===r.searchRef.current;!a&&r.ref.current&&r.ref.current.blur();var l=document.activeElement===r.ref.current,u=a||l;r.setState({focus:u})},r.toggle=function(a){return r.state.open?r.close(a):r.open(a)},r.renderText=function(){var a=r.props,l=a.multiple,u=a.placeholder,c=a.search,h=a.text,d=r.state,g=d.searchQuery,p=d.selectedIndex,w=d.value,C=d.open,v=r.hasValue(),y=vt(u&&!v&&"default","text",c&&g&&"filtered"),x=u,M;return h?x=h:C&&!l?M=r.getSelectedItem(p):v&&(M=r.getItemByValue(w)),zu.create(M?AF(M):x,{defaultProps:{className:y}})},r.renderSearchInput=function(){var a=r.props,l=a.search,u=a.searchInput,c=r.state.searchQuery;return l&&de.createElement(pa,{innerRef:r.searchRef},hh.create(u,{defaultProps:{style:{width:r.computeSearchInputWidth()},tabIndex:r.computeSearchInputTabIndex(),value:c},overrideProps:r.handleSearchInputOverrides}))},r.renderSearchSizer=function(){var a=r.props,l=a.search,u=a.multiple;return l&&u&&de.createElement("span",{className:"sizer",ref:r.sizerRef})},r.renderLabels=function(){var a=r.props,l=a.multiple,u=a.renderLabel,c=r.state,h=c.selectedLabel,d=c.value;if(!(!l||Db(d))){var g=af(d,r.getItemByValue);return af(Ore(g),function(p,w){var C={active:p.value===h,as:"a",key:_F(p.key,p.value),onClick:r.handleLabelClick,onRemove:r.handleLabelRemove,value:p.value};return yi.create(u(p,w,C),{defaultProps:C})})}},r.renderOptions=function(){var a=r.props,l=a.lazyLoad,u=a.multiple,c=a.search,h=a.noResultsMessage,d=r.state,g=d.open,p=d.selectedIndex,w=d.value;if(l&&!g)return null;var C=df({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(h!==null&&c&&Db(C))return de.createElement("div",{className:"message"},h);var v=u?function(y){return Cl(w,y)}:function(y){return y===w};return af(C,function(y,x){return kF.create(xe({active:v(y.value),selected:p===x},y,{key:_F(y.key,y.value),style:xe({},y.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(M){return{onClick:function(_,T){M.onClick==null||M.onClick(_,T),r.handleItemClick(_,T)}}}})})},r.renderMenu=function(){var a=r.props,l=a.children,u=a.direction,c=a.header,h=r.state.open,d=r.getDropdownMenuAriaOptions();if(!tn(l)){var g=Y.Children.only(l),p=vt(u,ue(h,"visible"),g.props.className);return Y.cloneElement(g,xe({className:p},d))}return de.createElement(hf,xe({},d,{direction:u,open:h}),Bu.create(c,{autoGenerateKey:!1}),r.renderOptions())},r}var n=e.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},e.getAutoControlledStateFromProps=function(r,o,i){var s={__options:r.options,__value:o.value},a=!Ub(i.__value,o.value)||!hre(OF(r.options),OF(i.__options));return a&&(s.selectedIndex=MF({additionLabel:r.additionLabel,additionPosition:r.additionPosition,allowAdditions:r.allowAdditions,deburr:r.deburr,multiple:r.multiple,search:r.search,selectedIndex:o.selectedIndex,value:o.value,options:r.options,searchQuery:o.searchQuery})),s},n.componentDidMount=function(){var r=this.state.open;r&&this.open(null,!1)},n.shouldComponentUpdate=function(r,o){return!Ub(r,this.props)||!Ub(o,this.state)},n.componentDidUpdate=function(r,o){var i=this.props,s=i.closeOnBlur,a=i.minCharacters,l=i.openOnFocus,u=i.search;if(!o.focus&&this.state.focus){if(!this.isMouseDown){var c=!u||u&&a===1&&!this.state.open;l&&c&&this.open()}}else o.focus&&!this.state.focus&&!this.isMouseDown&&s&&this.close();!o.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):o.open&&this.state.open,o.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var r=this.props,o=r.search,i=r.multiple,s={};return o&&(s["aria-multiselectable"]=i,s.role="listbox"),s},n.render=function(){var r=this.props,o=r.basic,i=r.button,s=r.className,a=r.compact,l=r.disabled,u=r.error,c=r.fluid,h=r.floating,d=r.icon,g=r.inline,p=r.item,w=r.labeled,C=r.loading,v=r.multiple,y=r.pointing,x=r.search,M=r.selection,_=r.scrolling,T=r.simple,O=r.trigger,I=this.state,N=I.focus,L=I.open,B=I.upward,ae=vt("ui",ue(L,"active visible"),ue(l,"disabled"),ue(u,"error"),ue(C,"loading"),ue(o,"basic"),ue(i,"button"),ue(a,"compact"),ue(c,"fluid"),ue(h,"floating"),ue(g,"inline"),ue(w,"labeled"),ue(p,"item"),ue(v,"multiple"),ue(x,"search"),ue(M,"selection"),ue(T,"simple"),ue(_,"scrolling"),ue(B,"upward"),so(y,"pointing"),"dropdown",s),U=wt(e,this.props),ce=bt(e,this.props),ve=this.getDropdownAriaOptions(ce,this.props);return de.createElement(pa,{innerRef:this.ref},de.createElement(ce,xe({},U,ve,{className:ae,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),O||this.renderText(),Nr.create(d,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),L&&de.createElement(bl,{name:"keydown",on:this.closeOnEscape}),L&&de.createElement(bl,{name:"click",on:this.closeOnDocumentClick}),N&&de.createElement(bl,{name:"keydown",on:this.removeItemOnBackspace})))},e}(uk);qn.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],qn.propTypes={},qn.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:AF,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},qn.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],qn.Divider=mp,qn.Header=Bu,qn.Item=kF,qn.Menu=hf,qn.SearchInput=hh,qn.Text=zu;function dh(t){return de.createElement(qn,xe({},t,{selection:!0}))}dh.handledProps=["options"],dh.propTypes={},dh.Divider=qn.Divider,dh.Header=qn.Header,dh.Item=qn.Item,dh.Menu=qn.Menu;var $b=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.ref=Y.createRef(),r.focus=function(){return r.ref.current.focus()},r.handleChange=function(a){var l=ya(a,"target.value");Je(r.props,"onChange",a,xe({},r.props,{value:l}))},r.handleInput=function(a){var l=ya(a,"target.value");Je(r.props,"onInput",a,xe({},r.props,{value:l}))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.rows,i=r.value,s=wt(e,this.props),a=bt(e,this.props);return de.createElement(pa,{innerRef:this.ref},de.createElement(a,xe({},s,{onChange:this.handleChange,onInput:this.handleInput,rows:o,value:i})))},e}(Y.Component);$b.handledProps=["as","onChange","onInput","rows","value"],$b.propTypes={},$b.defaultProps={as:"textarea",rows:3};const Go=$b;function Ki(t){var e=t.children,n=t.className,r=t.content,o=t.control,i=t.disabled,s=t.error,a=t.inline,l=t.label,u=t.required,c=t.type,h=t.width,d=t.id,g=vt(ue(i,"disabled"),ue(s,"error"),ue(a,"inline"),ue(u,"required"),Yi(h,"wide"),"field",n),p=wt(Ki,t),w=bt(Ki,t),C=ya(s,"pointing","above"),v=yi.create(s,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:C,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),y=(C==="below"||C==="right")&&v,x=(C==="above"||C==="left")&&v;if(qt(o))return qt(l)?de.createElement(w,xe({},p,{className:g,id:d}),tn(e)?r:e):de.createElement(w,xe({},p,{className:g,id:d}),y,yk(l,{autoGenerateKey:!1}),x);var M=d&&s?d+"-error-message":null,_={"aria-describedby":M,"aria-invalid":s?!0:void 0},T=xe({},p,{content:r,children:e,disabled:i,required:u,type:c,id:d});return o==="input"&&(c==="checkbox"||c==="radio")?de.createElement(w,{className:g},de.createElement("label",null,y,Y.createElement(o,xe({},_,T))," ",l,x)):o===En||o===cf?de.createElement(w,{className:g},y,Y.createElement(o,xe({},_,T,{label:l})),x):de.createElement(w,{className:g},yk(l,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),y,Y.createElement(o,xe({},_,T)),x)}Ki.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],Ki.propTypes={};function ff(t){var e=t.control,n=wt(ff,t),r=bt(ff,t);return de.createElement(r,xe({},n,{control:e}))}ff.handledProps=["as","control"],ff.propTypes={},ff.defaultProps={as:Ki,control:hr};function gf(t){var e=t.control,n=wt(gf,t),r=bt(gf,t);return de.createElement(r,xe({},n,{control:e}))}gf.handledProps=["as","control"],gf.propTypes={},gf.defaultProps={as:Ki,control:En};function mf(t){var e=t.control,n=wt(mf,t),r=bt(mf,t);return de.createElement(r,xe({},n,{control:e}))}mf.handledProps=["as","control"],mf.propTypes={},mf.defaultProps={as:Ki,control:qn};function vp(t){var e=t.children,n=t.className,r=t.grouped,o=t.inline,i=t.unstackable,s=t.widths,a=vt(ue(r,"grouped"),ue(o,"inline"),ue(i,"unstackable"),Yi(s,null,!0),"fields",n),l=wt(vp,t),u=bt(vp,t);return de.createElement(u,xe({},l,{className:a}),e)}vp.handledProps=["as","children","className","grouped","inline","unstackable","widths"],vp.propTypes={};var pf=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.inputRef=Y.createRef(),r.computeIcon=function(){var a=r.props,l=a.loading,u=a.icon;if(!qt(u))return u;if(l)return"spinner"},r.computeTabIndex=function(){var a=r.props,l=a.disabled,u=a.tabIndex;if(!qt(u))return u;if(l)return-1},r.focus=function(a){return r.inputRef.current.focus(a)},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(a){var l=ya(a,"target.value");Je(r.props,"onChange",a,xe({},r.props,{value:l}))},r.handleChildOverrides=function(a,l){return xe({},l,a.props,{ref:function(u){ma(a.ref,u),r.inputRef.current=u}})},r.partitionProps=function(){var a=r.props,l=a.disabled,u=a.type,c=r.computeTabIndex(),h=wt(e,r.props),d=bk(h),g=d[0],p=d[1];return[xe({},g,{disabled:l,type:u,tabIndex:c,onChange:r.handleChange,ref:r.inputRef}),p]},r}var n=e.prototype;return n.render=function(){var r=this,o=this.props,i=o.action,s=o.actionPosition,a=o.children,l=o.className,u=o.disabled,c=o.error,h=o.fluid,d=o.focus,g=o.icon,p=o.iconPosition,w=o.input,C=o.inverted,v=o.label,y=o.labelPosition,x=o.loading,M=o.size,_=o.transparent,T=o.type,O=vt("ui",M,ue(u,"disabled"),ue(c,"error"),ue(h,"fluid"),ue(d,"focus"),ue(C,"inverted"),ue(x,"loading"),ue(_,"transparent"),Gi(s,"action")||ue(i,"action"),Gi(p,"icon")||ue(g||x,"icon"),Gi(y,"labeled")||ue(v,"labeled"),"input",l),I=bt(e,this.props),N=this.partitionProps(),L=N[0],B=N[1];if(!tn(a)){var ae=af(Y.Children.toArray(a),function(ve){return ve.type!=="input"?ve:Y.cloneElement(ve,r.handleChildOverrides(ve,L))});return de.createElement(I,xe({},B,{className:O}),ae)}var U=hr.create(i,{autoGenerateKey:!1}),ce=yi.create(v,{defaultProps:{className:vt("label",Cl(y,"corner")&&y)},autoGenerateKey:!1});return de.createElement(I,xe({},B,{className:O}),s==="left"&&U,y!=="right"&&ce,Kne(w||T,{defaultProps:L,autoGenerateKey:!1}),Nr.create(this.computeIcon(),{autoGenerateKey:!1}),s!=="left"&&U,y==="right"&&ce)},e}(Y.Component);pf.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],pf.propTypes={},pf.defaultProps={type:"text"},pf.create=ir(pf,function(t){return{type:t}});const kn=pf;function vf(t){var e=t.control,n=wt(vf,t),r=bt(vf,t);return de.createElement(r,xe({},n,{control:e}))}vf.handledProps=["as","control"],vf.propTypes={},vf.defaultProps={as:Ki,control:kn};function wf(t){var e=t.control,n=wt(wf,t),r=bt(wf,t);return de.createElement(r,xe({},n,{control:e}))}wf.handledProps=["as","control"],wf.propTypes={},wf.defaultProps={as:Ki,control:cf};function yf(t){var e=t.control,n=t.options,r=wt(yf,t),o=bt(yf,t);return de.createElement(o,xe({},r,{control:e,options:n}))}yf.handledProps=["as","control","options"],yf.propTypes={},yf.defaultProps={as:Ki,control:dh};function bf(t){var e=t.control,n=wt(bf,t),r=bt(bf,t);return de.createElement(r,xe({},n,{control:e}))}bf.handledProps=["as","control"],bf.propTypes={},bf.defaultProps={as:Ki,control:Go};var bi=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleSubmit=function(a){var l=r.props.action;typeof l!="string"&&Je(a,"preventDefault");for(var u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];Je.apply(void 0,[r.props,"onSubmit",a,r.props].concat(c))},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.action,i=r.children,s=r.className,a=r.error,l=r.inverted,u=r.loading,c=r.reply,h=r.size,d=r.success,g=r.unstackable,p=r.warning,w=r.widths,C=vt("ui",h,ue(a,"error"),ue(l,"inverted"),ue(u,"loading"),ue(c,"reply"),ue(d,"success"),ue(g,"unstackable"),ue(p,"warning"),Yi(w,null,!0),"form",s),v=wt(e,this.props),y=bt(e,this.props);return de.createElement(y,xe({},v,{action:o,className:C,onSubmit:this.handleSubmit}),i)},e}(Y.Component);bi.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],bi.propTypes={},bi.defaultProps={as:"form"},bi.Field=Ki,bi.Button=ff,bi.Checkbox=gf,bi.Dropdown=mf,bi.Group=vp,bi.Input=vf,bi.Radio=wf,bi.Select=yf,bi.TextArea=bf;const Gb=bi;function me(t){var e=t.children,n=t.className,r=t.computer,o=t.color,i=t.floated,s=t.largeScreen,a=t.mobile,l=t.only,u=t.stretched,c=t.tablet,h=t.textAlign,d=t.verticalAlign,g=t.widescreen,p=t.width,w=vt(o,ue(u,"stretched"),jb(l,"only"),hk(h),Gi(i,"floated"),sp(d),Yi(r,"wide computer"),Yi(s,"wide large screen"),Yi(a,"wide mobile"),Yi(c,"wide tablet"),Yi(g,"wide widescreen"),Yi(p,"wide"),"column",n),C=wt(me,t),v=bt(me,t);return de.createElement(v,xe({},C,{className:w}),e)}me.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],me.propTypes={},me.create=ir(me,function(t){return{children:t}});function Ue(t){var e=t.centered,n=t.children,r=t.className,o=t.color,i=t.columns,s=t.divided,a=t.only,l=t.reversed,u=t.stretched,c=t.textAlign,h=t.verticalAlign,d=vt(o,ue(e,"centered"),ue(s,"divided"),ue(u,"stretched"),jb(a,"only"),jb(l,"reversed"),hk(c),sp(h),Yi(i,"column",!0),"row",r),g=wt(Ue,t),p=bt(Ue,t);return de.createElement(p,xe({},g,{className:d}),n)}Ue.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Ue.propTypes={};function Yo(t){var e=t.celled,n=t.centered,r=t.children,o=t.className,i=t.columns,s=t.container,a=t.divided,l=t.doubling,u=t.inverted,c=t.padded,h=t.relaxed,d=t.reversed,g=t.stackable,p=t.stretched,w=t.textAlign,C=t.verticalAlign,v=vt("ui",ue(n,"centered"),ue(s,"container"),ue(l,"doubling"),ue(u,"inverted"),ue(g,"stackable"),ue(p,"stretched"),so(e,"celled"),so(a,"divided"),so(c,"padded"),so(h,"relaxed"),jb(d,"reversed"),hk(w),sp(C),Yi(i,"column",!0),"grid",o),y=wt(Yo,t),x=bt(Yo,t);return de.createElement(x,xe({},y,{className:v}),r)}Yo.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Yo.Column=me,Yo.Row=Ue,Yo.propTypes={};function Cf(t){var e=t.children,n=t.className,r=t.content,o=vt("content",n),i=wt(Cf,t),s=bt(Cf,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}Cf.handledProps=["as","children","className","content"],Cf.propTypes={};function ba(t){var e=t.children,n=t.className,r=t.content,o=vt("header",n),i=wt(ba,t),s=bt(ba,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}ba.handledProps=["as","children","className","content"],ba.propTypes={},ba.create=ir(ba,function(t){return{content:t}});function xl(t){var e=t.children,n=t.className,r=t.content,o=vt("content",n),i=wt(xl,t),s=bt(xl,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}xl.handledProps=["as","children","className","content"],xl.propTypes={},xl.defaultProps={as:"li"},xl.create=ir(xl,function(t){return{content:t}});function Rl(t){var e=t.children,n=t.className,r=t.items,o=vt("list",n),i=wt(Rl,t),s=bt(Rl,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?af(r,xl.create):e)}Rl.handledProps=["as","children","className","items"],Rl.propTypes={},Rl.defaultProps={as:"ul"},Rl.create=ir(Rl,function(t){return{items:t}});var El=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleDismiss=function(a){var l=r.props.onDismiss;l&&l(a,r.props)},r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.attached,i=r.children,s=r.className,a=r.color,l=r.compact,u=r.content,c=r.error,h=r.floating,d=r.header,g=r.hidden,p=r.icon,w=r.info,C=r.list,v=r.negative,y=r.onDismiss,x=r.positive,M=r.size,_=r.success,T=r.visible,O=r.warning,I=vt("ui",a,M,ue(l,"compact"),ue(c,"error"),ue(h,"floating"),ue(g,"hidden"),ue(p,"icon"),ue(w,"info"),ue(v,"negative"),ue(x,"positive"),ue(_,"success"),ue(T,"visible"),ue(O,"warning"),so(o,"attached"),"message",s),N=y&&de.createElement(Nr,{name:"close",onClick:this.handleDismiss}),L=wt(e,this.props),B=bt(e,this.props);return tn(i)?de.createElement(B,xe({},L,{className:I}),N,Nr.create(p,{autoGenerateKey:!1}),(!qt(d)||!qt(u)||!qt(C))&&de.createElement(Cf,null,ba.create(d,{autoGenerateKey:!1}),Rl.create(C,{autoGenerateKey:!1}),Xne(u,{autoGenerateKey:!1}))):de.createElement(B,xe({},L,{className:I}),N,i)},e}(Y.Component);El.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],El.propTypes={},El.Content=Cf,El.Header=ba,El.List=Rl,El.Item=xl;function Gt(t){var e=t.children,n=t.className,r=t.clearing,o=t.content,i=t.fitted,s=t.hidden,a=t.horizontal,l=t.inverted,u=t.section,c=t.vertical,h=vt("ui",ue(r,"clearing"),ue(i,"fitted"),ue(s,"hidden"),ue(a,"horizontal"),ue(l,"inverted"),ue(u,"section"),ue(c,"vertical"),"divider",n),d=wt(Gt,t),g=bt(Gt,t);return de.createElement(g,xe({},d,{className:h}),tn(e)?o:e)}Gt.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],Gt.propTypes={};function wp(t){var e=t.active,n=t.children,r=t.className,o=t.content,i=t.disabled,s=t.indeterminate,a=t.inline,l=t.inverted,u=t.size,c=vt("ui",u,ue(e,"active"),ue(i,"disabled"),ue(s,"indeterminate"),ue(l,"inverted"),ue(n||o,"text"),so(a,"inline"),"loader",r),h=wt(wp,t),d=bt(wp,t);return de.createElement(d,xe({},h,{className:c}),tn(n)?o:n)}wp.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],wp.propTypes={};function eoe(t){return $i(t)&&t.nodeType===1&&!JW(t)}var toe=Y.createContext();Y.createContext();var noe=function(t){return Array.isArray(t)?t[0]:t},roe=function(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}},ooe=function(t,e){if(typeof t=="function")return roe(t,e);t!=null&&(t.current=e)},PF=function(t){return t.reduce(function(e,n){var r=n[0],o=n[1];return e[r]=o,e},{})},IF=typeof window<"u"&&window.document&&window.document.createElement?Y.useLayoutEffect:Y.useEffect,qo="top",Xi="bottom",Qi="right",Ko="left",Tk="auto",yp=[qo,Xi,Qi,Ko],Sf="start",bp="end",ioe="clippingParents",NF="viewport",Cp="popper",soe="reference",HF=yp.reduce(function(t,e){return t.concat([e+"-"+Sf,e+"-"+bp])},[]),DF=[].concat(yp,[Tk]).reduce(function(t,e){return t.concat([e,e+"-"+Sf,e+"-"+bp])},[]),aoe="beforeRead",loe="read",uoe="afterRead",coe="beforeMain",hoe="main",doe="afterMain",foe="beforeWrite",goe="write",moe="afterWrite",poe=[aoe,loe,uoe,coe,hoe,doe,foe,goe,moe];function Ca(t){return t?(t.nodeName||"").toLowerCase():null}function Ci(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function fh(t){var e=Ci(t).Element;return t instanceof e||t instanceof Element}function Ji(t){var e=Ci(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mk(t){if(typeof ShadowRoot>"u")return!1;var e=Ci(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function voe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!Ji(i)||!Ca(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function woe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Ji(o)||!Ca(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const yoe={name:"applyStyles",enabled:!0,phase:"write",fn:voe,effect:woe,requires:["computeStyles"]};function Sa(t){return t.split("-")[0]}var gh=Math.max,Yb=Math.min,xf=Math.round;function _k(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function LF(){return!/^((?!chrome|android).)*safari/i.test(_k())}function Rf(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&Ji(t)&&(o=t.offsetWidth>0&&xf(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&xf(r.height)/t.offsetHeight||1);var s=fh(t)?Ci(t):window,a=s.visualViewport,l=!LF()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/o,c=(r.top+(l&&a?a.offsetTop:0))/i,h=r.width/o,d=r.height/i;return{width:h,height:d,top:c,right:u+h,bottom:c+d,left:u,x:u,y:c}}function Ok(t){var e=Rf(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function jF(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Mk(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kl(t){return Ci(t).getComputedStyle(t)}function boe(t){return["table","td","th"].indexOf(Ca(t))>=0}function Uu(t){return((fh(t)?t.ownerDocument:t.document)||window.document).documentElement}function qb(t){return Ca(t)==="html"?t:t.assignedSlot||t.parentNode||(Mk(t)?t.host:null)||Uu(t)}function WF(t){return!Ji(t)||kl(t).position==="fixed"?null:t.offsetParent}function Coe(t){var e=/firefox/i.test(_k()),n=/Trident/i.test(_k());if(n&&Ji(t)){var r=kl(t);if(r.position==="fixed")return null}var o=qb(t);for(Mk(o)&&(o=o.host);Ji(o)&&["html","body"].indexOf(Ca(o))<0;){var i=kl(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Sp(t){for(var e=Ci(t),n=WF(t);n&&boe(n)&&kl(n).position==="static";)n=WF(n);return n&&(Ca(n)==="html"||Ca(n)==="body"&&kl(n).position==="static")?e:n||Coe(t)||e}function Ak(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xp(t,e,n){return gh(t,Yb(e,n))}function Soe(t,e,n){var r=xp(t,e,n);return r>n?n:r}function FF(){return{top:0,right:0,bottom:0,left:0}}function VF(t){return Object.assign({},FF(),t)}function BF(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xoe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,VF(typeof t!="number"?t:BF(t,yp))};function Roe(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Sa(n.placement),l=Ak(a),u=[Ko,Qi].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!s)){var h=xoe(o.padding,n),d=Ok(i),g=l==="y"?qo:Ko,p=l==="y"?Xi:Qi,w=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],C=s[l]-n.rects.reference[l],v=Sp(i),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=w/2-C/2,M=h[g],_=y-d[c]-h[p],T=y/2-d[c]/2+x,O=xp(M,T,_),I=l;n.modifiersData[r]=(e={},e[I]=O,e.centerOffset=O-T,e)}}function Eoe(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||jF(e.elements.popper,o)&&(e.elements.arrow=o))}const koe={name:"arrow",enabled:!0,phase:"main",fn:Roe,effect:Eoe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ef(t){return t.split("-")[1]}var Toe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Moe(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:xf(n*o)/o||0,y:xf(r*o)/o||0}}function zF(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,d=s.x,g=d===void 0?0:d,p=s.y,w=p===void 0?0:p,C=typeof c=="function"?c({x:g,y:w}):{x:g,y:w};g=C.x,w=C.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),x=Ko,M=qo,_=window;if(u){var T=Sp(n),O="clientHeight",I="clientWidth";if(T===Ci(n)&&(T=Uu(n),kl(T).position!=="static"&&a==="absolute"&&(O="scrollHeight",I="scrollWidth")),T=T,o===qo||(o===Ko||o===Qi)&&i===bp){M=Xi;var N=h&&T===_&&_.visualViewport?_.visualViewport.height:T[O];w-=N-r.height,w*=l?1:-1}if(o===Ko||(o===qo||o===Xi)&&i===bp){x=Qi;var L=h&&T===_&&_.visualViewport?_.visualViewport.width:T[I];g-=L-r.width,g*=l?1:-1}}var B=Object.assign({position:a},u&&Toe),ae=c===!0?Moe({x:g,y:w},Ci(n)):{x:g,y:w};if(g=ae.x,w=ae.y,l){var U;return Object.assign({},B,(U={},U[M]=y?"0":"",U[x]=v?"0":"",U.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",U))}return Object.assign({},B,(e={},e[M]=y?w+"px":"",e[x]=v?g+"px":"",e.transform="",e))}function _oe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Sa(e.placement),variation:Ef(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zF(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zF(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ooe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_oe,data:{}};var Kb={passive:!0};function Aoe(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,l=Ci(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,Kb)}),a&&l.addEventListener("resize",n.update,Kb),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Kb)}),a&&l.removeEventListener("resize",n.update,Kb)}}const Poe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Aoe,data:{}};var Ioe={left:"right",right:"left",bottom:"top",top:"bottom"};function Xb(t){return t.replace(/left|right|bottom|top/g,function(e){return Ioe[e]})}var Noe={start:"end",end:"start"};function UF(t){return t.replace(/start|end/g,function(e){return Noe[e]})}function Pk(t){var e=Ci(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ik(t){return Rf(Uu(t)).left+Pk(t).scrollLeft}function Hoe(t,e){var n=Ci(t),r=Uu(t),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var u=LF();(u||!u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+Ik(t),y:l}}function Doe(t){var e,n=Uu(t),r=Pk(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=gh(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=gh(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Ik(t),l=-r.scrollTop;return kl(o||n).direction==="rtl"&&(a+=gh(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function Nk(t){var e=kl(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function $F(t){return["html","body","#document"].indexOf(Ca(t))>=0?t.ownerDocument.body:Ji(t)&&Nk(t)?t:$F(qb(t))}function Rp(t,e){var n;e===void 0&&(e=[]);var r=$F(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ci(r),s=o?[i].concat(i.visualViewport||[],Nk(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(Rp(qb(s)))}function Hk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Loe(t,e){var n=Rf(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function GF(t,e,n){return e===NF?Hk(Hoe(t,n)):fh(e)?Loe(e,n):Hk(Doe(Uu(t)))}function joe(t){var e=Rp(qb(t)),n=["absolute","fixed"].indexOf(kl(t).position)>=0,r=n&&Ji(t)?Sp(t):t;return fh(r)?e.filter(function(o){return fh(o)&&jF(o,r)&&Ca(o)!=="body"}):[]}function Woe(t,e,n,r){var o=e==="clippingParents"?joe(t):[].concat(e),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(l,u){var c=GF(t,u,r);return l.top=gh(c.top,l.top),l.right=Yb(c.right,l.right),l.bottom=Yb(c.bottom,l.bottom),l.left=gh(c.left,l.left),l},GF(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function YF(t){var e=t.reference,n=t.element,r=t.placement,o=r?Sa(r):null,i=r?Ef(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case qo:l={x:s,y:e.y-n.height};break;case Xi:l={x:s,y:e.y+e.height};break;case Qi:l={x:e.x+e.width,y:a};break;case Ko:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=o?Ak(o):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Sf:l[u]=l[u]-(e[c]/2-n[c]/2);break;case bp:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Ep(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?ioe:a,u=n.rootBoundary,c=u===void 0?NF:u,h=n.elementContext,d=h===void 0?Cp:h,g=n.altBoundary,p=g===void 0?!1:g,w=n.padding,C=w===void 0?0:w,v=VF(typeof C!="number"?C:BF(C,yp)),y=d===Cp?soe:Cp,x=t.rects.popper,M=t.elements[p?y:d],_=Woe(fh(M)?M:M.contextElement||Uu(t.elements.popper),l,c,s),T=Rf(t.elements.reference),O=YF({reference:T,element:x,strategy:"absolute",placement:o}),I=Hk(Object.assign({},x,O)),N=d===Cp?I:T,L={top:_.top-N.top+v.top,bottom:N.bottom-_.bottom+v.bottom,left:_.left-N.left+v.left,right:N.right-_.right+v.right},B=t.modifiersData.offset;if(d===Cp&&B){var ae=B[o];Object.keys(L).forEach(function(U){var ce=[Qi,Xi].indexOf(U)>=0?1:-1,ve=[qo,Xi].indexOf(U)>=0?"y":"x";L[U]+=ae[ve]*ce})}return L}function Foe(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?DF:l,c=Ef(r),h=c?a?HF:HF.filter(function(p){return Ef(p)===c}):yp,d=h.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=h);var g=d.reduce(function(p,w){return p[w]=Ep(t,{placement:w,boundary:o,rootBoundary:i,padding:s})[Sa(w)],p},{});return Object.keys(g).sort(function(p,w){return g[p]-g[w]})}function Voe(t){if(Sa(t)===Tk)return[];var e=Xb(t);return[UF(t),e,UF(e)]}function Boe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,g=n.flipVariations,p=g===void 0?!0:g,w=n.allowedAutoPlacements,C=e.options.placement,v=Sa(C),y=v===C,x=l||(y||!p?[Xb(C)]:Voe(C)),M=[C].concat(x).reduce(function(V,he){return V.concat(Sa(he)===Tk?Foe(e,{placement:he,boundary:c,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:w}):he)},[]),_=e.rects.reference,T=e.rects.popper,O=new Map,I=!0,N=M[0],L=0;L<M.length;L++){var B=M[L],ae=Sa(B),U=Ef(B)===Sf,ce=[qo,Xi].indexOf(ae)>=0,ve=ce?"width":"height",Me=Ep(e,{placement:B,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),Ce=ce?U?Qi:Ko:U?Xi:qo;_[ve]>T[ve]&&(Ce=Xb(Ce));var ne=Xb(Ce),S=[];if(i&&S.push(Me[ae]<=0),a&&S.push(Me[Ce]<=0,Me[ne]<=0),S.every(function(V){return V})){N=B,I=!1;break}O.set(B,S)}if(I)for(var R=p?3:1,k=function(V){var he=M.find(function(te){var we=O.get(te);if(we)return we.slice(0,V).every(function(ye){return ye})});if(he)return N=he,"break"},D=R;D>0;D--){var W=k(D);if(W==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const zoe={name:"flip",enabled:!0,phase:"main",fn:Boe,requiresIfExists:["offset"],data:{_skip:!1}};function qF(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function KF(t){return[qo,Qi,Xi,Ko].some(function(e){return t[e]>=0})}function Uoe(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Ep(e,{elementContext:"reference"}),a=Ep(e,{altBoundary:!0}),l=qF(s,r),u=qF(a,o,i),c=KF(l),h=KF(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const $oe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Uoe};function Goe(t,e,n){var r=Sa(t),o=[Ko,qo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Ko,Qi].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Yoe(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=DF.reduce(function(c,h){return c[h]=Goe(h,e.rects,i),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const qoe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yoe};function Koe(t){var e=t.state,n=t.name;e.modifiersData[n]=YF({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Xoe={name:"popperOffsets",enabled:!0,phase:"read",fn:Koe,data:{}};function Qoe(t){return t==="x"?"y":"x"}function Joe(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,d=n.tether,g=d===void 0?!0:d,p=n.tetherOffset,w=p===void 0?0:p,C=Ep(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),v=Sa(e.placement),y=Ef(e.placement),x=!y,M=Ak(v),_=Qoe(M),T=e.modifiersData.popperOffsets,O=e.rects.reference,I=e.rects.popper,N=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,L=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ae={x:0,y:0};if(T){if(i){var U,ce=M==="y"?qo:Ko,ve=M==="y"?Xi:Qi,Me=M==="y"?"height":"width",Ce=T[M],ne=Ce+C[ce],S=Ce-C[ve],R=g?-I[Me]/2:0,k=y===Sf?O[Me]:I[Me],D=y===Sf?-I[Me]:-O[Me],W=e.elements.arrow,V=g&&W?Ok(W):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:FF(),te=he[ce],we=he[ve],ye=xp(0,O[Me],V[Me]),pe=x?O[Me]/2-R-ye-te-L.mainAxis:k-ye-te-L.mainAxis,$e=x?-O[Me]/2+R+ye+we+L.mainAxis:D+ye+we+L.mainAxis,We=e.elements.arrow&&Sp(e.elements.arrow),Xe=We?M==="y"?We.clientTop||0:We.clientLeft||0:0,Se=(U=B==null?void 0:B[M])!=null?U:0,le=Ce+pe-Se-Xe,mt=Ce+$e-Se,Qe=xp(g?Yb(ne,le):ne,Ce,g?gh(S,mt):S);T[M]=Qe,ae[M]=Qe-Ce}if(a){var et,ft=M==="x"?qo:Ko,He=M==="x"?Xi:Qi,A=T[_],H=_==="y"?"height":"width",j=A+C[ft],Z=A-C[He],$=[qo,Ko].indexOf(v)!==-1,ee=(et=B==null?void 0:B[_])!=null?et:0,K=$?j:A-O[H]-I[H]-ee+L.altAxis,q=$?A+O[H]+I[H]-ee-L.altAxis:Z,oe=g&&$?Soe(K,A,q):xp(g?K:j,A,g?q:Z);T[_]=oe,ae[_]=oe-A}e.modifiersData[r]=ae}}const Zoe={name:"preventOverflow",enabled:!0,phase:"main",fn:Joe,requiresIfExists:["offset"]};function eie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function tie(t){return t===Ci(t)||!Ji(t)?Pk(t):eie(t)}function nie(t){var e=t.getBoundingClientRect(),n=xf(e.width)/t.offsetWidth||1,r=xf(e.height)/t.offsetHeight||1;return n!==1||r!==1}function rie(t,e,n){n===void 0&&(n=!1);var r=Ji(e),o=Ji(e)&&nie(e),i=Uu(e),s=Rf(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ca(e)!=="body"||Nk(i))&&(a=tie(e)),Ji(e)?(l=Rf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Ik(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function oie(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function iie(t){var e=oie(t);return poe.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function sie(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function aie(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var XF={placement:"bottom",modifiers:[],strategy:"absolute"};function QF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function lie(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?XF:o;return function(s,a,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},XF,i),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},c=[],h=!1,d={state:u,setOptions:function(w){var C=typeof w=="function"?w(u.options):w;p(),u.options=Object.assign({},i,u.options,C),u.scrollParents={reference:fh(s)?Rp(s):s.contextElement?Rp(s.contextElement):[],popper:Rp(a)};var v=iie(aie([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(y){return y.enabled}),g(),d.update()},forceUpdate:function(){if(!h){var w=u.elements,C=w.reference,v=w.popper;if(QF(C,v)){u.rects={reference:rie(C,Sp(v),u.options.strategy==="fixed"),popper:Ok(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var x=u.orderedModifiers[y],M=x.fn,_=x.options,T=_===void 0?{}:_,O=x.name;typeof M=="function"&&(u=M({state:u,options:T,name:O,instance:d})||u)}}}},update:sie(function(){return new Promise(function(w){d.forceUpdate(),w(u)})}),destroy:function(){p(),h=!0}};if(!QF(s,a))return d;d.setOptions(l).then(function(w){!h&&l.onFirstUpdate&&l.onFirstUpdate(w)});function g(){u.orderedModifiers.forEach(function(w){var C=w.name,v=w.options,y=v===void 0?{}:v,x=w.effect;if(typeof x=="function"){var M=x({state:u,name:C,instance:d,options:y}),_=function(){};c.push(M||_)}})}function p(){c.forEach(function(w){return w()}),c=[]}return d}}var uie=[Poe,Xoe,Ooe,yoe,qoe,zoe,Zoe,koe,$oe],cie=lie({defaultModifiers:uie}),hie=typeof Element<"u",die=typeof Map=="function",fie=typeof Set=="function",gie=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qb(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Qb(t[r],e[r]))return!1;return!0}var i;if(die&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Qb(r.value[1],e.get(r.value[0])))return!1;return!0}if(fie&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(gie&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;if(hie&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&t.$$typeof)&&!Qb(t[o[r]],e[o[r]]))return!1;return!0}return t!==t&&e!==e}var mie=function(t,e){try{return Qb(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const pie=gu(mie);var vie=[],wie=function(t,e,n){n===void 0&&(n={});var r=Y.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||vie},i=Y.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=i[0],a=i[1],l=Y.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var d=h.state,g=Object.keys(d.elements);Zc.flushSync(function(){a({styles:PF(g.map(function(p){return[p,d.styles[p]||{}]})),attributes:PF(g.map(function(p){return[p,d.attributes[p]]}))})})},requires:["computeStyles"]}},[]),u=Y.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[l,{name:"applyStyles",enabled:!1}])};return pie(r.current,h)?r.current||h:(r.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,l]),c=Y.useRef();return IF(function(){c.current&&c.current.setOptions(u)},[u]),IF(function(){if(!(t==null||e==null)){var h=n.createPopper||cie,d=h(t,e,u);return c.current=d,function(){d.destroy(),c.current=null}}},[t,e,n.createPopper]),{state:c.current?c.current.state:null,styles:s.styles,attributes:s.attributes,update:c.current?c.current.update:null,forceUpdate:c.current?c.current.forceUpdate:null}},yie=function(){},bie=function(){return Promise.resolve(null)},Cie=[];function Sie(t){var e=t.placement,n=e===void 0?"bottom":e,r=t.strategy,o=r===void 0?"absolute":r,i=t.modifiers,s=i===void 0?Cie:i,a=t.referenceElement,l=t.onFirstUpdate,u=t.innerRef,c=t.children,h=Y.useContext(toe),d=Y.useState(null),g=d[0],p=d[1],w=Y.useState(null),C=w[0],v=w[1];Y.useEffect(function(){ooe(u,g)},[u,g]);var y=Y.useMemo(function(){return{placement:n,strategy:o,onFirstUpdate:l,modifiers:[].concat(s,[{name:"arrow",enabled:C!=null,options:{element:C}}])}},[n,o,l,s,C]),x=wie(a||h,g,y),M=x.state,_=x.styles,T=x.forceUpdate,O=x.update,I=Y.useMemo(function(){return{ref:p,style:_.popper,placement:M?M.placement:n,hasPopperEscaped:M&&M.modifiersData.hide?M.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:M&&M.modifiersData.hide?M.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:_.arrow,ref:v},forceUpdate:T||yie,update:O||bie}},[p,v,n,M,_,O,T]);return noe(c)(I)}function xie(t,e,n,r){return wW(t,function(o,i,s){e(r,n(o),i,s)}),r}function Rie(t,e){return function(n,r){return xie(n,t,e(r),{})}}var Eie=Object.prototype,kie=Eie.toString,Tie=Rie(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=kie.call(e)),t[e]=n},rW(rp)),Dk={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};nf(Dk);var Mie=Tie(Dk);function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function _ie(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oie(t){var e=_ie(t,"string");return kp(e)=="symbol"?e:String(e)}function JF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oie(r.key),r)}}function Aie(t,e,n){return e&&JF(t.prototype,e),n&&JF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Pie=function(){function t(n){this.ref=n}var e=t.prototype;return e.getBoundingClientRect=function(){return Je(this.ref.current,"getBoundingClientRect")||{}},Aie(t,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}},{key:"contextElement",get:function(){return this.ref.current}}]),t}(),Iie=Rb(function(t){return new Pie(dJ(t)?t:{current:t})});const Nie=Iie;function $u(t){var e=t.children,n=t.className,r=t.content,o=vt("content",n),i=wt($u,t),s=bt($u,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}$u.handledProps=["as","children","className","content"],$u.propTypes={},$u.create=ir($u,function(t){return{children:t}});function Gu(t){var e=t.children,n=t.className,r=t.content,o=vt("header",n),i=wt(Gu,t),s=bt(Gu,t);return de.createElement(s,xe({},i,{className:o}),tn(e)?r:e)}Gu.handledProps=["as","children","className","content"],Gu.propTypes={},Gu.create=ir(Gu,function(t){return{children:t}});var Tl=function(t){vr(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.state={},r.open=!1,r.zIndexWasSynced=!1,r.triggerRef=de.createRef(),r.elementRef=de.createRef(),r.getPortalProps=function(){var a={},l=r.props,u=l.on,c=l.hoverable,h=wr(u)?u:[u];return c&&(a.closeOnPortalMouseLeave=!0,a.mouseLeaveDelay=300),Cl(h,"hover")&&(a.openOnTriggerClick=!1,a.closeOnTriggerClick=!1,a.openOnTriggerMouseEnter=!0,a.closeOnTriggerMouseLeave=!0,a.mouseLeaveDelay=70,a.mouseEnterDelay=50),Cl(h,"click")&&(a.openOnTriggerClick=!0,a.closeOnTriggerClick=!0,a.closeOnDocumentClick=!0),Cl(h,"focus")&&(a.openOnTriggerFocus=!0,a.closeOnTriggerBlur=!0),a},r.hideOnScroll=function(a){eoe(a.target)&&r.elementRef.current.contains(a.target)||(r.setState({closed:!0}),Lne.unsub("scroll",r.hideOnScroll,{target:window}),r.timeoutId=setTimeout(function(){r.setState({closed:!1})},50),r.handleClose(a))},r.handleClose=function(a){Je(r.props,"onClose",a,xe({},r.props,{open:!1}))},r.handleOpen=function(a){Je(r.props,"onOpen",a,xe({},r.props,{open:!0}))},r.handlePortalMount=function(a){Je(r.props,"onMount",a,r.props)},r.handlePortalUnmount=function(a){r.positionUpdate=null,Je(r.props,"onUnmount",a,r.props)},r.renderContent=function(a){var l=a.placement,u=a.ref,c=a.update,h=a.style,d=r.props,g=d.basic,p=d.children,w=d.className,C=d.content,v=d.hideOnScroll,y=d.flowing,x=d.header,M=d.inverted,_=d.popper,T=d.size,O=d.style,I=d.wide,N=r.state.contentRestProps;r.positionUpdate=c;var L=vt("ui",Mie[l],T,so(I,"wide"),ue(g,"basic"),ue(y,"flowing"),ue(M,"inverted"),"popup transition visible",w),B=bt(e,r.props),ae=xe({left:"auto",right:"auto",position:"initial"},O),U=de.createElement(B,xe({},N,{className:L,style:ae,ref:r.elementRef}),tn(p)?de.createElement(de.Fragment,null,Gu.create(x,{autoGenerateKey:!1}),$u.create(C,{autoGenerateKey:!1})):p,v&&de.createElement(bl,{on:r.hideOnScroll,name:"scroll",target:"window"}));return qne(_||{},{overrideProps:{children:U,ref:u,style:xe({display:"flex"},h)}})},r}e.getDerivedStateFromProps=function(r,o){if(o.closed||o.disabled)return{};var i=wt(e,r),s=pF(i,function(l,u,c){return Cl(zb.handledProps,c)||(l[c]=u),l},{}),a=XW(i,zb.handledProps);return{contentRestProps:s,portalRestProps:a}};var n=e.prototype;return n.componentDidUpdate=function(r){var o=Ub(this.props.popperDependencies,r.popperDependencies);o||this.handleUpdate()},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},n.render=function(){var r=this,o=this.props,i=o.context,s=o.disabled,a=o.eventsEnabled,l=o.offset,u=o.pinned,c=o.popper,h=o.popperModifiers,d=o.position,g=o.positionFixed,p=o.trigger,w=this.state,C=w.closed,v=w.portalRestProps;if(C||s)return p;var y=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!a,resize:!!a}},{name:"flip",enabled:!u},{name:"preventOverflow",enabled:!!l},{name:"offset",enabled:!!l,options:{offset:l}}].concat(h,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(_){var T,O=_.state;if(!r.zIndexWasSynced){var I=c==null||(T=c.style)==null?void 0:T.zIndex;Ab(I)&&(O.elements.popper.style.zIndex=window.getComputedStyle(O.elements.popper.firstChild).zIndex),r.zIndexWasSynced=!0}},effect:function(){return function(){r.zIndexWasSynced=!1}}}]),x=Nie(qt(i)?this.triggerRef:i),M=xe({},this.getPortalProps(),v);return de.createElement(zb,xe({},M,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:p,triggerRef:this.triggerRef}),de.createElement(Sie,{modifiers:y,placement:Dk[d],strategy:g?"fixed":null,referenceElement:x},this.renderContent))},e}(Y.Component);Tl.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"],Tl.propTypes={},Tl.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"},Tl.Content=$u,Tl.Header=Gu;function _t({content:t,required:e=!1,wide:n=!1}){let r=m.jsx(Nr,{name:"help circle"});return e&&(r=m.jsxs(lh,{children:[r,m.jsx(Nr,{corner:"top right",name:"asterisk",color:"red"})]})),m.jsx(Tl,{content:m.jsxs(m.Fragment,{children:[t,e&&m.jsxs(m.Fragment,{children:[m.jsx("hr",{}),"(required)"]})]}),mouseLeaveDelay:1500,on:"hover",inverted:!0,position:"bottom center",wide:n,trigger:r,style:{zIndex:"1000"}})}var Tp=function(t){return t&&t.Math===Math&&t},ao=Tp(typeof globalThis=="object"&&globalThis)||Tp(typeof window=="object"&&window)||Tp(typeof self=="object"&&self)||Tp(typeof zw=="object"&&zw)||Tp(typeof zw=="object"&&zw)||function(){return this}()||Function("return this")(),Lk={},Zi=function(t){try{return!!t()}catch{return!0}},Hie=Zi,As=!Hie(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Die=Zi,Jb=!Die(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Lie=Jb,Zb=Function.prototype.call,mh=Lie?Zb.bind(Zb):function(){return Zb.apply(Zb,arguments)},ZF={},e2={}.propertyIsEnumerable,t2=Object.getOwnPropertyDescriptor,jie=t2&&!e2.call({1:2},1);ZF.f=jie?function(t){var e=t2(this,t);return!!e&&e.enumerable}:e2;var e0=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},n2=Jb,r2=Function.prototype,jk=r2.call,Wie=n2&&r2.bind.bind(jk,jk),ko=n2?Wie:function(t){return function(){return jk.apply(t,arguments)}},o2=ko,Fie=o2({}.toString),Vie=o2("".slice),kf=function(t){return Vie(Fie(t),8,-1)},Bie=ko,zie=Zi,Uie=kf,Wk=Object,$ie=Bie("".split),Gie=zie(function(){return!Wk("z").propertyIsEnumerable(0)})?function(t){return Uie(t)==="String"?$ie(t,""):Wk(t)}:Wk,Fk=function(t){return t==null},Yie=Fk,qie=TypeError,i2=function(t){if(Yie(t))throw new qie("Can't call method on "+t);return t},Kie=Gie,Xie=i2,t0=function(t){return Kie(Xie(t))},Vk=typeof document=="object"&&document.all,lo=typeof Vk>"u"&&Vk!==void 0?function(t){return typeof t=="function"||t===Vk}:function(t){return typeof t=="function"},Qie=lo,Yu=function(t){return typeof t=="object"?t!==null:Qie(t)},Bk=ao,Jie=lo,Zie=function(t){return Jie(t)?t:void 0},Mp=function(t,e){return arguments.length<2?Zie(Bk[t]):Bk[t]&&Bk[t][e]},ese=ko,zk=ese({}.isPrototypeOf),Uk=typeof navigator<"u"&&String(navigator.userAgent)||"",s2=ao,$k=Uk,a2=s2.process,l2=s2.Deno,u2=a2&&a2.versions||l2&&l2.version,c2=u2&&u2.v8,Ps,n0;c2&&(Ps=c2.split("."),n0=Ps[0]>0&&Ps[0]<4?1:+(Ps[0]+Ps[1])),!n0&&$k&&(Ps=$k.match(/Edge\/(\d+)/),(!Ps||Ps[1]>=74)&&(Ps=$k.match(/Chrome\/(\d+)/),Ps&&(n0=+Ps[1])));var tse=n0,h2=tse,nse=Zi,rse=ao,ose=rse.String,Gk=!!Object.getOwnPropertySymbols&&!nse(function(){var t=Symbol("symbol detection");return!ose(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h2&&h2<41}),ise=Gk,d2=ise&&!Symbol.sham&&typeof Symbol.iterator=="symbol",sse=Mp,ase=lo,lse=zk,use=d2,cse=Object,Yk=use?function(t){return typeof t=="symbol"}:function(t){var e=sse("Symbol");return ase(e)&&lse(e.prototype,cse(t))},hse=String,r0=function(t){try{return hse(t)}catch{return"Object"}},dse=lo,fse=r0,gse=TypeError,o0=function(t){if(dse(t))return t;throw new gse(fse(t)+" is not a function")},mse=o0,pse=Fk,qk=function(t,e){var n=t[e];return pse(n)?void 0:mse(n)},Kk=mh,Xk=lo,Qk=Yu,vse=TypeError,wse=function(t,e){var n,r;if(e==="string"&&Xk(n=t.toString)&&!Qk(r=Kk(n,t))||Xk(n=t.valueOf)&&!Qk(r=Kk(n,t))||e!=="string"&&Xk(n=t.toString)&&!Qk(r=Kk(n,t)))return r;throw new vse("Can't convert object to primitive value")},f2={exports:{}},g2=ao,yse=Object.defineProperty,Jk=function(t,e){try{yse(g2,t,{value:e,configurable:!0,writable:!0})}catch{g2[t]=e}return e},bse=ao,Cse=Jk,m2="__core-js_shared__",p2=f2.exports=bse[m2]||Cse(m2,{});(p2.versions||(p2.versions=[])).push({version:"3.36.0",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Zk=f2.exports,v2=Zk,w2=function(t,e){return v2[t]||(v2[t]=e||{})},Sse=i2,xse=Object,i0=function(t){return xse(Sse(t))},Rse=ko,Ese=i0,kse=Rse({}.hasOwnProperty),Ml=Object.hasOwn||function(t,e){return kse(Ese(t),e)},Tse=ko,Mse=0,_se=Math.random(),Ose=Tse(1 .toString),y2=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Ose(++Mse+_se,36)},Ase=ao,Pse=w2,b2=Ml,Ise=y2,Nse=Gk,Hse=d2,Tf=Ase.Symbol,eT=Pse("wks"),Dse=Hse?Tf.for||Tf:Tf&&Tf.withoutSetter||Ise,Mf=function(t){return b2(eT,t)||(eT[t]=Nse&&b2(Tf,t)?Tf[t]:Dse("Symbol."+t)),eT[t]},Lse=mh,C2=Yu,S2=Yk,jse=qk,Wse=wse,Fse=Mf,Vse=TypeError,Bse=Fse("toPrimitive"),zse=function(t,e){if(!C2(t)||S2(t))return t;var n=jse(t,Bse),r;if(n){if(e===void 0&&(e="default"),r=Lse(n,t,e),!C2(r)||S2(r))return r;throw new Vse("Can't convert object to primitive value")}return e===void 0&&(e="number"),Wse(t,e)},Use=zse,$se=Yk,x2=function(t){var e=Use(t,"string");return $se(e)?e:e+""},Gse=ao,R2=Yu,tT=Gse.document,Yse=R2(tT)&&R2(tT.createElement),nT=function(t){return Yse?tT.createElement(t):{}},qse=As,Kse=Zi,Xse=nT,E2=!qse&&!Kse(function(){return Object.defineProperty(Xse("div"),"a",{get:function(){return 7}}).a!==7}),Qse=As,Jse=mh,Zse=ZF,eae=e0,tae=t0,nae=x2,rae=Ml,oae=E2,k2=Object.getOwnPropertyDescriptor;Lk.f=Qse?k2:function(t,e){if(t=tae(t),e=nae(e),oae)try{return k2(t,e)}catch{}if(rae(t,e))return eae(!Jse(Zse.f,t,e),t[e])};var qu={},iae=As,sae=Zi,T2=iae&&sae(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),aae=Yu,lae=String,uae=TypeError,Ku=function(t){if(aae(t))return t;throw new uae(lae(t)+" is not an object")},cae=As,hae=E2,dae=T2,s0=Ku,M2=x2,fae=TypeError,rT=Object.defineProperty,gae=Object.getOwnPropertyDescriptor,oT="enumerable",iT="configurable",sT="writable";qu.f=cae?dae?function(t,e,n){if(s0(t),e=M2(e),s0(n),typeof t=="function"&&e==="prototype"&&"value"in n&&sT in n&&!n[sT]){var r=gae(t,e);r&&r[sT]&&(t[e]=n.value,n={configurable:iT in n?n[iT]:r[iT],enumerable:oT in n?n[oT]:r[oT],writable:!1})}return rT(t,e,n)}:rT:function(t,e,n){if(s0(t),e=M2(e),s0(n),hae)try{return rT(t,e,n)}catch{}if("get"in n||"set"in n)throw new fae("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var mae=As,pae=qu,vae=e0,_p=mae?function(t,e,n){return pae.f(t,e,vae(1,n))}:function(t,e,n){return t[e]=n,t},_2={exports:{}},aT=As,wae=Ml,O2=Function.prototype,yae=aT&&Object.getOwnPropertyDescriptor,lT=wae(O2,"name"),bae=lT&&(function(){}).name==="something",Cae=lT&&(!aT||aT&&yae(O2,"name").configurable),Sae={EXISTS:lT,PROPER:bae,CONFIGURABLE:Cae},xae=ko,Rae=lo,uT=Zk,Eae=xae(Function.toString);Rae(uT.inspectSource)||(uT.inspectSource=function(t){return Eae(t)});var kae=uT.inspectSource,Tae=ao,Mae=lo,A2=Tae.WeakMap,_ae=Mae(A2)&&/native code/.test(String(A2)),Oae=w2,Aae=y2,P2=Oae("keys"),I2=function(t){return P2[t]||(P2[t]=Aae(t))},cT={},Pae=_ae,N2=ao,Iae=Yu,Nae=_p,hT=Ml,dT=Zk,Hae=I2,Dae=cT,H2="Object already initialized",fT=N2.TypeError,Lae=N2.WeakMap,a0,Op,l0,jae=function(t){return l0(t)?Op(t):a0(t,{})},Wae=function(t){return function(e){var n;if(!Iae(e)||(n=Op(e)).type!==t)throw new fT("Incompatible receiver, "+t+" required");return n}};if(Pae||dT.state){var xa=dT.state||(dT.state=new Lae);xa.get=xa.get,xa.has=xa.has,xa.set=xa.set,a0=function(t,e){if(xa.has(t))throw new fT(H2);return e.facade=t,xa.set(t,e),e},Op=function(t){return xa.get(t)||{}},l0=function(t){return xa.has(t)}}else{var _f=Hae("state");Dae[_f]=!0,a0=function(t,e){if(hT(t,_f))throw new fT(H2);return e.facade=t,Nae(t,_f,e),e},Op=function(t){return hT(t,_f)?t[_f]:{}},l0=function(t){return hT(t,_f)}}var Fae={set:a0,get:Op,has:l0,enforce:jae,getterFor:Wae},gT=ko,Vae=Zi,Bae=lo,u0=Ml,mT=As,zae=Sae.CONFIGURABLE,Uae=kae,D2=Fae,$ae=D2.enforce,Gae=D2.get,L2=String,c0=Object.defineProperty,Yae=gT("".slice),qae=gT("".replace),Kae=gT([].join),Xae=mT&&!Vae(function(){return c0(function(){},"length",{value:8}).length!==8}),Qae=String(String).split("String"),Jae=_2.exports=function(t,e,n){Yae(L2(e),0,7)==="Symbol("&&(e="["+qae(L2(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!u0(t,"name")||zae&&t.name!==e)&&(mT?c0(t,"name",{value:e,configurable:!0}):t.name=e),Xae&&n&&u0(n,"arity")&&t.length!==n.arity&&c0(t,"length",{value:n.arity});try{n&&u0(n,"constructor")&&n.constructor?mT&&c0(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=$ae(t);return u0(r,"source")||(r.source=Kae(Qae,typeof e=="string"?e:"")),t};Function.prototype.toString=Jae(function(){return Bae(this)&&Gae(this).source||Uae(this)},"toString");var Zae=_2.exports,ele=lo,tle=qu,nle=Zae,rle=Jk,ole=function(t,e,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:e;if(ele(n)&&nle(n,i,r),r.global)o?t[e]=n:rle(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch{}o?t[e]=n:tle.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},j2={},ile=Math.ceil,sle=Math.floor,ale=Math.trunc||function(t){var e=+t;return(e>0?sle:ile)(e)},lle=ale,pT=function(t){var e=+t;return e!==e||e===0?0:lle(e)},ule=pT,cle=Math.max,hle=Math.min,dle=function(t,e){var n=ule(t);return n<0?cle(n+e,0):hle(n,e)},fle=pT,gle=Math.min,mle=function(t){var e=fle(t);return e>0?gle(e,9007199254740991):0},ple=mle,Ap=function(t){return ple(t.length)},vle=t0,wle=dle,yle=Ap,W2=function(t){return function(e,n,r){var o=vle(e),i=yle(o);if(i===0)return!t&&-1;var s=wle(r,i),a;if(t&&n!==n){for(;i>s;)if(a=o[s++],a!==a)return!0}else for(;i>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ble={includes:W2(!0),indexOf:W2(!1)},Cle=ko,vT=Ml,Sle=t0,xle=ble.indexOf,Rle=cT,F2=Cle([].push),V2=function(t,e){var n=Sle(t),r=0,o=[],i;for(i in n)!vT(Rle,i)&&vT(n,i)&&F2(o,i);for(;e.length>r;)vT(n,i=e[r++])&&(~xle(o,i)||F2(o,i));return o},wT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ele=V2,kle=wT,Tle=kle.concat("length","prototype");j2.f=Object.getOwnPropertyNames||function(t){return Ele(t,Tle)};var B2={};B2.f=Object.getOwnPropertySymbols;var Mle=Mp,_le=ko,Ole=j2,Ale=B2,Ple=Ku,Ile=_le([].concat),Nle=Mle("Reflect","ownKeys")||function(t){var e=Ole.f(Ple(t)),n=Ale.f;return n?Ile(e,n(t)):e},z2=Ml,Hle=Nle,Dle=Lk,Lle=qu,U2=function(t,e,n){for(var r=Hle(e),o=Lle.f,i=Dle.f,s=0;s<r.length;s++){var a=r[s];!z2(t,a)&&!(n&&z2(n,a))&&o(t,a,i(e,a))}},jle=Zi,Wle=lo,Fle=/#|\.prototype\./,Pp=function(t,e){var n=Ble[Vle(t)];return n===Ule?!0:n===zle?!1:Wle(e)?jle(e):!!e},Vle=Pp.normalize=function(t){return String(t).replace(Fle,".").toLowerCase()},Ble=Pp.data={},zle=Pp.NATIVE="N",Ule=Pp.POLYFILL="P",$le=Pp,h0=ao,Gle=Lk.f,Yle=_p,qle=ole,Kle=Jk,Xle=U2,Qle=$le,Xu=function(t,e){var n=t.target,r=t.global,o=t.stat,i,s,a,l,u,c;if(r?s=h0:o?s=h0[n]||Kle(n,{}):s=h0[n]&&h0[n].prototype,s)for(a in e){if(u=e[a],t.dontCallGetSet?(c=Gle(s,a),l=c&&c.value):l=s[a],i=Qle(r?a:n+(o?".":"#")+a,t.forced),!i&&l!==void 0){if(typeof u==typeof l)continue;Xle(u,l)}(t.sham||l&&l.sham)&&Yle(u,"sham",!0),qle(s,a,u,t)}},Jle=kf,$2=Array.isArray||function(t){return Jle(t)==="Array"},Zle=As,eue=$2,tue=TypeError,nue=Object.getOwnPropertyDescriptor,rue=Zle&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),G2=rue?function(t,e){if(eue(t)&&!nue(t,"length").writable)throw new tue("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},oue=TypeError,iue=9007199254740991,Y2=function(t){if(t>iue)throw oue("Maximum allowed index exceeded");return t},sue=Xu,aue=i0,lue=Ap,uue=G2,cue=Y2,hue=Zi,due=hue(function(){return[].push.call({length:4294967296},1)!==4294967297}),fue=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},gue=due||!fue();sue({target:"Array",proto:!0,arity:1,forced:gue},{push:function(t){var e=aue(this),n=lue(e),r=arguments.length;cue(n+r);for(var o=0;o<r;o++)e[n]=arguments[o],n++;return uue(e,n),n}});var mue=Jb,q2=Function.prototype,K2=q2.apply,X2=q2.call,d0=typeof Reflect=="object"&&Reflect.apply||(mue?X2.bind(K2):function(){return X2.apply(K2,arguments)}),pue=ko,vue=o0,wue=function(t,e,n){try{return pue(vue(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},yue=Yu,bue=function(t){return yue(t)||t===null},Cue=bue,Sue=String,xue=TypeError,Rue=function(t){if(Cue(t))return t;throw new xue("Can't set "+Sue(t)+" as a prototype")},Eue=wue,kue=Ku,Tue=Rue,Q2=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=Eue(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(r,o){return kue(r),Tue(o),t?n(r,o):r.__proto__=o,r}}():void 0),Mue=qu.f,_ue=function(t,e,n){n in t||Mue(t,n,{configurable:!0,get:function(){return e[n]},set:function(r){e[n]=r}})},Oue=lo,Aue=Yu,J2=Q2,Pue=function(t,e,n){var r,o;return J2&&Oue(r=e.constructor)&&r!==n&&Aue(o=r.prototype)&&o!==n.prototype&&J2(t,o),t},Iue=Mf,Nue=Iue("toStringTag"),Z2={};Z2[Nue]="z";var Hue=String(Z2)==="[object z]",Due=Hue,Lue=lo,f0=kf,jue=Mf,Wue=jue("toStringTag"),Fue=Object,Vue=f0(function(){return arguments}())==="Arguments",Bue=function(t,e){try{return t[e]}catch{}},eV=Due?f0:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=Bue(e=Fue(t),Wue))=="string"?n:Vue?f0(e):(r=f0(e))==="Object"&&Lue(e.callee)?"Arguments":r},zue=eV,Uue=String,tV=function(t){if(zue(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Uue(t)},$ue=tV,Gue=function(t,e){return t===void 0?arguments.length<2?"":e:$ue(t)},Yue=Yu,que=_p,Kue=function(t,e){Yue(e)&&"cause"in e&&que(t,"cause",e.cause)},Xue=ko,nV=Error,Que=Xue("".replace),Jue=function(t){return String(new nV(t).stack)}("zxcasd"),rV=/\n\s*at [^:]*:[^\n]*/,Zue=rV.test(Jue),ece=function(t,e){if(Zue&&typeof t=="string"&&!nV.prepareStackTrace)for(;e--;)t=Que(t,rV,"");return t},tce=Zi,nce=e0,rce=!tce(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",nce(1,7)),t.stack!==7):!0}),oce=_p,ice=ece,sce=rce,oV=Error.captureStackTrace,ace=function(t,e,n,r){sce&&(oV?oV(t,e):oce(t,"stack",ice(n,r)))},iV=Mp,lce=Ml,sV=_p,uce=zk,aV=Q2,lV=U2,uV=_ue,cce=Pue,hce=Gue,dce=Kue,fce=ace,gce=As,mce=function(t,e,n,r){var o="stackTraceLimit",i=r?2:1,s=t.split("."),a=s[s.length-1],l=iV.apply(null,s);if(l){var u=l.prototype;if(lce(u,"cause")&&delete u.cause,!n)return l;var c=iV("Error"),h=e(function(d,g){var p=hce(r?g:d,void 0),w=r?new l(d):new l;return p!==void 0&&sV(w,"message",p),fce(w,h,w.stack,2),this&&uce(u,this)&&cce(w,this,h),arguments.length>i&&dce(w,arguments[i]),w});h.prototype=u,a!=="Error"?aV?aV(h,c):lV(h,c,{name:!0}):gce&&o in l&&(uV(h,l,o),uV(h,l,"prepareStackTrace")),lV(h,l);try{u.name!==a&&sV(u,"name",a),u.constructor=h}catch{}return h}},cV=Xu,pce=ao,Ra=d0,hV=mce,yT="WebAssembly",dV=pce[yT],g0=new Error("e",{cause:7}).cause!==7,ph=function(t,e){var n={};n[t]=hV(t,e,g0),cV({global:!0,constructor:!0,arity:1,forced:g0},n)},bT=function(t,e){if(dV&&dV[t]){var n={};n[t]=hV(yT+"."+t,e,g0),cV({target:yT,stat:!0,constructor:!0,arity:1,forced:g0},n)}};ph("Error",function(t){return function(e){return Ra(t,this,arguments)}}),ph("EvalError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("RangeError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("ReferenceError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("SyntaxError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("TypeError",function(t){return function(e){return Ra(t,this,arguments)}}),ph("URIError",function(t){return function(e){return Ra(t,this,arguments)}}),bT("CompileError",function(t){return function(e){return Ra(t,this,arguments)}}),bT("LinkError",function(t){return function(e){return Ra(t,this,arguments)}}),bT("RuntimeError",function(t){return function(e){return Ra(t,this,arguments)}});var vce=kf,wce=ko,yce=function(t){if(vce(t)==="Function")return wce(t)},fV=yce,bce=o0,Cce=Jb,Sce=fV(fV.bind),gV=function(t,e){return bce(t),e===void 0?t:Cce?Sce(t,e):function(){return t.apply(e,arguments)}},xce=Mp,mV=xce("document","documentElement"),Rce=ko,CT=Rce([].slice),Ece=TypeError,pV=function(t,e){if(t<e)throw new Ece("Not enough arguments");return t},kce=Uk,Tce=/(?:ipad|iphone|ipod).*applewebkit/i.test(kce),Mce=ao,_ce=kf,Oce=_ce(Mce.process)==="process",Si=ao,Ace=d0,Pce=gV,vV=lo,Ice=Ml,wV=Zi,yV=mV,Nce=CT,bV=nT,Hce=pV,Dce=Tce,Lce=Oce,ST=Si.setImmediate,xT=Si.clearImmediate,jce=Si.process,RT=Si.Dispatch,Wce=Si.Function,CV=Si.MessageChannel,Fce=Si.String,ET=0,Ip={},SV="onreadystatechange",Np,vh,kT,TT;wV(function(){Np=Si.location});var MT=function(t){if(Ice(Ip,t)){var e=Ip[t];delete Ip[t],e()}},_T=function(t){return function(){MT(t)}},xV=function(t){MT(t.data)},RV=function(t){Si.postMessage(Fce(t),Np.protocol+"//"+Np.host)};(!ST||!xT)&&(ST=function(t){Hce(arguments.length,1);var e=vV(t)?t:Wce(t),n=Nce(arguments,1);return Ip[++ET]=function(){Ace(e,void 0,n)},vh(ET),ET},xT=function(t){delete Ip[t]},Lce?vh=function(t){jce.nextTick(_T(t))}:RT&&RT.now?vh=function(t){RT.now(_T(t))}:CV&&!Dce?(kT=new CV,TT=kT.port2,kT.port1.onmessage=xV,vh=Pce(TT.postMessage,TT)):Si.addEventListener&&vV(Si.postMessage)&&!Si.importScripts&&Np&&Np.protocol!=="file:"&&!wV(RV)?(vh=RV,Si.addEventListener("message",xV,!1)):SV in bV("script")?vh=function(t){yV.appendChild(bV("script"))[SV]=function(){yV.removeChild(this),MT(t)}}:vh=function(t){setTimeout(_T(t),0)});var EV={set:ST,clear:xT},Vce=Xu,Bce=ao,kV=EV.clear;Vce({global:!0,bind:!0,enumerable:!0,forced:Bce.clearImmediate!==kV},{clearImmediate:kV});var zce=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",TV=ao,Uce=d0,$ce=lo,Gce=zce,Yce=Uk,qce=CT,Kce=pV,Xce=TV.Function,Qce=/MSIE .\./.test(Yce)||Gce&&function(){var t=TV.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),Jce=function(t,e){var n=e?2:1;return Qce?function(r,o){var i=Kce(arguments.length,1)>n,s=$ce(r)?r:Xce(r),a=i?qce(arguments,n):[],l=i?function(){Uce(s,this,a)}:s;return e?t(l,o):t(l)}:t},Zce=Xu,MV=ao,_V=EV.set,ehe=Jce,OV=MV.setImmediate?ehe(_V,!1):_V;Zce({global:!0,bind:!0,enumerable:!0,forced:MV.setImmediate!==OV},{setImmediate:OV});/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function OT(t,e){return OT=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},OT(t,e)}function the(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m0(t,e,n){return the()?m0=Reflect.construct:m0=function(r,o,i){var s=[null];s.push.apply(s,o);var a=Function.bind.apply(r,s),l=new a;return i&&OT(l,i.prototype),l},m0.apply(null,arguments)}function Is(t){return nhe(t)||rhe(t)||ohe(t)||ihe()}function nhe(t){if(Array.isArray(t))return AT(t)}function rhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ohe(t,e){if(t){if(typeof t=="string")return AT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(t,e)}}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var she=Object.hasOwnProperty,AV=Object.setPrototypeOf,ahe=Object.isFrozen,lhe=Object.getPrototypeOf,uhe=Object.getOwnPropertyDescriptor,To=Object.freeze,Ns=Object.seal,che=Object.create,PV=typeof Reflect<"u"&&Reflect,p0=PV.apply,PT=PV.construct;p0||(p0=function(t,e,n){return t.apply(e,n)}),To||(To=function(t){return t}),Ns||(Ns=function(t){return t}),PT||(PT=function(t,e){return m0(t,Is(e))});var hhe=es(Array.prototype.forEach),IV=es(Array.prototype.pop),Hp=es(Array.prototype.push),v0=es(String.prototype.toLowerCase),IT=es(String.prototype.toString),dhe=es(String.prototype.match),Hs=es(String.prototype.replace),fhe=es(String.prototype.indexOf),ghe=es(String.prototype.trim),Mo=es(RegExp.prototype.test),NT=mhe(TypeError);function es(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return p0(t,e,r)}}function mhe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return PT(t,n)}}function Dt(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:v0,AV&&AV(t,null);for(var o=e.length;o--;){var i=e[o];if(typeof i=="string"){var s=n(i);s!==i&&(ahe(e)||(e[o]=s),i=s)}t[i]=!0}return t}function wh(t){var e=che(null),n;for(n in t)p0(she,t,[n])===!0&&(e[n]=t[n]);return e}function w0(t,e){for(;t!==null;){var n=uhe(t,e);if(n){if(n.get)return es(n.get);if(typeof n.value=="function")return es(n.value)}t=lhe(t)}function r(o){return console.warn("fallback value for",o),null}return r}var NV=To(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),HT=To(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),DT=To(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),phe=To(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),LT=To(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),vhe=To(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),HV=To(["#text"]),DV=To(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jT=To(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),LV=To(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),y0=To(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),whe=Ns(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yhe=Ns(/<%[\w\W]*|[\w\W]*%>/gm),bhe=Ns(/\${[\w\W]*}/gm),Che=Ns(/^data-[\-\w.\u00B7-\uFFFF]/),She=Ns(/^aria-[\-\w]+$/),xhe=Ns(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rhe=Ns(/^(?:\w+script|data):/i),Ehe=Ns(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),khe=Ns(/^html$/i),The=function(){return typeof window>"u"?null:window},Mhe=function(t,e){if(Qu(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(i){return i},createScriptURL:function(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function jV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:The(),e=function(G){return jV(G)};if(e.version="2.4.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,o=t.DocumentFragment,i=t.HTMLTemplateElement,s=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,p=a.prototype,w=w0(p,"cloneNode"),C=w0(p,"nextSibling"),v=w0(p,"childNodes"),y=w0(p,"parentNode");if(typeof i=="function"){var x=r.createElement("template");x.content&&x.content.ownerDocument&&(r=x.content.ownerDocument)}var M=Mhe(g,n),_=M?M.createHTML(""):"",T=r,O=T.implementation,I=T.createNodeIterator,N=T.createDocumentFragment,L=T.getElementsByTagName,B=n.importNode,ae={};try{ae=wh(r).documentMode?r.documentMode:{}}catch{}var U={};e.isSupported=typeof y=="function"&&O&&O.createHTMLDocument!==void 0&&ae!==9;var ce=whe,ve=yhe,Me=bhe,Ce=Che,ne=She,S=Rhe,R=Ehe,k=xhe,D=null,W=Dt({},[].concat(Is(NV),Is(HT),Is(DT),Is(LT),Is(HV))),V=null,he=Dt({},[].concat(Is(DV),Is(jT),Is(LV),Is(y0))),te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,ye=null,pe=!0,$e=!0,We=!1,Xe=!0,Se=!1,le=!1,mt=!1,Qe=!1,et=!1,ft=!1,He=!1,A=!0,H=!1,j="user-content-",Z=!0,$=!1,ee={},K=null,q=Dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),oe=null,Q=Dt({},["audio","video","img","source","image","track"]),re=null,Oe=Dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",pt=at,ln=!1,St=null,Be=Dt({},[De,tt,at],IT),cn,bs=["application/xhtml+xml","text/html"],sa="text/html",hn,X=null,ie=r.createElement("form"),ge=function(G){return G instanceof RegExp||G instanceof Function},J=function(G){X&&X===G||((!G||Qu(G)!=="object")&&(G={}),G=wh(G),cn=bs.indexOf(G.PARSER_MEDIA_TYPE)===-1?cn=sa:cn=G.PARSER_MEDIA_TYPE,hn=cn==="application/xhtml+xml"?IT:v0,D="ALLOWED_TAGS"in G?Dt({},G.ALLOWED_TAGS,hn):W,V="ALLOWED_ATTR"in G?Dt({},G.ALLOWED_ATTR,hn):he,St="ALLOWED_NAMESPACES"in G?Dt({},G.ALLOWED_NAMESPACES,IT):Be,re="ADD_URI_SAFE_ATTR"in G?Dt(wh(Oe),G.ADD_URI_SAFE_ATTR,hn):Oe,oe="ADD_DATA_URI_TAGS"in G?Dt(wh(Q),G.ADD_DATA_URI_TAGS,hn):Q,K="FORBID_CONTENTS"in G?Dt({},G.FORBID_CONTENTS,hn):q,we="FORBID_TAGS"in G?Dt({},G.FORBID_TAGS,hn):{},ye="FORBID_ATTR"in G?Dt({},G.FORBID_ATTR,hn):{},ee="USE_PROFILES"in G?G.USE_PROFILES:!1,pe=G.ALLOW_ARIA_ATTR!==!1,$e=G.ALLOW_DATA_ATTR!==!1,We=G.ALLOW_UNKNOWN_PROTOCOLS||!1,Xe=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Se=G.SAFE_FOR_TEMPLATES||!1,le=G.WHOLE_DOCUMENT||!1,et=G.RETURN_DOM||!1,ft=G.RETURN_DOM_FRAGMENT||!1,He=G.RETURN_TRUSTED_TYPE||!1,Qe=G.FORCE_BODY||!1,A=G.SANITIZE_DOM!==!1,H=G.SANITIZE_NAMED_PROPS||!1,Z=G.KEEP_CONTENT!==!1,$=G.IN_PLACE||!1,k=G.ALLOWED_URI_REGEXP||k,pt=G.NAMESPACE||at,te=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&ge(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(te.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&ge(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(te.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(te.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&($e=!1),ft&&(et=!0),ee&&(D=Dt({},Is(HV)),V=[],ee.html===!0&&(Dt(D,NV),Dt(V,DV)),ee.svg===!0&&(Dt(D,HT),Dt(V,jT),Dt(V,y0)),ee.svgFilters===!0&&(Dt(D,DT),Dt(V,jT),Dt(V,y0)),ee.mathMl===!0&&(Dt(D,LT),Dt(V,LV),Dt(V,y0))),G.ADD_TAGS&&(D===W&&(D=wh(D)),Dt(D,G.ADD_TAGS,hn)),G.ADD_ATTR&&(V===he&&(V=wh(V)),Dt(V,G.ADD_ATTR,hn)),G.ADD_URI_SAFE_ATTR&&Dt(re,G.ADD_URI_SAFE_ATTR,hn),G.FORBID_CONTENTS&&(K===q&&(K=wh(K)),Dt(K,G.FORBID_CONTENTS,hn)),Z&&(D["#text"]=!0),le&&Dt(D,["html","head","body"]),D.table&&(Dt(D,["tbody"]),delete we.tbody),To&&To(G),X=G)},Pe=Dt({},["mi","mo","mn","ms","mtext"]),lt=Dt({},["foreignobject","desc","title","annotation-xml"]),ht=Dt({},["title","style","font","a","script"]),it=Dt({},HT);Dt(it,DT),Dt(it,phe);var nt=Dt({},LT);Dt(nt,vhe);var Mt=function(G){var Ie=y(G);(!Ie||!Ie.tagName)&&(Ie={namespaceURI:pt,tagName:"template"});var Te=v0(G.tagName),Wt=v0(Ie.tagName);return St[G.namespaceURI]?G.namespaceURI===tt?Ie.namespaceURI===at?Te==="svg":Ie.namespaceURI===De?Te==="svg"&&(Wt==="annotation-xml"||Pe[Wt]):!!it[Te]:G.namespaceURI===De?Ie.namespaceURI===at?Te==="math":Ie.namespaceURI===tt?Te==="math"&&lt[Wt]:!!nt[Te]:G.namespaceURI===at?Ie.namespaceURI===tt&&!lt[Wt]||Ie.namespaceURI===De&&!Pe[Wt]?!1:!nt[Te]&&(ht[Te]||!it[Te]):!!(cn==="application/xhtml+xml"&&St[G.namespaceURI]):!1},yn=function(G){Hp(e.removed,{element:G});try{G.parentNode.removeChild(G)}catch{try{G.outerHTML=_}catch{G.remove()}}},st=function(G,Ie){try{Hp(e.removed,{attribute:Ie.getAttributeNode(G),from:Ie})}catch{Hp(e.removed,{attribute:null,from:Ie})}if(Ie.removeAttribute(G),G==="is"&&!V[G])if(et||ft)try{yn(Ie)}catch{}else try{Ie.setAttribute(G,"")}catch{}},sn=function(G){var Ie,Te;if(Qe)G="<remove></remove>"+G;else{var Wt=dhe(G,/^[\r\n\t ]+/);Te=Wt&&Wt[0]}cn==="application/xhtml+xml"&&pt===at&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");var gt=M?M.createHTML(G):G;if(pt===at)try{Ie=new d().parseFromString(gt,cn)}catch{}if(!Ie||!Ie.documentElement){Ie=O.createDocument(pt,"template",null);try{Ie.documentElement.innerHTML=ln?_:gt}catch{}}var Ht=Ie.body||Ie.documentElement;return G&&Te&&Ht.insertBefore(r.createTextNode(Te),Ht.childNodes[0]||null),pt===at?L.call(Ie,le?"html":"body")[0]:le?Ie.documentElement:Ht},Sn=function(G){return I.call(G.ownerDocument||G,G,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Zr=function(G){return G instanceof h&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof c)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},xn=function(G){return Qu(s)==="object"?G instanceof s:G&&Qu(G)==="object"&&typeof G.nodeType=="number"&&typeof G.nodeName=="string"},$r=function(G,Ie,Te){U[G]&&hhe(U[G],function(Wt){Wt.call(e,Ie,Te,X)})},lr=function(G){var Ie;if($r("beforeSanitizeElements",G,null),Zr(G)||Mo(/[\u0080-\uFFFF]/,G.nodeName))return yn(G),!0;var Te=hn(G.nodeName);if($r("uponSanitizeElement",G,{tagName:Te,allowedTags:D}),G.hasChildNodes()&&!xn(G.firstElementChild)&&(!xn(G.content)||!xn(G.content.firstElementChild))&&Mo(/<[/\w]/g,G.innerHTML)&&Mo(/<[/\w]/g,G.textContent)||Te==="select"&&Mo(/<template/i,G.innerHTML))return yn(G),!0;if(!D[Te]||we[Te]){if(!we[Te]&&Di(Te)&&(te.tagNameCheck instanceof RegExp&&Mo(te.tagNameCheck,Te)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Te)))return!1;if(Z&&!K[Te]){var Wt=y(G)||G.parentNode,gt=v(G)||G.childNodes;if(gt&&Wt)for(var Ht=gt.length,Zt=Ht-1;Zt>=0;--Zt)Wt.insertBefore(w(gt[Zt],!0),C(G))}return yn(G),!0}return G instanceof a&&!Mt(G)||(Te==="noscript"||Te==="noembed"||Te==="noframes")&&Mo(/<\/no(script|embed|frames)/i,G.innerHTML)?(yn(G),!0):(Se&&G.nodeType===3&&(Ie=G.textContent,Ie=Hs(Ie,ce," "),Ie=Hs(Ie,ve," "),Ie=Hs(Ie,Me," "),G.textContent!==Ie&&(Hp(e.removed,{element:G.cloneNode()}),G.textContent=Ie)),$r("afterSanitizeElements",G,null),!1)},Cs=function(G,Ie,Te){if(A&&(Ie==="id"||Ie==="name")&&(Te in r||Te in ie))return!1;if(!($e&&!ye[Ie]&&Mo(Ce,Ie))&&!(pe&&Mo(ne,Ie))){if(!V[Ie]||ye[Ie]){if(!(Di(G)&&(te.tagNameCheck instanceof RegExp&&Mo(te.tagNameCheck,G)||te.tagNameCheck instanceof Function&&te.tagNameCheck(G))&&(te.attributeNameCheck instanceof RegExp&&Mo(te.attributeNameCheck,Ie)||te.attributeNameCheck instanceof Function&&te.attributeNameCheck(Ie))||Ie==="is"&&te.allowCustomizedBuiltInElements&&(te.tagNameCheck instanceof RegExp&&Mo(te.tagNameCheck,Te)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Te))))return!1}else if(!re[Ie]&&!Mo(k,Hs(Te,R,""))&&!((Ie==="src"||Ie==="xlink:href"||Ie==="href")&&G!=="script"&&fhe(Te,"data:")===0&&oe[G])&&!(We&&!Mo(S,Hs(Te,R,"")))&&Te)return!1}return!0},Di=function(G){return G.indexOf("-")>0},ci=function(G){var Ie,Te,Wt,gt;$r("beforeSanitizeAttributes",G,null);var Ht=G.attributes;if(Ht){var Zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};for(gt=Ht.length;gt--;){Ie=Ht[gt];var Co=Ie,hi=Co.name,_r=Co.namespaceURI;if(Te=hi==="value"?Ie.value:ghe(Ie.value),Wt=hn(hi),Zt.attrName=Wt,Zt.attrValue=Te,Zt.keepAttr=!0,Zt.forceKeepAttr=void 0,$r("uponSanitizeAttribute",G,Zt),Te=Zt.attrValue,!Zt.forceKeepAttr&&(st(hi,G),!!Zt.keepAttr)){if(!Xe&&Mo(/\/>/i,Te)){st(hi,G);continue}Se&&(Te=Hs(Te,ce," "),Te=Hs(Te,ve," "),Te=Hs(Te,Me," "));var Lw=hn(G.nodeName);if(Cs(Lw,Wt,Te)){if(H&&(Wt==="id"||Wt==="name")&&(st(hi,G),Te=j+Te),M&&Qu(g)==="object"&&typeof g.getAttributeType=="function"&&!_r)switch(g.getAttributeType(Lw,Wt)){case"TrustedHTML":{Te=M.createHTML(Te);break}case"TrustedScriptURL":{Te=M.createScriptURL(Te);break}}try{_r?G.setAttributeNS(_r,hi,Te):G.setAttribute(hi,Te),IV(e.removed)}catch{}}}}$r("afterSanitizeAttributes",G,null)}},Lc=function G(Ie){var Te,Wt=Sn(Ie);for($r("beforeSanitizeShadowDOM",Ie,null);Te=Wt.nextNode();)$r("uponSanitizeShadowNode",Te,null),!lr(Te)&&(Te.content instanceof o&&G(Te.content),ci(Te));$r("afterSanitizeShadowDOM",Ie,null)};return e.sanitize=function(G){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te,Wt,gt,Ht,Zt;if(ln=!G,ln&&(G="<!-->"),typeof G!="string"&&!xn(G))if(typeof G.toString=="function"){if(G=G.toString(),typeof G!="string")throw NT("dirty is not a string, aborting")}else throw NT("toString is not a function");if(!e.isSupported){if(Qu(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof G=="string")return t.toStaticHTML(G);if(xn(G))return t.toStaticHTML(G.outerHTML)}return G}if(mt||J(Ie),e.removed=[],typeof G=="string"&&($=!1),$){if(G.nodeName){var Co=hn(G.nodeName);if(!D[Co]||we[Co])throw NT("root node is forbidden and cannot be sanitized in-place")}}else if(G instanceof s)Te=sn("<!---->"),Wt=Te.ownerDocument.importNode(G,!0),Wt.nodeType===1&&Wt.nodeName==="BODY"||Wt.nodeName==="HTML"?Te=Wt:Te.appendChild(Wt);else{if(!et&&!Se&&!le&&G.indexOf("<")===-1)return M&&He?M.createHTML(G):G;if(Te=sn(G),!Te)return et?null:He?_:""}Te&&Qe&&yn(Te.firstChild);for(var hi=Sn($?G:Te);gt=hi.nextNode();)gt.nodeType===3&&gt===Ht||lr(gt)||(gt.content instanceof o&&Lc(gt.content),ci(gt),Ht=gt);if(Ht=null,$)return G;if(et){if(ft)for(Zt=N.call(Te.ownerDocument);Te.firstChild;)Zt.appendChild(Te.firstChild);else Zt=Te;return(V.shadowroot||V.shadowrootmod)&&(Zt=B.call(n,Zt,!0)),Zt}var _r=le?Te.outerHTML:Te.innerHTML;return le&&D["!doctype"]&&Te.ownerDocument&&Te.ownerDocument.doctype&&Te.ownerDocument.doctype.name&&Mo(khe,Te.ownerDocument.doctype.name)&&(_r="<!DOCTYPE "+Te.ownerDocument.doctype.name+`>
`+_r),Se&&(_r=Hs(_r,ce," "),_r=Hs(_r,ve," "),_r=Hs(_r,Me," ")),M&&He?M.createHTML(_r):_r},e.setConfig=function(G){J(G),mt=!0},e.clearConfig=function(){X=null,mt=!1},e.isValidAttribute=function(G,Ie,Te){X||J({});var Wt=hn(G),gt=hn(Ie);return Cs(Wt,gt,Te)},e.addHook=function(G,Ie){typeof Ie=="function"&&(U[G]=U[G]||[],Hp(U[G],Ie))},e.removeHook=function(G){if(U[G])return IV(U[G])},e.removeHooks=function(G){U[G]&&(U[G]=[])},e.removeAllHooks=function(){U={}},e}var _he=jV();//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var WV;function Re(){return WV.apply(null,arguments)}function Ohe(t){WV=t}function Ds(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function yh(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function WT(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(nn(t,e))return!1;return!0}function Xo(t){return t===void 0}function _l(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Dp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function FV(t,e){var n=[],r,o=t.length;for(r=0;r<o;++r)n.push(e(t[r],r));return n}function Ju(t,e){for(var n in e)nn(e,n)&&(t[n]=e[n]);return nn(e,"toString")&&(t.toString=e.toString),nn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ea(t,e,n,r){return fB(t,e,n,r,!0).utc()}function Ahe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function At(t){return t._pf==null&&(t._pf=Ahe()),t._pf}var FT;Array.prototype.some?FT=Array.prototype.some:FT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function VT(t){if(t._isValid==null){var e=At(t),n=FT.call(e.parsedDateParts,function(o){return o!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function b0(t){var e=Ea(NaN);return t!=null?Ju(At(e),t):At(e).userInvalidated=!0,e}var VV=Re.momentProperties=[],BT=!1;function zT(t,e){var n,r,o,i=VV.length;if(Xo(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xo(e._i)||(t._i=e._i),Xo(e._f)||(t._f=e._f),Xo(e._l)||(t._l=e._l),Xo(e._strict)||(t._strict=e._strict),Xo(e._tzm)||(t._tzm=e._tzm),Xo(e._isUTC)||(t._isUTC=e._isUTC),Xo(e._offset)||(t._offset=e._offset),Xo(e._pf)||(t._pf=At(e)),Xo(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=VV[n],o=e[r],Xo(o)||(t[r]=o);return t}function Lp(t){zT(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),BT===!1&&(BT=!0,Re.updateOffset(this),BT=!1)}function Ls(t){return t instanceof Lp||t!=null&&t._isAMomentObject!=null}function BV(t){Re.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ts(t,e){var n=!0;return Ju(function(){if(Re.deprecationHandler!=null&&Re.deprecationHandler(null,t),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])nn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}BV(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var zV={};function UV(t,e){Re.deprecationHandler!=null&&Re.deprecationHandler(t,e),zV[t]||(BV(e),zV[t]=!0)}Re.suppressDeprecationWarnings=!1,Re.deprecationHandler=null;function ka(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Phe(t){var e,n;for(n in t)nn(t,n)&&(e=t[n],ka(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function UT(t,e){var n=Ju({},t),r;for(r in e)nn(e,r)&&(yh(t[r])&&yh(e[r])?(n[r]={},Ju(n[r],t[r]),Ju(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)nn(t,r)&&!nn(e,r)&&yh(t[r])&&(n[r]=Ju({},n[r]));return n}function $T(t){t!=null&&this.set(t)}var GT;Object.keys?GT=Object.keys:GT=function(t){var e,n=[];for(e in t)nn(t,e)&&n.push(e);return n};var Ihe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Nhe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ka(r)?r.call(e,n):r}function Ta(t,e,n){var r=""+Math.abs(t),o=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var YT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qT={},Of={};function ut(t,e,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),t&&(Of[t]=o),e&&(Of[e[0]]=function(){return Ta(o.apply(this,arguments),e[1],e[2])}),n&&(Of[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Hhe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Dhe(t){var e=t.match(YT),n,r;for(n=0,r=e.length;n<r;n++)Of[e[n]]?e[n]=Of[e[n]]:e[n]=Hhe(e[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=ka(e[s])?e[s].call(o,t):e[s];return i}}function S0(t,e){return t.isValid()?(e=$V(e,t.localeData()),qT[e]=qT[e]||Dhe(e),qT[e](t)):t.localeData().invalidDate()}function $V(t,e){var n=5;function r(o){return e.longDateFormat(o)||o}for(C0.lastIndex=0;n>=0&&C0.test(t);)t=t.replace(C0,r),C0.lastIndex=0,n-=1;return t}var Lhe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function jhe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(YT).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Whe="Invalid date";function Fhe(){return this._invalidDate}var Vhe="%d",Bhe=/\d{1,2}/;function zhe(t){return this._ordinal.replace("%d",t)}var Uhe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $he(t,e,n,r){var o=this._relativeTime[n];return ka(o)?o(t,e,n,r):o.replace(/%d/i,t)}function Ghe(t,e){var n=this._relativeTime[t>0?"future":"past"];return ka(n)?n(e):n.replace(/%s/i,e)}var jp={};function uo(t,e){var n=t.toLowerCase();jp[n]=jp[n+"s"]=jp[e]=t}function ns(t){return typeof t=="string"?jp[t]||jp[t.toLowerCase()]:void 0}function KT(t){var e={},n,r;for(r in t)nn(t,r)&&(n=ns(r),n&&(e[n]=t[r]));return e}var GV={};function co(t,e){GV[t]=e}function Yhe(t){var e=[],n;for(n in t)nn(t,n)&&e.push({unit:n,priority:GV[n]});return e.sort(function(r,o){return r.priority-o.priority}),e}function x0(t){return t%4===0&&t%100!==0||t%400===0}function rs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function zt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=rs(e)),n}function Af(t,e){return function(n){return n!=null?(YV(this,t,n),Re.updateOffset(this,e),this):R0(this,t)}}function R0(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function YV(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&x0(t.year())&&t.month()===1&&t.date()===29?(n=zt(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),A0(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function qhe(t){return t=ns(t),ka(this[t])?this[t]():this}function Khe(t,e){if(typeof t=="object"){t=KT(t);var n=Yhe(t),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](t[n[r].unit])}else if(t=ns(t),ka(this[t]))return this[t](e);return this}var qV=/\d/,xi=/\d\d/,KV=/\d{3}/,XT=/\d{4}/,E0=/[+-]?\d{6}/,In=/\d\d?/,XV=/\d\d\d\d?/,QV=/\d\d\d\d\d\d?/,k0=/\d{1,3}/,QT=/\d{1,4}/,T0=/[+-]?\d{1,6}/,Pf=/\d+/,M0=/[+-]?\d+/,Xhe=/Z|[+-]\d\d:?\d\d/gi,_0=/Z|[+-]\d\d(?::?\d\d)?/gi,Qhe=/[+-]?\d+(\.\d{1,3})?/,Wp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,O0;O0={};function Ge(t,e,n){O0[t]=ka(e)?e:function(r,o){return r&&n?n:e}}function Jhe(t,e){return nn(O0,t)?O0[t](e._strict,e._locale):new RegExp(Zhe(t))}function Zhe(t){return Ri(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,o,i){return n||r||o||i}))}function Ri(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var JT={};function mn(t,e){var n,r=e,o;for(typeof t=="string"&&(t=[t]),_l(e)&&(r=function(i,s){s[e]=zt(i)}),o=t.length,n=0;n<o;n++)JT[t[n]]=r}function Fp(t,e){mn(t,function(n,r,o,i){o._w=o._w||{},e(n,o._w,o,i)})}function ede(t,e,n){e!=null&&nn(JT,t)&&JT[t](e,n._a,n,t)}var ho=0,Ol=1,Ma=2,kr=3,js=4,Al=5,bh=6,tde=7,nde=8;function rde(t,e){return(t%e+e)%e}var dr;Array.prototype.indexOf?dr=Array.prototype.indexOf:dr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function A0(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=rde(e,12);return t+=(e-n)/12,n===1?x0(t)?29:28:31-n%7%2}ut("M",["MM",2],"Mo",function(){return this.month()+1}),ut("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),ut("MMMM",0,0,function(t){return this.localeData().months(this,t)}),uo("month","M"),co("month",8),Ge("M",In),Ge("MM",In,xi),Ge("MMM",function(t,e){return e.monthsShortRegex(t)}),Ge("MMMM",function(t,e){return e.monthsRegex(t)}),mn(["M","MM"],function(t,e){e[Ol]=zt(t)-1}),mn(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);o!=null?e[Ol]=o:At(n).invalidMonth=t});var ode="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),JV="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ZV=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ide=Wp,sde=Wp;function ade(t,e){return t?Ds(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ZV).test(e)?"format":"standalone"][t.month()]:Ds(this._months)?this._months:this._months.standalone}function lde(t,e){return t?Ds(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ZV.test(e)?"format":"standalone"][t.month()]:Ds(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ude(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Ea([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(o=dr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=dr.call(this._longMonthsParse,s),o!==-1?o:null):e==="MMM"?(o=dr.call(this._shortMonthsParse,s),o!==-1?o:(o=dr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=dr.call(this._longMonthsParse,s),o!==-1?o:(o=dr.call(this._shortMonthsParse,s),o!==-1?o:null))}function cde(t,e,n){var r,o,i;if(this._monthsParseExact)return ude.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if(o=Ea([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t)||n&&e==="MMM"&&this._shortMonthsParse[r].test(t)||!n&&this._monthsParse[r].test(t))return r}function eB(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=zt(e);else if(e=t.localeData().monthsParse(e),!_l(e))return t}return n=Math.min(t.date(),A0(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function tB(t){return t!=null?(eB(this,t),Re.updateOffset(this,!0),this):R0(this,"Month")}function hde(){return A0(this.year(),this.month())}function dde(t){return this._monthsParseExact?(nn(this,"_monthsRegex")||nB.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(nn(this,"_monthsShortRegex")||(this._monthsShortRegex=ide),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function fde(t){return this._monthsParseExact?(nn(this,"_monthsRegex")||nB.call(this),t?this._monthsStrictRegex:this._monthsRegex):(nn(this,"_monthsRegex")||(this._monthsRegex=sde),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function nB(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Ea([2e3,o]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),r.sort(t),o=0;o<12;o++)e[o]=Ri(e[o]),n[o]=Ri(n[o]);for(o=0;o<24;o++)r[o]=Ri(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ut("Y",0,0,function(){var t=this.year();return t<=9999?Ta(t,4):"+"+t}),ut(0,["YY",2],0,function(){return this.year()%100}),ut(0,["YYYY",4],0,"year"),ut(0,["YYYYY",5],0,"year"),ut(0,["YYYYYY",6,!0],0,"year"),uo("year","y"),co("year",1),Ge("Y",M0),Ge("YY",In,xi),Ge("YYYY",QT,XT),Ge("YYYYY",T0,E0),Ge("YYYYYY",T0,E0),mn(["YYYYY","YYYYYY"],ho),mn("YYYY",function(t,e){e[ho]=t.length===2?Re.parseTwoDigitYear(t):zt(t)}),mn("YY",function(t,e){e[ho]=Re.parseTwoDigitYear(t)}),mn("Y",function(t,e){e[ho]=parseInt(t,10)});function Vp(t){return x0(t)?366:365}Re.parseTwoDigitYear=function(t){return zt(t)+(zt(t)>68?1900:2e3)};var rB=Af("FullYear",!0);function gde(){return x0(this.year())}function mde(t,e,n,r,o,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,o,i,s),a}function Bp(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function P0(t,e,n){var r=7+e-n,o=(7+Bp(t,0,r).getUTCDay()-e)%7;return-o+r-1}function oB(t,e,n,r,o){var i=(7+n-r)%7,s=P0(t,r,o),a=1+7*(e-1)+i+s,l,u;return a<=0?(l=t-1,u=Vp(l)+a):a>Vp(t)?(l=t+1,u=a-Vp(t)):(l=t,u=a),{year:l,dayOfYear:u}}function zp(t,e,n){var r=P0(t.year(),e,n),o=Math.floor((t.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=t.year()-1,i=o+Pl(s,e,n)):o>Pl(t.year(),e,n)?(i=o-Pl(t.year(),e,n),s=t.year()+1):(s=t.year(),i=o),{week:i,year:s}}function Pl(t,e,n){var r=P0(t,e,n),o=P0(t+1,e,n);return(Vp(t)-r+o)/7}ut("w",["ww",2],"wo","week"),ut("W",["WW",2],"Wo","isoWeek"),uo("week","w"),uo("isoWeek","W"),co("week",5),co("isoWeek",5),Ge("w",In),Ge("ww",In,xi),Ge("W",In),Ge("WW",In,xi),Fp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=zt(t)});function pde(t){return zp(t,this._week.dow,this._week.doy).week}var vde={dow:0,doy:6};function wde(){return this._week.dow}function yde(){return this._week.doy}function bde(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Cde(t){var e=zp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ut("d",0,"do","day"),ut("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),ut("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),ut("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),ut("e",0,0,"weekday"),ut("E",0,0,"isoWeekday"),uo("day","d"),uo("weekday","e"),uo("isoWeekday","E"),co("day",11),co("weekday",11),co("isoWeekday",11),Ge("d",In),Ge("e",In),Ge("E",In),Ge("dd",function(t,e){return e.weekdaysMinRegex(t)}),Ge("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Ge("dddd",function(t,e){return e.weekdaysRegex(t)}),Fp(["dd","ddd","dddd"],function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);o!=null?e.d=o:At(n).invalidWeekday=t}),Fp(["d","e","E"],function(t,e,n,r){e[r]=zt(t)});function Sde(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function xde(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function ZT(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Rde="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iB="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ede="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kde=Wp,Tde=Wp,Mde=Wp;function _de(t,e){var n=Ds(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?ZT(n,this._week.dow):t?n[t.day()]:n}function Ode(t){return t===!0?ZT(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ade(t){return t===!0?ZT(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pde(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Ea([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(o=dr.call(this._weekdaysParse,s),o!==-1?o:null):e==="ddd"?(o=dr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null):e==="dddd"?(o=dr.call(this._weekdaysParse,s),o!==-1||(o=dr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null)):e==="ddd"?(o=dr.call(this._shortWeekdaysParse,s),o!==-1||(o=dr.call(this._weekdaysParse,s),o!==-1)?o:(o=dr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=dr.call(this._minWeekdaysParse,s),o!==-1||(o=dr.call(this._weekdaysParse,s),o!==-1)?o:(o=dr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function Ide(t,e,n){var r,o,i;if(this._weekdaysParseExact)return Pde.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if(o=Ea([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t)||n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t)||n&&e==="dd"&&this._minWeekdaysParse[r].test(t)||!n&&this._weekdaysParse[r].test(t))return r}function Nde(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Sde(t,this.localeData()),this.add(t-e,"d")):e}function Hde(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Dde(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=xde(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Lde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||eM.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(nn(this,"_weekdaysRegex")||(this._weekdaysRegex=kde),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||eM.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(nn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Tde),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wde(t){return this._weekdaysParseExact?(nn(this,"_weekdaysRegex")||eM.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(nn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mde),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function eM(){function t(c,h){return h.length-c.length}var e=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=Ea([2e3,1]).day(i),a=Ri(this.weekdaysMin(s,"")),l=Ri(this.weekdaysShort(s,"")),u=Ri(this.weekdays(s,"")),e.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);e.sort(t),n.sort(t),r.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function tM(){return this.hours()%12||12}function Fde(){return this.hours()||24}ut("H",["HH",2],0,"hour"),ut("h",["hh",2],0,tM),ut("k",["kk",2],0,Fde),ut("hmm",0,0,function(){return""+tM.apply(this)+Ta(this.minutes(),2)}),ut("hmmss",0,0,function(){return""+tM.apply(this)+Ta(this.minutes(),2)+Ta(this.seconds(),2)}),ut("Hmm",0,0,function(){return""+this.hours()+Ta(this.minutes(),2)}),ut("Hmmss",0,0,function(){return""+this.hours()+Ta(this.minutes(),2)+Ta(this.seconds(),2)});function sB(t,e){ut(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}sB("a",!0),sB("A",!1),uo("hour","h"),co("hour",13);function aB(t,e){return e._meridiemParse}Ge("a",aB),Ge("A",aB),Ge("H",In),Ge("h",In),Ge("k",In),Ge("HH",In,xi),Ge("hh",In,xi),Ge("kk",In,xi),Ge("hmm",XV),Ge("hmmss",QV),Ge("Hmm",XV),Ge("Hmmss",QV),mn(["H","HH"],kr),mn(["k","kk"],function(t,e,n){var r=zt(t);e[kr]=r===24?0:r}),mn(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),mn(["h","hh"],function(t,e,n){e[kr]=zt(t),At(n).bigHour=!0}),mn("hmm",function(t,e,n){var r=t.length-2;e[kr]=zt(t.substr(0,r)),e[js]=zt(t.substr(r)),At(n).bigHour=!0}),mn("hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[kr]=zt(t.substr(0,r)),e[js]=zt(t.substr(r,2)),e[Al]=zt(t.substr(o)),At(n).bigHour=!0}),mn("Hmm",function(t,e,n){var r=t.length-2;e[kr]=zt(t.substr(0,r)),e[js]=zt(t.substr(r))}),mn("Hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[kr]=zt(t.substr(0,r)),e[js]=zt(t.substr(r,2)),e[Al]=zt(t.substr(o))});function Vde(t){return(t+"").toLowerCase().charAt(0)==="p"}var Bde=/[ap]\.?m?\.?/i,zde=Af("Hours",!0);function Ude(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var lB={calendar:Ihe,longDateFormat:Lhe,invalidDate:Whe,ordinal:Vhe,dayOfMonthOrdinalParse:Bhe,relativeTime:Uhe,months:ode,monthsShort:JV,week:vde,weekdays:Rde,weekdaysMin:Ede,weekdaysShort:iB,meridiemParse:Bde},Fn={},Up={},$p;function $de(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function uB(t){return t&&t.toLowerCase().replace("_","-")}function Gde(t){for(var e=0,n,r,o,i;e<t.length;){for(i=uB(t[e]).split("-"),n=i.length,r=uB(t[e+1]),r=r?r.split("-"):null;n>0;){if(o=I0(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&$de(i,r)>=n-1)break;n--}e++}return $p}function Yde(t){return t.match("^[^/\\\\]*$")!=null}function I0(t){var e=null,n;if(Fn[t]===void 0&&typeof jn<"u"&&jn&&jn.exports&&Yde(t))try{e=$p._abbr,n=require,n("./locale/"+t),Zu(e)}catch{Fn[t]=null}return Fn[t]}function Zu(t,e){var n;return t&&(Xo(e)?n=Il(t):n=nM(t,e),n?$p=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),$p._abbr}function nM(t,e){if(e!==null){var n,r=lB;if(e.abbr=t,Fn[t]!=null)UV("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Fn[t]._config;else if(e.parentLocale!=null)if(Fn[e.parentLocale]!=null)r=Fn[e.parentLocale]._config;else if(n=I0(e.parentLocale),n!=null)r=n._config;else return Up[e.parentLocale]||(Up[e.parentLocale]=[]),Up[e.parentLocale].push({name:t,config:e}),null;return Fn[t]=new $T(UT(r,e)),Up[t]&&Up[t].forEach(function(o){nM(o.name,o.config)}),Zu(t),Fn[t]}else return delete Fn[t],null}function qde(t,e){if(e!=null){var n,r,o=lB;Fn[t]!=null&&Fn[t].parentLocale!=null?Fn[t].set(UT(Fn[t]._config,e)):(r=I0(t),r!=null&&(o=r._config),e=UT(o,e),r==null&&(e.abbr=t),n=new $T(e),n.parentLocale=Fn[t],Fn[t]=n),Zu(t)}else Fn[t]!=null&&(Fn[t].parentLocale!=null?(Fn[t]=Fn[t].parentLocale,t===Zu()&&Zu(t)):Fn[t]!=null&&delete Fn[t]);return Fn[t]}function Il(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $p;if(!Ds(t)){if(e=I0(t),e)return e;t=[t]}return Gde(t)}function Kde(){return GT(Fn)}function rM(t){var e,n=t._a;return n&&At(t).overflow===-2&&(e=n[Ol]<0||n[Ol]>11?Ol:n[Ma]<1||n[Ma]>A0(n[ho],n[Ol])?Ma:n[kr]<0||n[kr]>24||n[kr]===24&&(n[js]!==0||n[Al]!==0||n[bh]!==0)?kr:n[js]<0||n[js]>59?js:n[Al]<0||n[Al]>59?Al:n[bh]<0||n[bh]>999?bh:-1,At(t)._overflowDayOfYear&&(e<ho||e>Ma)&&(e=Ma),At(t)._overflowWeeks&&e===-1&&(e=tde),At(t)._overflowWeekday&&e===-1&&(e=nde),At(t).overflow=e),t}var Xde=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qde=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jde=/Z|[+-]\d\d(?::?\d\d)?/,N0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],oM=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Zde=/^\/?Date\((-?\d+)/i,efe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,tfe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cB(t){var e,n,r=t._i,o=Xde.exec(r)||Qde.exec(r),i,s,a,l,u=N0.length,c=oM.length;if(o){for(At(t).iso=!0,e=0,n=u;e<n;e++)if(N0[e][1].exec(o[1])){s=N0[e][0],i=N0[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(o[3]){for(e=0,n=c;e<n;e++)if(oM[e][1].exec(o[3])){a=(o[2]||" ")+oM[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(o[4])if(Jde.exec(o[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),sM(t)}else t._isValid=!1}function nfe(t,e,n,r,o,i){var s=[rfe(t),JV.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function rfe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ofe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ife(t,e,n){if(t){var r=iB.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(r!==o)return At(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function sfe(t,e,n){if(t)return tfe[t];if(e)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function hB(t){var e=efe.exec(ofe(t._i)),n;if(e){if(n=nfe(e[4],e[3],e[2],e[5],e[6],e[7]),!ife(e[1],n,t))return;t._a=n,t._tzm=sfe(e[8],e[9],e[10]),t._d=Bp.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),At(t).rfc2822=!0}else t._isValid=!1}function afe(t){var e=Zde.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(cB(t),t._isValid===!1)delete t._isValid;else return;if(hB(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Re.createFromInputFallback(t)}Re.createFromInputFallback=ts("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function If(t,e,n){return t??e??n}function lfe(t){var e=new Date(Re.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function iM(t){var e,n,r=[],o,i,s;if(!t._d){for(o=lfe(t),t._w&&t._a[Ma]==null&&t._a[Ol]==null&&ufe(t),t._dayOfYear!=null&&(s=If(t._a[ho],o[ho]),(t._dayOfYear>Vp(s)||t._dayOfYear===0)&&(At(t)._overflowDayOfYear=!0),n=Bp(s,0,t._dayOfYear),t._a[Ol]=n.getUTCMonth(),t._a[Ma]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=o[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[kr]===24&&t._a[js]===0&&t._a[Al]===0&&t._a[bh]===0&&(t._nextDay=!0,t._a[kr]=0),t._d=(t._useUTC?Bp:mde).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[kr]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(At(t).weekdayMismatch=!0)}}function ufe(t){var e,n,r,o,i,s,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,s=4,n=If(e.GG,t._a[ho],zp(Nn(),1,4).year),r=If(e.W,1),o=If(e.E,1),(o<1||o>7)&&(l=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=zp(Nn(),i,s),n=If(e.gg,t._a[ho],u.year),r=If(e.w,u.week),e.d!=null?(o=e.d,(o<0||o>6)&&(l=!0)):e.e!=null?(o=e.e+i,(e.e<0||e.e>6)&&(l=!0)):o=i),r<1||r>Pl(n,i,s)?At(t)._overflowWeeks=!0:l!=null?At(t)._overflowWeekday=!0:(a=oB(n,r,o,i,s),t._a[ho]=a.year,t._dayOfYear=a.dayOfYear)}Re.ISO_8601=function(){},Re.RFC_2822=function(){};function sM(t){if(t._f===Re.ISO_8601){cB(t);return}if(t._f===Re.RFC_2822){hB(t);return}t._a=[],At(t).empty=!0;var e=""+t._i,n,r,o,i,s,a=e.length,l=0,u,c;for(o=$V(t._f,t._locale).match(YT)||[],c=o.length,n=0;n<c;n++)i=o[n],r=(e.match(Jhe(i,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&At(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Of[i]?(r?At(t).empty=!1:At(t).unusedTokens.push(i),ede(i,r,t)):t._strict&&!r&&At(t).unusedTokens.push(i);At(t).charsLeftOver=a-l,e.length>0&&At(t).unusedInput.push(e),t._a[kr]<=12&&At(t).bigHour===!0&&t._a[kr]>0&&(At(t).bigHour=void 0),At(t).parsedDateParts=t._a.slice(0),At(t).meridiem=t._meridiem,t._a[kr]=cfe(t._locale,t._a[kr],t._meridiem),u=At(t).era,u!==null&&(t._a[ho]=t._locale.erasConvertYear(u,t._a[ho])),iM(t),rM(t)}function cfe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function hfe(t){var e,n,r,o,i,s,a=!1,l=t._f.length;if(l===0){At(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,e=zT({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],sM(e),VT(e)&&(s=!0),i+=At(e).charsLeftOver,i+=At(e).unusedTokens.length*10,At(e).score=i,a?i<r&&(r=i,n=e):(r==null||i<r||s)&&(r=i,n=e,s&&(a=!0));Ju(t,n||e)}function dfe(t){if(!t._d){var e=KT(t._i),n=e.day===void 0?e.date:e.day;t._a=FV([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),iM(t)}}function ffe(t){var e=new Lp(rM(dB(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function dB(t){var e=t._i,n=t._f;return t._locale=t._locale||Il(t._l),e===null||n===void 0&&e===""?b0({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ls(e)?new Lp(rM(e)):(Dp(e)?t._d=e:Ds(n)?hfe(t):n?sM(t):gfe(t),VT(t)||(t._d=null),t))}function gfe(t){var e=t._i;Xo(e)?t._d=new Date(Re.now()):Dp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?afe(t):Ds(e)?(t._a=FV(e.slice(0),function(n){return parseInt(n,10)}),iM(t)):yh(e)?dfe(t):_l(e)?t._d=new Date(e):Re.createFromInputFallback(t)}function fB(t,e,n,r,o){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(yh(t)&&WT(t)||Ds(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=t,i._f=e,i._strict=r,ffe(i)}function Nn(t,e,n,r){return fB(t,e,n,r,!1)}var mfe=ts("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Nn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b0()}),pfe=ts("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Nn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:b0()});function gB(t,e){var n,r;if(e.length===1&&Ds(e[0])&&(e=e[0]),!e.length)return Nn();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function vfe(){var t=[].slice.call(arguments,0);return gB("isBefore",t)}function wfe(){var t=[].slice.call(arguments,0);return gB("isAfter",t)}var yfe=function(){return Date.now?Date.now():+new Date},Gp=["year","quarter","month","week","day","hour","minute","second","millisecond"];function bfe(t){var e,n=!1,r,o=Gp.length;for(e in t)if(nn(t,e)&&!(dr.call(Gp,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<o;++r)if(t[Gp[r]]){if(n)return!1;parseFloat(t[Gp[r]])!==zt(t[Gp[r]])&&(n=!0)}return!0}function Cfe(){return this._isValid}function Sfe(){return Ws(NaN)}function H0(t){var e=KT(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=bfe(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=Il(),this._bubble()}function D0(t){return t instanceof H0}function aM(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function xfe(t,e,n){var r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),i=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&zt(t[s])!==zt(e[s]))&&i++;return i+o}function mB(t,e){ut(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ta(~~(n/60),2)+e+Ta(~~n%60,2)})}mB("Z",":"),mB("ZZ",""),Ge("Z",_0),Ge("ZZ",_0),mn(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=lM(_0,t)});var Rfe=/([\+\-]|\d\d)/gi;function lM(t,e){var n=(e||"").match(t),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(Rfe)||["-",0,0],i=+(o[1]*60)+zt(o[2]),i===0?0:o[0]==="+"?i:-i)}function uM(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ls(t)||Dp(t)?t.valueOf():Nn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Re.updateOffset(n,!1),n):Nn(t).local()}function cM(t){return-Math.round(t._d.getTimezoneOffset())}Re.updateOffset=function(){};function Efe(t,e,n){var r=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=lM(_0,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=cM(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?yB(this,Ws(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Re.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:cM(this)}function kfe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Tfe(t){return this.utcOffset(0,t)}function Mfe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(cM(this),"m")),this}function _fe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=lM(Xhe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ofe(t){return this.isValid()?(t=t?Nn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Afe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pfe(){if(!Xo(this._isDSTShifted))return this._isDSTShifted;var t={},e;return zT(t,this),t=dB(t),t._a?(e=t._isUTC?Ea(t._a):Nn(t._a),this._isDSTShifted=this.isValid()&&xfe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ife(){return this.isValid()?!this._isUTC:!1}function Nfe(){return this.isValid()?this._isUTC:!1}function pB(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Hfe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Dfe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ws(t,e){var n=t,r=null,o,i,s;return D0(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:_l(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Hfe.exec(t))?(o=r[1]==="-"?-1:1,n={y:0,d:zt(r[Ma])*o,h:zt(r[kr])*o,m:zt(r[js])*o,s:zt(r[Al])*o,ms:zt(aM(r[bh]*1e3))*o}):(r=Dfe.exec(t))?(o=r[1]==="-"?-1:1,n={y:Ch(r[2],o),M:Ch(r[3],o),w:Ch(r[4],o),d:Ch(r[5],o),h:Ch(r[6],o),m:Ch(r[7],o),s:Ch(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Lfe(Nn(n.from),Nn(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new H0(n),D0(t)&&nn(t,"_locale")&&(i._locale=t._locale),D0(t)&&nn(t,"_isValid")&&(i._isValid=t._isValid),i}Ws.fn=H0.prototype,Ws.invalid=Sfe;function Ch(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function vB(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Lfe(t,e){var n;return t.isValid()&&e.isValid()?(e=uM(e,t),t.isBefore(e)?n=vB(t,e):(n=vB(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function wB(t,e){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(UV(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Ws(n,r),yB(this,o,t),this}}function yB(t,e,n,r){var o=e._milliseconds,i=aM(e._days),s=aM(e._months);t.isValid()&&(r=r??!0,s&&eB(t,R0(t,"Month")+s*n),i&&YV(t,"Date",R0(t,"Date")+i*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&Re.updateOffset(t,i||s))}var jfe=wB(1,"add"),Wfe=wB(-1,"subtract");function bB(t){return typeof t=="string"||t instanceof String}function Ffe(t){return Ls(t)||Dp(t)||bB(t)||_l(t)||Bfe(t)||Vfe(t)||t===null||t===void 0}function Vfe(t){var e=yh(t)&&!WT(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||nn(t,i);return e&&n}function Bfe(t){var e=Ds(t),n=!1;return e&&(n=t.filter(function(r){return!_l(r)&&bB(t)}).length===0),e&&n}function zfe(t){var e=yh(t)&&!WT(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||nn(t,i);return e&&n}function Ufe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $fe(t,e){arguments.length===1&&(arguments[0]?Ffe(arguments[0])?(t=arguments[0],e=void 0):zfe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Nn(),r=uM(n,this).startOf("day"),o=Re.calendarFormat(this,r)||"sameElse",i=e&&(ka(e[o])?e[o].call(this,n):e[o]);return this.format(i||this.localeData().calendar(o,this,Nn(n)))}function Gfe(){return new Lp(this)}function Yfe(t,e){var n=Ls(t)?t:Nn(t);return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function qfe(t,e){var n=Ls(t)?t:Nn(t);return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Kfe(t,e,n,r){var o=Ls(t)?t:Nn(t),i=Ls(e)?e:Nn(e);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Xfe(t,e){var n=Ls(t)?t:Nn(t),r;return this.isValid()&&n.isValid()?(e=ns(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Qfe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Jfe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Zfe(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(r=uM(t,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,e=ns(e),e){case"year":i=L0(this,r)/12;break;case"month":i=L0(this,r);break;case"quarter":i=L0(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:rs(i)}function L0(t,e){if(t.date()<e.date())return-L0(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),o,i;return e-r<0?(o=t.clone().add(n-1,"months"),i=(e-r)/(r-o)):(o=t.clone().add(n+1,"months"),i=(e-r)/(o-r)),-(n+i)||0}Re.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Re.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ege(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function tge(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?S0(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ka(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",S0(n,"Z")):S0(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nge(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,o,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+o+i)}function rge(t){t||(t=this.isUtc()?Re.defaultFormatUtc:Re.defaultFormat);var e=S0(this,t);return this.localeData().postformat(e)}function oge(t,e){return this.isValid()&&(Ls(t)&&t.isValid()||Nn(t).isValid())?Ws({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ige(t){return this.from(Nn(),t)}function sge(t,e){return this.isValid()&&(Ls(t)&&t.isValid()||Nn(t).isValid())?Ws({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function age(t){return this.to(Nn(),t)}function CB(t){var e;return t===void 0?this._locale._abbr:(e=Il(t),e!=null&&(this._locale=e),this)}var SB=ts("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function xB(){return this._locale}var j0=1e3,Nf=60*j0,W0=60*Nf,RB=(365*400+97)*24*W0;function Hf(t,e){return(t%e+e)%e}function EB(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-RB:new Date(t,e,n).valueOf()}function kB(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-RB:Date.UTC(t,e,n)}function lge(t){var e,n;if(t=ns(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kB:EB,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Hf(e+(this._isUTC?0:this.utcOffset()*Nf),W0);break;case"minute":e=this._d.valueOf(),e-=Hf(e,Nf);break;case"second":e=this._d.valueOf(),e-=Hf(e,j0);break}return this._d.setTime(e),Re.updateOffset(this,!0),this}function uge(t){var e,n;if(t=ns(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kB:EB,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=W0-Hf(e+(this._isUTC?0:this.utcOffset()*Nf),W0)-1;break;case"minute":e=this._d.valueOf(),e+=Nf-Hf(e,Nf)-1;break;case"second":e=this._d.valueOf(),e+=j0-Hf(e,j0)-1;break}return this._d.setTime(e),Re.updateOffset(this,!0),this}function cge(){return this._d.valueOf()-(this._offset||0)*6e4}function hge(){return Math.floor(this.valueOf()/1e3)}function dge(){return new Date(this.valueOf())}function fge(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function gge(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function mge(){return this.isValid()?this.toISOString():null}function pge(){return VT(this)}function vge(){return Ju({},At(this))}function wge(){return At(this).overflow}function yge(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ut("N",0,0,"eraAbbr"),ut("NN",0,0,"eraAbbr"),ut("NNN",0,0,"eraAbbr"),ut("NNNN",0,0,"eraName"),ut("NNNNN",0,0,"eraNarrow"),ut("y",["y",1],"yo","eraYear"),ut("y",["yy",2],0,"eraYear"),ut("y",["yyy",3],0,"eraYear"),ut("y",["yyyy",4],0,"eraYear"),Ge("N",hM),Ge("NN",hM),Ge("NNN",hM),Ge("NNNN",Oge),Ge("NNNNN",Age),mn(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var o=n._locale.erasParse(t,r,n._strict);o?At(n).era=o:At(n).invalidEra=t}),Ge("y",Pf),Ge("yy",Pf),Ge("yyy",Pf),Ge("yyyy",Pf),Ge("yo",Pge),mn(["y","yy","yyy","yyyy"],ho),mn(["yo"],function(t,e,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[ho]=n._locale.eraYearOrdinalParse(t,o):e[ho]=parseInt(t,10)});function bge(t,e){var n,r,o,i=this._eras||Il("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Re(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Re(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function Cge(t,e,n){var r,o,i=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[r];break;case"NNNN":if(s===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([s,a,l].indexOf(t)>=0)return i[r]}function Sge(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Re(t.since).year():Re(t.since).year()+(e-t.offset)*n}function xge(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Rge(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Ege(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function kge(){var t,e,n,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until||o[t].until<=r&&r<=o[t].since)return(this.year()-Re(o[t].since).year())*n+o[t].offset;return this.year()}function Tge(t){return nn(this,"_erasNameRegex")||dM.call(this),t?this._erasNameRegex:this._erasRegex}function Mge(t){return nn(this,"_erasAbbrRegex")||dM.call(this),t?this._erasAbbrRegex:this._erasRegex}function _ge(t){return nn(this,"_erasNarrowRegex")||dM.call(this),t?this._erasNarrowRegex:this._erasRegex}function hM(t,e){return e.erasAbbrRegex(t)}function Oge(t,e){return e.erasNameRegex(t)}function Age(t,e){return e.erasNarrowRegex(t)}function Pge(t,e){return e._eraYearOrdinalRegex||Pf}function dM(){var t=[],e=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)e.push(Ri(s[o].name)),t.push(Ri(s[o].abbr)),n.push(Ri(s[o].narrow)),r.push(Ri(s[o].name)),r.push(Ri(s[o].abbr)),r.push(Ri(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ut(0,["gg",2],0,function(){return this.weekYear()%100}),ut(0,["GG",2],0,function(){return this.isoWeekYear()%100});function F0(t,e){ut(0,[t,t.length],0,e)}F0("gggg","weekYear"),F0("ggggg","weekYear"),F0("GGGG","isoWeekYear"),F0("GGGGG","isoWeekYear"),uo("weekYear","gg"),uo("isoWeekYear","GG"),co("weekYear",1),co("isoWeekYear",1),Ge("G",M0),Ge("g",M0),Ge("GG",In,xi),Ge("gg",In,xi),Ge("GGGG",QT,XT),Ge("gggg",QT,XT),Ge("GGGGG",T0,E0),Ge("ggggg",T0,E0),Fp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=zt(t)}),Fp(["gg","GG"],function(t,e,n,r){e[r]=Re.parseTwoDigitYear(t)});function Ige(t){return TB.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nge(t){return TB.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Hge(){return Pl(this.year(),1,4)}function Dge(){return Pl(this.isoWeekYear(),1,4)}function Lge(){var t=this.localeData()._week;return Pl(this.year(),t.dow,t.doy)}function jge(){var t=this.localeData()._week;return Pl(this.weekYear(),t.dow,t.doy)}function TB(t,e,n,r,o){var i;return t==null?zp(this,r,o).year:(i=Pl(t,r,o),e>i&&(e=i),Wge.call(this,t,e,n,r,o))}function Wge(t,e,n,r,o){var i=oB(t,e,n,r,o),s=Bp(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ut("Q",0,"Qo","quarter"),uo("quarter","Q"),co("quarter",7),Ge("Q",qV),mn("Q",function(t,e){e[Ol]=(zt(t)-1)*3});function Fge(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ut("D",["DD",2],"Do","date"),uo("date","D"),co("date",9),Ge("D",In),Ge("DD",In,xi),Ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),mn(["D","DD"],Ma),mn("Do",function(t,e){e[Ma]=zt(t.match(In)[0])});var MB=Af("Date",!0);ut("DDD",["DDDD",3],"DDDo","dayOfYear"),uo("dayOfYear","DDD"),co("dayOfYear",4),Ge("DDD",k0),Ge("DDDD",KV),mn(["DDD","DDDD"],function(t,e,n){n._dayOfYear=zt(t)});function Vge(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ut("m",["mm",2],0,"minute"),uo("minute","m"),co("minute",14),Ge("m",In),Ge("mm",In,xi),mn(["m","mm"],js);var Bge=Af("Minutes",!1);ut("s",["ss",2],0,"second"),uo("second","s"),co("second",15),Ge("s",In),Ge("ss",In,xi),mn(["s","ss"],Al);var zge=Af("Seconds",!1);ut("S",0,0,function(){return~~(this.millisecond()/100)}),ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ut(0,["SSS",3],0,"millisecond"),ut(0,["SSSS",4],0,function(){return this.millisecond()*10}),ut(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ut(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ut(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ut(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ut(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),uo("millisecond","ms"),co("millisecond",16),Ge("S",k0,qV),Ge("SS",k0,xi),Ge("SSS",k0,KV);var ec,_B;for(ec="SSSS";ec.length<=9;ec+="S")Ge(ec,Pf);function Uge(t,e){e[bh]=zt(("0."+t)*1e3)}for(ec="S";ec.length<=9;ec+="S")mn(ec,Uge);_B=Af("Milliseconds",!1),ut("z",0,0,"zoneAbbr"),ut("zz",0,0,"zoneName");function $ge(){return this._isUTC?"UTC":""}function Gge(){return this._isUTC?"Coordinated Universal Time":""}var Ae=Lp.prototype;Ae.add=jfe,Ae.calendar=$fe,Ae.clone=Gfe,Ae.diff=Zfe,Ae.endOf=uge,Ae.format=rge,Ae.from=oge,Ae.fromNow=ige,Ae.to=sge,Ae.toNow=age,Ae.get=qhe,Ae.invalidAt=wge,Ae.isAfter=Yfe,Ae.isBefore=qfe,Ae.isBetween=Kfe,Ae.isSame=Xfe,Ae.isSameOrAfter=Qfe,Ae.isSameOrBefore=Jfe,Ae.isValid=pge,Ae.lang=SB,Ae.locale=CB,Ae.localeData=xB,Ae.max=pfe,Ae.min=mfe,Ae.parsingFlags=vge,Ae.set=Khe,Ae.startOf=lge,Ae.subtract=Wfe,Ae.toArray=fge,Ae.toObject=gge,Ae.toDate=dge,Ae.toISOString=tge,Ae.inspect=nge,typeof Symbol<"u"&&Symbol.for!=null&&(Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ae.toJSON=mge,Ae.toString=ege,Ae.unix=hge,Ae.valueOf=cge,Ae.creationData=yge,Ae.eraName=xge,Ae.eraNarrow=Rge,Ae.eraAbbr=Ege,Ae.eraYear=kge,Ae.year=rB,Ae.isLeapYear=gde,Ae.weekYear=Ige,Ae.isoWeekYear=Nge,Ae.quarter=Ae.quarters=Fge,Ae.month=tB,Ae.daysInMonth=hde,Ae.week=Ae.weeks=bde,Ae.isoWeek=Ae.isoWeeks=Cde,Ae.weeksInYear=Lge,Ae.weeksInWeekYear=jge,Ae.isoWeeksInYear=Hge,Ae.isoWeeksInISOWeekYear=Dge,Ae.date=MB,Ae.day=Ae.days=Nde,Ae.weekday=Hde,Ae.isoWeekday=Dde,Ae.dayOfYear=Vge,Ae.hour=Ae.hours=zde,Ae.minute=Ae.minutes=Bge,Ae.second=Ae.seconds=zge,Ae.millisecond=Ae.milliseconds=_B,Ae.utcOffset=Efe,Ae.utc=Tfe,Ae.local=Mfe,Ae.parseZone=_fe,Ae.hasAlignedHourOffset=Ofe,Ae.isDST=Afe,Ae.isLocal=Ife,Ae.isUtcOffset=Nfe,Ae.isUtc=pB,Ae.isUTC=pB,Ae.zoneAbbr=$ge,Ae.zoneName=Gge,Ae.dates=ts("dates accessor is deprecated. Use date instead.",MB),Ae.months=ts("months accessor is deprecated. Use month instead",tB),Ae.years=ts("years accessor is deprecated. Use year instead",rB),Ae.zone=ts("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",kfe),Ae.isDSTShifted=ts("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pfe);function Yge(t){return Nn(t*1e3)}function qge(){return Nn.apply(null,arguments).parseZone()}function OB(t){return t}var rn=$T.prototype;rn.calendar=Nhe,rn.longDateFormat=jhe,rn.invalidDate=Fhe,rn.ordinal=zhe,rn.preparse=OB,rn.postformat=OB,rn.relativeTime=$he,rn.pastFuture=Ghe,rn.set=Phe,rn.eras=bge,rn.erasParse=Cge,rn.erasConvertYear=Sge,rn.erasAbbrRegex=Mge,rn.erasNameRegex=Tge,rn.erasNarrowRegex=_ge,rn.months=ade,rn.monthsShort=lde,rn.monthsParse=cde,rn.monthsRegex=fde,rn.monthsShortRegex=dde,rn.week=pde,rn.firstDayOfYear=yde,rn.firstDayOfWeek=wde,rn.weekdays=_de,rn.weekdaysMin=Ade,rn.weekdaysShort=Ode,rn.weekdaysParse=Ide,rn.weekdaysRegex=Lde,rn.weekdaysShortRegex=jde,rn.weekdaysMinRegex=Wde,rn.isPM=Vde,rn.meridiem=Ude;function V0(t,e,n,r){var o=Il(),i=Ea().set(r,e);return o[n](i,t)}function AB(t,e,n){if(_l(t)&&(e=t,t=void 0),t=t||"",e!=null)return V0(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=V0(t,r,n,"month");return o}function fM(t,e,n,r){typeof t=="boolean"?(_l(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,_l(e)&&(n=e,e=void 0),e=e||"");var o=Il(),i=t?o._week.dow:0,s,a=[];if(n!=null)return V0(e,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=V0(e,(s+i)%7,r,"day");return a}function Kge(t,e){return AB(t,e,"months")}function Xge(t,e){return AB(t,e,"monthsShort")}function Qge(t,e,n){return fM(t,e,n,"weekdays")}function Jge(t,e,n){return fM(t,e,n,"weekdaysShort")}function Zge(t,e,n){return fM(t,e,n,"weekdaysMin")}Zu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=zt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}}),Re.lang=ts("moment.lang is deprecated. Use moment.locale instead.",Zu),Re.langData=ts("moment.langData is deprecated. Use moment.localeData instead.",Il);var Nl=Math.abs;function eme(){var t=this._data;return this._milliseconds=Nl(this._milliseconds),this._days=Nl(this._days),this._months=Nl(this._months),t.milliseconds=Nl(t.milliseconds),t.seconds=Nl(t.seconds),t.minutes=Nl(t.minutes),t.hours=Nl(t.hours),t.months=Nl(t.months),t.years=Nl(t.years),this}function PB(t,e,n,r){var o=Ws(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function tme(t,e){return PB(this,t,e,1)}function nme(t,e){return PB(this,t,e,-1)}function IB(t){return t<0?Math.floor(t):Math.ceil(t)}function rme(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,o,i,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=IB(gM(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,o=rs(t/1e3),r.seconds=o%60,i=rs(o/60),r.minutes=i%60,s=rs(i/60),r.hours=s%24,e+=rs(s/24),l=rs(NB(e)),n+=l,e-=IB(gM(l)),a=rs(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function NB(t){return t*4800/146097}function gM(t){return t*146097/4800}function ome(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=ns(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+NB(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(gM(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ime(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+zt(this._months/12)*31536e6:NaN}function Hl(t){return function(){return this.as(t)}}var sme=Hl("ms"),ame=Hl("s"),lme=Hl("m"),ume=Hl("h"),cme=Hl("d"),hme=Hl("w"),dme=Hl("M"),fme=Hl("Q"),gme=Hl("y");function mme(){return Ws(this)}function pme(t){return t=ns(t),this.isValid()?this[t+"s"]():NaN}function Sh(t){return function(){return this.isValid()?this._data[t]:NaN}}var vme=Sh("milliseconds"),wme=Sh("seconds"),yme=Sh("minutes"),bme=Sh("hours"),Cme=Sh("days"),Sme=Sh("months"),xme=Sh("years");function Rme(){return rs(this.days()/7)}var Dl=Math.round,Df={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Eme(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}function kme(t,e,n,r){var o=Ws(t).abs(),i=Dl(o.as("s")),s=Dl(o.as("m")),a=Dl(o.as("h")),l=Dl(o.as("d")),u=Dl(o.as("M")),c=Dl(o.as("w")),h=Dl(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,Eme.apply(null,d)}function Tme(t){return t===void 0?Dl:typeof t=="function"?(Dl=t,!0):!1}function Mme(t,e){return Df[t]===void 0?!1:e===void 0?Df[t]:(Df[t]=e,t==="s"&&(Df.ss=e-1),!0)}function _me(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Df,o,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Df,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),o=this.localeData(),i=kme(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var mM=Math.abs;function Lf(t){return(t>0)-(t<0)||+t}function B0(){if(!this.isValid())return this.localeData().invalidDate();var t=mM(this._milliseconds)/1e3,e=mM(this._days),n=mM(this._months),r,o,i,s,a=this.asSeconds(),l,u,c,h;return a?(r=rs(t/60),o=rs(r/60),t%=60,r%=60,i=rs(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Lf(this._months)!==Lf(a)?"-":"",c=Lf(this._days)!==Lf(a)?"-":"",h=Lf(this._milliseconds)!==Lf(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(o||r||t?"T":"")+(o?h+o+"H":"")+(r?h+r+"M":"")+(t?h+s+"S":"")):"P0D"}var Xt=H0.prototype;Xt.isValid=Cfe,Xt.abs=eme,Xt.add=tme,Xt.subtract=nme,Xt.as=ome,Xt.asMilliseconds=sme,Xt.asSeconds=ame,Xt.asMinutes=lme,Xt.asHours=ume,Xt.asDays=cme,Xt.asWeeks=hme,Xt.asMonths=dme,Xt.asQuarters=fme,Xt.asYears=gme,Xt.valueOf=ime,Xt._bubble=rme,Xt.clone=mme,Xt.get=pme,Xt.milliseconds=vme,Xt.seconds=wme,Xt.minutes=yme,Xt.hours=bme,Xt.days=Cme,Xt.weeks=Rme,Xt.months=Sme,Xt.years=xme,Xt.humanize=_me,Xt.toISOString=B0,Xt.toString=B0,Xt.toJSON=B0,Xt.locale=CB,Xt.localeData=xB,Xt.toIsoString=ts("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",B0),Xt.lang=SB,ut("X",0,0,"unix"),ut("x",0,0,"valueOf"),Ge("x",M0),Ge("X",Qhe),mn("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)}),mn("x",function(t,e,n){n._d=new Date(zt(t))});//! moment.js
Re.version="2.29.4",Ohe(Nn),Re.fn=Ae,Re.min=vfe,Re.max=wfe,Re.now=yfe,Re.utc=Ea,Re.unix=Yge,Re.months=Kge,Re.isDate=Dp,Re.locale=Zu,Re.invalid=b0,Re.duration=Ws,Re.isMoment=Ls,Re.weekdays=Qge,Re.parseZone=qge,Re.localeData=Il,Re.isDuration=D0,Re.monthsShort=Xge,Re.weekdaysMin=Zge,Re.defineLocale=nM,Re.updateLocale=qde,Re.locales=Kde,Re.weekdaysShort=Jge,Re.normalizeUnits=ns,Re.relativeTimeRounding=Tme,Re.relativeTimeThreshold=Mme,Re.calendarFormat=Ufe,Re.prototype=Ae,Re.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Ome(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function HB(t,e){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}function z0(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,r=t[0].length;for(let o=0;o<n;o++)for(let i=0;i<r;i++)e[i]||(e[i]=[]),e[i][o]=t[o][i];return e}function fo(t,e,n,r){let o=-1,i=t,s=n;Array.isArray(t)||(i=Array.from(t));const a=i.length;for(r&&a&&(o+=1,s=i[o]),o+=1;o<a;)s=e(s,i[o],o,i),o+=1;return s}function os(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length,i=[];let s=-1;for(;n<o;){const a=r[n];e(a,n,r)&&(s+=1,i[s]=a),n+=1}return i}function Pt(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length,i=[];let s=-1;for(;n<o;){const a=r[n];s+=1,i[s]=e(a,n,r),n+=1}return i}function F(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const o=r.length;for(;n<o&&e(r[n],n,r)!==!1;)n+=1;return t}function DB(t){const e=[];return F(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function LB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...o]=[...e];let i=r;return F(o,s=>{i=i.filter(a=>!s.includes(a))}),i}function jB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fo(t,(o,i,s)=>{const a=i.replace(/\r?\n\s*/g,""),l=n[s]?n[s]:"";return o+a+l},"").trim()}function fr(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function Fe(t){return typeof t<"u"}function Tn(t){return typeof t>"u"}function Tr(t){return t===null||t===""||Tn(t)}function Ame(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const Yp="length",qp=t=>parseInt(t,16),WB=t=>parseInt(t,10),U0=(t,e,n)=>t.substr(e,n),Kp=t=>t.codePointAt(0)-65,pM=t=>`${t}`.replace(/\-/g,""),Pme=t=>qp(U0(pM(t),qp("12"),Kp("F")))/(qp(U0(pM(t),Kp("B"),~~![][Yp]))||9),Ime=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let FB=!1;const VB={invalid:()=>un`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return un`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>un`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},BB={invalid:()=>un`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return un`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>un`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function Nme(t,e){const n=!Tr(t),r=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",o="14.1.0";let i,s="invalid",a="invalid";t=pM(t||"");const l=Hme(t);if(n||r||l)if(l){const u=Re("16/01/2024","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),h=Pme(t);i=Re((h+1)*864e5,"x").format("MMMM DD, YYYY"),c>h?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(Ime()&&(s="valid",a="valid"),!FB&&s!=="valid"&&(VB[s]({keyValidityDate:i,hotVersion:o})&&console[s==="non_commercial"?"info":"warn"](VB[s]({keyValidityDate:i,hotVersion:o})),FB=!0),a!=="valid"&&e.parentNode&&BB[a]({keyValidityDate:i,hotVersion:o})){const u=document.createElement("div");u.className="hot-display-license-info",u.innerHTML=BB[a]({keyValidityDate:i,hotVersion:o}),e.parentNode.insertBefore(u,e.nextSibling)}}function Hme(t){let e=[][Yp],n=e;if(t[Yp]!==Kp("Z"))return!1;for(let r="",o="B<H4P+".split(""),i=Kp(o.shift());i;i=Kp(o.shift()||"A"))--i<""[Yp]?n=n|(WB(`${WB(qp(r)+(qp(U0(t,Math.abs(i),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=U0(t,i,i?o[Yp]===1?9:8:6);return n===e}function Fs(t){return t[0].toUpperCase()+t.substr(1)}function zB(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function UB(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function $B(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,r)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[r]===void 0?"":e[r])}function GB(t){return vM(`${t}`,{ALLOWED_TAGS:[]})}function vM(t,e){return _he.sanitize(t,e)}const jf=t=>["tabindex",t],Dme=()=>["role","treegrid"],_a=()=>["role","presentation"],Lme=()=>["role","gridcell"],jme=()=>["role","rowheader"],YB=()=>["role","rowgroup"],Wme=()=>["role","columnheader"],wM=()=>["role","row"],Fme=()=>["role","menu"],Vme=()=>["role","menuitem"],Bme=()=>["role","combobox"],qB=()=>["role","listbox"],zme=()=>["role","option"],Ume=()=>["role","checkbox"],$me=()=>["scope","col"],Gme=()=>["scope","row"],Yme=()=>["type","text"],yM=t=>["aria-label",t],Ll=()=>["aria-hidden","true"],qme=()=>["aria-disabled","true"],Kme=()=>["aria-multiselectable","true"],KB=t=>["aria-haspopup",t],XB=t=>["aria-rowcount",t],$0=t=>["aria-colcount",t],QB=t=>["aria-rowindex",t],bM=t=>["aria-colindex",t],is=t=>["aria-expanded",t],Xme=t=>["aria-sort",t],JB=()=>["aria-readonly","true"],ZB=()=>["aria-invalid","true"],Qme=t=>["aria-checked",t],CM=()=>["aria-selected","true"],Jme=()=>["aria-autocomplete","list"],Zme=t=>["aria-controls",t],epe=t=>["aria-activedescendant",t],tpe=t=>["aria-live",t],npe=t=>["aria-relevant",t],rpe=t=>["aria-setsize",t],ope=t=>["aria-posinset",t];function ipe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=null,o=t;for(;o!==null;){if(n===e){r=o;break}o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:(n+=1,o=o.parentNode)}return r}function spe(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function ape(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function G0(t){return ape(t)&&t.parent}function xh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:o}=Node;let i=t;for(;i!=null&&i!==n;){const{nodeType:s,nodeName:a}=i;if(s===r&&(e.includes(a)||e.includes(i)))return i;const{host:l}=i;l&&s===o?i=l:i=i.parentNode}return null}function Y0(t,e,n){const r=[];let o=t;for(;o&&(o=xh(o,e,n),!(!o||n&&!n.contains(o)));)r.push(o),o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:o=o.parentNode;const i=r.length;return i?r[i-1]:null}function Rh(t,e){let n=t.parentNode,r=[];for(typeof e=="string"?t.defaultView?r=Array.prototype.slice.call(t.querySelectorAll(e),0):r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);n!==null;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function lpe(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function Eh(t,e,n){const r=n.parentElement.querySelector(`.ht_clone_${t}`);return r?r.contains(e):null}function ez(t){return!t||!t.length?[]:t.filter(e=>!!e)}function tz(t,e){if(!t||!t.length)return e?{regexFree:[],regexes:[]}:[];const n=[],r=[];return r.push(...t.filter(o=>{const i=o instanceof RegExp;return i&&e&&n.push(o),!i})),e?{regexFree:r,regexes:n}:r}function yt(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function ke(t,e){typeof e=="string"&&(e=e.split(" ")),e=ez(e),e.length>0&&t.classList.add(...e)}function Rt(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:r}=tz(e,!0);n=ez(n),n.length>0&&t.classList.remove(...n),r.forEach(o=>{t.classList.forEach(i=>{o.test(i)&&t.classList.remove(i)})})}function ct(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(r=>{Array.isArray(r)&&r[0]!==""&&t.setAttribute(...r)})}function Wf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:r}=tz(e,!0);n.forEach(o=>{o!==""&&t.removeAttribute(o)}),r.forEach(o=>{t.getAttributeNames().forEach(i=>{o.test(i)&&t.removeAttribute(i)})})}function nz(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)nz(e[n])}}function Oa(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const upe=/(<(.*)>|&(.*);)/;function Ff(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;upe.test(e)?t.innerHTML=n?vM(e):e:kh(t,e)}function kh(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(Oa(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function Th(t){const e=t.ownerDocument.documentElement;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return Th(n.host.impl);if(n.host)return Th(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(tc(n).display==="none")return!1;n=n.parentNode}return!0}function Dr(t){const e=t.ownerDocument,n=e.defaultView,r=e.documentElement;let o=t,i,s,a;for(i=o.offsetLeft,s=o.offsetTop,a=o;(o=o.offsetParent)&&!(o===e.body||!("offsetLeft"in o));)i+=o.offsetLeft,s+=o.offsetTop,a=o;return a&&a.style.position==="fixed"&&(i+=n.pageXOffset||r.scrollLeft,s+=n.pageYOffset||r.scrollTop),{left:i,top:s}}function rz(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function SM(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function xM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?rz(e):t.scrollTop}function oz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?SM(e):t.scrollLeft}function q0(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const r=["auto","scroll"];let o=t.parentNode;for(;o&&o.style&&e.body!==o;){let{overflow:i,overflowX:s,overflowY:a}=o.style;if([i,s,a].includes("scroll")||({overflow:i,overflowX:s,overflowY:a}=n.getComputedStyle(o),r.includes(i)||r.includes(s)||r.includes(a)||o.clientHeight<=o.scrollHeight+1&&(r.includes(a)||r.includes(i))||o.clientWidth<=o.scrollWidth+1&&(r.includes(s)||r.includes(i))))return o;o=o.parentNode}return n}function Vf(t){const e=t.ownerDocument,n=e.defaultView;let r=t.parentNode;for(;r&&r.style&&e.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;const o=tc(r,n),i=["scroll","hidden","auto"],s=o.getPropertyValue("overflow"),a=o.getPropertyValue("overflow-y"),l=o.getPropertyValue("overflow-x");if(i.includes(s)||i.includes(a)||i.includes(l))return r;r=r.parentNode}return n}function Xp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const r=t.style[e];if(r!==""&&r!==void 0)return r;const o=tc(t,n);if(o[e]!==""&&o[e]!==void 0)return o[e]}function tc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function pn(t){return t.offsetWidth}function Kn(t){return t.offsetHeight}function Bf(t){return t.clientHeight||t.innerHeight}function iz(t){return t.clientWidth||t.innerWidth}function sz(t){return t.selectionStart?t.selectionStart:0}function cpe(t){return t.selectionEnd?t.selectionEnd:0}function az(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function K0(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const r=t.parentNode,o=r.style.display;r.style.display="block",t.setSelectionRange(e,n),r.style.display=o}}}let RM;function hpe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;return r===o&&(o=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-o}function Lr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return RM===void 0&&(RM=hpe(t)),RM}function dpe(t){return t.offsetWidth!==t.clientWidth}function fpe(t){return t.offsetHeight!==t.clientHeight}function EM(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function X0(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function Q0(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function lz(t){return Q0(t)&&t.hasAttribute("data-hot-input")===!1}function uz(t){return!t.parentNode}function gpe(t,e){new IntersectionObserver((n,r)=>{n.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),r.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function cz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=t.ownerDocument,o=r.createRange(),i=r.defaultView.getSelection();ct(t,"contenteditable",!0),n&&ct(t,...Ll()),e&&ke(t,"invisibleSelection"),o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o)}function hz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&Rt(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function mpe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;cz(t,n),e(),hz(t,n)}function Mn(t){return typeof t=="function"}function kM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,r;function o(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{r=t.apply(this,s)},e),r}return o}function dz(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t.apply(this,n.concat(i))}}function ppe(t){const e=t.length;function n(r){return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const a=r.concat(i);let l;return a.length>=e?l=t.apply(this,a):l=n(a),l}}return n([])}function TM(t,e,n,r,o,i,s,a){return Fe(a)?t.call(e,n,r,o,i,s,a):Fe(s)?t.call(e,n,r,o,i,s):Fe(i)?t.call(e,n,r,o,i):Fe(o)?t.call(e,n,r,o):Fe(r)?t.call(e,n,r):Fe(n)?t.call(e,n):t.call(e)}var vpe=ko,fz=$2,wpe=lo,gz=kf,ype=tV,mz=vpe([].push),bpe=function(t){if(wpe(t))return t;if(fz(t)){for(var e=t.length,n=[],r=0;r<e;r++){var o=t[r];typeof o=="string"?mz(n,o):(typeof o=="number"||gz(o)==="Number"||gz(o)==="String")&&mz(n,ype(o))}var i=n.length,s=!0;return function(a,l){if(s)return s=!1,l;if(fz(this))return l;for(var u=0;u<i;u++)if(n[u]===a)return l}}},Cpe=Xu,pz=Mp,vz=d0,Spe=mh,Qp=ko,wz=Zi,yz=lo,bz=Yk,Cz=CT,xpe=bpe,Rpe=Gk,Epe=String,nc=pz("JSON","stringify"),J0=Qp(/./.exec),Sz=Qp("".charAt),kpe=Qp("".charCodeAt),Tpe=Qp("".replace),Mpe=Qp(1 .toString),_pe=/[\uD800-\uDFFF]/g,xz=/^[\uD800-\uDBFF]$/,Rz=/^[\uDC00-\uDFFF]$/,Ez=!Rpe||wz(function(){var t=pz("Symbol")("stringify detection");return nc([t])!=="[null]"||nc({a:t})!=="{}"||nc(Object(t))!=="{}"}),kz=wz(function(){return nc("\uDF06\uD834")!=='"\\udf06\\ud834"'||nc("\uDEAD")!=='"\\udead"'}),Ope=function(t,e){var n=Cz(arguments),r=xpe(e);if(!(!yz(r)&&(t===void 0||bz(t))))return n[1]=function(o,i){if(yz(r)&&(i=Spe(r,this,Epe(o),i)),!bz(i))return i},vz(nc,null,n)},Ape=function(t,e,n){var r=Sz(n,e-1),o=Sz(n,e+1);return J0(xz,t)&&!J0(Rz,o)||J0(Rz,t)&&!J0(xz,r)?"\\u"+Mpe(kpe(t,0),16):t};nc&&Cpe({target:"JSON",stat:!0,arity:3,forced:Ez||kz},{stringify:function(t,e,n){var r=Cz(arguments),o=vz(Ez?Ope:nc,null,r);return kz&&typeof o=="string"?Tpe(o,_pe,Ape):o}});function Jp(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},It(t,(n,r)=>{r!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[r]=Jp(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[r]=[Jp(n[0])]:e[r]=[]:e[r]=null)})),e}function rc(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function yr(t,e,n){const r=Array.isArray(n);return It(e,(o,i)=>{(r===!1||n.includes(i))&&(t[i]=o)}),t}function Z0(t,e){It(e,(n,r)=>{e[r]&&typeof e[r]=="object"?(t[r]||(Array.isArray(e[r])?t[r]=[]:Object.prototype.toString.call(e[r])==="[object Date]"?t[r]=e[r]:t[r]={}),Z0(t[r],e[r])):t[r]=e[r]})}function _o(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Qo(t){const e={};return It(t,(n,r)=>{e[r]=n}),e}function bn(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return F(n,o=>{t.MIXINS.push(o.MIXIN_NAME),It(o,(i,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof i=="function")t.prototype[s]=i;else{const a=function(u,c){const h=`_${u}`,d=g=>{let p=g;return(Array.isArray(p)||Ot(p))&&(p=_o(p)),p};return function(){return this[h]===void 0&&(this[h]=d(c)),this[h]}},l=function(u){const c=`_${u}`;return function(h){this[c]=h}};Object.defineProperty(t.prototype,s,{get:a(s,i),set:l(s),configurable:!0})}})}),t}function MM(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Ot(t){return Object.prototype.toString.call(t)==="[object Object]"}function jl(t,e,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(t,e,r)}function It(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function Ppe(t,e){const n=e.split(".");let r=t;return It(n,o=>{if(r=r[o],r===void 0)return r=void 0,!1}),r}function _M(t,e,n){const r=e.split(".");let o=t;r.forEach((i,s)=>{s!==r.length-1?(Xn(o,i)||(o[i]={}),o=o[i]):o[i]=n})}function OM(t){if(!Ot(t))return 0;const e=function(n){let r=0;return Ot(n)?It(n,(o,i)=>{i!=="__children"&&(r+=e(o))}):r+=1,r};return e(t)}function Aa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,r={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(r,e,{get(){return this[n]},set(o){this._touched=!0,this[n]=o},enumerable:!0,configurable:!0}),r}function Xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function AM(t){return window.requestAnimationFrame(t)}function eC(t){window.cancelAnimationFrame(t)}function Tz(){return"ontouchstart"in window}function Ipe(){return typeof window<"u"}let Zp;function Npe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Zp||(typeof Intl=="object"?Zp=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?Zp=(n,r)=>`${n}`.localeCompare(r):Zp=(n,r)=>n===r?0:n>r?-1:1,Zp)}const ss=t=>{const e={value:!1};return e.test=(n,r)=>{e.value=t(n,r)},e},oc={chrome:ss((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:ss(t=>/CriOS/.test(t)),edge:ss(t=>/Edge/.test(t)),edgeWebKit:ss(t=>/EdgiOS/.test(t)),firefox:ss(t=>/Firefox/.test(t)),firefoxWebKit:ss(t=>/FxiOS/.test(t)),mobile:ss(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:ss((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},ev={mac:ss(t=>/^Mac/.test(t)),win:ss(t=>/^Win/.test(t)),linux:ss(t=>/^Linux/.test(t)),ios:ss(t=>/iPhone|iPad|iPod/i.test(t))};function Hpe(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(oc,n=>{let{test:r}=n;return void r(t,e)})}function Dpe(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(ev,e=>{let{test:n}=e;return void n(t)})}Ipe()&&(Hpe(),Dpe());function Mz(){return oc.chrome.value}function Lpe(){return oc.chromeWebKit.value}function PM(){return oc.firefox.value}function jpe(){return oc.firefoxWebKit.value}function _z(){return oc.safari.value}function Wpe(){return oc.edge.value}function ic(){return oc.mobile.value}function Oz(){return ev.ios.value}function Az(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&ev.mac.value}function Pz(){return ev.win.value}function IM(){return ev.mac.value}const rt={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:PM()?182:174,AUDIO_MUTE:PM()?181:173,AUDIO_UP:PM()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},Fpe=[rt.ALT,rt.ARROW_DOWN,rt.ARROW_LEFT,rt.ARROW_RIGHT,rt.ARROW_UP,rt.AUDIO_DOWN,rt.AUDIO_MUTE,rt.AUDIO_UP,rt.BACKSPACE,rt.CAPS_LOCK,rt.DELETE,rt.END,rt.ENTER,rt.ESCAPE,rt.F1,rt.F2,rt.F3,rt.F4,rt.F5,rt.F6,rt.F7,rt.F8,rt.F9,rt.F10,rt.F11,rt.F12,rt.F13,rt.F14,rt.F15,rt.F16,rt.F17,rt.F18,rt.F19,rt.HOME,rt.INSERT,rt.MEDIA_NEXT,rt.MEDIA_PLAY_PAUSE,rt.MEDIA_PREV,rt.MEDIA_STOP,rt.NULL,rt.NUM_LOCK,rt.PAGE_DOWN,rt.PAGE_UP,rt.PAUSE,rt.SCROLL_LOCK,rt.SHIFT,rt.TAB];function Vpe(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function Iz(t){return Fpe.includes(t)}function Bpe(t){return[rt.CONTROL,rt.COMMAND_LEFT,rt.COMMAND_RIGHT,rt.COMMAND_FIREFOX].includes(t)}function tv(t,e){const n=e.split("|");let r=!1;return F(n,o=>{if(t===rt[o])return r=!0,!1}),r}function Vs(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function Mh(t){return t.isImmediatePropagationEnabled===!1}function _h(t){return t.button===2}function NM(t){return t.button===0}function zpe(t,e){const n={x:t.offsetX,y:t.offsetY};let r=t.target;if(!(e instanceof HTMLElement)||r!==e&&r.contains(e))return n;for(;r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}function vn(){Fe(console)&&console.warn(...arguments)}function HM(){Fe(console)&&console.error(...arguments)}function Upe(t,e,n){return e=$pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Gpe(t,"string");return typeof e=="symbol"?e:String(e)}function Gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const zf=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],Ype=un`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,DM=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),LM=new Map([[]]);class ze{static getSingleton(){return Kpe()}constructor(){Upe(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return F(zf,n=>e[n]=[]),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(Array.isArray(n))F(n,o=>this.add(e,o,r));else{DM.has(e)&&vn($B(Ype,{hookName:e,removedInVersion:DM.get(e)})),LM.has(e)&&vn(LM.get(e));const o=this.getBucket(r);if(typeof o[e]>"u"&&(this.register(e),o[e]=[]),n.skip=!1,o[e].indexOf(n)===-1){let i=!1;n.initialHook&&F(o[e],(s,a)=>{if(s.initialHook)return o[e][a]=n,i=!0,!1}),i||o[e].push(n)}}return this}once(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Array.isArray(n)?F(n,o=>this.once(e,o,r)):(n.runOnce=!0,this.add(e,n,r))}remove(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const o=this.getBucket(r);return typeof o[e]<"u"&&o[e].indexOf(n)>=0?(n.skip=!0,!0):!1}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=this.getBucket(n);return!!(r[e]!==void 0&&r[e].length)}run(e,n,r,o,i,s,a,l){{const u=this.globalBucket[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=TM(u[h],e,r,o,i,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h]),h+=1}}{const u=this.getBucket(e)[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=TM(u[h],e,r,o,i,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h],e),h+=1}}return r}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;It(this.getBucket(e),(n,r,o)=>o[r].length=0)}register(e){this.isRegistered(e)||zf.push(e)}deregister(e){this.isRegistered(e)&&zf.splice(zf.indexOf(e),1)}isDeprecated(e){return LM.has(e)||DM.has(e)}isRegistered(e){return zf.indexOf(e)>=0}getRegistered(){return zf}}const qpe=new ze;function Kpe(){return qpe}const jM=new Map;function Bs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";jM.has(t)||jM.set(t,new Map);const e=jM.get(t);function n(a,l){e.set(a,l)}function r(a){return e.get(a)}function o(a){return e.has(a)}function i(){return[...e.keys()]}function s(){return[...e.values()]}return{register:n,getItem:r,hasItem:o,getNames:i,getValues:s}}const WM=new WeakMap,{register:Xpe,getItem:Nz,hasItem:Hz,getNames:_Fe,getValues:OFe}=Bs("editors");function Qpe(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new n(r)),e[r.guid]},ze.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function Dz(t,e){let n;if(typeof t=="function")WM.get(t)||Ei(null,t),n=WM.get(t);else if(typeof t=="string")n=Nz(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function Lz(t){if(typeof t=="function")return t;if(!Hz(t))throw Error(`No registered editor found under "${t}" name`);return Nz(t).getConstructor()}function Ei(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new Qpe(e);typeof t=="string"&&Xpe(t,n),WM.set(e,n)}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eve(t,"string");return typeof e=="symbol"?e:String(e)}function eve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Jpe(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function i(s){r.call(this,tve(s))}return this.context.eventListeners.push({element:e,event:n,callback:r,callbackProxy:i,options:o,eventManager:this}),e.addEventListener(n,i,o),()=>{this.removeEventListener(e,n,r)}}removeEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=this.context.eventListeners.length,s;for(;i;)if(i-=1,s=this.context.eventListeners[i],s.event===n&&s.element===e){if(r&&r!==s.callback||o&&s.eventManager!==this)continue;this.context.eventListeners.splice(i,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const r=this.context.eventListeners[n];e&&r.eventManager!==this||(this.context.eventListeners.splice(n,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let r=e.document,o=e;r||(r=e.ownerDocument?e.ownerDocument:e,o=r.defaultView);const i={bubbles:!0,cancelable:n!=="mousemove",view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let s;r.createEvent?(s=r.createEvent("MouseEvents"),s.initMouseEvent(n,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,r.body.parentNode)):s=r.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${n}`,s)}}function tve(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),Vs(this)},t}function jz(t,e){nve(t,e),e.add(t)}function nve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sc(t,e,n){return e=rve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rve(t){var e=ove(t,"string");return typeof e=="symbol"?e:String(e)}function ove(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wz(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const tC="editorManager.navigation";var Fz=new WeakSet,Vz=new WeakSet;class FM{constructor(e,n,r){jz(this,Vz),jz(this,Fz),sc(this,"hot",void 0),sc(this,"tableMeta",void 0),sc(this,"selection",void 0),sc(this,"eventManager",void 0),sc(this,"destroyed",!1),sc(this,"lock",!1),sc(this,"activeEditor",void 0),sc(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=r,this.eventManager=new zs(e),this.hot.addHook("afterDocumentKeyDown",o=>Wz(this,Fz,ive).call(this,o)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",o=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",o)}),this.hot.view._wt.update("onCellDblClick",(o,i,s)=>Wz(this,Vz,sve).call(this,o,i,s))}lockEditor(){this.lock=!0}unlockEditor(){this.lock=!1}destroyEditor(e){this.lock||this.closeEditor(e)}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.lock)return;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,u=>{u&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:r,col:o}=n,i=this.hot.runHooks("modifyGetCellCoords",r,o);let s=r,a=o;if(Array.isArray(i)&&([s,a]=i),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(r,o,!0);if(l){const u=this.hot.getCellEditor(this.cellProperties),c=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=Dz(u,this.hot),this.activeEditor.prepare(r,o,c,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(r&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,r){this.activeEditor?this.activeEditor.finishEditing(e,n,r):r&&r(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:r,col:o}=e.highlight,{rowIndexMapper:i,columnIndexMapper:s}=this.hot,a=i.isHidden(this.hot.toPhysicalRow(r))||s.isHidden(this.hot.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n=typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;e?this.selection.transformStart(-n.row,-n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function ive(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||Mh(t))return;const{keyCode:n}=t,r=(t.ctrlKey||t.metaKey)&&!t.altKey;if((!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!Iz(n)&&!Bpe(n)&&!r&&!this.isEditorOpened()){const o=this.hot.getShortcutManager().getContext("editor"),i={runOnlyIf:()=>Fe(this.hot.getSelected()),group:tC};o.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],i),this.openEditor("",t)}}function sve(t,e,n){n.nodeName==="TD"&&this.openEditor(null,t,!0)}const Bz=new WeakMap;FM.getInstance=function(t,e,n){let r=Bz.get(t);return r||(r=new FM(t,e,n),Bz.set(t,r)),r};function nC(t,e){zz(t,e),e.add(t)}function nv(t,e,n){zz(t,e),e.set(t,n)}function zz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uf(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Qn(t,e){var n=Uz(t,e,"get");return ave(t,n)}function ave(t,e){return e.get?e.get.call(t):e.value}function rv(t,e,n){var r=Uz(t,e,"set");return lve(t,r,n),n}function Uz(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function lve(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const ac=Object.freeze({CELL:"cell",MIXED:"mixed"});var Kr=new WeakMap,rC=new WeakMap,oC=new WeakMap,iC=new WeakMap,sC=new WeakMap,aC=new WeakSet,$z=new WeakSet,Gz=new WeakSet,Yz=new WeakSet;class uve{constructor(e){var n=this;nC(this,Yz),nC(this,Gz),nC(this,$z),nC(this,aC),nv(this,Kr,{writable:!0,value:void 0}),nv(this,rC,{writable:!0,value:void 0}),nv(this,oC,{writable:!0,value:50}),nv(this,iC,{writable:!0,value:null}),nv(this,sC,{writable:!0,value:new Map});const r=e.getSettings();rv(this,Kr,e),rv(this,rC,r.imeFastEdit?ac.MIXED:ac.CELL),Qn(this,Kr).addHook("afterUpdateSettings",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Uf(n,Yz,dve).call(n,...i)}),Qn(this,Kr).addHook("afterSelection",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Uf(n,$z,cve).call(n,...i)}),Qn(this,Kr).addHook("afterSelectionEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Uf(n,Gz,hve).call(n,...i)})}getFocusMode(){return Qn(this,rC)}setFocusMode(e){Object.values(ac).includes(e)?rv(this,rC,e):vn(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return Qn(this,oC)}setRefocusDelay(e){rv(this,oC,e)}setRefocusElementGetter(e){rv(this,iC,e)}getRefocusElement(){if(typeof Qn(this,iC)=="function")return Qn(this,iC).call(this);var e;return(e=Qn(this,Kr).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=r=>{var o,i;const s=(o=Qn(this,Kr).getSelectedRangeLast())===null||o===void 0?void 0:o.highlight;if(!s)return;let a=Qn(this,Kr).runHooks("modifyFocusedElement",s.row,s.col,r);a instanceof HTMLElement||(a=r),a&&!((i=Qn(this,Kr).getActiveEditor())!==null&&i!==void 0&&i.isOpened())&&a.focus({preventScroll:!0})};e?n(e):Uf(this,aC,VM).call(this,r=>n(r))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qn(this,oC);const r=this.getRefocusElement();Qn(this,Kr).getSettings().imeFastEdit&&!((e=Qn(this,Kr).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&r&&(Qn(this,sC).has(n)||Qn(this,sC).set(n,kM(()=>{r.select()},n)),Qn(this,sC).get(n)())}}function VM(t){var e;const n=(e=Qn(this,Kr).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!Qn(this,Kr).selection.isCellVisible(n)){t(null);return}const r=Qn(this,Kr).getCell(n.row,n.col,!0);r===null?Qn(this,Kr).addHookOnce("afterScroll",()=>{t(Qn(this,Kr).getCell(n.row,n.col,!0))}):t(r)}function cve(){Uf(this,aC,VM).call(this,t=>{const{activeElement:e}=Qn(this,Kr).rootDocument;e&&lz(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function hve(){Uf(this,aC,VM).call(this,t=>{this.getFocusMode()===ac.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function dve(t){t.imeFastEdit&&this.getFocusMode()!==ac.MIXED?this.setFocusMode(ac.MIXED):!t.imeFastEdit&&this.getFocusMode()!==ac.CELL&&this.setFocusMode(ac.CELL)}const qz={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},fve=new RegExp(Object.keys(qz).map(t=>`(${t})`).join("|"),"gi");function gve(t){return(t&&t.nodeName||"")==="TABLE"}function Kz(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),r=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],o=t.getData(...r),i=o.length,s=i>0?o[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,h=e?1:0;for(let d=0;d<i;d+=1){const g=e&&d===0,p=[];for(let C=0;C<s;C+=1){const v=!g&&n&&C===0;let y="";if(g)y=`<th>${t.getColHeader(C-c)}</th>`;else if(v)y=`<th>${t.getRowHeader(d-h)}</th>`;else{const x=o[d][C],{hidden:M,rowspan:_,colspan:T}=t.getCellMeta(d-h,C-c);if(!M){const O=[];if(_&&O.push(`rowspan="${_}"`),T&&O.push(`colspan="${T}"`),Tr(x))y=`<td ${O.join(" ")}></td>`;else{const I=x.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");y=`<td ${O.join(" ")}>${I}</td>`}}}p.push(y)}const w=["<tr>",...p,"</tr>"].join("");g?l.splice(1,0,w):u.splice(-1,0,w)}return a.splice(1,0,l.join(""),u.join("")),a.join("")}function Xz(t){const e=t.length,n=["<table>"];for(let r=0;r<e;r+=1){const o=t[r],i=o.length,s=[];r===0&&n.push("<tbody>");for(let a=0;a<i;a+=1){const l=o[a],u=Tr(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,c=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(c.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${u}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function mve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},r=e.createDocumentFragment(),o=e.createElement("div");r.appendChild(o);let i=t;if(typeof i=="string"){const x=i.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,M=>{const _=M.match(/<td\b[^>]*?>/g)[0],T=M.substring(_.length,M.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return`${_}${T}</td>`});o.insertAdjacentHTML("afterbegin",`${x}`),i=o.querySelector("table")}if(!i||!gve(i))return;const s=o.querySelector('meta[name$="enerator"]'),a=i.querySelector("tbody th")!==null,l=i.querySelector("tr"),u=l?Array.from(l.cells).reduce((x,M)=>x+M.colSpan,0)-(a?1:0):0,c=i.tFoot&&Array.from(i.tFoot.rows)||[],h=[];let d=!1,g=0,p=0;if(i.tHead){const x=Array.from(i.tHead.rows).filter(M=>{const _=M.querySelector("td")!==null;return _&&h.push(M),!_});g=x.length,d=g>0,g>1?n.nestedHeaders=Array.from(x).reduce((M,_)=>{const T=Array.from(_.cells).reduce((O,I,N)=>{if(a&&N===0)return O;const{colSpan:L,innerHTML:B}=I,ae=L>1?{label:B,colspan:L}:B;return O.push(ae),O},[]);return M.push(T),M},[]):d&&(n.colHeaders=Array.from(x[0].children).reduce((M,_,T)=>(a&&T===0||M.push(_.innerHTML),M),[]))}h.length&&(n.fixedRowsTop=h.length),c.length&&(n.fixedRowsBottom=c.length);const w=[...h,...Array.from(i.tBodies).reduce((x,M)=>(x.push(...Array.from(M.rows)),x),[]),...c];p=w.length;const C=new Array(p);for(let x=0;x<p;x++)C[x]=new Array(u);const v=[],y=[];for(let x=0;x<p;x++){const M=w[x],_=Array.from(M.cells),T=_.length;for(let O=0;O<T;O++){const I=_[O],{nodeName:N,innerHTML:L,rowSpan:B,colSpan:ae}=I,U=C[x].findIndex(ce=>ce===void 0);if(N==="TD"){if(B>1||ae>1){for(let Me=x;Me<x+B;Me++)if(Me<p)for(let Ce=U;Ce<U+ae;Ce++)C[Me][Ce]=null;const ve=I.getAttribute("style");ve&&ve.includes("mso-ignore:colspan")||v.push({col:U,row:x,rowspan:B,colspan:ae})}let ce="";s&&/excel/gi.test(s.content)?ce=L.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):ce=L.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),C[x][U]=ce.replace(fve,ve=>qz[ve])}else y.push(L)}}return v.length&&(n.mergeCells=v),y.length&&(n.rowHeaders=y),C.length&&(n.data=C),n}function Jo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const r=Array.from(new Set([".",...e])).map(o=>`\\${o}`).join("|");return new RegExp(`^[+-]?\\s*(((${r})?\\d+((${r})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function pve(t){return Jo(t,[","])}function Ke(t,e,n){let r=-1;for(typeof e=="function"?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function BM(t,e,n){let r=t+1;for(typeof e=="function"&&(n=e,e=0);--r>=e&&n(r)!==!1;);}function Qz(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function ki(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}const zM="asc",vve="desc",Jz=new Map([[zM,[-1,1]],[vve,[1,-1]]]),wve=t=>`The priority '${t}' is already declared in a map.`,yve=t=>`The priority '${t}' is not a number.`;function bve(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=Mn(t)?t:wve,e=Mn(e)?e:yve;function r(i,s){if(!Jo(i))throw new Error(e(i));if(n.has(i))throw new Error(t(i));n.set(i,s)}function o(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zM;const[s,a]=Jz.get(i)||Jz.get(zM);return[...n].sort((l,u)=>l[0]<u[0]?s:a).map(l=>l[1])}return{addItem:r,getItems:o}}const Cve=t=>`The id '${t}' is already declared in a map.`;function lC(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=Mn(t)?t:Cve;function n(u,c){if(l(u))throw new Error(t(u));e.set(u,c)}function r(u){return e.delete(u)}function o(){e.clear()}function i(u){const[c]=a().find(h=>{let[d,g]=h;return u===g?d:!1})||[null];return c}function s(u){return e.get(u)}function a(){return[...e]}function l(u){return e.has(u)}return{addItem:n,clear:o,getId:i,getItem:s,getItems:a,hasItem:l,removeItem:r}}const Sve=t=>`'${t}' value is already declared in a unique set.`;function xve(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=Mn(t)?t:Sve;function n(i){if(e.has(i))throw new Error(t(i));e.add(i)}function r(){return[...e]}function o(){e.clear()}return{addItem:n,clear:o,getItems:r}}const UM=t=>`There is already registered "${t}" plugin.`,Rve=t=>`There is already registered plugin on priority "${t}".`,Eve=t=>`The priority "${t}" is not a number.`,Zz=bve({errorPriorityExists:Rve,errorPriorityNaN:Eve}),e3=xve({errorItemExists:UM}),$M=lC({errorIdExists:UM});function t3(){return[...Zz.getItems(),...e3.getItems()]}function GM(t){const e=Fs(t);return $M.getItem(e)}function kve(t){return!!GM(t)}function Jt(t,e,n){[t,e,n]=Mve(t,e,n),GM(t)===void 0&&Tve(t,e,n)}function Tve(t,e,n){const r=Fs(t);if($M.hasItem(r))throw new Error(UM(r));n===void 0?e3.addItem(r):Zz.addItem(n,r),$M.addItem(r,e)}function Mve(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}const{register:_ve,getItem:Ove,hasItem:n3,getNames:AFe,getValues:PFe}=Bs("renderers");function r3(t){if(typeof t=="function")return t;if(!n3(t))throw Error(`No registered renderer found under "${t}" name`);return Ove(t)}function as(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),_ve(t,e)}const{register:Ave,getItem:Pve,hasItem:o3,getNames:IFe,getValues:NFe}=Bs("validators");function Ive(t){if(typeof t=="function")return t;if(!o3(t))throw Error(`No registered validator found under "${t}" name`);return Pve(t)}function $f(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),Ave(t,e)}function uC(t,e,n){return e=Nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=Hve(t,"string");return typeof e=="symbol"?e:String(e)}function Hve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dve{constructor(e){uC(this,"count",0),uC(this,"startColumn",0),uC(this,"endColumn",0),uC(this,"startPosition",0),this.count=e.totalColumns,this.endColumn=this.count-1}}function cC(t,e,n){return e=Lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lve(t){var e=jve(t,"string");return typeof e=="symbol"?e:String(e)}function jve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wve{constructor(e){cC(this,"count",0),cC(this,"startRow",0),cC(this,"endRow",0),cC(this,"startPosition",0),this.count=e.totalRows,this.endRow=this.count-1}}var i3={},Fve=V2,Vve=wT,Bve=Object.keys||function(t){return Fve(t,Vve)},zve=As,Uve=T2,$ve=qu,Gve=Ku,Yve=t0,qve=Bve;i3.f=zve&&!Uve?Object.defineProperties:function(t,e){Gve(t);for(var n=Yve(e),r=qve(e),o=r.length,i=0,s;o>i;)$ve.f(t,s=r[i++],n[s]);return t};var Kve=Ku,Xve=i3,s3=wT,Qve=cT,Jve=mV,Zve=nT,ewe=I2,a3=">",l3="<",YM="prototype",qM="script",u3=ewe("IE_PROTO"),KM=function(){},c3=function(t){return l3+qM+a3+t+l3+"/"+qM+a3},h3=function(t){t.write(c3("")),t.close();var e=t.parentWindow.Object;return t=null,e},twe=function(){var t=Zve("iframe"),e="java"+qM+":",n;return t.style.display="none",Jve.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(c3("document.F=Object")),n.close(),n.F},hC,dC=function(){try{hC=new ActiveXObject("htmlfile")}catch{}dC=typeof document<"u"?document.domain&&hC?h3(hC):twe():h3(hC);for(var t=s3.length;t--;)delete dC[YM][s3[t]];return dC()};Qve[u3]=!0;var nwe=Object.create||function(t,e){var n;return t!==null?(KM[YM]=Kve(t),n=new KM,KM[YM]=null,n[u3]=t):n=dC(),e===void 0?n:Xve.f(n,e)},rwe=Mf,owe=nwe,iwe=qu.f,XM=rwe("unscopables"),QM=Array.prototype;QM[XM]===void 0&&iwe(QM,XM,{configurable:!0,value:owe(null)});var d3=function(t){QM[XM][t]=!0},swe=Xu,awe=i0,lwe=Ap,uwe=pT,cwe=d3;swe({target:"Array",proto:!0},{at:function(t){var e=awe(this),n=lwe(e),r=uwe(t),o=r>=0?r:n+r;return o<0||o>=n?void 0:e[o]}}),cwe("at");const lc=1,go=2;function hwe(t,e,n){dwe(t,e),e.set(t,n)}function dwe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ov(t,e,n){return e=fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=gwe(t,"string");return typeof e=="symbol"?e:String(e)}function gwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(t,e){var n=f3(t,e,"get");return mwe(t,n)}function mwe(t,e){return e.get?e.get.call(t):e.value}function pwe(t,e,n){var r=f3(t,e,"set");return vwe(t,r,n),n}function f3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function vwe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var uc=new WeakMap;class iv{static get DEFAULT_WIDTH(){return 50}constructor(e){ov(this,"count",0),ov(this,"startColumn",null),ov(this,"endColumn",null),ov(this,"startPosition",null),ov(this,"isVisibleInTrimmingContainer",!1),hwe(this,uc,{writable:!0,value:void 0}),pwe(this,uc,e),this.calculate()}calculate(){const{calculationType:e,overrideFn:n,scrollOffset:r,totalColumns:o,viewportWidth:i}=Gf(this,uc),s=Math.max(Gf(this,uc).scrollOffset,0),a=s>0?i+1:i;let l=0,u=!0;const c=[];let h,d=0,g=0;for(let v=0;v<o;v++)if(h=this._getColumnWidth(v),l<=s&&e!==go&&(this.startColumn=v,d=h),l>=s&&l+(e===go?h:0)<=s+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=v,d=h),this.endColumn=v),c.push(l),l+=h,g=h,e!==go&&(this.endColumn=v),l>=s+i){u=!1;break}const p=r+i-a,w=e===go?0:g,C=e===go?d:0;if(p<-1*Gf(this,uc).inlineStartOffset||r>c.at(-1)+w||-1*Gf(this,uc).scrollOffset-Gf(this,uc).viewportWidth>-1*C?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===o-1&&u)for(this.startColumn=this.endColumn;this.startColumn>0;){const v=c[this.endColumn]+h-c[this.startColumn-1];if((v<=i||e!==go)&&(this.startColumn-=1),v>i)break}e===lc&&this.startColumn!==null&&n&&n(this),this.startPosition=c[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),o<this.endColumn&&(this.endColumn=o-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(e){let n=Gf(this,uc).columnWidthFn(e);return isNaN(n)&&(n=iv.DEFAULT_WIDTH),n}}function wwe(t,e,n){ywe(t,e),e.set(t,n)}function ywe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sv(t,e,n){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bwe(t){var e=Cwe(t,"string");return typeof e=="symbol"?e:String(e)}function Cwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JM(t,e){var n=g3(t,e,"get");return Swe(t,n)}function Swe(t,e){return e.get?e.get.call(t):e.value}function xwe(t,e,n){var r=g3(t,e,"set");return Rwe(t,r,n),n}function g3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Rwe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var av=new WeakMap;class fC{static get DEFAULT_HEIGHT(){return 23}constructor(e){sv(this,"count",0),sv(this,"startRow",null),sv(this,"endRow",null),sv(this,"startPosition",null),sv(this,"isVisibleInTrimmingContainer",!1),wwe(this,av,{writable:!0,value:void 0}),xwe(this,av,e),this.calculate()}calculate(){const{calculationType:e,overrideFn:n,rowHeightFn:r,scrollOffset:o,totalRows:i,viewportHeight:s}=JM(this,av),a=Math.max(JM(this,av).scrollOffset,0),l=JM(this,av).horizontalScrollbarHeight||0;let u=0,c=!0;const h=[];let d,g=0,p=0;for(let y=0;y<i;y++)if(d=r(y),isNaN(d)&&(d=fC.DEFAULT_HEIGHT),u<=a&&e!==go&&(this.startRow=y,g=d),u>=a&&u+(e===go?d:0)<=a+s-l&&(this.startRow===null&&(this.startRow=y,g=d),this.endRow=y),h.push(u),u+=d,p=d,e!==go&&(this.endRow=y),u>=a+s-l){c=!1;break}const w=o+s-l,C=e===go?g:0,v=e===go?0:p;if(w<C||o>h.at(-1)+v?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===i-1&&c)for(this.startRow=this.endRow;this.startRow>0;){const y=h[this.endRow]+d-h[this.startRow-1];if((y<=s-l||e!==go)&&(this.startRow-=1),y>=s-l)break}e===lc&&this.startRow!==null&&n&&n(this),this.startPosition=h[this.startRow],this.startPosition===void 0&&(this.startPosition=null),i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function Ewe(t,e,n){kwe(t,e),e.set(t,n)}function kwe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m3(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Mwe(t,"string");return typeof e=="symbol"?e:String(e)}function Mwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yf(t,e){var n=v3(t,e,"get");return _we(t,n)}function _we(t,e){return e.get?e.get.call(t):e.value}function p3(t,e,n){var r=v3(t,e,"set");return Owe(t,r,n),n}function v3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Owe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Wl=new WeakMap;class gC{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;m3(this,"row",null),m3(this,"col",null),Ewe(this,Wl,{writable:!0,value:!1}),p3(this,Wl,r),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:r,countRowHeaders:o,countColHeaders:i}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-i||this.col<-o||this.row>=n||this.col>=r)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Yf(this,Wl)}isSouthEastOf(e){return this.row>=e.row&&(Yf(this,Wl)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(Yf(this,Wl)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(Yf(this,Wl)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(Yf(this,Wl)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof gC&&p3(this,Wl,e.isRtl()),this}clone(){return new gC(this.row,this.col,Yf(this,Wl))}toObject(){return{row:this.row,col:this.col}}}const mC=gC;function Awe(t,e,n){Pwe(t,e),e.set(t,n)}function Pwe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZM(t,e,n){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iwe(t){var e=Nwe(t,"string");return typeof e=="symbol"?e:String(e)}function Nwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(t,e){var n=w3(t,e,"get");return Hwe(t,n)}function Hwe(t,e){return e.get?e.get.call(t):e.value}function Dwe(t,e,n){var r=w3(t,e,"set");return Lwe(t,r,n),n}function w3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Lwe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Zo=new WeakMap;class e_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;ZM(this,"highlight",null),ZM(this,"from",null),ZM(this,"to",null),Awe(this,Zo,{writable:!0,value:!1}),this.highlight=e.clone(),this.from=n.clone(),this.to=r.clone(),Dwe(this,Zo,o)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:r}=e,o=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return o.row<=n&&i.row>=n&&o.col<=r&&i.col>=r}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>r.row||e.col>r.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1}expandByRange(e){if(this.includesRange(e)||!this.overlaps(e))return!1;const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),o=this.getDirection(),i=e.getOuterTopStartCorner(),s=e.getOuterBottomEndCorner(),a=Math.min(n.row,i.row),l=Math.min(n.col,i.col),u=Math.max(r.row,s.row),c=Math.max(r.col,s.col),h=this._createCellCoords(a,l),d=this._createCellCoords(u,c);return this.from=h,this.to=d,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally(),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return ls(this,Zo)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return ls(this,Zo)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return ls(this,Zo)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return ls(this,Zo)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return ls(this,Zo)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return ls(this,Zo)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return ls(this,Zo)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return ls(this,Zo)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof mC))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},o=[];return n.top===r.top&&o.push("top"),n.right===r.right&&o.push(ls(this,Zo)?"left":"right"),n.bottom===r.bottom&&o.push("bottom"),n.left===r.left&&o.push(ls(this,Zo)?"right":"left"),o}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let o=e.row;o<=n.row;o++)for(let i=e.col;i<=n.col;i++)!(this.from.row===o&&this.from.col===i)&&!(this.to.row===o&&this.to.col===i)&&r.push(this._createCellCoords(o,i));return r}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let o=e.row;o<=n.row;o++)for(let i=e.col;i<=n.col;i++)e.row===o&&e.col===i?r.push(e):n.row===o&&n.col===i?r.push(n):r.push(this._createCellCoords(o,i));return r}forAll(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();for(let o=n.row;o<=r.row;o++)for(let i=n.col;i<=r.col;i++)if(e(o,i)===!1)return}clone(){return new e_(this.highlight,this.from,this.to,ls(this,Zo))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new mC(e,n,ls(this,Zo))}}const t_=e_;function Pa(t,e,n){jwe(t,e),e.set(t,n)}function jwe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ze(t,e){var n=y3(t,e,"get");return Wwe(t,n)}function Wwe(t,e){return e.get?e.get.call(t):e.value}function cc(t,e,n){var r=y3(t,e,"set");return Fwe(t,r,n),n}function y3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Fwe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var us=new WeakMap,n_=new WeakMap,jr=new WeakMap,qf=new WeakMap,pC=new WeakMap,Us=new WeakMap,r_=new WeakMap,lv=new WeakMap,Oh=new WeakMap,Ia=new WeakMap;let b3=class{constructor(t,e,n,r,o,i){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Pa(this,us,{writable:!0,value:void 0}),Pa(this,n_,{writable:!0,value:void 0}),Pa(this,jr,{writable:!0,value:void 0}),Pa(this,qf,{writable:!0,value:void 0}),Pa(this,pC,{writable:!0,value:void 0}),Pa(this,Us,{writable:!0,value:void 0}),Pa(this,r_,{writable:!0,value:void 0}),Pa(this,lv,{writable:!0,value:void 0}),Pa(this,Oh,{writable:!0,value:[null,null]}),Pa(this,Ia,{writable:!0,value:[null,null]}),cc(this,us,n),cc(this,n_,e),cc(this,jr,o),cc(this,qf,i),cc(this,pC,s),cc(this,Us,r),cc(this,r_,t),this.registerEvents()}registerEvents(){Ze(this,Us).addEventListener(Ze(this,jr).holder,"contextmenu",n=>this.onContextMenu(n)),Ze(this,Us).addEventListener(Ze(this,jr).TABLE,"mouseover",n=>this.onMouseOver(n)),Ze(this,Us).addEventListener(Ze(this,jr).TABLE,"mouseout",n=>this.onMouseOut(n));const t=()=>{Ze(this,Us).addEventListener(Ze(this,jr).holder,"touchstart",n=>this.onTouchStart(n)),Ze(this,Us).addEventListener(Ze(this,jr).holder,"touchend",n=>this.onTouchEnd(n)),this.momentumScrolling||(this.momentumScrolling={}),Ze(this,Us).addEventListener(Ze(this,jr).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ze(this,us).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ze(this,us).getSetting("onAfterMomentumScroll"))},200)})},e=()=>{Ze(this,Us).addEventListener(Ze(this,jr).holder,"mouseup",n=>this.onMouseUp(n)),Ze(this,Us).addEventListener(Ze(this,jr).holder,"mousedown",n=>this.onMouseDown(n))};ic()?t():(Tz()&&t(),e())}selectedCellWasTouched(t){const e=this.parentCell(t).coords;if(Ze(this,lv)&&e){const[n,r]=[e.row,Ze(this,lv).from.row],[o,i]=[e.col,Ze(this,lv).from.col];return n===r&&o===i}return!1}parentCell(t){const e={},n=Ze(this,jr).TABLE,r=Y0(t,["TD","TH"],n);return r?(e.coords=Ze(this,jr).getCoords(r),e.TD=r):yt(t,"wtBorder")&&yt(t,"current")?(e.coords=Ze(this,qf).getFocusSelection().cellRange.highlight,e.TD=Ze(this,jr).getCell(e.coords)):yt(t,"wtBorder")&&yt(t,"area")&&Ze(this,qf).getAreaSelection().cellRange&&(e.coords=Ze(this,qf).getAreaSelection().cellRange.to,e.TD=Ze(this,jr).getCell(e.coords)),e}onMouseDown(t){const e=Ze(this,n_).rootDocument.activeElement,n=dz(ipe,t.target),r=t.target;if(!["TD","TH"].includes(e.nodeName)&&(r===e||n(0)===e||n(1)===e))return;const o=this.parentCell(r);yt(r,"corner")?Ze(this,us).getSetting("onCellCornerMouseDown",t,r):o.TD&&Ze(this,us).has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,o.coords,o.TD),(t.button===0||this.touchApplied)&&o.TD&&(Ze(this,Ia)[0]=o.TD,clearTimeout(Ze(this,Oh)[0]),Ze(this,Oh)[0]=setTimeout(()=>{Ze(this,Ia)[0]=null},1e3))}onContextMenu(t){if(Ze(this,us).has("onCellContextMenu")){const e=this.parentCell(t.target);e.TD&&this.callListener("onCellContextMenu",t,e.coords,e.TD)}}onMouseOver(t){if(!Ze(this,us).has("onCellMouseOver"))return;const e=Ze(this,jr).TABLE,n=Y0(t.target,["TD","TH"],e),r=Ze(this,pC)||this;n&&n!==r.lastMouseOver&&Rh(n,e)&&(r.lastMouseOver=n,this.callListener("onCellMouseOver",t,Ze(this,jr).getCoords(n),n))}onMouseOut(t){if(!Ze(this,us).has("onCellMouseOut"))return;const e=Ze(this,jr).TABLE,n=Y0(t.target,["TD","TH"],e),r=Y0(t.relatedTarget,["TD","TH"],e),o=Ze(this,pC)||this;n&&n!==r&&Rh(n,e)&&(this.callListener("onCellMouseOut",t,Ze(this,jr).getCoords(n),n),r===null&&(o.lastMouseOver=null))}onMouseUp(t){const e=this.parentCell(t.target);e.TD&&Ze(this,us).has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,e.coords,e.TD),!(t.button!==0&&!this.touchApplied)&&(e.TD===Ze(this,Ia)[0]&&e.TD===Ze(this,Ia)[1]?(yt(t.target,"corner")?this.callListener("onCellCornerDblClick",t,e.coords,e.TD):this.callListener("onCellDblClick",t,e.coords,e.TD),Ze(this,Ia)[0]=null,Ze(this,Ia)[1]=null):e.TD===Ze(this,Ia)[0]&&(Ze(this,Ia)[1]=e.TD,clearTimeout(Ze(this,Oh)[1]),Ze(this,Oh)[1]=setTimeout(()=>{Ze(this,Ia)[1]=null},500)))}onTouchStart(t){cc(this,lv,Ze(this,qf).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(t)}onTouchEnd(t){var e;const n=t.target,r=(e=this.parentCell(n))===null||e===void 0?void 0:e.coords,o=Fe(r)&&r.row>=0&&r.col>=0;if(t.cancelable&&o&&Ze(this,us).getSetting("isDataViewInstance")){const i=["A","BUTTON","INPUT"];Oz()&&(Lpe()||jpe())&&this.selectedCellWasTouched(n)&&!i.includes(n.tagName)?t.preventDefault():this.selectedCellWasTouched(n)||t.preventDefault()}this.onMouseUp(t),this.touchApplied=!1}callListener(t,e,n,r){const o=Ze(this,us).getSettingPure(t);o&&o(e,n,r,Ze(this,r_).call(this))}destroy(){clearTimeout(Ze(this,Oh)[0]),clearTimeout(Ze(this,Oh)[1]),Ze(this,Us).destroy()}};function o_(t,e,n){return e=Vwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vwe(t){var e=Bwe(t,"string");return typeof e=="symbol"?e:String(e)}function Bwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zwe{constructor(e,n,r){o_(this,"offset",void 0),o_(this,"total",void 0),o_(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function i_(t,e,n){return e=Uwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uwe(t){var e=$we(t,"string");return typeof e=="symbol"?e:String(e)}function $we(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gwe{constructor(e,n,r){i_(this,"offset",void 0),i_(this,"total",void 0),i_(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}const Ywe=0,vC=1,wC=2;function yC(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Kwe(t,"string");return typeof e=="symbol"?e:String(e)}function Kwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C3{constructor(){yC(this,"currentSize",0),yC(this,"nextSize",0),yC(this,"currentOffset",0),yC(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function s_(t,e,n){return e=Xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xwe(t){var e=Qwe(t,"string");return typeof e=="symbol"?e:String(e)}function Qwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jwe{constructor(){s_(this,"size",new C3),s_(this,"workingSpace",Ywe),s_(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof C3}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=vC,e.workingSpace=wC,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=wC,e.workingSpace=vC,this.sharedSize=e.getViewSize()}}function Kf(t,e,n){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=eye(t,"string");return typeof e=="symbol"?e:String(e)}function eye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class S3{constructor(e,n,r){Kf(this,"rootNode",void 0),Kf(this,"nodesPool",void 0),Kf(this,"sizeSet",new Jwe),Kf(this,"childNodeType",void 0),Kf(this,"visualIndex",0),Kf(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=n,this.childNodeType=r.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:n}=this;let r=0;if(this.isSharedViewSet()){let o=e.firstElementChild;for(;o;){if(o.tagName===this.childNodeType)r+=1;else if(n.isPlaceOn(vC))break;o=o.nextElementSibling}}else r=e.childElementCount;return r}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:n}=this,r=this.isSharedViewSet(),{nextSize:o}=n.getViewSize();let i=this.getRenderedChildCount();for(;i<o;){const a=this.nodesPool();!r||r&&n.isPlaceOn(wC)?e.appendChild(a):e.insertBefore(a,e.firstChild),i+=1}const s=r&&n.isPlaceOn(vC);for(;i>o;)e.removeChild(s?e.firstChild:e.lastChild),i-=1}render(){const{rootNode:e,sizeSet:n}=this;let r=this.visualIndex;this.isSharedViewSet()&&n.isPlaceOn(wC)&&(r+=n.sharedSize.nextSize);let o=e.childNodes[r];if(o.tagName!==this.childNodeType){const i=this.nodesPool();e.replaceChild(i,o),o=i}this.collectedNodes.push(o),this.visualIndex+=1}end(){}}class x3 extends S3{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function tye(t,e,n){return e=nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nye(t){var e=rye(t,"string");return typeof e=="symbol"?e:String(e)}function rye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oye{constructor(e){tye(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function uv(t,e,n){return e=iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=sye(t,"string");return typeof e=="symbol"?e:String(e)}function sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cv{constructor(e,n){uv(this,"nodesPool",null),uv(this,"nodeType",void 0),uv(this,"rootNode",void 0),uv(this,"table",null),uv(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new oye(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function R3(t,e,n){return e=aye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aye(t){var e=lye(t,"string");return typeof e=="symbol"?e:String(e)}function lye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uye extends cv{constructor(){super("TH"),R3(this,"orderViews",new WeakMap),R3(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new x3(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:r,rows:o,cells:i}=this.table;for(let s=0;s<e;s++){const a=this.table.renderedRowToSource(s),l=o.getRenderedNode(s);this.sourceRowIndex=a;const u=this.obtainOrderView(l),c=i.obtainOrderView(l);u.appendView(c).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<r;h++){u.render();const d=u.getCurrentNode();d.className="",d.removeAttribute("style"),Wf(d,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&ct(d,[jme(),Gme(),bM(h+1),jf(-1)]),n[h](a,d,h)}u.end()}}}class cye extends cv{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let r=this.rootNode.firstChild;if(e){const{columnsToRender:o}=this.table,i=o+n;for(let a=0,l=e;a<l;a++){for(r=this.rootNode.childNodes[a],r||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<i;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>i;)r.removeChild(r.lastChild),this.renderedNodes-=1}const s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Oa(r)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&ct(this.rootNode,[YB()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:r,columnsToRender:o,rowHeadersCount:i}=this.table,s=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&ct(s,[wM(),QB(n+1)]);for(let a=-1*i;a<o;a+=1){const l=this.table.renderedColumnToSource(a),u=s.childNodes[a+i];u.className="",u.removeAttribute("style"),Wf(u,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&ct(u,[bM(a+1+this.table.rowHeadersCount),jf(-1),Wme(),...a>=0?[$me()]:[wM()]]),r[n](l,u,n)}}}}let E3=!1;class hye extends cv{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,r=e+n;for(;this.renderedNodes<r;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>r;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!E3&&e>1e3&&(E3=!0,vn(un`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let o=0;o<n;o++){const i=this.table.renderedColumnToSource(o),s=this.table.columnUtils.getHeaderWidth(i);this.rootNode.childNodes[o].style.width=`${s}px`}for(let o=0;o<e;o++){const i=this.table.renderedColumnToSource(o),s=this.table.columnUtils.getStretchedColumnWidth(i);this.rootNode.childNodes[o+n].style.width=`${s}px`}const r=this.rootNode.firstChild;r&&ke(r,"rowHeader")}}function dye(t,e,n){return e=fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=gye(t,"string");return typeof e=="symbol"?e:String(e)}function gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let k3=!1;class mye extends cv{constructor(e){super("TR",e),dye(this,"orderView",void 0),this.orderView=new S3(e,n=>this.nodesPool.obtain(n),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!k3&&e>1e3&&(k3=!0,vn(un`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&ct(this.rootNode,[YB()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let o=0;o<e;o++){this.orderView.render();const i=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(o);if(this.table.isAriaEnabled()){var n,r;ct(i,[wM(),QB(s+((n=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}}this.orderView.end()}}function T3(t,e,n){return e=pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pye(t){var e=vye(t,"string");return typeof e=="symbol"?e:String(e)}function vye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wye extends cv{constructor(){super("TD"),T3(this,"orderViews",new WeakMap),T3(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new x3(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:r,rowHeaders:o}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),u=r.getRenderedNode(a);this.sourceRowIndex=l;const c=this.obtainOrderView(u),h=o.obtainOrderView(u);c.prependView(h).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let d=0;d<n;d++){c.render();const g=c.getCurrentNode(),p=this.table.renderedColumnToSource(d);if(yt(g,"hide")||(g.className=""),g.removeAttribute("style"),g.removeAttribute("dir"),Wf(g,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,p,g),this.table.isAriaEnabled()){var i,s;ct(g,[...g.hasAttribute("role")?[]:[Lme()],jf(-1),bM(p+((i=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&i!==void 0?i:0)+1)])}}c.end()}}}function Wr(t,e,n){return e=yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yye(t){var e=bye(t,"string");return typeof e=="symbol"?e:String(e)}function bye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cye{constructor(e){let{cellRenderer:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wr(this,"rootNode",void 0),Wr(this,"rootDocument",void 0),Wr(this,"rowHeaders",null),Wr(this,"columnHeaders",null),Wr(this,"colGroup",null),Wr(this,"rows",null),Wr(this,"cells",null),Wr(this,"rowFilter",null),Wr(this,"columnFilter",null),Wr(this,"rowUtils",null),Wr(this,"columnUtils",null),Wr(this,"rowsToRender",0),Wr(this,"columnsToRender",0),Wr(this,"rowHeaderFunctions",[]),Wr(this,"rowHeadersCount",0),Wr(this,"columnHeaderFunctions",[]),Wr(this,"columnHeadersCount",0),Wr(this,"cellRenderer",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:r,rows:o,cells:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),r.setTable(this),o.setTable(this),i.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=r,this.rows=o,this.cells=i}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let r=0;r<e;r++){const o=n.getRenderedNode(r);if(o.firstChild){const i=this.renderedRowToSource(r),s=this.rowUtils.getHeight(i);s?o.firstChild.style.height=`${s-1}px`:o.firstChild.style.height=""}}}}class Sye{constructor(){let{TABLE:e,THEAD:n,COLGROUP:r,TBODY:o,rowUtils:i,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new Cye(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new uye,columnHeaders:new cye(n),colGroup:new hye(r),rows:new mye(o),cells:new wye}),this.renderer.setAxisUtils(i,s)}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function hv(t,e,n){xye(t,e),e.set(t,n)}function xye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bC(t,e,n){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=Eye(t,"string");return typeof e=="symbol"?e:String(e)}function Eye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(t,e){var n=M3(t,e,"get");return kye(t,n)}function kye(t,e){return e.get?e.get.call(t):e.value}function dv(t,e,n){var r=M3(t,e,"set");return Tye(t,r,n),n}function M3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Tye(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var CC=new WeakMap,Xf=new WeakMap,fv=new WeakMap,SC=new WeakMap,Ah=new WeakMap;class a_{static get DEFAULT_WIDTH(){return 50}constructor(e){let{totalColumns:n,stretchMode:r,stretchingColumnWidthFn:o,columnWidthFn:i}=e;bC(this,"stretchAllRatio",0),bC(this,"stretchLastWidth",0),bC(this,"stretchAllColumnsWidth",[]),hv(this,CC,{writable:!0,value:0}),bC(this,"needVerifyLastColumnWidth",!0),hv(this,Xf,{writable:!0,value:()=>0}),hv(this,fv,{writable:!0,value:s=>s}),hv(this,SC,{writable:!0,value:s=>s}),hv(this,Ah,{writable:!0,value:()=>"none"}),dv(this,Xf,n),dv(this,Ah,r),dv(this,fv,o??mo(this,fv)),dv(this,SC,i??mo(this,SC))}refreshStretching(e){if(mo(this,Ah).call(this)==="none")return;dv(this,CC,e);let n=0;for(let o=0;o<mo(this,Xf).call(this);o++){const i=this._getColumnWidth(o),s=mo(this,fv).call(this,void 0,o);typeof s=="number"?e-=s:n+=i}const r=e-n;if(mo(this,Ah).call(this)==="all"&&r>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(mo(this,Ah).call(this)==="last"&&e!==1/0){const o=this._getColumnWidth(mo(this,Xf).call(this)-1),i=r+o;this.stretchLastWidth=i>=0?i:o}}getStretchedColumnWidth(e,n){let r=null;return mo(this,Ah).call(this)==="all"&&this.stretchAllRatio!==0?r=this._getStretchedAllColumnWidth(e,n):mo(this,Ah).call(this)==="last"&&this.stretchLastWidth!==0&&(r=this._getStretchedLastColumnWidth(e)),r}_getStretchedAllColumnWidth(e,n){let r=0;if(!this.stretchAllColumnsWidth[e]){const o=Math.round(n*this.stretchAllRatio),i=mo(this,fv).call(this,o,e);i===void 0?this.stretchAllColumnsWidth[e]=o:this.stretchAllColumnsWidth[e]=isNaN(i)?this._getColumnWidth(e):i}if(this.stretchAllColumnsWidth.length===mo(this,Xf).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let o=0;o<this.stretchAllColumnsWidth.length;o++)r+=this.stretchAllColumnsWidth[o];r!==mo(this,CC)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=mo(this,CC)-r)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===mo(this,Xf).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let n=mo(this,SC).call(this,e);return isNaN(n)&&(n=a_.DEFAULT_WIDTH),n}}function xC(t,e,n){return e=Mye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mye(t){var e=_ye(t,"string");return typeof e=="symbol"?e:String(e)}function _ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Oye{constructor(e,n){xC(this,"dataAccessObject",void 0),xC(this,"wtSettings",void 0),xC(this,"headerWidths",new Map),xC(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=n,this.stretching=new a_({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(r,o)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",r,o),columnWidthFn:r=>this.dataAccessObject.wtTable.getColumnWidth(r)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let n=this.getWidth(e);const r=this.stretching.getStretchedColumnWidth(e,n);return r&&(n=r),n}getHeaderHeight(e){let n=this.wtSettings.getSetting("defaultRowHeight");const r=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return r!==void 0&&(n=n?Math.max(n,r):r),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:n,cloneSource:r}=this.dataAccessObject,o=r?r.wtTable.holder:e.holder,i=o.offsetHeight<o.scrollHeight?Lr():0;this.stretching.refreshStretching(n.getViewportWidth()-i)}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const r=e.getSetting("rowHeaders").length,o=e.getSetting("defaultColumnWidth");for(let i=0;i<r;i++){let s=Array.isArray(n)?n[i]:n;s=s??o,this.headerWidths.set(i,s)}}}}function _3(t,e,n){return e=Aye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aye(t){var e=Pye(t,"string");return typeof e=="symbol"?e:String(e)}function Pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Iye{constructor(e,n){_3(this,"dataAccessObject",void 0),_3(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}}function Na(t,e,n){return e=Nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Hye(t,"string");return typeof e=="symbol"?e:String(e)}function Hye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qf{constructor(e,n,r,o,i){Na(this,"wtSettings",null),Na(this,"domBindings",void 0),Na(this,"TBODY",null),Na(this,"THEAD",null),Na(this,"COLGROUP",null),Na(this,"hasTableHeight",!0),Na(this,"hasTableWidth",!0),Na(this,"isTableVisible",!1),Na(this,"tableOffset",0),Na(this,"holderOffset",0),this.domBindings=r,this.isMaster=i==="master",this.name=i,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=o,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,nz(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new Iye(this.dataAccessObject,this.wtSettings),this.columnUtils=new Oye(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Sye({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",this.wtSettings.getSetting("ariaTags")&&ct(r,[_a()]),r}createHider(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,e),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&ct(r,[_a()]),r}createHolder(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!yt(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.style.position="relative",r.className="wtHolder",n&&n.insertBefore(r,e),this.isMaster&&(r.parentNode.className+="ht_master handsontable",r.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&ct(r.parentNode,[_a()])),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&ct(r,[_a()]),r}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:r,wtViewport:o}=this.dataAccessObject,i=n.getSetting("totalRows"),s=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),l=a.length,u=n.getSetting("columnHeaders"),c=u.length;let h=!1,d=e;if(this.isMaster&&(this.holderOffset=Dr(this.holder),d=o.createRenderCalculators(d),l&&!n.getSetting("fixedColumnsStart"))){const p=r.inlineStartOverlay.getScrollPosition(),w=this.correctHeaderWidth;this.correctHeaderWidth=p!==0,w!==this.correctHeaderWidth&&(d=!1)}if(this.isMaster&&(h=r.updateStateOfRendering()),d)this.isMaster&&o.createVisibleCalculators(),r&&r.refresh(!0);else{this.isMaster?this.tableOffset=Dr(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const p=i>0?this.getFirstRenderedRow():0,w=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new Gwe(p,i,c),this.columnFilter=new zwe(w,s,l);let C=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const v={};this.wtSettings.getSetting("beforeDraw",!0,v),C=v.skipRender!==!0}if(C){this.tableRenderer.setHeaderContentRenderers(a,u),(this.is(Ha)||this.is(hc))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let v;if(this.isMaster&&(v=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Ha))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();const y=pn(this.hider),x=pn(this.TABLE);y!==0&&x!==y&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),v!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Ha)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let g=!1;return this.isMaster&&(g=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(g=r.bottomOverlay.resetFixedPosition()||g),g=r.inlineStartOverlay.resetFixedPosition()||g,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),g?(r.refreshAll(),r.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(d),h&&r.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let r=this.wtSettings.getSetting("columnHeaders").length;const o=this.wtSettings.getSetting("defaultRowHeight");let i,s,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;r;)r-=1,i=this.getColumnHeaderHeight(r),s=this.getColumnHeader(n,r),s&&(a=Bf(s),(!i&&o<a||i<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(l)?l[r]!==null&&l[r]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]<(l[r]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,r=this.dataAccessObject.wtViewport.oversizedColumnHeaders,o=e.getSetting("columnHeaders");for(let i=0,s=o.length;i<s;i++)if(r[i]){if(!n[i]||n[i].childNodes.length===0)return;n[i].childNodes[0].style.height=`${r[i]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(Ha))&&!e.getSetting("externalRowCalculator")){const r=this.getRenderedRowsCount();for(let o=0;o<r;o++){const i=this.rowFilter.renderedToSource(o);n.oversizedRows&&n.oversizedRows[i]&&(n.oversizedRows[i]=void 0)}}}getCell(e){let n=e.row,r=e.col;const o=this.wtSettings.getSetting("onModifyGetCellCoords",n,r);if(o&&Array.isArray(o)&&([n,r]=o),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(r))return-3;if(this.isColumnAfterRenderedColumns(r))return-4;const i=this.getRow(n);if(!i&&n>=0)throw new Error("TR was expected to be rendered but is not");const s=i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)];if(!s&&r>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let n=null,r=null;if(e<0){var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceRowToVisibleColHeadedRow(e),r=this.THEAD}else{var i;n=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceToRendered(e),r=this.TBODY}return n!==void 0&&r!==void 0?r.childNodes.length<n+1?!1:r.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.THEAD.childNodes[n];return r==null?void 0:r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],r=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(o=>{const i=o.childNodes[r];i&&n.push(i)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.wtSettings.getSetting("rowHeaders").length;if(n>=r)return;const o=this.rowFilter.sourceToRendered(e),i=o<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):o,s=(o<0?this.THEAD:this.TBODY).childNodes[i];return s==null?void 0:s.childNodes[n]}getRowHeaders(e){const n=[],r=this.wtSettings.getSetting("rowHeaders").length;for(let o=0;o<r;o++){const i=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=i==null?void 0:i.childNodes[o];s&&n.push(s)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=xh(n,["TD","TH"])),n===null)return null;const r=n.parentNode,o=r.parentNode;let i=lpe(r),s=n.cellIndex;return Eh(Nh,n,this.wtRootElement)||Eh(Ph,n,this.wtRootElement)?o.nodeName==="THEAD"&&(i-=o.childNodes.length):Eh(hc,n,this.wtRootElement)||Eh(Ha,n,this.wtRootElement)?i=this.wtSettings.getSetting("totalRows")-o.childNodes.length+i:o===this.THEAD?i=this.rowFilter.visibleColHeadedRowToSourceRow(i):i=this.rowFilter.renderedToSource(i),Eh(Nh,n,this.wtRootElement)||Eh(Ih,n,this.wtRootElement)||Eh(hc,n,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(i,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.wtSettings.getSetting("defaultRowHeight"),r=Bf(this.TBODY)-1;let o,i,s,a,l;if(!(n===r&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,s=this.rowFilter.renderedToSource(e),o=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?i=Bf(l):i=Bf(a)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<i||o<i)&&(i+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=i)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=n}isRowHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=n}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return pn(this.TABLE)}getHeight(){return Kn(this.TABLE)}getTotalWidth(){const e=pn(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=Kn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return Th(this.TABLE)}_modifyRowHeaderWidth(e){let n=Mn(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const Dye="stickyRowsBottom",O3={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return t===0||e===0?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};jl(O3,"MIXIN_NAME",Dye,{writable:!1,enumerable:!1});const A3=O3,Lye="stickyColumnsStart",P3={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};jl(P3,"MIXIN_NAME",Lye,{writable:!1,enumerable:!1});const l_=P3;class u_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,hc)}}bn(u_,A3),bn(u_,l_);const Ph="top",Ha="bottom",Ih="inline_start",Nh="top_inline_start_corner",hc="bottom_inline_start_corner",jye=[Ph,Ha,Ih,Nh,hc],Wye=new Map([[Ph,`ht_clone_${Ph}`],[Ha,`ht_clone_${Ha}`],[Ih,`ht_clone_${Ih} ht_clone_left`],[Nh,`ht_clone_${Nh} ht_clone_top_left_corner`],[hc,`ht_clone_${hc} ht_clone_bottom_left_corner`]]);function c_(t,e,n){return e=Fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fye(t){var e=Vye(t,"string");return typeof e=="symbol"?e:String(e)}function Vye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bye{constructor(e){c_(this,"dataAccessObject",void 0),c_(this,"lastScrolledColumnPos",-1),c_(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}scrollViewport(e,n,r,o,i){const s=this.scrollViewportHorizontally(e.col,r,i),a=this.scrollViewportVertically(e.row,n,o);return s||a}scrollViewportHorizontally(e,n,r){const{drawn:o,totalColumns:i}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>i)return!1;const s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn(),l=n===void 0&&r===void 0,{fixedColumnsStart:u,inlineStartOverlay:c}=this.dataAccessObject;if(l&&e<u)return!1;let h=!1;return e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),s===-1?h=c.scrollTo(e,l?e>this.lastScrolledColumnPos:n):(l&&(e<s||e>a)||!l)&&(h=c.scrollTo(e,l?e>a:n)),h&&(this.lastScrolledColumnPos=e),h}scrollViewportVertically(e,n,r){const{drawn:o,totalRows:i}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>i)return!1;const s=this.getFirstVisibleRow(),a=this.getLastVisibleRow(),l=n===void 0&&r===void 0,{fixedRowsBottom:u,fixedRowsTop:c,topOverlay:h}=this.dataAccessObject;if(l&&(e<c||e>i-u-1))return!1;let d=!1;return e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),s===-1?d=h.scrollTo(e,l?e>this.lastScrolledRowPos:r):(l&&(e<s||e>a)||!l)&&(d=h.scrollTo(e,l?e>a:r)),d&&(this.lastScrolledRowPos=e),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){const{topOverlay:e,wtTable:n,wtViewport:r,totalRows:o,rootWindow:i}=this.dataAccessObject;let s=n.getLastVisibleRow();if(e.mainTableScrollableElement===i){const a=Dr(n.wtRootElement),l=xM(i,i);if(a.top>l){const u=Bf(i);let c=r.getColumnHeaderHeight();for(let h=1;h<=o;h++)if(c+=e.sumCellSizes(h-1,h),a.top+c-l>=u){s=h-2;break}}}return s}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){const{wtSettings:e,inlineStartOverlay:n,wtTable:r,wtViewport:o,totalColumns:i,rootWindow:s}=this.dataAccessObject;let a=r.getLastVisibleColumn();if(n.mainTableScrollableElement===s){const l=e.getSetting("rtlMode");let u=null;if(l){const h=r.TABLE.getBoundingClientRect(),d=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;u=Math.abs(h.right-d)}else u=Dr(r.wtRootElement).left;const c=Math.abs(oz(s,s));if(u>c){const h=iz(s);let d=o.getRowHeaderWidth();for(let g=1;g<=i;g++)if(d+=n.sumCellSizes(g-1,g),u+d-c>=h){a=g-2;break}}}return a}}function $s(t,e,n){return e=zye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zye(t){var e=Uye(t,"string");return typeof e=="symbol"?e:String(e)}function Uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class h_{get eventManager(){return new zs(this)}constructor(e,n){$s(this,"wtTable",void 0),$s(this,"wtScroll",void 0),$s(this,"wtViewport",void 0),$s(this,"wtOverlays",void 0),$s(this,"selectionManager",void 0),$s(this,"wtEvent",void 0),$s(this,"guid",`wt_${zB()}`),$s(this,"drawInterrupted",!1),$s(this,"drawn",!1),$s(this,"domBindings",void 0),$s(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new Bye(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;n<r;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,r){kh(r,e[n])}])}}createCellCoords(e,n){return new mC(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,r){return new t_(e,n,r,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,!e&&!this.wtTable.isVisible()?this.drawInterrupted=!0:this.wtTable.draw(e),this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0&&arguments[1]))return this.wtTable.getCell(e);const n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),i=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<r&&e.col<i)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<i&&e.row>=n-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<i)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,r,o,i){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return e<0?!1:this.wtScroll.scrollViewportVertically(e,n,r)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function I3(t,e,n){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ye(t){var e=Gye(t,"string");return typeof e=="symbol"?e:String(e)}function Gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Yye extends h_{constructor(e,n,r){super(e,n),I3(this,"cloneSource",void 0),I3(this,"cloneOverlay",void 0);const o=this.wtSettings.getSetting("facade",this);this.cloneSource=r.source,this.cloneOverlay=r.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),o,this.domBindings,this.wtSettings),this.wtViewport=r.viewport,this.selectionManager=r.selectionManager,this.wtEvent=new b3(o,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,r.event),this.findOriginalHeaders()}}function qye(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Xye(t,"string");return typeof e=="symbol"?e:String(e)}function Xye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gv{constructor(e,n,r,o,i){qye(this,"wtSettings",null),jl(this,"wot",e,{writable:!1}),this.domBindings=i,this.facadeGetter=n,this.wtSettings=o;const{TABLE:s,hider:a,spreader:l,holder:u,wtRootElement:c}=this.wot.wtTable;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=u,this.wtRootElement=c,this.trimmingContainer=Vf(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}updateStateOfRendering(){const e=this.needFullRender;this.needFullRender=this.shouldBeRendered();const n=e!==this.needFullRender;return n&&!this.needFullRender&&this.reset(),n}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Vf(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=q0(e.TABLE)}getRelativeCellPosition(e,n,r){if(this.clone.wtTable.holder.contains(e)===!1){vn(`The provided element is not a child of the ${this.type} overlay`);return}const o=this.mainTableScrollableElement===this.domBindings.rootWindow,i=r<this.wtSettings.getSetting("fixedColumnsStart"),s=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,u={start:this.getRelativeStartPosition(l),top:l.offsetTop},c={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return o?h=this.getRelativeCellPositionWithinWindow(s,i,c,u):h=this.getRelativeCellPositionWithinHolder(s,a,i,c,u),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,r,o){const i=this.wot.wtTable.wtRootElement.getBoundingClientRect();let s=0,a=0;if(!n)s=o.start;else{let l=i.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(i.left+i.width+Lr())),s=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-i.top:a=o.top,{start:r.start+s,top:r.top+a}}getRelativeCellPositionWithinHolder(e,n,r,o,i){const s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(r||(a=s.horizontal-i.start),n){const u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+u.top}else e||(l=s.vertical-i.top);return{start:o.start-a,top:o.top-l}}makeClone(){if(jye.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:r,rootWindow:o}=this.domBindings,i=r.createElement("div"),s=r.createElement("table"),a=e.wtRootElement.parentNode;i.className=`${Wye.get(this.type)} handsontable`,i.setAttribute("dir",this.isRtl()?"rtl":"ltr"),i.style.position="absolute",i.style.top=0,i.style.overflow="visible",this.isRtl()?i.style.right=0:i.style.left=0,n.getSetting("ariaTags")&&ct(i,[_a()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),i.appendChild(s),a.appendChild(i);const l=this.wtSettings.getSetting("preventOverflow");return l===!0||l==="horizontal"&&this.type===Ph||l==="vertical"&&this.type===Ih?this.mainTableScrollableElement=o:o.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=q0(e.TABLE),new Yye(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.shouldBeRendered();this.clone&&(this.needFullRender||n)&&this.clone.draw(e),this.needFullRender=n}reset(){if(!this.clone)return;const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=e.style,o=n.style,i=e.parentNode.style;F([r,o,i],s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class Qye extends gv{constructor(e,n,r,o,i,s){super(e,n,hc,r,o),this.bottomOverlay=i,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new u_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${i}px`,n.style.bottom=`${s}px`}else X0(n),this.repositionOverlay();let r=Kn(this.clone.wtTable.TABLE);const o=pn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),n.style.height=`${r}px`,n.style.width=`${o}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let i=0;n.hasVerticalScroll()||(i+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(i+=Lr(r)),o.style.bottom=`${i}px`}}const Jye="calculatedColumns",N3={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};jl(N3,"MIXIN_NAME",Jye,{writable:!1,enumerable:!1});const d_=N3;class f_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,Ha)}}bn(f_,A3),bn(f_,d_);function Zye(t,e,n){return e=ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return typeof e=="symbol"?e:String(e)}function tbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nbe extends gv{constructor(e,n,r,o){super(e,n,Ha,r,o),Zye(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new f_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let r=0;const o=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!o||o!=="vertical")?(r=this.getOverlayOffset(),n.style.bottom=`${r}px`):(r=this.getScrollPosition(),this.repositionOverlay());const i=this.adjustHeaderBordersPosition(r);return this.adjustElementsSize(),i}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let i=0;n.hasVerticalScroll()||(i+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(i+=Lr(r)),o.style.bottom=`${i}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.mainTableScrollableElement===n?(n.scrollTo(SM(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:r,wtSettings:o}=this.wot,i=o.getSetting("defaultRowHeight");let s=e,a=0;for(;s<n;){const l=r.getRowHeight(s);a+=l===void 0?i:l,s+=1}return a}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:o}=this.domBindings,i=Lr(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==o||a==="horizontal"){let u=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(u-=i),u=Math.min(u,e.wtRootElement.scrollWidth),s.width=`${u}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Kn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let i=0;n&&o.offsetHeight!==o.clientHeight&&(i=Lr(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight(),r+=1):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),r+=i,this.setScrollPosition(r)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return xM(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),i=this.clone.wtTable.getTotalHeight(),s=o-i,a=this.domBindings.rootDocument.documentElement.clientHeight;r=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+o,0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),r=this.cachedFixedRowsBottom!==n,o=this.wtSettings.getSetting("columnHeaders");let i=!1;if((r||n===0)&&o.length>0){const s=this.wot.wtTable.holder.parentNode,a=yt(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(ke(s,"innerBorderBottom"),i=!a):(Rt(s,"innerBorderBottom"),i=a)}return i}}const rbe="calculatedRows",H3={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};jl(H3,"MIXIN_NAME",rbe,{writable:!1,enumerable:!1});const D3=H3;class g_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,Ih)}}bn(g_,D3),bn(g_,l_);const obe="localHooks",L3={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,r,o,i,s){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)TM(this._localHooks[t][l],this,e,n,r,o,i,s)}},clearLocalHooks(){return this._localHooks={},this}};jl(L3,"MIXIN_NAME",obe,{writable:!1,enumerable:!1});const ei=L3;let j3=class{constructor(t,e){this.settings=t,this.cellRange=e||null}isEmpty(){return this.cellRange===null}add(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}replace(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const t=this.cellRange.getOuterTopStartCorner(),e=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,e.row,e.col]}destroy(){this.runLocalHooks("destroy")}};bn(j3,ei);const W3="active-header",m_="header",p_="area",v_="focus",ibe="fill",sbe="row",abe="column",lbe="custom-selection",w_=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var ube=d3;ube("flat");function cbe(t,e){V3(t,e),e.add(t)}function F3(t,e,n){V3(t,e),e.set(t,n)}function V3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y_(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function gr(t,e){var n=z3(t,e,"get");return hbe(t,n)}function hbe(t,e){return e.get?e.get.call(t):e.value}function B3(t,e,n){var r=z3(t,e,"set");return dbe(t,r,n),n}function z3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function dbe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Gs=new WeakMap,ti=new WeakMap,RC=new WeakSet;class fbe{constructor(){cbe(this,RC),F3(this,Gs,{writable:!0,value:void 0}),F3(this,ti,{writable:!0,value:void 0})}setActiveOverlay(e){return B3(this,ti,e),this}setActiveSelection(e){return B3(this,Gs,e),this}scan(){const e=gr(this,Gs).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="area"?this.scanCellsRange(r=>n.add(r)):e==="focus"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r)),this.scanCellsRange(r=>n.add(r))):e==="fill"?this.scanCellsRange(r=>n.add(r)):e==="header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="row"?(this.scanRowsInHeadersRange(r=>n.add(r)),this.scanRowsInCellsRange(r=>n.add(r))):e==="column"&&(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanColumnsInCellsRange(r=>n.add(r))),n}scanColumnsInHeadersRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount();let u=0;for(let c=-s.getRowHeadersCount();c<a;c++){const h=s.columnFilter.renderedToSource(c);if(!(h<r||h>i)){for(let d=-l;d<0;d++){if(d<n||d>o)continue;const g=d+l;let p=s.getColumnHeader(h,g);const w=gr(this,ti).getSetting("onBeforeHighlightingColumnHeader",h,g,{selectionType:gr(this,Gs).settings.selectionType,columnCursor:u,selectionWidth:i-r+1});w!==null&&(w!==h&&(p=s.getColumnHeader(w,g)),e(p))}u+=1}}}scanRowsInHeadersRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount();let u=0;for(let c=-s.getColumnHeadersCount();c<a;c++){const h=s.rowFilter.renderedToSource(c);if(!(h<n||h>o)){for(let d=-l;d<0;d++){if(d<r||d>i)continue;const g=d+l;let p=s.getRowHeader(h,g);const w=gr(this,ti).getSetting("onBeforeHighlightingRowHeader",h,g,{selectionType:gr(this,Gs).settings.selectionType,rowCursor:u,selectionHeight:o-n+1});w!==null&&(w!==h&&(p=s.getRowHeader(w,g)),e(p))}u+=1}}}scanCellsRange(e){const[n,r,o,i]=gr(this,Gs).getCorners(),{wtTable:s}=gr(this,ti);y_(this,RC,b_).call(this,(a,l)=>{if(a>=n&&a<=o&&l>=r&&l<=i){const u=s.getCell(gr(this,ti).createCellCoords(a,l)),c=gr(this,ti).getSetting("onAfterDrawSelection",a,l,gr(this,Gs).settings.layerLevel);typeof c=="string"&&ke(u,c),e(u)}})}scanRowsInCellsRange(e){const[n,,r]=gr(this,Gs).getCorners(),{wtTable:o}=gr(this,ti);y_(this,RC,b_).call(this,(i,s)=>{if(i>=n&&i<=r){const a=o.getCell(gr(this,ti).createCellCoords(i,s));e(a)}})}scanColumnsInCellsRange(e){const[,n,,r]=gr(this,Gs).getCorners(),{wtTable:o}=gr(this,ti);y_(this,RC,b_).call(this,(i,s)=>{if(s>=n&&s<=r){const a=o.getCell(gr(this,ti).createCellCoords(i,s));e(a)}})}}function b_(t){const{wtTable:e}=gr(this,ti),n=e.getRenderedRowsCount(),r=e.getRenderedColumnsCount();for(let o=0;o<n;o+=1){const i=e.rowFilter.renderedToSource(o);for(let s=0;s<r;s+=1)t(i,e.columnFilter.renderedToSource(s))}}class U3{constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=w_,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,r=this.main.childNodes.length;n<r;n++){const o=this.main.childNodes[n];this.eventManager.addEventListener(o,"mouseenter",i=>this.onMouseEnter(i,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),Vs(e);const r=this,o=this.wot.rootDocument.body,i=n.getBoundingClientRect();n.style.display="none";function s(l){if(l.clientY<Math.floor(i.top)||l.clientY>Math.ceil(i.top+i.height)||l.clientX<Math.floor(i.left)||l.clientX>Math.ceil(i.left+i.width))return!0}function a(l){s(l)&&(r.eventManager.removeEventListener(o,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(o,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const r=["top","start","bottom","end","corner"];let o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(let a=0;a<5;a++){const l=r[a],u=n.createElement("div");u.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(u.className+=" hidden"),o=u.style,o.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,o.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,o.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),ic()&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:i}=this.wot;let s=i.bordersHolder;s||(s=n.createElement("div"),s.className="htBorders",i.bordersHolder=s,i.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const n=10,r=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const o={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`};It(o,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});const i={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};It(i,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const r=this.wot.selectionManager.getAreaSelection();return!!(r.cellRange&&(e!==r.cellRange.to.row||n!==r.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,r,o,i,s){const a=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:l,topHitArea:u,bottom:c,bottomHitArea:h}=this.selectionHandles.styles,d=parseInt(l.borderWidth,10),g=parseInt(l.width,10),p=parseInt(u.width,10),w=this.wot.wtTable.getWidth(),C=this.wot.wtTable.getHeight();l.top=`${parseInt(r-g-1,10)}px`,l[a]=`${parseInt(o-g-1,10)}px`,u.top=`${parseInt(r-p/4*3,10)}px`,u[a]=`${parseInt(o-p/4*3,10)}px`;const v=Math.min(parseInt(o+i,10),w-g-d*2),y=Math.min(parseInt(o+i-p/4,10),w-p-d*2);c[a]=`${v}px`,h[a]=`${y}px`;const x=Math.min(parseInt(r+s,10),C-g-d*2),M=Math.min(parseInt(r+s-p/4,10),C-p-d*2);c.top=`${x}px`,h.top=`${M}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(l.display="block",u.display="block",this.isPartRange(e,n)?(c.display="none",h.display="none"):(c.display="block",h.display="block")):(l.display="none",c.display="none",u.display="none",h.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(l.zIndex="9999",u.zIndex="9999"):(l.zIndex="",u.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:n,rootDocument:r,rootWindow:o}=this.wot;let i,s,a,l,u,c;const h=n.getRenderedRowsCount();for(let ne=0;ne<h;ne+=1){const S=n.rowFilter.renderedToSource(ne);if(S>=e[0]&&S<=e[2]){i=S,u=e[0];break}}for(let ne=h-1;ne>=0;ne-=1){const S=n.rowFilter.renderedToSource(ne);if(S>=e[0]&&S<=e[2]){s=S;break}}const d=n.getRenderedColumnsCount();for(let ne=0;ne<d;ne+=1){const S=n.columnFilter.renderedToSource(ne);if(S>=e[1]&&S<=e[3]){a=S,c=e[1];break}}for(let ne=d-1;ne>=0;ne-=1){const S=n.columnFilter.renderedToSource(ne);if(S>=e[1]&&S<=e[3]){l=S;break}}if(i===void 0||a===void 0){this.disappear();return}let g=n.getCell(this.wot.createCellCoords(i,a));const p=i!==s||a!==l,w=p?n.getCell(this.wot.createCellCoords(s,l)):g,C=Dr(g),v=p?Dr(w):C,y=Dr(n.TABLE),x=pn(n.TABLE),M=C.top,_=C.left,T=this.wot.wtSettings.getSetting("rtlMode");let O=0,I=0;if(T){const ne=pn(g),S=o.innerWidth-y.left-x;I=_+ne-v.left,O=o.innerWidth-_-ne-S-1}else I=v.left+pn(w)-_,O=_-y.left-1;if(this.isEntireColumnSelected(i,s)){const ne=this.getDimensionsFromHeader("columns",a,l,u,y);let S=null;ne&&([S,O,I]=ne),S&&(g=S)}let N=M-y.top-1,L=v.top+Kn(w)-M;if(this.isEntireRowSelected(a,l)){const ne=this.getDimensionsFromHeader("rows",i,s,c,y);let S=null;ne&&([S,N,L]=ne),S&&(g=S)}const B=tc(g,o);parseInt(B.borderTopWidth,10)>0&&(N+=1,L=L>0?L-1:0),parseInt(B[T?"borderRightWidth":"borderLeftWidth"],10)>0&&(O+=1,I=I>0?I-1:0);const ae=T?"right":"left";this.topStyle.top=`${N}px`,this.topStyle[ae]=`${O}px`,this.topStyle.width=`${I}px`,this.topStyle.display="block",this.startStyle.top=`${N}px`,this.startStyle[ae]=`${O}px`,this.startStyle.height=`${L}px`,this.startStyle.display="block";const U=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${N+L-U}px`,this.bottomStyle[ae]=`${O}px`,this.bottomStyle.width=`${I}px`,this.bottomStyle.display="block",this.endStyle.top=`${N}px`,this.endStyle[ae]=`${O+I-U}px`,this.endStyle.height=`${L+1}px`,this.endStyle.display="block";let ce=this.settings.border.cornerVisible;ce=typeof ce=="function"?ce(this.settings.layerLevel):ce;const ve=this.wot.getSetting("onModifyGetCellCoords",s,l);let[Me,Ce]=[s,l];if(ve&&Array.isArray(ve)&&([,,Me,Ce]=ve),ic()||!ce||this.isPartRange(Me,Ce))this.cornerStyle.display="none";else{this.cornerStyle.top=`${N+L+this.cornerCenterPointOffset-1}px`,this.cornerStyle[ae]=`${O+I+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let ne=Vf(n.TABLE);const S=ne===o;S&&(ne=r.documentElement);const R=parseInt(this.cornerDefaultStyle.width,10)/2,k=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){const D=S?w.getBoundingClientRect().left:w.offsetLeft;let W=!1,V=0;T?(V=D-parseInt(this.cornerDefaultStyle.width,10)/2,W=V<0):(V=D+pn(w)+parseInt(this.cornerDefaultStyle.width,10)/2,W=V>=iz(ne)),W&&(this.cornerStyle[ae]=`${Math.floor(O+I+this.cornerCenterPointOffset-R)}px`,this.cornerStyle[T?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(S?w.getBoundingClientRect().top:w.offsetTop)+Kn(w)+parseInt(this.cornerDefaultStyle.height,10)/2>=Bf(ne)&&(this.cornerStyle.top=`${Math.floor(N+L+this.cornerCenterPointOffset-k)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}ic()&&this.updateMultipleSelectionHandlesPosition(s,l,N,O,I,L)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,r,o,i){const{wtTable:s}=this.wot,a=s.wtRootElement.parentNode;let l=null,u=null,c=null,h=null,d=null,g=null,p=null,w=null;switch(e){case"rows":l=function(){return s.getRowHeader(...arguments)},u=function(){return Kn(...arguments)},c="ht__selection--rows",g="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},u=function(){return pn(...arguments)},c="ht__selection--columns",g="left";break}if(a.classList.contains(c)){const C=this.wot.getSetting("columnHeaders").length;if(p=l(n,C-o),w=l(r,C-o),!p||!w)return!1;const v=Dr(p),y=Dr(w);return p&&w&&(h=v[g]-i[g]-1,d=y[g]+u(w)-v[g]),[p,h,d]}return!1}changeBorderStyle(e,n){const r=this[e].style,o=n[e];!o||o.hide?ke(this[e],"hidden"):(yt(this[e],"hidden")&&Rt(this[e],"hidden"),r.backgroundColor=o.color,(e==="top"||e==="bottom")&&(r.height=`${o.width}px`),(e==="start"||e==="end")&&(r.width=`${o.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},r=this[e].style;r.backgroundColor=n.color,r.width=`${n.width}px`,r.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?ke(this[e],"hidden"):Rt(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",ic()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function gbe(t,e){$3(t,e),e.add(t)}function Jf(t,e,n){$3(t,e),e.set(t,n)}function $3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mbe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Lt(t,e){var n=Y3(t,e,"get");return pbe(t,n)}function pbe(t,e){return e.get?e.get.call(t):e.value}function G3(t,e,n){var r=Y3(t,e,"set");return vbe(t,r,n),n}function Y3(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function vbe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var po=new WeakMap,ni=new WeakMap,C_=new WeakMap,mv=new WeakMap,S_=new WeakMap,Hh=new WeakMap,q3=new WeakSet;class wbe{constructor(e){gbe(this,q3),Jf(this,po,{writable:!0,value:void 0}),Jf(this,ni,{writable:!0,value:void 0}),Jf(this,C_,{writable:!0,value:new fbe}),Jf(this,mv,{writable:!0,value:new WeakMap}),Jf(this,S_,{writable:!0,value:new WeakSet}),Jf(this,Hh,{writable:!0,value:new Map}),G3(this,ni,e)}setActiveOverlay(e){return G3(this,po,e),Lt(this,C_).setActiveOverlay(Lt(this,po)),Lt(this,mv).has(Lt(this,po))||Lt(this,mv).set(Lt(this,po),new Set),this}getFocusSelection(){return Lt(this,ni)!==null?Lt(this,ni).getFocus():null}getAreaSelection(){return Lt(this,ni)!==null?Lt(this,ni).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(Lt(this,Hh).has(e)){const r=Lt(this,Hh).get(e);if(r.has(Lt(this,po)))return r.get(Lt(this,po));const o=new U3(Lt(this,po),e.settings);return r.set(Lt(this,po),o),o}const n=new U3(Lt(this,po),e.settings);return Lt(this,Hh).set(e,new Map([[Lt(this,po),n]])),n}getBorderInstances(e){var n,r;return Array.from((n=(r=Lt(this,Hh).get(e))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:[])}destroyBorders(e){Lt(this,Hh).get(e).forEach(n=>n.destroy()),Lt(this,Hh).delete(e)}render(e){if(Lt(this,ni)===null)return;e&&mbe(this,q3,ybe).call(this);const n=Array.from(Lt(this,ni)),r=new Map,o=new Map;for(let i=0;i<n.length;i++){const s=n[i],{className:a,headerAttributes:l,createLayers:u,selectionType:c}=s.settings;Lt(this,S_).has(s)||(Lt(this,S_).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));const h=this.getBorderInstance(s);if(s.isEmpty()){h==null||h.disappear();continue}a&&Lt(this,C_).setActiveSelection(s).scan().forEach(g=>{if(r.has(g)){const p=r.get(g);p.has(a)&&u===!0?p.set(a,p.get(a)+1):p.set(a,1)}else r.set(g,new Map([[a,1]]));l&&(o.has(g)||o.set(g,[]),g.nodeName==="TH"&&o.get(g).push(...l))});const d=s.getCorners();Lt(this,po).getSetting("onBeforeDrawBorders",d,c),h==null||h.appear(d)}r.forEach((i,s)=>{var a;const l=Array.from(i).map(u=>{let[c,h]=u;return h===1?c:[c,...Array.from({length:h-1},(d,g)=>`${c}-${g+1}`)]}).flat();l.forEach(u=>Lt(this,mv).get(Lt(this,po)).add(u)),ke(s,l),s.nodeName==="TD"&&Array.isArray((a=Lt(this,ni).options)===null||a===void 0?void 0:a.cellAttributes)&&ct(s,Lt(this,ni).options.cellAttributes)}),Array.from(o.keys()).forEach(i=>{ct(i,[...o.get(i)])})}}function ybe(){const t=Lt(this,mv).get(Lt(this,po)),e=Lt(this,po).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var r,o;const i=Lt(this,po).wtTable.TABLE.querySelectorAll(`.${n}`);let s=[];Array.isArray((r=Lt(this,ni).options)===null||r===void 0?void 0:r.cellAttributes)&&(s=Lt(this,ni).options.cellAttributes.map(a=>a[0])),Array.isArray((o=Lt(this,ni).options)===null||o===void 0?void 0:o.headerAttributes)&&(s=[...s,...Lt(this,ni).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=i.length;a<l;a++)Rt(i[a],n),Wf(i[a],s)}),t.clear()}class bbe extends gv{constructor(e,n,r,o){super(e,n,Ih,r,o)}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new g_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,o=this.wtSettings.getSetting("preventOverflow");let i=0;this.trimmingContainer===n&&(!o||o!=="horizontal")?(i=this.getOverlayOffset()*(this.isRtl()?-1:1),EM(r,`${i}px`,"0px")):(i=this.getScrollPosition(),X0(r));const s=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===n&&n.scrollX!==e?(n.scrollTo(e,rz(n)),r=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultColumnWidth");let o=e,i=0;for(;o<n;)i+=this.wot.wtTable.getStretchedColumnWidth(o)||r,o+=1;return i}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=Lr(n),i=this.clone.wtTable.holder.parentNode.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||s==="vertical"){let l=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(l-=o),l=Math.min(l,e.wtRootElement.scrollHeight),i.height=`${l}px`}else i.height="";this.clone.wtTable.holder.style.height=i.height;const a=pn(this.clone.wtTable.TABLE);i.width=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(w_.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let i=0;if(n){const s=this.wot.wtTable.getColumnWidth(e),a=this.wot.wtViewport.getViewportWidth();s>a&&(n=!1)}return n&&o.offsetWidth!==o.clientWidth&&(i=Lr(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportWidth()):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),r+=i,this.setScrollPosition(r)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(oz(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?r=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const o=this.wot.wtTable.getTotalWidth(),i=this.clone.wtTable.getTotalWidth(),s=o-i;r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wot.wtTable.holder.parentNode,r=this.wtSettings.getSetting("rowHeaders"),o=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Rt(n,"emptyRows"):ke(n,"emptyRows");let i=!1;if(o&&!r.length)ke(n,"innerBorderLeft innerBorderInlineStart");else if(!o&&r.length){const s=yt(n,"innerBorderInlineStart");e?(ke(n,"innerBorderLeft innerBorderInlineStart"),i=!s):(Rt(n,"innerBorderLeft innerBorderInlineStart"),i=s)}return i}}const Cbe="stickyRowsTop",K3={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};jl(K3,"MIXIN_NAME",Cbe,{writable:!1,enumerable:!1});const X3=K3;class x_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,Nh)}}bn(x_,X3),bn(x_,l_);function Q3(t,e,n){return e=Sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sbe(t){var e=xbe(t,"string");return typeof e=="symbol"?e:String(e)}function xbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rbe extends gv{constructor(e,n,r,o,i,s){super(e,n,Nh,r,o),Q3(this,"topOverlay",void 0),Q3(this,"inlineStartOverlay",void 0),this.topOverlay=i,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new x_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),i=this.topOverlay.getOverlayOffset();EM(e,`${o}px`,`${i}px`)}else X0(e);let n=Kn(this.clone.wtTable.TABLE);const r=pn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${r}px`,!1}}class R_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,Ph)}}bn(R_,X3),bn(R_,d_);function Ebe(t,e,n){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=Tbe(t,"string");return typeof e=="symbol"?e:String(e)}function Tbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Mbe extends gv{constructor(e,n,r,o){super(e,n,Ph,r,o),Ebe(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new R_(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let o=0,i=!1;if(this.trimmingContainer===n&&(!r||r!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),u=Math.ceil(l.bottom),c=e.offsetHeight;i=u===c,o=this.getOverlayOffset(),EM(e,"0px",`${o}px`)}else o=this.getScrollPosition(),X0(e);const s=this.adjustHeaderBordersPosition(o,i);return this.adjustElementsSize(),s}setScrollPosition(e){const n=this.domBindings.rootWindow;let r=!1;return this.mainTableScrollableElement===n&&n.scrollY!==e?(n.scrollTo(SM(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultRowHeight");let o=e,i=0;for(;o<n;){const s=this.wot.wtTable.getRowHeight(o);i+=s===void 0?r:s,o+=1}return i}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=Lr(n),i=this.clone.wtTable.holder.parentNode.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||s==="horizontal"){let l=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(l-=o),l=Math.min(l,e.wtRootElement.scrollWidth),i.width=`${l}px`}else i.width="";this.clone.wtTable.holder.style.width=i.width;let a=Kn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(a=0),i.height=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(w_.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:r,wtSettings:o}=this,i=(r.cloneSource?r.cloneSource:r).wtTable.holder;let s=this.getTableParentOffset(),a=0;if(n){const l=this.wot.wtTable.getRowHeight(e),u=this.wot.wtViewport.getViewportHeight();l>u&&(n=!1)}if(n&&i.offsetHeight!==i.clientHeight&&(a=Lr(this.domBindings.rootDocument)),n){const l=o.getSetting("fixedRowsBottom"),u=o.getSetting("totalRows");s+=this.sumCellSizes(0,e+1),s-=r.wtViewport.getViewportHeight()-this.sumCellSizes(u-l,u),s+=1}else s+=this.sumCellSizes(o.getSetting("fixedRowsTop"),e);return s+=a,this.setScrollPosition(s)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return xM(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),i=this.clone.wtTable.getTotalHeight(),s=o-i;r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.wot.wtTable.holder.parentNode;this.wtSettings.getSetting("totalColumns")?Rt(r,"emptyColumns"):ke(r,"emptyColumns");let o=!1;if(!n){const i=this.wtSettings.getSetting("fixedRowsTop"),s=this.cachedFixedRowsTop!==i,a=this.wtSettings.getSetting("columnHeaders");if((s||i===0)&&a.length>0){const l=yt(r,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),e||this.wtSettings.getSetting("totalRows")===0?(ke(r,"innerBorderTop"),o=!l):(Rt(r,"innerBorderTop"),o=l)}}return o}}function Fl(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Obe(t,"string");return typeof e=="symbol"?e:String(e)}function Obe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Abe{constructor(e,n,r,o,i,s){Fl(this,"wot",null),Fl(this,"topOverlay",null),Fl(this,"bottomOverlay",null),Fl(this,"inlineStartOverlay",null),Fl(this,"topInlineStartCornerOverlay",null),Fl(this,"bottomInlineStartCornerOverlay",null),Fl(this,"browserLineHeight",void 0),Fl(this,"wtSettings",null),Fl(this,"resizeObserver",new ResizeObserver(c=>{AM(()=>{!Array.isArray(c)||!c.length||this.wtSettings.getSetting("onContainerElementResize")})})),this.wot=e,this.wtSettings=o,this.domBindings=r,this.facadeGetter=n,this.wtTable=s;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=i,this.scrollbarSize=Lr(a);const u=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=u?s.holder:q0(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[this.topOverlay,this.topInlineStartCornerOverlay,this.inlineStartOverlay,this.bottomOverlay,this.bottomInlineStartCornerOverlay];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,r=e.getComputedStyle(n.body),o=parseInt(r.lineHeight,10),i=parseInt(r.fontSize,10)*1.2;this.browserLineHeight=o||i}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new Mbe(...e),this.bottomOverlay=new nbe(...e),this.inlineStartOverlay=new bbe(...e),this.topInlineStartCornerOverlay=new Rbe(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new Qye(...e,this.bottomOverlay,this.inlineStartOverlay)}updateStateOfRendering(){let e=this.topOverlay.updateStateOfRendering();return e=this.bottomOverlay.updateStateOfRendering()||e,e=this.inlineStartOverlay.updateStateOfRendering()||e,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(e=this.topInlineStartCornerOverlay.updateStateOfRendering()||e),this.bottomOverlay.needFullRender&&(e=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||e)),e}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:r}=this.topOverlay,{mainTableScrollableElement:o}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",c=>this.onKeyDown(c)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(r,"scroll",c=>this.onTableScroll(c),{passive:!0}),r!==o&&this.eventManager.addEventListener(o,"scroll",c=>this.onTableScroll(c),{passive:!0});const i=n.devicePixelRatio&&n.devicePixelRatio>1,s=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||i||!Mz())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",c=>this.onCloneWheel(c,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(c=>{if(c&&c.needFullRender){const{holder:h}=c.clone.wtTable;this.eventManager.addEventListener(h,"wheel",d=>this.onCloneWheel(d,a),l)}});let u;this.eventManager.addEventListener(n,"resize",()=>{clearTimeout(u),u=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize")},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,i=e.target;this.keyPressed&&(o!==n&&i!==n&&!e.target.contains(o)||r!==n&&i!==n&&!e.target.contains(r))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:r}=this.domBindings,o=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,s=e.target,a=i!==r&&s!==r&&!s.contains(i),l=o!==r&&s!==r&&!s.contains(o);if(this.keyPressed&&(a||l))return;const u=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==r&&u)&&e.preventDefault()}onKeyDown(e){this.keyPressed=tv(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight);const o=this.scrollVertically(n),i=this.scrollHorizontally(r);return o||i}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,n=this.topOverlay.clone.wtTable.holder,r=this.inlineStartOverlay.clone.wtTable.holder,[o,i]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=n.scrollLeft!==o||this.lastScrollX!==e.scrollX,this.verticalScrolling=r.scrollTop!==i||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){n.scrollLeft=o;const s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=o)}this.verticalScrolling&&(r.scrollTop=i),this.refreshAll()}syncScrollWithMaster(){const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:r}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=r)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=q0(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,r=e.clientHeight,o=n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height;return o&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r),o}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtViewport:n}=this.wot,{wtTable:r}=this,o=this.wtSettings.getSetting("totalColumns"),i=this.wtSettings.getSetting("totalRows"),s=n.getRowHeaderWidth(),a=n.getColumnHeaderHeight(),l=r.hider.style;if(l.width=`${s+this.inlineStartOverlay.sumCellSizes(0,o)}px`,l.height=`${a+this.topOverlay.sumCellSizes(0,i)+1}px`,this.scrollbarSize>0){const{scrollHeight:u,scrollWidth:c}=r.wtRootElement,{scrollHeight:h,scrollWidth:d}=r.holder;this.hasScrollbarRight=u<h,this.hasScrollbarBottom=c<d,this.hasScrollbarRight&&r.hider.scrollWidth+this.scrollbarSize>c?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&r.hider.scrollHeight+this.scrollbarSize>u&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(e),this.inlineStartOverlay.adjustElementsSize(e),this.bottomOverlay.adjustElementsSize(e)}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let r=null;return F(n,o=>{o&&o.clone&&o.clone.wtTable.TABLE.contains(e)&&(r=o.clone)}),r}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];F(n,r=>{r&&(r.clone.wtTable.TABLE.className=e.className)})}}function J3(t,e,n){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Ibe(t,"string");return typeof e=="symbol"?e:String(e)}function Ibe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nbe{constructor(e){J3(this,"settings",{}),J3(this,"defaults",Object.freeze(this.getDefaults())),It(this.defaults,(n,r)=>{if(e[r]!==void 0)this.settings[r]=e[r];else{if(n===void 0)throw new Error(`A required setting "${r}" was not provided`);this.settings[r]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,r)=>{const o=this.getSetting("data",e,n);kh(r,o??"")},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?It(e,(r,o)=>{this.settings[o]=r}):this.settings[e]=n,this}getSetting(e,n,r,o,i){return typeof this.settings[e]=="function"?this.settings[e](n,r,o,i):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class E_ extends Qf{constructor(e,n,r,o){super(e,n,r,o,"master")}alignOverlaysWithTrimmingContainer(){const e=Vf(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const r=e.parentElement,o=Xp(e,"height",n),i=Xp(e,"overflow",n),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let u=e.offsetWidth,c=e.offsetHeight;if(r&&["auto","hidden","scroll"].includes(i)){const h=e.cloneNode(!1);h.style.overflow="auto",h.style.position="absolute",e.nextElementSibling?r.insertBefore(h,e.nextElementSibling):r.appendChild(h);const d=parseInt(tc(h,n).height,10);r.removeChild(h),d===0&&(c=0)}c=Math.min(c,l),s.height=o==="auto"?"auto":`${c}px`,u=Math.min(u,a),s.width=`${u}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:c>0,this.hasTableWidth=u>0}this.isTableVisible=Th(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,r="master",o=e.getSetting("columnHeaders").length;if(o&&!n.hasOversizedColumnHeadersMarked[r]){const i=e.getSetting("rowHeaders").length,s=this.getRenderedColumnsCount();for(let a=0;a<o;a++)for(let l=-1*i;l<s;l++)this.markIfOversizedColumnHeader(l);n.hasOversizedColumnHeadersMarked[r]=!0}}}bn(E_,D3),bn(E_,d_);class Hbe{constructor(e,n,r,o,i){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=i,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=o,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let r=0;return n===this.domBindings.rootWindow?r=e.documentElement.clientHeight:r=Kn(n)>0&&n.clientHeight>0?n.clientHeight:1/0,r}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:n,rootWindow:r}=this.domBindings,o=this.dataAccessObject.inlineStartOverlayTrimmingContainer,i=n.documentElement.offsetWidth,s=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),l=e.getSetting("rtlMode"),u=this.wtTable.TABLE.getBoundingClientRect(),c=l?u.right-i:u.left,h=i-c;let d,g;if(a)return pn(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?d=Math.min(h,i):d=Math.min(this.getContainerFillWidth(),h,i),o===r&&s>0&&this.sumColumnWidths(0,s-1)>d)return n.documentElement.clientWidth;if(o!==r&&(g=Xp(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",r),g==="scroll"||g==="hidden"||g==="auto"))return Math.max(d,o.clientWidth);const p=e.getSetting("stretchH");return p==="none"||!p?Math.max(d,pn(this.wtTable.TABLE)):d}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,n){let r=0,o=e;for(;o<n;)r+=this.wtTable.getColumnWidth(o),o+=1;return r}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,n=this.domBindings.rootDocument.createElement("div");n.style.width="100%",n.style.height="1px",e.appendChild(n);const r=n.offsetWidth;return this.containerWidth=r,e.removeChild(n),r}getWorkspaceOffset(){return Dr(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Kn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let r=0,o=n.length;r<o;r++)this.rowHeaderWidth+=e[r]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let r=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let o=0,i=n.length;o<i;o++)r?(this.rowHeaderWidth+=pn(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lc;const{wtSettings:n,wtTable:r}=this;if(n.getSetting("renderAllRows")&&e===lc)return new Wve({totalRows:n.getSetting("totalRows")});let o=this.getViewportHeight(),i,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=n.getSetting("fixedRowsTop"),u=n.getSetting("fixedRowsBottom"),c=n.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,o-=s),u&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(c-u,c),o-=s),r.holder.clientHeight===r.holder.offsetHeight?i=0:i=Lr(this.domBindings.rootDocument),new fC({viewportHeight:o,scrollOffset:a,totalRows:n.getSetting("totalRows"),rowHeightFn:h=>r.getRowHeight(h),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),calculationType:e,horizontalScrollbarHeight:i})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lc;const{wtSettings:n,wtTable:r}=this;if(n.getSetting("renderAllColumns")&&e===lc)return new Dve({totalColumns:n.getSetting("totalColumns")});let o=this.getViewportWidth(),i=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const s=n.getSetting("fixedColumnsStart");if(s&&i>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);i+=a,o-=a}return r.holder.clientWidth!==r.holder.offsetWidth&&(o-=Lr(this.domBindings.rootDocument)),new iv({viewportWidth:o,scrollOffset:i,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>r.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),calculationType:e,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this;if(e&&!n.getSetting("renderAllRows")){const r=this.createRowsCalculator(go);e=this.areAllProposedVisibleRowsAlreadyRendered(r)}if(e&&!n.getSetting("renderAllColumns")){const r=this.createColumnsCalculator(go);e=this.areAllProposedVisibleColumnsAlreadyRendered(r)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(lc),this.columnsRenderCalculator=this.createColumnsCalculator(lc)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(go),this.columnsVisibleCalculator=this.createColumnsCalculator(go)}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;const{startRow:n,endRow:r,isVisibleInTrimmingContainer:o}=e;if(n===null&&r===null)return!o;const{startRow:i,endRow:s}=this.rowsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>s||r===s&&r<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;const{startColumn:n,endColumn:r,isVisibleInTrimmingContainer:o}=e;if(n===null&&r===null)return!o;const{startColumn:i,endColumn:s}=this.columnsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>s||r===s&&r<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){It(this.hasOversizedColumnHeadersMarked,(e,n,r)=>{r[n]=void 0})}}class Dbe extends h_{constructor(e,n){super(e,new Nbe(n));const r=this.wtSettings.getSetting("facade",this);this.wtTable=new E_(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=new Hbe(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new wbe(this.wtSettings.getSetting("selections")),this.wtEvent=new b3(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new Abe(this,r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],r=[];It(e,(o,i)=>{this.wtSettings.getSetting(i).length&&r.push(o),n.push(o)}),Rt(this.wtTable.wtRootElement.parentNode,n),ke(this.wtTable.wtRootElement.parentNode,r)}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class k_{constructor(e){e instanceof h_?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const r=new k_(n);return()=>r},this._wot=new Dbe(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,r){return this._wot.createCellRange(e,n,r)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,r,o,i){return this._wot.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return this._wot.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wot.scrollViewportVertically(e,n,r)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,r,o,i){return this._wot.wtSettings.getSetting(e,n,r,o,i)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function Z3(t){let{isShiftKey:e,isLeftClick:n,isRightClick:r,coords:o,selection:i,controller:s,cellCoordsFactory:a}=t;const l=i.isSelected()?i.getSelectedRange().current():null,u=i.isSelectedByCorner(),c=i.isSelectedByRowHeader();if(e&&l)o.row>=0&&o.col>=0&&!s.cell?i.setRangeEnd(o):(u||c)&&o.row>=0&&o.col>=0&&!s.cell?i.setRangeEnd(a(o.row,o.col)):u&&o.row<0&&!s.column?i.setRangeEnd(a(l.to.row,o.col)):c&&o.col<0&&!s.row?i.setRangeEnd(a(o.row,l.to.col)):(!u&&!c&&o.col<0||u&&o.col<0)&&!s.row?i.selectRows(Math.max(l.from.row,0),o.row,o.col):(!u&&!c&&o.row<0||c&&o.row<0)&&!s.column&&i.selectColumns(Math.max(l.from.col,0),o.col,o.row);else{const h=!i.inInSelection(o),d=n||r&&h;o.row<0&&o.col>=0&&!s.column?d&&i.selectColumns(o.col,o.col,o.row):o.col<0&&o.row>=0&&!s.row?d&&i.selectRows(o.row,o.row,o.col):o.col>=0&&o.row>=0&&!s.cell?d&&i.setRangeStart(o):o.col<0&&o.row<0&&i.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}}function Lbe(t){let{isLeftClick:e,coords:n,selection:r,controller:o,cellCoordsFactory:i}=t;if(!e)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();a&&!o.column?r.setRangeEnd(i(u-1,n.col)):s&&!o.row?r.setRangeEnd(i(n.row,l-1)):o.cell||r.setRangeEnd(n)}const jbe=new Map([["mousedown",Z3],["mouseover",Lbe],["touchstart",Z3]]);function eU(t,e){let{coords:n,selection:r,controller:o,cellCoordsFactory:i}=e;jbe.get(t.type)({coords:n,selection:r,controller:o,cellCoordsFactory:i,isShiftKey:t.shiftKey,isLeftClick:NM(t)||t.type==="touchstart",isRightClick:_h(t)})}const tU=new WeakMap,T_=Symbol("rootInstance");function Wbe(t){tU.set(t,!0)}function Fbe(t){return t===T_}function EC(t){return tU.has(t)}function nU(t,e){rU(t,e),e.add(t)}function Dh(t,e,n){rU(t,e),e.set(t,n)}function rU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dc(t,e,n){return e=Vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vbe(t){var e=Bbe(t,"string");return typeof e=="symbol"?e:String(e)}function Bbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Fr(t,e){var n=oU(t,e,"get");return zbe(t,n)}function zbe(t,e){return e.get?e.get.call(t):e.value}function cs(t,e,n){var r=oU(t,e,"set");return Ube(t,r,n),n}function oU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Ube(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var __=new WeakMap,kC=new WeakMap,TC=new WeakMap,Vl=new WeakMap,Ys=new WeakMap,O_=new WeakMap,A_=new WeakMap,P_=new WeakSet,iU=new WeakSet;class $be{constructor(e){nU(this,iU),nU(this,P_),dc(this,"hot",void 0),dc(this,"eventManager",void 0),dc(this,"settings",void 0),dc(this,"THEAD",void 0),dc(this,"TBODY",void 0),dc(this,"_wt",void 0),dc(this,"activeWt",void 0),Dh(this,__,{writable:!0,value:0}),Dh(this,kC,{writable:!0,value:0}),dc(this,"postponedAdjustElementsSize",!1),Dh(this,TC,{writable:!0,value:!1}),Dh(this,Vl,{writable:!0,value:void 0}),Dh(this,Ys,{writable:!0,value:void 0}),Dh(this,O_,{writable:!0,value:0}),Dh(this,A_,{writable:!0,value:0}),this.hot=e,this.eventManager=new zs(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(e)}getCellAtCoords(e,n){const r=this._wt.getCell(e,n);return r<0?null:r}scrollViewport(e,n,r,o,i){return this._wt.scrollViewport(e,n,r,o,i)}scrollViewportHorizontally(e,n,r){return this._wt.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wt.scrollViewportVertically(e,n,r)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,r=e.getAttribute("style");r&&e.setAttribute("data-originalstyle",r),ke(e,"handsontable"),cs(this,Ys,n.createElement("TABLE")),ke(Fr(this,Ys),"htCore"),this.hot.getSettings().tableClassName&&ke(Fr(this,Ys),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(ct(Fr(this,Ys),[_a()]),ct(e,[Dme(),XB(-1),$0(this.hot.countCols()),Kme()])),this.THEAD=n.createElement("THEAD"),Fr(this,Ys).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),Fr(this,Ys).appendChild(this.TBODY),this.hot.table=Fr(this,Ys),this.hot.container.insertBefore(Fr(this,Ys),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:r}=this.hot,o=n.documentElement;this.eventManager.addEventListener(e,"mousedown",i=>{if(cs(this,TC,!0),!this.isTextSelectionAllowed(i.target)){const{rootWindow:s}=this.hot;az(s),i.preventDefault(),s.focus()}}),this.eventManager.addEventListener(e,"mouseup",()=>{cs(this,TC,!1)}),this.eventManager.addEventListener(e,"mousemove",i=>{Fr(this,TC)&&!this.isTextSelectionAllowed(i.target)&&(this.settings.fragmentSelection&&az(this.hot.rootWindow),i.preventDefault())}),this.eventManager.addEventListener(o,"keyup",i=>{r.isInProgress()&&!i.shiftKey&&r.finish()}),this.eventManager.addEventListener(o,"mouseup",i=>{r.isInProgress()&&NM(i)&&r.finish(),cs(this,Vl,!1);const s=lz(n.activeElement);Q0(n.activeElement)&&!s||(s||!r.isSelected()&&!r.isSelectedByAnyHeader()&&!e.contains(i.target)&&!_h(i))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",i=>{r.isInProgress()&&_h(i)&&(r.finish(),cs(this,Vl,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{r.isInProgress()&&r.finish(),cs(this,Vl,!1)}),this.eventManager.addEventListener(o,"mousedown",i=>{const s=i.target,a=i.x||i.clientX,l=i.y||i.clientY;let u=i.target;if(Fr(this,Vl)||!e||!this.hot.view)return;const{holder:c}=this.hot.view._wt.wtTable;if(u===c){const h=Lr(n);if(n.elementFromPoint(a+h,l)!==c||n.elementFromPoint(a,l+h)!==c)return}else for(;u!==o;){if(u===null){if(i.isTargetWebComponent)break;return}if(u===e)return;u=u.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(s):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)}),this.eventManager.addEventListener(Fr(this,Ys),"selectstart",i=>{this.settings.fragmentSelection||Q0(i.target)||i.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:r}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,r))}translateFromRenderableToVisualIndex(e,n){let r=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,o=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return r===null&&(r=e),o===null&&(o=n),[r,o]}countRenderableIndexes(e,n){const r=Math.min(e.getNotTrimmedIndexesLength(),n),o=e.getNearestNotHiddenIndex(r-1,-1);return o===null?0:e.getRenderableFromVisualIndex(o)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,r,o){if(isNaN(e)||e<0)return 0;const i=r.getNearestNotHiddenIndex(e,n),s=r.getRenderableFromVisualIndex(i);if(!Number.isInteger(s))return 0;let a=0;return n<0?a=s+1:n>0&&(a=o-s),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let r=0;for(let o=e;o<=n;o++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(o)!==null&&(r+=1);return r}countRenderableRowsInRange(e,n){let r=0;for(let o=e;o<=n;o++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(o)!==null&&(r+=1);return r}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Fr(this,Ys),isDataViewInstance:()=>EC(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(i,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(i,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const i=[];return this.hot.hasRowHeaders()&&i.push((s,a)=>{const l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",i),cs(this,kC,i.length),this.hot.getSettings().ariaTags&&M_(this,P_,sU).call(this)===this.hot.countCols()&&M_(this,iU,Gbe).call(this,Fr(this,kC)),i},columnHeaders:()=>{const i=[];return this.hot.hasColHeaders()&&i.push((s,a)=>{const l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",i),cs(this,__,i.length),i},columnWidth:i=>{const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i);return this.hot.getColWidth(s===null?i:s)},rowHeight:i=>{const s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(i);return this.hot.getRowHeight(s===null?i:s)},cellRenderer:(i,s,a)=>{const[l,u]=this.translateFromRenderableToVisualIndex(i,s),c=this.hot.runHooks("modifyGetCellCoords",l,u);let h=l,d=u;Array.isArray(c)&&([h,d]=c);const g=this.hot.getCellMeta(h,d),p=this.hot.colToProp(d);let w=this.hot.getDataAtRowProp(h,p);this.hot.hasHook("beforeValueRender")&&(w=this.hot.runHooks("beforeValueRender",w,g)),this.hot.runHooks("beforeRenderer",a,l,u,p,w,g),this.hot.getCellRenderer(g)(this.hot,a,l,u,p,w,g),this.hot.runHooks("afterRenderer",a,l,u,p,w,g)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Th(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,cs(this,Vl,!0),this.hot.runHooks("beforeOnCellMouseDown",i,u,a,c),!Mh(i)&&(eU(i,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseDown",i,u,a),this.activeWt=this._wt)},onCellContextMenu:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,cs(this,Vl,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",i,u,a),!Mh(i)&&(this.hot.runHooks("afterOnCellContextMenu",i,u,a),this.activeWt=this._wt)},onCellMouseOut:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",i,u,a),!Mh(i)&&(this.hot.runHooks("afterOnCellMouseOut",i,u,a),this.activeWt=this._wt)},onCellMouseOver:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",i,u,a,c),!Mh(i)&&(Fr(this,Vl)&&eU(i,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseOver",i,u,a),this.activeWt=this._wt)},onCellMouseUp:(i,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",i,u,a),!(Mh(i)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",i,u,a),this.activeWt=this._wt)},onCellCornerMouseDown:i=>{i.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",i)},onCellCornerDblClick:i=>{i.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",i)},beforeDraw:(i,s)=>this.beforeRender(i,s),onDraw:i=>this.afterRender(i),onBeforeViewportScrollVertically:i=>{const s=this.hot.rowIndexMapper,a=i<0;let l=i;return!a&&(l=s.getVisualFromRenderableIndex(i),l===null)?i:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:i=>{const s=this.hot.columnIndexMapper,a=i<0;let l=i;return!a&&(l=s.getVisualFromRenderableIndex(i),l===null)?i:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(i,s,a)=>{const l=this.hot.rowIndexMapper,u=i<0;let c=i;u||(c=l.getVisualFromRenderableIndex(i));const h=this.hot.runHooks("beforeHighlightingRowHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(i,s,a)=>{const l=this.hot.columnIndexMapper,u=i<0;let c=i;u||(c=l.getVisualFromRenderableIndex(i));const h=this.hot.runHooks("beforeHighlightingColumnHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(i,s,a)=>{let l;const[u,c]=this.translateFromRenderableToVisualIndex(i,s),h=this.hot.selection.getSelectedRange();if(h.size()>0){const d=h.peekByIndex(a??0);l=[d.from.row,d.from.col,d.to.row,d.to.col]}return this.hot.runHooks("afterDrawSelection",u,c,l,a)},onBeforeDrawBorders:(i,s)=>{const[a,l,u,c]=i,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(u),this.hot.columnIndexMapper.getVisualFromRenderableIndex(c)];return this.hot.runHooks("beforeDrawBorders",h,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(i,s)=>{const a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",i,a)},onModifyRowHeaderWidth:i=>this.hot.runHooks("modifyRowHeaderWidth",i),onModifyGetCellCoords:(i,s,a)=>{const l=this.hot.rowIndexMapper,u=this.hot.columnIndexMapper,c=s>=0?u.getVisualFromRenderableIndex(s):s,h=i>=0?l.getVisualFromRenderableIndex(i):i,d=this.hot.runHooks("modifyGetCellCoords",h,c,a);if(Array.isArray(d)){const[g,p,w,C]=d;return[g>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(g,1)):g,p>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,1)):p,w>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(w,-1)):w,C>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1)):C]}},viewportRowCalculatorOverride:i=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){const a=this.countRenderableRows(),l=i.startRow,u=i.endRow;if(typeof s=="number")i.startRow=Math.max(l-s,0),i.endRow=Math.min(u+s,a-1);else if(s==="auto"){const c=Math.ceil(u/a*12);i.startRow=Math.max(l-c,0),i.endRow=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",i)},viewportColumnCalculatorOverride:i=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){const a=this.countRenderableColumns(),l=i.startColumn,u=i.endColumn;if(typeof s=="number"&&(i.startColumn=Math.max(l-s,0),i.endColumn=Math.min(u+s,a-1)),s==="auto"){const c=Math.ceil(u/a*6);i.startColumn=Math.max(l-c,0),i.endColumn=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",i)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const i=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||i}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new k_(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:r,height:o}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(r,o),this.eventManager.addEventListener(n,"mousedown",i=>{i.target===n&&i.which===3&&i.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",i=>{i.target===n&&i.which===3&&i.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(Q0(e))return!0;const n=Rh(e,this.hot.view._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Fr(this,Vl)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const r=n.firstChild;if(!yt(r,"relative")){Oa(n),this.appendRowHeader(e,n);return}this.updateCellHeader(r.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:r,getRowHeader:o}=this.hot,i=r.createElement("div"),s=r.createElement("span");i.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,o),i.appendChild(s),n.appendChild(i)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n.firstChild){const i=n.firstChild;yt(i,"relative")?this.updateCellHeader(i.querySelector(".colHeader"),e,r,o):(Oa(n),this.appendColHeader(e,n,r,o))}else{const{rootDocument:i}=this.hot,s=i.createElement("div"),a=i.createElement("span");s.className="relative",a.className="colHeader",this.settings.ariaTags&&(ct(s,..._a()),ct(a,..._a())),this.updateCellHeader(a,e,r,o),s.appendChild(a),n.appendChild(s)}this.hot.runHooks("afterGetColHeader",e,n,o)}updateCellHeader(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=n;const s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(yt(e,"colHeader")?i=s.wtTable.columnFilter.sourceToRendered(n):yt(e,"rowHeader")&&(i=s.wtTable.rowFilter.sourceToRendered(n))),i>-1?Ff(e,r(n,o)):(kh(e,"\xA0"),ke(e,"cornerHeader"))}maximumVisibleElementWidth(e){const n=this._wt.wtViewport.getWorkspaceWidth()-e;return n>0?n:0}maximumVisibleElementHeight(e){const n=this._wt.wtViewport.getWorkspaceHeight()-e;return n>0?n:0}setLastSize(e,n){cs(this,O_,e),cs(this,A_,n)}getLastSize(){return{width:Fr(this,O_),height:Fr(this,A_)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getColumnHeadersCount(){return Fr(this,__)}getRowHeadersCount(){return Fr(this,kC)}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function sU(){return parseInt(this.hot.rootElement.getAttribute($0()[0]),10)}function Gbe(t){const e=M_(this,P_,sU).call(this)+t;ct(this.hot.rootElement,...$0(e))}const Ybe="ABCDEFGHIJKLMNOPQRSTUVWXYZ",aU=Ybe.length;function qbe(t){let e=t+1,n="",r;for(;e>0;)r=(e-1)%aU,n=String.fromCharCode(65+r)+n,e=parseInt((e-r)/aU,10);return n}function lU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const r=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((o,i)=>{Array.isArray(o)?o.forEach((s,a)=>{r.push([i+e,a,s])}):Object.keys(o).forEach(s=>{r.push([i+e,s,o[s]])})}),r}function uU(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&Ot(t[0])&&(e=OM(t[0]))),e}function Kbe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function Xbe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function pv(t,e,n){return e=Qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qbe(t){var e=Jbe(t,"string");return typeof e=="symbol"?e:String(e)}function Jbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zbe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];pv(this,"hot",void 0),pv(this,"data",void 0),pv(this,"dataType","array"),pv(this,"colToProp",()=>{}),pv(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return F(this.data,(r,o)=>{const i=this.getAtCell(o,e);n.push(i)}),n}getAtRow(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=n===void 0&&r===void 0;let s=null,a=null;if(s=this.modifyRowData(e),Array.isArray(s))a=[],i?s.forEach((l,u)=>{a[u]=this.getAtPhysicalCell(e,u,s)}):Ke(n,r,l=>{a[l-n]=this.getAtPhysicalCell(e,l,s)});else if(Ot(s)||Mn(s))if(o?a=[]:a={},!i||o){const l=this.countFirstRowKeys()-1;Ke(0,l,u=>{const c=this.colToProp(u);if(u>=(n||0)&&u<=(r||l)&&!Number.isInteger(c)){const h=this.getAtPhysicalCell(e,c,s);o?a.push(h):_M(a,c,h)}})}else It(s,(l,u)=>{_M(a,u,this.getAtPhysicalCell(e,u,s))});return a}setAtCell(e,n,r){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const o=Aa(r);this.hot.runHooks("modifySourceData",e,n,o,"set"),o.isTouched()&&(r=o.value)}Number.isInteger(n)?this.data[e][n]=r:_M(this.data[e],n,r)}}getAtPhysicalCell(e,n,r){let o=null;if(r&&(typeof n=="string"?o=Ppe(r,n):typeof n=="function"?o=n(r):o=r[n]),this.hot.hasHook("modifySourceData")){const i=Aa(o);this.hot.runHooks("modifySourceData",e,n,i,"get"),i.isTouched()&&(o=i.value)}return o}getAtCell(e,n){const r=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),r)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=!1,i=null,s=null,a=null,l=null;e===null||n===null?(o=!0,i=0,a=this.countRows()-1):(i=Math.min(e.row,n.row),s=Math.min(e.col,n.col),a=Math.max(e.row,n.row),l=Math.max(e.col,n.col));const u=[];return Ke(i,a,c=>{u.push(o?this.getAtRow(c,void 0,void 0,r):this.getAtRow(c,s,l,r))}),u}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return uU(this.data)}destroy(){this.data=null,this.hot=null}}function cU(t,e,n){return e=e0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return typeof e=="symbol"?e:String(e)}function t0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;cU(this,"indexedValues",[]),cU(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Mn(this.initValueOrFn)?Ke(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Ke(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}bn(Lh,ei);function I_(t,e,n,r){const o=n.length?n[0]:void 0;return[...t.slice(0,o),...n.map((i,s)=>Mn(r)?r(i,s):r),...o===void 0?[]:t.slice(o)]}function N_(t,e){return os(t,(n,r)=>e.includes(r)===!1)}class fc extends Lh{insert(e,n){this.indexedValues=I_(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=N_(this.indexedValues,e),super.remove(e)}}class MC extends fc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return fo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}function H_(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function vv(t,e){return os(t,n=>e.includes(n)===!1)}function D_(t,e){return Pt(t,n=>n-e.filter(r=>r<n).length)}function L_(t,e){const n=e[0],r=e.length;return Pt(t,o=>o>=n?o+r:o)}function n0e(t,e,n){return e=r0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r0e(t){var e=o0e(t,"string");return typeof e=="symbol"?e:String(e)}function o0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _C extends Lh{constructor(){super(...arguments),n0e(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(r,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=vv(this.orderOfIndexes,[e]),Mn(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=I_(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=L_(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=N_(this.indexedValues,e),this.orderOfIndexes=vv(this.orderOfIndexes,e),this.orderOfIndexes=D_(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class wv extends fc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return fo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}const hU=new Map([["indexesSequence",{getListWithInsertedItems:H_,getListWithRemovedItems:vv}],["physicallyIndexed",{getListWithInsertedItems:I_,getListWithRemovedItems:N_}]]),dU=t=>{if(hU.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return hU.get(t)};class fU extends Lh{constructor(){super(e=>e)}insert(e,n){const r=L_(this.indexedValues,n);this.indexedValues=H_(r,e,n),super.insert(e,n)}remove(e){const n=vv(this.indexedValues,e);this.indexedValues=D_(n,e),super.remove(e)}}const gU=new Map([["hiding",MC],["index",Lh],["linkedPhysicalIndexToValue",_C],["physicalIndexToValue",fc],["trimming",wv]]);function i0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!gU.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(gU.get(t))(e)}function s0e(t,e,n){return e=a0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0e(t){var e=l0e(t,"string");return typeof e=="symbol"?e:String(e)}function l0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class j_{constructor(){s0e(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);Fe(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return Tn(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(r=>{r.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}bn(j_,ei);function W_(t,e,n){return e=u0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return typeof e=="symbol"?e:String(e)}function c0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mU extends j_{constructor(e,n){super(),W_(this,"mergedValuesCache",[]),W_(this,"aggregationFunction",void 0),W_(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const e=Pt(this.get(),o=>o.getValues()),n=[],r=Fe(e[0])&&e[0].length||0;for(let o=0;o<r;o+=1){const i=[];for(let s=0;s<this.getLength();s+=1)i.push(e[s][o]);n.push(i)}return Pt(n,this.aggregationFunction)}getMergedValueAtIndex(e,n){const r=this.getMergedValues(n)[e];return Fe(r)?r:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function h0e(t,e,n){d0e(t,e),e.set(t,n)}function d0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f0e(t,e,n){var r=pU(t,e,"set");return g0e(t,r,n),n}function g0e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function m0e(t,e){var n=pU(t,e,"get");return p0e(t,n)}function pU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function p0e(t,e){return e.get?e.get.call(t):e.value}var F_=new WeakMap;class vU{constructor(){h0e(this,F_,{writable:!0,value:[]})}subscribe(e){return this.addLocalHook("change",e),this._write(m0e(this,F_)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){f0e(this,F_,e)}}bn(vU,ei);function wU(t,e){const n=[];let r=0,o=0;for(;r<t.length&&o<e.length;r++,o++)t[r]!==e[o]&&n.push({op:"replace",index:o,oldValue:t[r],newValue:e[o]});for(;r<e.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;o<t.length;o++)n.push({op:"remove",index:o,oldValue:t[o],newValue:void 0});return n}function yv(t,e,n){v0e(t,e),e.set(t,n)}function v0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hs(t,e){var n=yU(t,e,"get");return w0e(t,n)}function w0e(t,e){return e.get?e.get.call(t):e.value}function OC(t,e,n){var r=yU(t,e,"set");return y0e(t,r,n),n}function yU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function y0e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var AC=new WeakMap,bv=new WeakMap,PC=new WeakMap,IC=new WeakMap,NC=new WeakMap;class b0e{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yv(this,AC,{writable:!0,value:new Set}),yv(this,bv,{writable:!0,value:[]}),yv(this,PC,{writable:!0,value:[]}),yv(this,IC,{writable:!0,value:!1}),yv(this,NC,{writable:!0,value:!1}),OC(this,NC,e??!1)}createObserver(){const e=new vU;return hs(this,AC).add(e),e.addLocalHook("unsubscribe",()=>{hs(this,AC).delete(e)}),e._writeInitialChanges(wU(hs(this,bv),hs(this,PC))),e}emit(e){let n=hs(this,PC);(!hs(this,IC)||hs(this,bv).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(hs(this,NC)):OC(this,bv,new Array(e.length).fill(hs(this,NC))),hs(this,IC)||(OC(this,IC,!0),n=hs(this,bv)));const r=wU(n,e);hs(this,AC).forEach(o=>o._write(r)),OC(this,PC,e)}}function Oo(t,e,n){return e=C0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:String(e)}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class V_{constructor(){Oo(this,"indexesSequence",new fU),Oo(this,"trimmingMapsCollection",new mU(e=>e.some(n=>n===!0),!1)),Oo(this,"hidingMapsCollection",new mU(e=>e.some(n=>n===!0),!1)),Oo(this,"variousMapsCollection",new j_),Oo(this,"hidingChangesObservable",new b0e({initialIndexValue:!1})),Oo(this,"notTrimmedIndexesCache",[]),Oo(this,"notHiddenIndexesCache",[]),Oo(this,"isBatched",!1),Oo(this,"indexesSequenceChanged",!1),Oo(this,"indexesChangeSource",void 0),Oo(this,"trimmedIndexesChanged",!1),Oo(this,"hiddenIndexesChanged",!1),Oo(this,"renderablePhysicalIndexesCache",[]),Oo(this,"fromPhysicalToVisualIndexesCache",new Map),Oo(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,r){return this.registerMap(e,i0e(n,r))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof wv?this.trimmingMapsCollection.register(e,n):n instanceof MC?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const r=this.getNumberOfIndexes();return r>0&&n.init(r),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return Fe(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return Fe(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return Fe(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return Fe(n)?n:null}getNearestNotHiddenIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const o=Array.from(this.fromVisualToRenderableIndexesCache.keys());let i=-1;return n>0?i=o.findIndex(s=>s>e):i=o.reverse().findIndex(s=>s<e),i===-1?r?this.getNearestNotHiddenIndex(e,-n,!1):null:o[i]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const r=[...Array(this.getNumberOfIndexes()-e).keys()].map(o=>o+e);this.removeIndexes(r)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(e=>this.isTrimmed(e)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(e=>this.isHidden(e)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(e=>this.isHidden(e)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const r=Pt(e,u=>this.getPhysicalFromVisualIndex(u)),o=this.getNotTrimmedIndexesLength(),i=e.length,s=vv(this.getIndexesSequence(),r),a=s.filter(u=>this.isTrimmed(u)===!1);let l=s.indexOf(a[a.length-1])+1;if(n+i<o){const u=a[n];l=s.indexOf(u)}this.indexesChangeSource="move",this.setIndexesSequence(H_(s,l,r)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const r=this.getNotTrimmedIndexes()[e],o=Fe(r)?r:this.getNumberOfIndexes(),i=this.getIndexesSequence().includes(r)?this.getIndexesSequence().indexOf(r):this.getNumberOfIndexes(),s=Pt(new Array(n).fill(o),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(i,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(i,s),this.hidingMapsCollection.insertToEvery(i,s),this.variousMapsCollection.insertToEvery(i,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(r,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromRenderableIndex(n),o=this.getVisualFromPhysicalIndex(r);this.fromVisualToRenderableIndexesCache.set(o,n)}}}bn(V_,ei);function x0e(t,e){return It(e,(n,r)=>{Tn(t[r])&&(t[r]=n)}),t}function bU(t){const e=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return e?`${e[1].toLowerCase()}-${e[2].toUpperCase()}`:t}function CU(t){Fe(t)&&HM(un`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function R0e(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:E0e,getValues:k0e}=Bs("phraseFormatters");function T0e(t,e){E0e(t,e)}function M0e(){return k0e()}T0e("pluralize",R0e);const SU="ContextMenu:items",Tt=SU,B_=`${Tt}.noItems`,z_=`${Tt}.insertRowAbove`,U_=`${Tt}.insertRowBelow`,$_=`${Tt}.insertColumnOnTheLeft`,G_=`${Tt}.insertColumnOnTheRight`,Y_=`${Tt}.removeRow`,q_=`${Tt}.removeColumn`,K_=`${Tt}.undo`,X_=`${Tt}.redo`,Q_=`${Tt}.readOnly`,J_=`${Tt}.clearColumn`,Z_=`${Tt}.copy`,eO=`${Tt}.copyWithHeaders`,tO=`${Tt}.copyWithGroupHeaders`,nO=`${Tt}.copyHeadersOnly`,rO=`${Tt}.cut`,oO=`${Tt}.freezeColumn`,iO=`${Tt}.unfreezeColumn`,sO=`${Tt}.mergeCells`,aO=`${Tt}.unmergeCells`,lO=`${Tt}.addComment`,uO=`${Tt}.editComment`,cO=`${Tt}.removeComment`,hO=`${Tt}.readOnlyComment`,dO=`${Tt}.align`,fO=`${Tt}.align.left`,gO=`${Tt}.align.center`,mO=`${Tt}.align.right`,pO=`${Tt}.align.justify`,vO=`${Tt}.align.top`,wO=`${Tt}.align.middle`,yO=`${Tt}.align.bottom`,bO=`${Tt}.borders`,CO=`${Tt}.borders.top`,SO=`${Tt}.borders.right`,xO=`${Tt}.borders.bottom`,RO=`${Tt}.borders.left`,EO=`${Tt}.borders.remove`,kO=`${Tt}.nestedHeaders.insertChildRow`,TO=`${Tt}.nestedHeaders.detachFromParent`,MO=`${Tt}.hideColumn`,_O=`${Tt}.showColumn`,OO=`${Tt}.hideRow`,AO=`${Tt}.showRow`,Ao="Filters:",Jn=`${Ao}conditions`,HC=`${Jn}.none`,PO=`${Jn}.isEmpty`,IO=`${Jn}.isNotEmpty`,NO=`${Jn}.isEqualTo`,HO=`${Jn}.isNotEqualTo`,DO=`${Jn}.beginsWith`,LO=`${Jn}.endsWith`,jO=`${Jn}.contains`,WO=`${Jn}.doesNotContain`,_0e=`${Jn}.byValue`,FO=`${Jn}.greaterThan`,VO=`${Jn}.greaterThanOrEqualTo`,BO=`${Jn}.lessThan`,zO=`${Jn}.lessThanOrEqualTo`,UO=`${Jn}.isBetween`,$O=`${Jn}.isNotBetween`,GO=`${Jn}.after`,YO=`${Jn}.before`,qO=`${Jn}.today`,KO=`${Jn}.tomorrow`,XO=`${Jn}.yesterday`,QO=`${Ao}labels.filterByCondition`,JO=`${Ao}labels.filterByValue`,ZO=`${Ao}labels.conjunction`,DC=`${Ao}labels.disjunction`,LC=`${Ao}values.blankCells`,eA=`${Ao}buttons.selectAll`,tA=`${Ao}buttons.clear`,nA=`${Ao}buttons.ok`,rA=`${Ao}buttons.cancel`,oA=`${Ao}buttons.placeholder.search`,iA=`${Ao}buttons.placeholder.value`,sA=`${Ao}buttons.placeholder.secondValue`,aA="CheckboxRenderer:",lA=`${aA}checked`,uA=`${aA}unchecked`,O0e=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:lA,CHECKBOX_RENDERER_NAMESPACE:aA,CHECKBOX_UNCHECKED:uA,CONTEXTMENU_ITEMS_ADD_COMMENT:lO,CONTEXTMENU_ITEMS_ALIGNMENT:dO,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:yO,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:gO,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:pO,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:fO,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:wO,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:mO,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:vO,CONTEXTMENU_ITEMS_BORDERS:bO,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:xO,CONTEXTMENU_ITEMS_BORDERS_LEFT:RO,CONTEXTMENU_ITEMS_BORDERS_RIGHT:SO,CONTEXTMENU_ITEMS_BORDERS_TOP:CO,CONTEXTMENU_ITEMS_CLEAR_COLUMN:J_,CONTEXTMENU_ITEMS_COPY:Z_,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:nO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:tO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:eO,CONTEXTMENU_ITEMS_CUT:rO,CONTEXTMENU_ITEMS_EDIT_COMMENT:uO,CONTEXTMENU_ITEMS_FREEZE_COLUMN:oO,CONTEXTMENU_ITEMS_HIDE_COLUMN:MO,CONTEXTMENU_ITEMS_HIDE_ROW:OO,CONTEXTMENU_ITEMS_INSERT_LEFT:$_,CONTEXTMENU_ITEMS_INSERT_RIGHT:G_,CONTEXTMENU_ITEMS_MERGE_CELLS:sO,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:TO,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:kO,CONTEXTMENU_ITEMS_NO_ITEMS:B_,CONTEXTMENU_ITEMS_READ_ONLY:Q_,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:hO,CONTEXTMENU_ITEMS_REDO:X_,CONTEXTMENU_ITEMS_REMOVE_BORDERS:EO,CONTEXTMENU_ITEMS_REMOVE_COLUMN:q_,CONTEXTMENU_ITEMS_REMOVE_COMMENT:cO,CONTEXTMENU_ITEMS_REMOVE_ROW:Y_,CONTEXTMENU_ITEMS_ROW_ABOVE:z_,CONTEXTMENU_ITEMS_ROW_BELOW:U_,CONTEXTMENU_ITEMS_SHOW_COLUMN:_O,CONTEXTMENU_ITEMS_SHOW_ROW:AO,CONTEXTMENU_ITEMS_UNDO:K_,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:iO,CONTEXTMENU_ITEMS_UNMERGE_CELLS:aO,CONTEXT_MENU_ITEMS_NAMESPACE:SU,FILTERS_BUTTONS_CANCEL:rA,FILTERS_BUTTONS_CLEAR:tA,FILTERS_BUTTONS_OK:nA,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:oA,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:sA,FILTERS_BUTTONS_PLACEHOLDER_VALUE:iA,FILTERS_BUTTONS_SELECT_ALL:eA,FILTERS_CONDITIONS_AFTER:GO,FILTERS_CONDITIONS_BEFORE:YO,FILTERS_CONDITIONS_BEGINS_WITH:DO,FILTERS_CONDITIONS_BETWEEN:UO,FILTERS_CONDITIONS_BY_VALUE:_0e,FILTERS_CONDITIONS_CONTAINS:jO,FILTERS_CONDITIONS_EMPTY:PO,FILTERS_CONDITIONS_ENDS_WITH:LO,FILTERS_CONDITIONS_EQUAL:NO,FILTERS_CONDITIONS_GREATER_THAN:FO,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:VO,FILTERS_CONDITIONS_LESS_THAN:BO,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:zO,FILTERS_CONDITIONS_NAMESPACE:Jn,FILTERS_CONDITIONS_NONE:HC,FILTERS_CONDITIONS_NOT_BETWEEN:$O,FILTERS_CONDITIONS_NOT_CONTAIN:WO,FILTERS_CONDITIONS_NOT_EMPTY:IO,FILTERS_CONDITIONS_NOT_EQUAL:HO,FILTERS_CONDITIONS_TODAY:qO,FILTERS_CONDITIONS_TOMORROW:KO,FILTERS_CONDITIONS_YESTERDAY:XO,FILTERS_DIVS_FILTER_BY_CONDITION:QO,FILTERS_DIVS_FILTER_BY_VALUE:JO,FILTERS_LABELS_CONJUNCTION:ZO,FILTERS_LABELS_DISJUNCTION:DC,FILTERS_NAMESPACE:Ao,FILTERS_VALUES_BLANK_CELLS:LC},Symbol.toStringTag,{value:"Module"}));/**
* @preserve
* Authors: Handsoncode
* Last updated: Nov 15, 2017
*
* Description: Definition file for English - United States language-country.
*/const xU={languageCode:"en-US",[B_]:"No available options",[z_]:"Insert row above",[U_]:"Insert row below",[$_]:"Insert column left",[G_]:"Insert column right",[Y_]:["Remove row","Remove rows"],[q_]:["Remove column","Remove columns"],[K_]:"Undo",[X_]:"Redo",[Q_]:"Read only",[J_]:"Clear column",[dO]:"Alignment",[fO]:"Left",[gO]:"Center",[mO]:"Right",[pO]:"Justify",[vO]:"Top",[wO]:"Middle",[yO]:"Bottom",[oO]:"Freeze column",[iO]:"Unfreeze column",[bO]:"Borders",[CO]:"Top",[SO]:"Right",[xO]:"Bottom",[RO]:"Left",[EO]:"Remove border(s)",[lO]:"Add comment",[uO]:"Edit comment",[cO]:"Delete comment",[hO]:"Read-only comment",[sO]:"Merge cells",[aO]:"Unmerge cells",[Z_]:"Copy",[eO]:["Copy with header","Copy with headers"],[tO]:["Copy with group header","Copy with group headers"],[nO]:["Copy header only","Copy headers only"],[rO]:"Cut",[kO]:"Insert child row",[TO]:"Detach from parent",[MO]:["Hide column","Hide columns"],[_O]:["Show column","Show columns"],[OO]:["Hide row","Hide rows"],[AO]:["Show row","Show rows"],[HC]:"None",[PO]:"Is empty",[IO]:"Is not empty",[NO]:"Is equal to",[HO]:"Is not equal to",[DO]:"Begins with",[LO]:"Ends with",[jO]:"Contains",[WO]:"Does not contain",[FO]:"Greater than",[VO]:"Greater than or equal to",[BO]:"Less than",[zO]:"Less than or equal to",[UO]:"Is between",[$O]:"Is not between",[GO]:"After",[YO]:"Before",[qO]:"Today",[KO]:"Tomorrow",[XO]:"Yesterday",[LC]:"Blank cells",[QO]:"Filter by condition",[JO]:"Filter by value",[ZO]:"And",[DC]:"Or",[eA]:"Select all",[tA]:"Clear",[nA]:"OK",[rA]:"Cancel",[oA]:"Search",[iA]:"Value",[sA]:"Second value",[lA]:"Checked",[uA]:"Unchecked"},A0e=O0e,cA=xU.languageCode,{register:P0e,getItem:RU,hasItem:I0e,getValues:N0e}=Bs("languagesDictionaries");EU(xU);function EU(t,e){let n=t,r=e;return Ot(t)&&(r=t,n=r.languageCode),H0e(n,r),P0e(n,_o(r)),_o(r)}function H0e(t,e){t!==cA&&x0e(e,RU(cA))}function kU(t){return hA(t)?_o(RU(t)):null}function hA(t){return I0e(t)}function D0e(){return N0e()}function TU(t,e,n){const r=kU(t);if(r===null)return null;const o=r[e];if(Tn(o))return null;const i=L0e(o,n);return Array.isArray(i)?i[0]:i}function L0e(t,e){let n=t;return F(M0e(),r=>{n=r(t,e)}),n}function j0e(t){let e=bU(t);return hA(e)||(e=cA,CU(t)),e}function W0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:String(e)}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class B0e extends j3{constructor(e,n){super(e,null),W0e(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:r}=e,o=this.getNearestNotHiddenCoords(n,1),i=this.getNearestNotHiddenCoords(r,-1);return o===null||i===null?null:((o.row>i.row||o.col>i.col)&&(o=n,i=r),this.settings.createCellRange(o,o,i))}getNearestNotHiddenCoords(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const o=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(o===null)return null;const i=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,r);return i===null?null:this.settings.createCellCoords(o,i)}getNearestNotHiddenIndex(e,n,r){return n<0?n:e.getNearestNotHiddenIndex(n,r)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),r=e.getVerticalDirection()==="N-S"?1:-1,o=e.getHorizontalDirection()==="W-E"?1:-1,i=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let s=null;if((i===null||i.col===null||i.row===null)&&(s=this.getNearestNotHiddenCoords(n,r,o)),s!==null&&e.overlaps(s)){const a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&i!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const r=this.settings.visualToRenderableCoords(e),o=this.settings.visualToRenderableCoords(n);return r.row===null||r.col===null||o.row===null||o.col===null?null:this.settings.createCellRange(r,r,o)}}const Bl=B0e;function dA(t){let{activeHeaderClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:W3})}function z0e(t){let{areaCornerVisible:e,...n}=t;return new Bl({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:p_})}function U0e(t){let{...e}=t;return new Bl({className:"highlight",...e,selectionType:p_})}function $0e(t){let{columnClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:abe})}function G0e(t){let{cellCornerVisible:e,...n}=t;return new Bl({className:"current",headerAttributes:[CM()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:v_})}function Y0e(t){let{border:e,visualCellRange:n,...r}=t;return new Bl({...e,...r,selectionType:lbe},n)}function q0e(t){let{...e}=t;return new Bl({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:ibe})}function MU(t){let{headerClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:m_})}function K0e(t){let{rowClassName:e,...n}=t;return new Bl({className:e,...n,selectionType:sbe})}let _U;function X0e(t,e){Q0e(t,e),e.add(t)}function Q0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ri(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=Z0e(t,"string");return typeof e=="symbol"?e:String(e)}function Z0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zl(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Da=new WeakSet;_U=Symbol.iterator;class eCe{constructor(e){X0e(this,Da),ri(this,"options",void 0),ri(this,"layerLevel",0),ri(this,"focus",void 0),ri(this,"fill",void 0),ri(this,"layeredAreas",new Map),ri(this,"areas",new Map),ri(this,"rowHeaders",new Map),ri(this,"columnHeaders",new Map),ri(this,"activeRowHeaders",new Map),ri(this,"activeColumnHeaders",new Map),ri(this,"activeCornerHeaders",new Map),ri(this,"rowHighlights",new Map),ri(this,"columnHighlights",new Map),ri(this,"customSelections",[]),this.options=e,this.focus=G0e(e),this.fill=q0e(e)}isEnabledFor(e,n){let r=e;e===v_&&(r="current");let o=this.options.disabledCellSelection(n.row,n.col);return typeof o=="string"&&(o=[o]),o===!1||Array.isArray(o)&&!o.includes(r)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return zl(this,Da,Ul).call(this,this.layeredAreas,z0e)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return zl(this,Da,Ul).call(this,this.areas,U0e)}getAreas(){return[...this.areas.values()]}createRowHeader(){return zl(this,Da,Ul).call(this,this.rowHeaders,MU)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return zl(this,Da,Ul).call(this,this.columnHeaders,MU)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return zl(this,Da,Ul).call(this,this.activeRowHeaders,dA)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return zl(this,Da,Ul).call(this,this.activeColumnHeaders,dA)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return zl(this,Da,Ul).call(this,this.activeCornerHeaders,dA)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return zl(this,Da,Ul).call(this,this.rowHighlights,K0e)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return zl(this,Da,Ul).call(this,this.columnHighlights,$0e)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(Y0e({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),F(this.areas.values(),e=>void e.clear()),F(this.layeredAreas.values(),e=>void e.clear()),F(this.rowHeaders.values(),e=>void e.clear()),F(this.columnHeaders.values(),e=>void e.clear()),F(this.activeRowHeaders.values(),e=>void e.clear()),F(this.activeColumnHeaders.values(),e=>void e.clear()),F(this.activeCornerHeaders.values(),e=>void e.clear()),F(this.rowHighlights.values(),e=>void e.clear()),F(this.columnHighlights.values(),e=>void e.clear())}[_U](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function Ul(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const r=e({layerLevel:n,...this.options});return t.set(n,r),r}let OU;function AU(t,e,n){return e=tCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tCe(t){var e=nCe(t,"string");return typeof e=="symbol"?e:String(e)}function nCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}OU=Symbol.iterator;class rCe{constructor(e){AU(this,"ranges",[]),AU(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[OU](){return this.ranges[Symbol.iterator]()}}function Cv(t,e){PU(t,e),e.add(t)}function fA(t,e,n){PU(t,e),e.set(t,n)}function PU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ut(t,e){var n=IU(t,e,"get");return oCe(t,n)}function oCe(t,e){return e.get?e.get.call(t):e.value}function oi(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function gA(t,e,n){var r=IU(t,e,"set");return iCe(t,r,n),n}function IU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function iCe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var jC=new WeakMap,on=new WeakMap,gc=new WeakMap,mA=new WeakSet,pA=new WeakSet,vA=new WeakSet,wA=new WeakSet,jh=new WeakSet;class NU{constructor(e,n){Cv(this,jh),Cv(this,wA),Cv(this,vA),Cv(this,pA),Cv(this,mA),fA(this,jC,{writable:!0,value:void 0}),fA(this,on,{writable:!0,value:void 0}),fA(this,gc,{writable:!0,value:{x:0,y:0}}),gA(this,jC,e),gA(this,on,n)}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;oi(this,mA,HU).call(this,{x:Ut(this,on).navigableHeaders()?Ut(this,on).countRowHeaders():0,y:Ut(this,on).navigableHeaders()?Ut(this,on).countColHeaders():0});const o=Ut(this,on).createCellCoords(e,n);let i=Ut(this,jC).current().highlight;const s=Ut(this,on).visualToRenderableCoords(i);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",o),s.row!==null&&s.col!==null){const{width:u,height:c}=oi(this,vA,LU).call(this),{row:h,col:d}=oi(this,wA,jU).call(this,i),g=Ut(this,on).fixedRowsBottom(),p=Ut(this,on).minSpareRows(),w=Ut(this,on).minSpareCols(),C=Ut(this,on).autoWrapRow(),v=Ut(this,on).autoWrapCol(),y=Ut(this,on).createCellCoords(h+o.row,d+o.col);if(y.row>=c){const _=Aa(r&&p>0&&g===0),T=y.col+1,O=Ut(this,on).createCellCoords(y.row-c,T>=u?T-u:T);this.runLocalHooks("beforeColumnWrap",_,oi(this,jh,Zf).call(this,O),T>=u),_.value?this.runLocalHooks("insertRowRequire",Ut(this,on).countRenderableRows()):v&&y.assign(O)}else if(y.row<0){const _=Aa(v),T=y.col-1,O=Ut(this,on).createCellCoords(c+y.row,T<0?u+T:T);this.runLocalHooks("beforeColumnWrap",_,oi(this,jh,Zf).call(this,O),T<0),v&&y.assign(O)}if(y.col>=u){const _=Aa(r&&w>0),T=y.row+1,O=Ut(this,on).createCellCoords(T>=c?T-c:T,y.col-u);this.runLocalHooks("beforeRowWrap",_,oi(this,jh,Zf).call(this,O),T>=c),_.value?this.runLocalHooks("insertColRequire",Ut(this,on).countRenderableColumns()):C&&y.assign(O)}else if(y.col<0){const _=Aa(C),T=y.row-1,O=Ut(this,on).createCellCoords(T<0?c+T:T,u+y.col);this.runLocalHooks("beforeRowWrap",_,oi(this,jh,Zf).call(this,O),T<0),C&&y.assign(O)}const{rowDir:x,colDir:M}=oi(this,pA,DU).call(this,y);a=x,l=M,i=oi(this,jh,Zf).call(this,y)}return this.runLocalHooks("afterTransformStart",i,a,l),i}transformEnd(e,n){oi(this,mA,HU).call(this,{x:Ut(this,on).navigableHeaders()?Ut(this,on).countRowHeaders():0,y:Ut(this,on).navigableHeaders()?Ut(this,on).countColHeaders():0});const r=Ut(this,on).createCellCoords(e,n),o=Ut(this,jC).current(),i=Ut(this,on).visualToRenderableCoords(o.highlight),s=o.to.clone();let a=0,l=0;if(this.runLocalHooks("beforeTransformEnd",r),i.row!==null&&i.col!==null){const{row:u,col:c}=oi(this,wA,jU).call(this,o.to),h=Ut(this,on).createCellCoords(u+r.row,c+r.col),{rowDir:d,colDir:g}=oi(this,pA,DU).call(this,h);a=d,l=g;const p=oi(this,jh,Zf).call(this,h);r.row===0&&r.col!==0?s.col=p.col:r.row!==0&&r.col===0?s.row=p.row:(s.row=p.row,s.col=p.col)}return this.runLocalHooks("afterTransformEnd",s,a,l),s}}function HU(t){let{x:e,y:n}=t;gA(this,gc,{x:e,y:n})}function DU(t){const{width:e,height:n}=oi(this,vA,LU).call(this);let r=0,o=0;return t.row<0?(r=-1,t.row=0):t.row>0&&t.row>=n&&(r=1,t.row=n-1),t.col<0?(o=-1,t.col=0):t.col>0&&t.col>=e&&(o=1,t.col=e-1),{rowDir:r,colDir:o}}function LU(){return{width:Ut(this,gc).x+Ut(this,on).countRenderableColumns(),height:Ut(this,gc).y+Ut(this,on).countRenderableRows()}}function jU(t){const{row:e,col:n}=Ut(this,on).visualToRenderableCoords(t);return Ut(this,on).createCellCoords(Ut(this,gc).y+e,Ut(this,gc).x+n)}function Zf(t){const e=t.clone();return e.col=t.col-Ut(this,gc).x,e.row=t.row-Ut(this,gc).y,Ut(this,on).renderableToVisualCoords(e)}bn(NU,ei);const WC=0,FC=1,WU=2,yA=3,sCe=[yA,WU],aCe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],bA=Symbol("root"),FU=Symbol("child");function eg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bA;if(e!==bA&&e!==FU)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),r=e===bA;let o=WC;if(n){const i=t[0];t.length===0?o=FC:r&&i instanceof t_?o=yA:r&&Array.isArray(i)?o=eg(i,FU):t.length>=2&&t.length<=4&&!t.some((s,a)=>!aCe[a].includes(typeof s))&&(o=WU)}return o}function Sv(t){let{createCellCoords:e,createCellRange:n,keepDirection:r=!1,propToCol:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sCe.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(i){const s=t===yA;let a=s?i.from.row:i[0],l=s?i.from.col:i[1],u=s?i.to.row:i[2],c=s?i.to.col:i[3];if(typeof o=="function"&&(typeof l=="string"&&(l=o(l)),typeof c=="string"&&(c=o(c))),Tn(u)&&(u=a),Tn(c)&&(c=l),!r){const g=a,p=l,w=u,C=c;a=Math.min(g,w),l=Math.min(p,C),u=Math.max(g,w),c=Math.max(p,C)}const h=e(a,l),d=e(u,c);return n(h,h,d)}}function lCe(t){const e=eg(t.getSelected());if(e===WC||e===FC)return[];const n=Sv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;F(t.getSelected(),i=>{const{from:s,to:a}=n(i),l=Math.max(s.col,0),u=a.col-l+1;F(Array.from(new Array(u),(c,h)=>l+h),c=>{r.has(c)||r.add(c)})});const o=Array.from(r).sort((i,s)=>i-s);return fo(o,(i,s,a,l)=>(a!==0&&s===l[a-1]+1?i[i.length-1][1]+=1:i.push([s,1]),i),[])}function uCe(t){const e=eg(t.getSelected());if(e===WC||e===FC)return[];const n=Sv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;F(t.getSelected(),i=>{const{from:s,to:a}=n(i),l=Math.max(s.row,0),u=a.row-l+1;F(Array.from(new Array(u),(c,h)=>l+h),c=>{r.has(c)||r.add(c)})});const o=Array.from(r).sort((i,s)=>i-s);return fo(o,(i,s,a,l)=>(a!==0&&s===l[a-1]+1?i[i.length-1][1]+=1:i.push([s,1]),i),[])}function cCe(t,e,n){hCe(t,e),e.set(t,n)}function hCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mc(t,e,n){return e=dCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dCe(t){var e=fCe(t,"string");return typeof e=="symbol"?e:String(e)}function fCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VU(t,e,n){var r=zU(t,e,"set");return gCe(t,r,n),n}function gCe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function BU(t,e){var n=zU(t,e,"get");return mCe(t,n)}function zU(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function mCe(t,e){return e.get?e.get.call(t):e.value}var xv=new WeakMap;class UU{constructor(e,n){var r=this;mc(this,"settings",void 0),mc(this,"tableProps",void 0),mc(this,"inProgress",!1),mc(this,"selectedRange",new rCe((o,i,s)=>this.tableProps.createCellRange(o,i,s))),mc(this,"highlight",void 0),mc(this,"transformation",void 0),mc(this,"selectedByRowHeader",new Set),mc(this,"selectedByColumnHeader",new Set),cCe(this,xv,{writable:!0,value:!1}),this.settings=e,this.tableProps=n,this.highlight=new eCe({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[CM()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(o,i)=>this.tableProps.isDisabledCellSelection(o,i),cellCornerVisible:function(){return r.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible(...arguments)},visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),createCellCoords:(o,i)=>this.tableProps.createCellCoords(o,i),createCellRange:(o,i,s)=>this.tableProps.createCellRange(o,i,s)}),this.transformation=new NU(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),countRowHeaders:()=>this.tableProps.countRowHeaders(),countColHeaders:()=>this.tableProps.countColHeaders(),visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),createCellCoords:(o,i)=>this.tableProps.createCellCoords(o,i),navigableHeaders:()=>e.navigableHeaders,fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformStart",...i)}),this.transformation.addLocalHook("afterTransformStart",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("afterModifyTransformStart",...i)}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformEnd",...i)}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("afterModifyTransformEnd",...i)}),this.transformation.addLocalHook("insertRowRequire",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("insertRowRequire",...i)}),this.transformation.addLocalHook("insertColRequire",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("insertColRequire",...i)}),this.transformation.addLocalHook("beforeRowWrap",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeRowWrap",...i)}),this.transformation.addLocalHook("beforeColumnWrap",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.runLocalHooks("beforeColumnWrap",...i)})}getSelectedRange(){return this.selectedRange}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}isInProgress(){return this.inProgress}setRangeStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const i=this.settings.selectionMode==="multiple",s=Tn(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();this.runLocalHooks(`beforeSetRangeStart${r?"Only":""}`,a),(!i||i&&!s&&Tn(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(o.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),r||this.setRangeEnd(e)}setRangeStartOnly(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,r)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),r=this.tableProps.countRows(),o=this.tableProps.countCols(),i=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((r>0||o>0)&&(r===0&&n.col<0&&!i||o===0&&n.row<0&&!i))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const s=this.selectedRange.current();this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single"?(s.setFrom(s.highlight),s.setTo(s.highlight)):s.setTo(n),r>0&&o>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet");const a=this.highlight.getFocus();a.clear(),this.highlight.isEnabledFor(v_,s.highlight)&&a.add(this.selectedRange.current().highlight).commit().syncWith(s);const l=this.getLayerLevel();l<this.highlight.layerLevel&&(F(this.highlight.getAreas(),y=>void y.clear()),F(this.highlight.getLayeredAreas(),y=>void y.clear()),F(this.highlight.getRowHeaders(),y=>void y.clear()),F(this.highlight.getColumnHeaders(),y=>void y.clear()),F(this.highlight.getActiveRowHeaders(),y=>void y.clear()),F(this.highlight.getActiveColumnHeaders(),y=>void y.clear()),F(this.highlight.getActiveCornerHeaders(),y=>void y.clear()),F(this.highlight.getRowHighlights(),y=>void y.clear()),F(this.highlight.getColumnHighlights(),y=>void y.clear())),this.highlight.useLayerLevel(l);const u=this.highlight.createArea(),c=this.highlight.createLayeredArea(),h=this.highlight.createRowHeader(),d=this.highlight.createColumnHeader(),g=this.highlight.createActiveRowHeader(),p=this.highlight.createActiveColumnHeader(),w=this.highlight.createActiveCornerHeader(),C=this.highlight.createRowHighlight(),v=this.highlight.createColumnHighlight();if(u.clear(),c.clear(),h.clear(),d.clear(),g.clear(),p.clear(),w.clear(),C.clear(),v.clear(),this.highlight.isEnabledFor(p_,s.highlight)&&(this.isMultiple()||l>=1)&&(u.add(s.from).add(s.to).commit(),c.add(s.from).add(s.to).commit(),l===1)){const y=this.selectedRange.previous();this.highlight.useLayerLevel(l-1),this.highlight.createArea().add(y.from).commit().syncWith(y),this.highlight.createLayeredArea().add(y.from).commit().syncWith(y),this.highlight.useLayerLevel(l)}if(this.highlight.isEnabledFor(m_,s.highlight)){if(!s.isSingleHeader()){const M=this.tableProps.createCellCoords(Math.max(s.from.row,0),-1),_=this.tableProps.createCellCoords(s.to.row,-1),T=this.tableProps.createCellCoords(-1,Math.max(s.from.col,0)),O=this.tableProps.createCellCoords(-1,s.to.col);this.settings.selectionMode==="single"?(h.add(M).commit(),d.add(T).commit(),C.add(M).commit(),v.add(T).commit()):(h.add(M).add(_).commit(),d.add(T).add(O).commit(),C.add(M).add(_).commit(),v.add(T).add(O).commit())}const y=!BU(this,xv)&&this.isEntireRowSelected()&&(o>0&&o===s.getWidth()||o===0&&this.isSelectedByRowHeader()),x=!BU(this,xv)&&this.isEntireColumnSelected()&&(r>0&&r===s.getHeight()||r===0&&this.isSelectedByColumnHeader());y&&g.add(this.tableProps.createCellCoords(Math.max(s.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(s.to.row,0),-1)).commit(),x&&p.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(s.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(s.to.col,0))).commit(),y&&x&&w.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}this.runLocalHooks("afterSetRangeEnd",e)}isMultiple(){const e=Aa(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.setRangeStart(this.transformation.transformStart(e,n,r))}transformEnd(e,n){this.setRangeEnd(this.transformation.transformEnd(e,n))}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{col:i}=o.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&i<0||s===0)&&o.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{row:i}=o.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&i<0||s===0)&&o.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const i=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),u=r?-l:0,c=n?-a:0;if(u===0&&c===0&&(i===0||s===0))return;let h=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:d,disableHeadersHighlight:g}=o;VU(this,xv,g),d&&Number.isInteger(d==null?void 0:d.row)&&Number.isInteger(d==null?void 0:d.col)&&(h=this.tableProps.createCellCoords(ki(d.row,u,i-1),ki(d.col,c,s-1)));const p=this.tableProps.createCellCoords(u,c),w=this.tableProps.createCellCoords(i-1,s-1);this.clear(),this.setRangeStartOnly(p,void 0,h),c<0&&this.selectedByRowHeader.add(this.getLayerLevel()),u<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(w),this.finish(),VU(this,xv,!1)}selectCells(e){var n=this;const r=eg(e);if(r===FC)return!1;if(r===WC)throw new Error(un`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const o=Sv(r,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),i=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:i?this.tableProps.countRowHeaders():0,countColHeaders:i?this.tableProps.countColHeaders():0},a=!e.some(l=>{const u=o(l),c=u.isValid(s);return!(c&&!u.containsHeaders()||c&&u.containsHeaders()&&u.isSingleHeader())});return a&&(this.clear(),F(e,l=>{const{from:u,to:c}=o(l);this.setRangeStartOnly(u.clone(),!1),this.setRangeEnd(c.clone()),this.finish()})),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=typeof e=="string"?this.tableProps.propToCol(e):e,i=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),u=l===0?0:-l,c=this.tableProps.createCellCoords(u,o),h=this.tableProps.createCellCoords(s-1,i),d=this.tableProps.createCellRange(c,c,h).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(d){const g=l===0?0:ki(r,u,-1),p=s-1,w=this.tableProps.createCellCoords(g,o),C=this.tableProps.createCellCoords(p,i),v=this.tableProps.createCellCoords(ki(r,u,s-1),o);this.runLocalHooks("beforeSelectColumns",w,C,v),w.row=g,C.row=p,this.setRangeStartOnly(w,void 0,v),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(C),this.runLocalHooks("afterSelectColumns",w,C,v),this.finish()}return d}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=this.tableProps.countRows(),i=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(e,a),u=this.tableProps.createCellCoords(n,i-1),c=this.tableProps.createCellRange(l,l,u).isValid({countRows:o,countCols:i,countRowHeaders:s,countColHeaders:0});if(c){const h=s===0?0:ki(r,a,-1),d=i-1,g=this.tableProps.createCellCoords(e,h),p=this.tableProps.createCellCoords(n,d),w=this.tableProps.createCellCoords(e,ki(r,a,i-1));this.runLocalHooks("beforeSelectRows",g,p,w),g.col=h,p.col=d,this.setRangeStartOnly(g,void 0,w),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(p),this.runLocalHooks("afterSelectRows",g,p,w),this.finish()}return c}refresh(){if(this.highlight.getCustomSelections().forEach(r=>{r.commit()}),!this.isSelected())return;const e=this.highlight.getFocus(),n=this.getLayerLevel();e.commit().syncWith(this.selectedRange.current());for(let r=0;r<this.selectedRange.size();r+=1){this.highlight.useLayerLevel(r);const o=this.highlight.createArea(),i=this.highlight.createLayeredArea(),s=this.highlight.createRowHeader(),a=this.highlight.createColumnHeader(),l=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),c=this.highlight.createActiveCornerHeader(),h=this.highlight.createRowHighlight(),d=this.highlight.createColumnHighlight();o.commit(),i.commit(),s.commit(),a.commit(),l.commit(),u.commit(),c.commit(),h.commit(),d.commit()}this.highlight.useLayerLevel(n)}}bn(UU,ei);const pCe=UU,$U=/^(\r\n|\n\r|\r|\n)/,vCe=/^[^\t\r\n]+/,GU=/^\t/;function wCe(t){const e=[[""]];if(t.length===0)return e;let n=0,r=0,o;for(;t.length>0&&o!==t.length;)if(o=t.length,t.match(GU))t=t.replace(GU,""),n+=1,e[r][n]="";else if(t.match($U))t=t.replace($U,""),n=0,r+=1,e[r]=[""];else{let i="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(s+=1),i+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}i=i.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const s=t.match(vCe);i=s?s[0]:"",t=t.slice(i.length)}e[r][n]=i}return e}function Rv(t){let e,n,r,o,i="",s;for(e=0,n=t.length;e<n;e+=1){for(o=t[e].length,r=0;r<o;r+=1)r>0&&(i+="	"),s=t[e][r],typeof s=="string"?s.indexOf(`
`)>-1?i+=`"${s.replace(/"/g,'""')}"`:i+=s:s==null?i+="":i+=s;e!==n-1&&(i+=`
`)}return i}function Wh(t,e,n){return e=yCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yCe(t){var e=bCe(t,"string");return typeof e=="symbol"?e:String(e)}function bCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tg{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,r){Wh(this,"hot",void 0),Wh(this,"metaManager",void 0),Wh(this,"tableMeta",void 0),Wh(this,"dataSource",void 0),Wh(this,"duckSchema",void 0),Wh(this,"colToPropCache",void 0),Wh(this,"propToColCache",void 0),this.hot=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=n,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let r;if(this.colToPropCache=[],this.propToColCache=new Map,n){let o=0,i=0,s=!1;if(typeof n=="function"){const a=OM(e);o=a>0?a:this.countFirstRowKeys(),s=!0}else{const a=this.tableMeta.maxCols;o=Math.min(a,n.length)}for(r=0;r<o;r++){const a=s?n(r):n[r];if(Ot(a)){if(typeof a.data<"u"){const l=s?i:r;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}i+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return uU(this.dataSource)}recursiveDuckColumns(e,n,r){let o=n,i=r,s;return typeof o>"u"&&(o=0,i=""),typeof e=="object"&&!Array.isArray(e)&&It(e,(a,l)=>{a===null?(s=i+l,this.colToPropCache.push(s),this.propToColCache.set(s,o),o+=1):o=this.recursiveDuckColumns(a,o,`${l}.`)}),o}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&Fe(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(Fe(n))return this.hot.toVisualColumn(n);const r=this.hot.toVisualColumn(e);return r===null?e:r}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Jp(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:o="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.hot.countSourceRows();let s=i,a=0,l=e;if((typeof l!="number"||l>=i)&&(l=i),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,n,r)===!1||s===null)return{delta:0};const u=this.tableMeta.maxRows,c=this.getSchema().length,h=[];for(;a<n&&i+a<u;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=_o(this.getSchema()):(g=[],Ke(c-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},Z0(g,this.getSchema())),h.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),o==="below"&&(s=Math.min(s+1,i)),this.spliceData(s,0,h);const d=this.hot.toVisualRow(s);return this.hot.countSourceRows()===h.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):r!=="auto"&&this.metaManager.createRow(s,n)),this.hot.runHooks("afterCreateRow",d,a,r),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:o="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const i=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols();let l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,n,r)===!1)return{delta:0};let u=a;l<this.hot.countCols()&&(u=this.hot.toPhysicalColumn(l));const c=this.hot.countSourceRows();let h=this.hot.countCols(),d=0,g=u;o==="end"&&(g=Math.min(g+1,a));const p=g;for(;d<n&&h<s;){if(typeof l!="number"||l>=h)if(c>0)for(let C=0;C<c;C+=1)typeof i[C]>"u"&&(i[C]=[]),i[C].push(null);else i.push([null]);else for(let C=0;C<c;C++)i[C].splice(g,0,null);d+=1,g+=1,h+=1}this.hot.columnIndexMapper.insertIndexes(l,d),d>0&&(e==null?this.metaManager.createColumn(null,d):r!=="auto"&&this.metaManager.createColumn(p,n));const w=this.hot.toVisualColumn(p);return this.hot.runHooks("afterCreateCol",w,d,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:d,startPhysicalIndex:p}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(e)?e:-n;const i=this.visualRowsToPhysical(o,n),s=this.hot.countSourceRows();if(o=(s+o)%s,this.hot.runHooks("beforeRemoveRow",o,i.length,i,r)===!1)return!1;const a=i.length;if(this.filterData(o,a,i),o<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(i);const l=Fe(this.tableMeta.columns)||Fe(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&l===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return i.slice(0).sort((l,u)=>u-l).forEach(l=>{this.metaManager.removeRow(l,1)}),this.hot.runHooks("afterRemoveRow",o,a,i,r),this.hot.forceFullRender=!0,!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let o=typeof e!="number"?-n:e;o=(this.hot.countCols()+o)%this.hot.countCols();const i=this.visualColumnsToPhysical(o,n),s=i.slice(0).sort((c,h)=>h-c);if(this.hot.runHooks("beforeRemoveCol",o,n,i,r)===!1)return!1;let a=!0;const l=s.length,u=this.dataSource;for(let c=0;c<l;c++)a&&i[0]!==i[c]-c&&(a=!1);if(a)for(let c=0,h=this.hot.countSourceRows();c<h;c++)u[c].splice(i[0],n),c===0&&this.metaManager.removeColumn(i[0],n);else for(let c=0,h=this.hot.countSourceRows();c<h;c++)for(let d=0;d<l;d++)u[c].splice(s[d],1),c===0&&this.metaManager.removeColumn(s[d],1);return o<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(i),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",o,n,i,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,n,r){const o=this.hot.getDataAtCol(e),i=o.slice(n,n+r),s=o.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];HB(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return Ome(l),this.hot.populateFromArray(n,e,l,null,null,"spliceCol"),i}spliceRow(e,n,r){const o=this.hot.getSourceDataAtRow(e),i=o.slice(n,n+r),s=o.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];HB(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return this.hot.populateFromArray(e,n,[l],null,null,"spliceRow"),i}spliceData(e,n,r){if(this.hot.runHooks("beforeDataSplice",e,n,r)!==!1){const o=[...this.dataSource.slice(0,e),...r,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(i=>this.dataSource.push(i))}}filterData(e,n,r){let o=this.hot.runHooks("filterData",e,n,r);Array.isArray(o)===!1&&(o=this.dataSource.filter((i,s)=>r.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}get(e,n){const r=this.hot.toPhysicalRow(e);let o=this.dataSource[r];const i=this.hot.runHooks("modifyRowData",r);o=isNaN(i)?i:o;let s=null;if(o&&o.hasOwnProperty&&Xn(o,n))s=o[n];else if(typeof n=="string"&&n.indexOf(".")>-1){const a=n.split(".");let l=o;if(!l)return null;for(let u=0,c=a.length;u<c;u++)if(l=l[a[u]],typeof l>"u")return null;s=l}else typeof n=="function"&&(s=n(this.dataSource.slice(r,r+1)[0]));if(this.hot.hasHook("modifyData")){const a=Aa(s);this.hot.runHooks("modifyData",r,this.propToCol(n),a,"get"),a.isTouched()&&(s=a.value)}return s}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,r){const o=this.hot.toPhysicalRow(e);let i=r,s=this.dataSource[o];const a=this.hot.runHooks("modifyRowData",o);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){const l=Aa(i);this.hot.runHooks("modifyData",o,this.propToCol(n),l,"set"),l.isTouched()&&(i=l.value)}if(s&&s.hasOwnProperty&&Xn(s,n))s[n]=i;else if(typeof n=="string"&&n.indexOf(".")>-1){const l=n.split(".");let u=s,c=0,h;for(c=0,h=l.length-1;c<h;c++)typeof u[l[c]]>"u"&&(u[l[c]]={}),u=u[l[c]];u[l[c]]=i}else typeof n=="function"?n(this.dataSource.slice(o,o+1)[0],i):s[n]=i}visualRowsToPhysical(e,n){const r=this.hot.countSourceRows(),o=[];let i=(r+e)%r,s=n,a;for(;i<r&&s;)a=this.hot.toPhysicalRow(i),o.push(a),s-=1,i+=1;return o}visualColumnsToPhysical(e,n){const r=this.hot.countCols(),o=[];let i=(r+e)%r,s=n;for(;i<r&&s;){const a=this.hot.toPhysicalColumn(i);o.push(a),s-=1,i+=1}return o}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(r,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,tg.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,r){const o=[];let i,s,a;const l=this.tableMeta.maxRows,u=this.tableMeta.maxCols;if(l===0||u===0)return[];const c=r===tg.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),d=Math.min(Math.max(u-1,0),Math.max(e.col,n.col));for(i=Math.min(e.row,n.row);i<=h;i++){a=[];const g=i>=0?this.hot.toPhysicalRow(i):i;for(s=Math.min(e.col,n.col);s<=d&&g!==null;s++)a.push(c.call(this,i,this.colToProp(s)));g!==null&&o.push(a)}return o}getText(e,n){return Rv(this.getRange(e,n,tg.DESTINATION_RENDERER))}getCopyableText(e,n){return Rv(this.getRange(e,n,tg.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}const{register:CCe,getItem:SCe,hasItem:YU,getNames:HFe,getValues:DFe}=Bs("cellTypes");function xCe(t){if(!YU(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return SCe(t)}function qs(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:r,validator:o}=e;n&&Ei(t,n),r&&as(t,r),o&&$f(t,o),CCe(t,e)}function RCe(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!Xn(e,t)}function VC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const r=typeof e.type=="string"?xCe(e.type):e.type;if(t._automaticallyAssignedMetaProps&&It(e,(i,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!Ot(r))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const o={};It(r,(i,s)=>{if(RCe(s,n)){var a;o[s]=i,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),yr(t,o)}function ECe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}rc(n,t);for(let r=0;r<e.length;r++)n.prototype[e[r]]=void 0;return n}function BC(t){return Number.isInteger(t)&&t>=0}function zC(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function UC(t){return t==null}const qU=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,r;for(e=0,n=this.countRows();e<n;e++)if(r=this.getDataAtCell(e,t),Tr(r)===!1)return!1;return!0},isEmptyRow(t){let e,n,r,o;for(e=0,n=this.countCols();e<n;e++)if(r=this.getDataAtCell(t,e),Tr(r)===!1)return typeof r=="object"?(o=this.getCellMeta(t,e),MM(this.getSchema()[o.prop],r)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function KU(t,e,n){return e=kCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kCe(t){var e=TCe(t,"string");return typeof e=="symbol"?e:String(e)}function TCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MCe(){return class{}}class _Ce{constructor(e){KU(this,"metaCtor",MCe()),KU(this,"meta",void 0),this.meta=this.metaCtor.prototype,yr(this.meta,qU()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;yr(this.meta,e),VC(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function OCe(t,e,n){return e=ACe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ACe(t){var e=PCe(t,"string");return typeof e=="symbol"?e:String(e)}function PCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ICe{constructor(e){OCe(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){yr(this.meta,e),VC(this.meta,e,e)}}let XU;function $C(t,e,n){return e=NCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NCe(t){var e=HCe(t,"string");return typeof e=="symbol"?e:String(e)}function HCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}XU=Symbol.iterator;class GC{constructor(e){$C(this,"valueFactory",void 0),$C(this,"data",[]),$C(this,"index",[]),$C(this,"holes",new Set),this.valueFactory=e}obtain(e){zC(()=>BC(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let r;if(n>=0)r=this.data[n],r===void 0&&(r=this.valueFactory(e),this.data[n]=r);else if(r=this.valueFactory(e),this.holes.size>0){const o=this.holes.values().next().value;this.holes.delete(o),this.data[o]=r,this.index[e]=o}else this.data.push(r),this.index[e]=this.data.length-1;return r}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;zC(()=>BC(e)||UC(e),"Expecting an unsigned number or null/undefined argument.");const r=[],o=this.data.length;for(let s=0;s<n;s++)r.push(o+s),this.data.push(void 0);const i=UC(e)?this.index.length:e;this.index=[...this.index.slice(0,i),...r,...this.index.slice(i)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;zC(()=>BC(e)||UC(e),"Expecting an unsigned number or null/undefined argument.");const r=this.index.splice(UC(e)?this.index.length-n:e,n);for(let o=0;o<r.length;o++){const i=r[o];typeof i=="number"&&this.holes.add(i)}}size(){return this.data.length-this.holes.size}values(){return os(this.data,(e,n)=>!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let r=0;r<this.data.length;r++){const o=this._getKeyByStorageIndex(r);o!==-1&&e.push([o,this.data[r]])}let n=0;return{next:()=>{if(n<e.length){const r=e[n];return n+=1,{value:r,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[XU](){return this.entries()}}function QU(t,e,n){return e=DCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DCe(t){var e=LCe(t,"string");return typeof e=="symbol"?e:String(e)}function LCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const jCe=["data","width"];class WCe{constructor(e){QU(this,"globalMeta",void 0),QU(this,"metas",new GC(()=>this._createMeta())),this.globalMeta=e,this.metas=new GC(()=>this._createMeta())}updateMeta(e,n){const r=this.getMeta(e);yr(r,n),VC(r,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return ECe(this.globalMeta.getMetaConstructor(),jCe).prototype}}function JU(t,e,n){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FCe(t){var e=VCe(t,"string");return typeof e=="symbol"?e:String(e)}function VCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BCe{constructor(e){JU(this,"columnMeta",void 0),JU(this,"metas",new GC(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,r){const o=this.getMeta(e,n);yr(o,r),VC(o,r)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).remove(e,n)}getMeta(e,n,r){const o=this.metas.obtain(e).obtain(n);return r===void 0?o:o[r]}setMeta(e,n,r,o){var i;const s=this.metas.obtain(e).obtain(n);(i=s._automaticallyAssignedMetaProps)===null||i===void 0||i.delete(r),s[r]=o}removeMeta(e,n,r){const o=this.metas.obtain(e).obtain(n);delete o[r]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let r=0;r<n.length;r++)e.push(...n[r].values());return e}getMetasAtRow(e){zC(()=>BC(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new GC(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class ZU{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new _Ce(e),this.tableMeta=new ICe(this.globalMeta),this.columnMeta=new WCe(this.globalMeta),this.cellMeta=new BCe(this.columnMeta),r.forEach(o=>new o(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,r){let{visualRow:o,visualColumn:i}=r;const s=this.cellMeta.getMeta(e,n);return s.visualRow=o,s.visualCol=i,s.row=e,s.col=n,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(e,n,r){if(typeof r!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,r)}setCellMeta(e,n,r,o){this.cellMeta.setMeta(e,n,r,o)}updateCellMeta(e,n,r){this.cellMeta.updateMeta(e,n,r)}removeCellMeta(e,n,r){this.cellMeta.removeMeta(e,n,r)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}bn(ZU,ei);function e$(t,e,n,r){const{hotInstance:o,dataMap:i,dataSource:s,internalSource:a,source:l,metaManager:u,firstRun:c}=r,h=Fs(a),d=o.getSettings();Array.isArray(d.dataSchema)?o.dataType="array":Mn(d.dataSchema)?o.dataType="function":o.dataType="object",i&&i.destroy(),t=o.runHooks(`before${h}`,t,c,l);const g=new tg(o,t,u);if(e(g),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const p=g.getSchema();t=[];let w,C=0,v=0;for(C=0,v=d.startRows;C<v;C++)if((o.dataType==="object"||o.dataType==="function")&&d.dataSchema)w=_o(p),t.push(w);else if(o.dataType==="array")w=_o(p[0]),t.push(w);else{w=[];for(let y=0,x=d.startCols;y<x;y++)w.push(null);t.push(w)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(o.dataType="array"),d.data=t,g.dataSource=t,s.data=t,s.dataType=o.dataType,s.colToProp=g.colToProp.bind(g),s.propToCol=g.propToCol.bind(g),s.countCachedColumns=g.countCachedColumns.bind(g),n(g),o.runHooks(`after${h}`,t,c,l),c||(o.runHooks("afterChange",null,a),o.render()),o.getSettings().ariaTags&&ct(o.rootElement,[XB(-1),$0(o.countCols()+(o.view?o.countRowHeaders():0))])}function t$(t,e,n){return e=zCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zCe(t){var e=UCe(t,"string");return typeof e=="symbol"?e:String(e)}function UCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Ce{constructor(e){t$(this,"metaManager",void 0),t$(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",n=>this.extendCellMeta(n)),ze.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:r,col:o}=e;if((n=this.metaSyncMemo.get(r))!==null&&n!==void 0&&n.has(o))return;const{visualRow:i,visualCol:s}=e,a=this.metaManager.hot,l=a.colToProp(s);e.prop=l,a.runHooks("beforeGetCellMeta",i,s,e);const u=Xn(e,"type")?e.type:null;let c=Mn(e.cells)?e.cells(r,o,l):null;if(u)if(c){var h;c.type=(h=c.type)!==null&&h!==void 0?h:u}else c={type:u};c&&this.metaManager.updateCellMeta(r,o,c),a.runHooks("afterGetCellMeta",i,s,e),this.metaSyncMemo.has(r)||this.metaSyncMemo.set(r,new Set),this.metaSyncMemo.get(r).add(o)}}function CA(t,e,n){return e=GCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GCe(t){var e=YCe(t,"string");return typeof e=="symbol"?e:String(e)}function YCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qCe{constructor(e){CA(this,"metaManager",void 0),CA(this,"usageTracker",new Set),CA(this,"propDescriptors",new Map([["ariaTags",{onChange(n,r,o){if(!o)throw new Error(`The \`${n}\` option can not be updated after the Handsontable instance was initialized.`)}}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange(n,r,o){if(!o)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}}]])),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{target:r,onChange:o=()=>{}}=e,i=typeof r=="string",s=i?r:n,a=`_${s}`;this.metaManager.globalMeta.meta[a]=this.metaManager.globalMeta.meta[s],this.installPropWatcher(n,a,o),i&&this.installPropWatcher(r,a,o)})}installPropWatcher(e,n,r){const o=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(i){const s=!o.usageTracker.has(e);o.usageTracker.add(e),r.call(o,e,i,s),this[n]=i},enumerable:!0,configurable:!0})}}const n$="gridDefault",SA="editorManager.handlingEditor",KCe={name:"editorCloseAndSave",callback(t,e,n){const r=t._getEditorManager();r.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),r.moveSelectionAfterEnter(n.includes("shift"))}},XCe={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},QCe={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},JCe={name:"editorOpen",callback(t,e,n){const r=t._getEditorManager(),{highlight:o}=t.getSelectedRangeLast();o.isHeader()||(t.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter():r.openEditor(null,e,!0):r.moveSelectionAfterEnter(n.includes("shift")),Vs(e))}};function ZCe(){return[KCe,XCe,QCe,JCe]}const eSe={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}},tSe={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(r!==null){const o=t._createCellCoords(r,e.col),i=e.row-t.view.getFirstFullyVisibleRow(),s=Math.min(o.row-i,t.countRows()-1);t.selection.setRangeEnd(o),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}},nSe={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}},rSe={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}},oSe={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,r.col,e.row)}},iSe={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1);e.setRangeStart(o.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,i.col))}}},sSe={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r}=t.getSelectedRangeLast();r.isCell()&&e.setRangeEnd(t._createCellCoords(e.selectedRange.current().from.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},aSe={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r}=t.getSelectedRangeLast();r.isCell()&&e.setRangeEnd(t._createCellCoords(e.selectedRange.current().from.row,n.getNearestNotHiddenIndex(0,1)))}},lSe={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);e.setRangeStart(o.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(i.row,a))}}},uSe={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);e.setRangeStart(o.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(i.row,a))}}},cSe={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:o,to:i}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1);e.setRangeStart(o.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,i.col))}}},hSe={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,r.row,e.col)}},dSe={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}},fSe={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(r!==null){const o=t._createCellCoords(r,e.col),i=e.row-t.view.getFirstFullyVisibleRow(),s=Math.max(o.row-i,0);t.selection.setRangeEnd(o),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function gSe(){return[eSe,tSe,nSe,rSe,oSe,iSe,sSe,aSe,lSe,uSe,cSe,hSe,dSe,fSe]}const mSe={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},pSe={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let o=t.countVisibleRows()+n;r===t.countRows()-1?o=1:r+o>t.countRows()&&(o=t.countRows()-r-1),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},vSe={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),r=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.transformStart(-r.row,-r.col)}},wSe={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),r=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.transformStart(r.row,r.col)}},ySe={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},bSe={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},CSe={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},SSe={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,o=parseInt(t.getSettings().fixedRowsBottom,10),i=n.getNearestNotHiddenIndex(t.countRows()-o-1,-1),s=r.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(i,s))}},xSe={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},RSe={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedColumnsStart,10),o=t.getSelectedRangeLast().highlight.row,i=n.getNearestNotHiddenIndex(r,1);e.setRangeStart(t._createCellCoords(o,i))}},ESe={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,r=t.getSelectedRangeLast().highlight.row;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);o===null&&(o=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(r,o))}},kSe={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:r}=t.getSelectedRangeLast().highlight;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);o===null&&(o=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(r,o))}},TSe={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},MSe={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,o=parseInt(t.getSettings().fixedRowsTop,10),i=parseInt(t.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(o,1),a=r.getNearestNotHiddenIndex(i,1);e.setRangeStart(t._createCellCoords(s,a))}},_Se={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},OSe={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let o=-(t.countVisibleRows()+n);r===-n?o=-1:r+o<n&&(o=-(r+n)),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function ASe(){return[mSe,pSe,vSe,wSe,ySe,bSe,CSe,SSe,xSe,RSe,ESe,kSe,TSe,MSe,_Se,OSe]}const PSe={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},ISe={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,r=t.view.getFirstFullyVisibleColumn()-1,o=t.view.getLastFullyVisibleRow()+1,i=t.view.getLastFullyVisibleColumn()+1,s=t._createCellCoords(n,r),a=t._createCellCoords(o,i);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){const l={};if(e.col>=0){const u=Math.floor(t.countVisibleCols()/2);l.col=Math.max(e.col-u,0)}if(e.row>=0){const u=Math.floor(t.countVisibleRows()/2);l.row=Math.max(e.row-u,0)}t.scrollViewportTo({...l,verticalSnap:"top",horizontalSnap:"start"})}}},NSe={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},HSe={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},DSe={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:r}=e[e.length-1].highlight.normalize(),o=t.getDataAtCell(n,r),i=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==n||l!==r)){const{readOnly:u}=t.getCellMeta(a,l);u||i.set(`${a}x${l}`,[a,l,o])}});t.setDataAtCell(Array.from(i.values()))}},LSe=[...ZCe(),...gSe(),...ASe(),PSe,ISe,NSe,HSe,DSe];function r$(t){const e={};return LSe.forEach(n=>{let{name:r,callback:o}=n;e[r]=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return o(t,...s)}}),e}function jSe(t){const e=t.getShortcutManager().addContext("editor"),n=r$(t),r={group:SA};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(o,i)=>n.editorCloseAndSave(o,i)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(o,i)=>n.editorCloseAndSave(o,i)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function WSe(t){const e=t.getShortcutManager().addContext("grid"),n=r$(t),r={runOnlyIf:()=>{const{navigableHeaders:o}=t.getSettings();return Fe(t.getSelected())&&(o||!o&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:n$};e.addShortcuts([{keys:[["F2"]],callback:o=>n.editorFastOpen(o)},{keys:[["Enter"],["Enter","Shift"]],callback:(o,i)=>n.editorOpen(o,i)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:SA,runOnlyIf:()=>Fe(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells()},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()&&t.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:()=>n.moveCellSelectionInlineStart()},{keys:[["Shift","Tab"]],preventDefault:!1,callback:()=>n.moveCellSelectionInlineEnd()},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function FSe(t){[jSe,WSe].forEach(e=>e(t))}function VSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,r=o$(t),o=o$(t);return r.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),o.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(r),n.lastChild.after(o),{activate(){t._registerTimeout(()=>{r.tabIndex=0,o.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{r.tabIndex=-1,o.tabIndex=-1},10)}}}function o$(t){const e=t.rootDocument.createElement("input");return e.type="text",e.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&ct(e,[_a(),Ll()]),e}function BSe(t){const e=zSe(t);let n;const{activate:r,deactivate:o}=VSe(t,{onFocusFromTop(){var h;const d=(h=e(n))!==null&&h!==void 0?h:xA(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_above",d),t.selectCell(d.row,d.col)),t.listen()},onFocusFromBottom(){var h;const d=(h=e(n))!==null&&h!==void 0?h:RA(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_below",d),t.selectCell(d.row,d.col)),t.listen()}}),i={wrapped:!1,flipped:!1};let s=!0,a=!1,l=!1;t.addHook("afterListen",()=>o()),t.addHook("afterUnlisten",()=>r()),t.addHook("afterSelection",(h,d,g,p,w)=>{if(a&&(i.wrapped&&i.flipped||l)&&(l=!1,w.value=!0),s){var C;n=(C=t.getSelectedRangeLast())===null||C===void 0?void 0:C.highlight}}),t.addHook("beforeRowWrap",(h,d,g)=>{i.wrapped=!0,i.flipped=g});function u(){i.wrapped=!1,i.flipped=!1,t.deselectCell(),t.unlisten()}const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:n$,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:h}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!h&&(s=!1),h||(l=!0)},position:"before"},{...c,callback:h=>{const{tabNavigation:d,autoWrapRow:g}=t.getSettings();if(a=!1,s=!0,!d||!t.selection.isSelected()||g&&i.wrapped&&i.flipped||!g&&i.wrapped)return g&&i.wrapped&&i.flipped&&(n=h.shiftKey?xA(t):RA(t)),u(),!1;h.preventDefault()},position:"after"}])}function xA(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:r}=t.getSettings();let o=r&&t.countColHeaders()>0?-t.countColHeaders():0,i=r&&t.countRowHeaders()>0?-t.countRowHeaders():0;return o===0&&(o=e.getVisualFromRenderableIndex(o)),i===0&&(i=n.getVisualFromRenderableIndex(i)),o===null||i===null?null:t._createCellCoords(o,i)}function RA(t){var e,n;const{rowIndexMapper:r,columnIndexMapper:o}=t,{navigableHeaders:i}=t.getSettings();let s=r.getRenderableIndexesLength()-1,a=o.getRenderableIndexesLength()-1;if(s<0){if(!i||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!i||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=r.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(n=o.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function zSe(t){return e=>{if(!e)return null;const n=xA(t),r=RA(t);return e.col<n.col&&(e.col=n.col),e.col>r.col&&(e.col=r.col),e.row<n.row&&(e.row=n.row),e.row>r.row&&(e.row=r.row),e}}const i$=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),YC=t=>t.map(e=>{const n=e.toLowerCase();return i$.has(n)?i$.get(n):n}).sort().join("+"),USe=t=>t.split("+"),s$=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),$Se=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),EA=t=>{let{key:e,code:n}=t,r=e;return s$.test(n)?r=n.replace(s$,"$1"):$Se.has(n)&&(r=n),r.toLowerCase()},a$=Symbol("shortcut-context");function l$(t){return Ot(t)&&t.__kindOf===a$}const GSe=t=>{const e=lC({errorIdExists:i=>`The "${i}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:i,callback:s,group:a,runOnlyIf:l=()=>!0,captureCtrl:u=!1,preventDefault:c=!0,stopPropagation:h=!1,relativeToGroup:d,position:g,forwardToContext:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Tn(a))throw new Error("You need to define the shortcut's group.");if(Mn(s)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(i)===!1)throw new Error(un`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const w={callback:s,group:a,runOnlyIf:l,captureCtrl:u,preventDefault:c,stopPropagation:h};Fe(d)&&([w.relativeToGroup,w.position]=[d,g]),l$(p)&&(w.forwardToContext=p),i.forEach(C=>{const v=YC(C);if(e.hasItem(v)){const y=e.getItem(v);let x=y.findIndex(M=>M.group===d);x!==-1?g==="before"?x-=1:x+=1:x=y.length,y.splice(x,0,w)}else e.addItem(v,[w])})},r=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.forEach(a=>{It(s,(l,u)=>{Object.prototype.hasOwnProperty.call(a,u)===!1&&(a[u]=s[u])}),n(a)})},o=i=>{const s=YC(i);e.removeItem(s)};return{__kindOf:a$,addShortcut:n,addShortcuts:r,getShortcuts:i=>{const s=YC(i),a=e.getItem(s);return Fe(a)?a.slice():[]},hasShortcut:i=>{const s=YC(i);return e.hasItem(s)},removeShortcutsByKeys:o,removeShortcutsByGroup:i=>{e.getItems().forEach(s=>{let[a,l]=s;const u=l.filter(c=>c.group!==i);u.length===0?o(USe(a)):(l.length=0,l.push(...u))})}}};function YSe(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const qSe=["meta","alt","shift","control"],Ev=YSe();let qC=0;function KSe(t,e,n,r,o){const i=h=>qSe.includes(h),s=function(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const g=[];return h.altKey&&g.push("alt"),d&&(h.ctrlKey||h.metaKey)?g.push("control/meta"):(h.ctrlKey&&g.push("control"),h.metaKey&&g.push("meta")),h.shiftKey&&g.push("shift"),g},a=h=>{if(e(h)===!1)return;const d=n(h);if(h.keyCode===229||d===!1||Mh(h))return;const g=EA(h);let p=[];i(g)||(p=s(h));const w=[g].concat(p);!o(h,w)&&(IM()&&p.includes("meta")||!IM()&&p.includes("control"))&&o(h,[g].concat(s(h,!0))),r(h)},l=h=>{const d=EA(h);i(d)&&Ev.press(d)},u=h=>{const d=EA(h);i(d)&&Ev.release(d)},c=()=>{Ev.releaseAll()};return{mount:()=>{let h=t;for(qC+=1;h;)qC===1&&(h.document.documentElement.addEventListener("keydown",l),h.document.documentElement.addEventListener("keyup",u)),h.document.documentElement.addEventListener("keydown",a),h.document.documentElement.addEventListener("blur",c),h=G0(h)},unmount:()=>{let h=t;for(qC-=1;h;)qC===0&&(h.document.documentElement.removeEventListener("keydown",l),h.document.documentElement.removeEventListener("keyup",u)),h.document.documentElement.removeEventListener("keydown",a),h.document.documentElement.removeEventListener("blur",c),h=G0(h)},isPressed:h=>Ev.isPressed(h),releasePressedKeys:()=>Ev.releaseAll()}}const XSe=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:r,afterKeyDown:o}=t;const i=lC({errorIdExists:p=>`The "${p}" context name is already registered.`});let s="grid";const a=p=>{const w=GSe(p);return i.addItem(p,w),w},l=()=>s,u=p=>i.getItem(p),c=p=>{if(!i.hasItem(p))throw new Error(un`You've tried to activate the "${p}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=p};let h=!1;const d=function(p,w){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const v=l$(C)?C:u(C);let y=!1;if(!v.hasShortcut(w))return y;const x=v.getShortcuts(w);for(let M=0;M<x.length;M++){const{callback:_,runOnlyIf:T,preventDefault:O,stopPropagation:I,captureCtrl:N,forwardToContext:L}=x[M];if(T(p)===!0){if(h=N,y=_(p,w)===!1,h=!1,O&&p.preventDefault(),I&&(Vs(p),p.stopPropagation()),y)break;L&&d(p,w,L)}}return y},g=KSe(e,n,r,o,d);return g.mount(),{addContext:a,getActiveContextName:l,getContext:u,setActiveContextName:c,isCtrlPressed:()=>!h&&(g.isPressed("control")||g.isPressed("meta")),releasePressedKeys:()=>g.releasePressedKeys(),destroy:()=>g.unmount()}};let kA=null;const TA=new Map;function u$(t,e){var n,r=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=this;const a=new zs(s);let l,u,c,h,d,g=!0;Fbe(o)&&Wbe(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const p=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",w=["rtl","ltr"].includes(p)?p:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",w),this.isRtl=function(){return w==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=j0e(e.language);const C=new ZU(s,e,[$Ce,qCe]),v=C.getTableMeta(),y=C.getGlobalMeta(),x=lC();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),EC(this)&&Nme(e.licenseKey,t),this.guid=`ht_${zB()}`,TA.set(this.guid,this),this.columnIndexMapper=new V_,this.rowIndexMapper=new V_,this.columnIndexMapper.addLocalHook("indexesSequenceChange",S=>{s.runHooks("afterColumnSequenceChange",S)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",S=>{s.runHooks("afterRowSequenceChange",S)}),u=new Zbe(s),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const M=S=>{const{row:R,col:k}=S;return s._createCellCoords(R>=0?s.rowIndexMapper.getRenderableFromVisualIndex(R):R,k>=0?s.columnIndexMapper.getRenderableFromVisualIndex(k):k)},_=S=>{const{row:R,col:k}=S;return s._createCellCoords(R>=0?s.rowIndexMapper.getVisualFromRenderableIndex(R):R,k>=0?s.columnIndexMapper.getVisualFromRenderableIndex(k):k)};let T=new pCe(v,{rowIndexMapper:s.rowIndexMapper,columnIndexMapper:s.columnIndexMapper,countCols:()=>s.countCols(),countRows:()=>s.countRows(),propToCol:S=>l.propToCol(S),isEditorOpened:()=>s.getActiveEditor()?s.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),getShortcutManager:()=>s.getShortcutManager(),createCellCoords:(S,R)=>s._createCellCoords(S,R),createCellRange:(S,R,k)=>s._createCellRange(S,R,k),visualToRenderableCoords:M,renderableToVisualCoords:_,isDisabledCellSelection:(S,R)=>S<0||R<0?s.getSettings().disableVisualSelection:s.getCellMeta(S,R).disableVisualSelection});this.selection=T;const O=S=>{let{hiddenIndexesChanged:R}=S;R&&this.selection.refresh()};this.columnIndexMapper.addLocalHook("cacheUpdated",O),this.rowIndexMapper.addLocalHook("cacheUpdated",O),this.selection.addLocalHook("afterSetRangeEnd",S=>{const R=Aa(!1),k=this.selection.getSelectedRange(),{from:D,to:W}=k.current(),V=k.size()-1;this.runHooks("afterSelection",D.row,D.col,W.row,W.col,R,V),this.runHooks("afterSelectionByProp",D.row,s.colToProp(D.col),W.row,s.colToProp(W.col),R,V);let he=!0;i&&(he=!1),R.isTouched()&&(he=!R.value);const te=this.selection.selectedRange.current(),we=this.selection.isSelectedByAnyHeader(),ye=this.selection.isSelectedByRowHeader(),pe=this.selection.isSelectedByColumnHeader();if(he!==!1)if(we)ye?this.scrollViewportTo({row:S.row}):pe&&this.scrollViewportTo({col:S.col});else if(te&&!this.selection.isMultiple()){const{row:$e,col:We}=te.from;$e<0&&We>=0?this.scrollViewportTo({col:We}):We<0&&$e>=0?this.scrollViewportTo({row:$e}):this.scrollViewportTo({row:$e,col:We})}else this.scrollViewportTo(S.toObject());ye&&pe?ke(this.rootElement,["ht__selection--rows","ht__selection--columns"]):ye?(Rt(this.rootElement,"ht__selection--columns"),ke(this.rootElement,"ht__selection--rows")):pe?(Rt(this.rootElement,"ht__selection--rows"),ke(this.rootElement,"ht__selection--columns")):Rt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",S=>{const R=S.length-1,{from:k,to:D}=S[R];this.runHooks("afterSelectionEnd",k.row,k.col,D.row,D.col,R),this.runHooks("afterSelectionEndByProp",k.row,s.colToProp(k.col),D.row,s.colToProp(D.col),R)}),this.selection.addLocalHook("afterIsMultipleSelection",S=>{const R=this.runHooks("afterIsMultipleSelection",S.value);S.value&&(S.value=R)}),this.selection.addLocalHook("afterDeselect",()=>{h.destroyEditor(),this._refreshBorders(),Rt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeSetRangeStart",...R)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeSetRangeStartOnly",...R)}).addLocalHook("beforeSetRangeEnd",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeSetRangeEnd",...R)}).addLocalHook("beforeSelectColumns",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeSelectColumns",...R)}).addLocalHook("afterSelectColumns",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("afterSelectColumns",...R)}).addLocalHook("beforeSelectRows",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeSelectRows",...R)}).addLocalHook("afterSelectRows",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("afterSelectRows",...R)}).addLocalHook("beforeModifyTransformStart",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("modifyTransformStart",...R)}).addLocalHook("afterModifyTransformStart",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("afterModifyTransformStart",...R)}).addLocalHook("beforeModifyTransformEnd",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("modifyTransformEnd",...R)}).addLocalHook("afterModifyTransformEnd",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("afterModifyTransformEnd",...R)}).addLocalHook("beforeRowWrap",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeRowWrap",...R)}).addLocalHook("beforeColumnWrap",function(){for(var S=arguments.length,R=new Array(S),k=0;k<S;k++)R[k]=arguments[k];return r.runHooks("beforeColumnWrap",...R)}).addLocalHook("insertRowRequire",S=>this.alter("insert_row_above",S,1,"auto")).addLocalHook("insertColRequire",S=>this.alter("insert_col_start",S,1,"auto")),c={alter(S,R){var k,D;let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=arguments.length>3?arguments[3]:void 0,he=arguments.length>4?arguments[4]:void 0;const te=we=>{if(we.length===0)return[];const ye=[...we];return ye.sort((pe,$e)=>{let[We]=pe,[Xe]=$e;return We===Xe?0:We>Xe?1:-1}),fo(ye,(pe,$e)=>{let[We,Xe]=$e;const Se=pe[pe.length-1],[le,mt]=Se,Qe=le+mt;if(We<=Qe){const et=Math.max(Xe-(Qe-We),0);Se[1]+=et}else pe.push([We,Xe]);return pe},[ye[0]])};switch(S){case"insert_row_below":case"insert_row_above":const we=s.countSourceRows();if(v.maxRows===we)return;const ye=S==="insert_row_below"?"below":"above";R=(k=R)!==null&&k!==void 0?k:ye==="below"?we:0;const{delta:pe,startPhysicalIndex:$e}=l.createRow(R,W,{source:V,mode:ye});if(pe){const Qe=T.selectedRange.current(),et=Qe==null?void 0:Qe.from,ft=et==null?void 0:et.row,He=s.toVisualRow($e);if(T.isSelectedByCorner())T.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(Fe(ft)&&ft>=He){const{row:A,col:H}=Qe.to;let j=et.col;T.isSelectedByRowHeader()&&(j=-1),T.getSelectedRange().pop(),T.setRangeStartOnly(s._createCellCoords(ft+pe,j),!0),T.setRangeEnd(s._createCellCoords(A+pe,H))}else s._refreshBorders()}break;case"insert_col_start":case"insert_col_end":const We=S==="insert_col_end"?"end":"start";R=(D=R)!==null&&D!==void 0?D:We==="end"?s.countSourceCols():0;const{delta:Xe,startPhysicalIndex:Se}=l.createCol(R,W,{source:V,mode:We});if(Xe){if(Array.isArray(v.colHeaders)){const A=[s.toVisualColumn(Se),0];A.length+=Xe,Array.prototype.splice.apply(v.colHeaders,A)}const Qe=T.selectedRange.current(),et=Qe==null?void 0:Qe.from,ft=et==null?void 0:et.col,He=s.toVisualColumn(Se);if(T.isSelectedByCorner())T.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(Fe(ft)&&ft>=He){const{row:A,col:H}=Qe.to;let j=et.row;T.isSelectedByColumnHeader()&&(j=-1),T.getSelectedRange().pop(),T.setRangeStartOnly(s._createCellCoords(j,ft+Xe),!0),T.setRangeEnd(s._createCellCoords(A,H+Xe))}else s._refreshBorders()}break;case"remove_row":const le=Qe=>{let et=0;F(Qe,ft=>{let[He,A]=ft;const H=Tr(He)?s.countRows()-1:Math.max(He-et,0);if(Number.isInteger(He)&&(He=Math.max(He-et,0)),!l.removeRow(He,A,V))return;const j=s.countRows(),Z=v.fixedRowsTop;Z>=H+1&&(v.fixedRowsTop-=Math.min(A,Z-H));const $=v.fixedRowsBottom;$&&H>=j-$&&(v.fixedRowsBottom-=Math.min(A,$)),et+=A})};Array.isArray(R)?le(te(R)):le([[R,W]]),c.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":const mt=Qe=>{let et=0;F(Qe,ft=>{let[He,A]=ft;const H=Tr(He)?s.countCols()-1:Math.max(He-et,0);let j=s.toPhysicalColumn(H);if(Number.isInteger(He)&&(He=Math.max(He-et,0)),!l.removeCol(He,A,V))return;const Z=v.fixedColumnsStart;Z>=H+1&&(v.fixedColumnsStart-=Math.min(A,Z-H)),Array.isArray(v.colHeaders)&&(typeof j>"u"&&(j=-1),v.colHeaders.splice(j,A)),et+=A})};Array.isArray(R)?mt(te(R)):mt([[R,W]]),c.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error(`There is no such action "${S}"`)}he||c.adjustRowsAndCols()},adjustRowsAndCols(){const S=v.minRows,R=v.minSpareRows,k=v.minCols,D=v.minSpareCols;if(s.countRows()===0&&s.countCols()===0&&T.deselect(),S){const W=s.countRows();W<S&&l.createRow(W,S-W,{source:"auto"})}if(R){const W=s.countEmptyRows(!0);if(W<R){const V=R-W,he=Math.min(V,v.maxRows-s.countSourceRows());l.createRow(s.countRows(),he,{source:"auto"})}}{let W;(k||D)&&(W=s.countEmptyCols(!0));let V=s.countCols();if(k&&!v.columns&&V<k){const he=k-V;W+=he,l.createCol(V,he,{source:"auto"})}if(D&&!v.columns&&s.dataType==="array"&&W<D){V=s.countCols();const he=D-W,te=Math.min(he,v.maxCols-V);l.createCol(V,te,{source:"auto"})}}if(T.isSelected()){const W=s.countRows(),V=s.countCols();F(T.selectedRange,he=>{let te=!1,we=he.from.row,ye=he.from.col,pe=he.to.row,$e=he.to.col;we>W-1?(we=W-1,te=!0,pe>we&&(pe=we)):pe>W-1&&(pe=W-1,te=!0,we>pe&&(we=pe)),ye>V-1?(ye=V-1,te=!0,$e>ye&&($e=ye)):$e>V-1&&($e=V-1,te=!0,ye>$e&&(ye=$e)),te&&(ye<0?s.selectRows(we,pe,ye):we<0?s.selectColumns(ye,$e,we):s.selectCell(we,ye,pe,$e))})}s.view&&s.view.adjustElementsSize()},populateFromArray(S,R,k,D,W){let V,he,te,we;const ye=[],pe={},$e=[],We=S.row,Xe=S.col;if(he=R.length,he===0)return!1;let Se=0,le=0;switch(Ot(k)&&(Se=k.col-Xe+1,le=k.row-We+1),W){case"shift_down":const mt=z0(R),Qe=mt.length,et=Math.max(Qe,Se),ft=s.getData().slice(We),He=z0(ft).slice(Xe,Xe+et);for(te=0;te<et;te+=1)if(te<Qe){for(V=0,he=mt[te].length;V<le-he;V+=1)mt[te].push(mt[te][V%he]);te<He.length?$e.push(mt[te].concat(He[te])):$e.push(mt[te].concat(new Array(ft.length).fill(null)))}else $e.push(mt[te%Qe].concat(He[te]));s.populateFromArray(We,Xe,z0($e));break;case"shift_right":const A=R.length,H=Math.max(A,le),j=s.getData().slice(We).map(re=>re.slice(Xe));for(V=0;V<H;V+=1)if(V<A){for(te=0,we=R[V].length;te<Se-we;te+=1)R[V].push(R[V][te%we]);if(V<j.length)for(let re=0;re<j[V].length;re+=1)R[V].push(j[V][re]);else R[V].push(...new Array(j[0].length).fill(null))}else R.push(R[V%he].slice(0,H).concat(j[V]));s.populateFromArray(We,Xe,R);break;case"overwrite":default:pe.row=S.row,pe.col=S.col;let Z=0,$=0,ee=!0,K;const q=function(re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const De=R[re%R.length];return Oe!==null?De[Oe%De.length]:De},oe=R.length,Q=k?k.row-S.row+1:0;for(k?he=Q:he=Math.max(oe,Q),V=0;V<he&&!(k&&pe.row>k.row&&Q>oe||!v.allowInsertRow&&pe.row>s.countRows()-1||pe.row>=v.maxRows);V++){const re=V-Z,Oe=q(re).length,De=k?k.col-S.col+1:0;if(k?we=De:we=Math.max(Oe,De),pe.col=S.col,K=s.getCellMeta(pe.row,pe.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&K.skipRowOnPaste){Z+=1,pe.row+=1,he+=1;continue}for($=0,te=0;te<we&&!(k&&pe.col>k.col&&De>Oe||!v.allowInsertColumn&&pe.col>s.countCols()-1||pe.col>=v.maxCols);te++){if(K=s.getCellMeta(pe.row,pe.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&K.skipColumnOnPaste){$+=1,pe.col+=1,we+=1;continue}if(K.readOnly&&D!=="UndoRedo.undo"){pe.col+=1;continue}const tt=te-$;let at=q(re,tt),pt=s.getDataAtCell(pe.row,pe.col);if(at!==null&&typeof at=="object")if(Array.isArray(at)&&pt===null&&(pt=[]),pt===null||typeof pt!="object")ee=!1;else{const ln=Jp(Array.isArray(pt)?pt:pt[0]||pt),St=Jp(Array.isArray(at)?at:at[0]||at);MM(ln,St)||Array.isArray(ln)&&Array.isArray(St)?at=_o(at):ee=!1}else pt!==null&&typeof pt=="object"&&(ee=!1);ee&&ye.push([pe.row,pe.col,at]),ee=!0,pe.col+=1}pe.row+=1}s.setDataAtCell(ye,null,null,D||"populateFromArray");break}}};function I(S){const R=bU(S);hA(R)?(s.runHooks("beforeLanguageChange",R),y.language=R,s.runHooks("afterLanguageChange",R)):CU(S)}function N(S,R){const k=S==="className"?s.rootElement:s.table;if(g)ke(k,R);else{let D=[],W=[];y[S]&&(D=Array.isArray(y[S])?y[S]:jB(y[S])),R&&(W=Array.isArray(R)?R:jB(R));const V=LB(D,W),he=LB(W,D);V.length&&Rt(k,V),he.length&&ke(k,he)}y[S]=R}this.init=function(){u.setData(v.data),s.runHooks("beforeInit"),(ic()||Az())&&ke(s.rootElement,"mobile"),this.updateSettings(v,!0),this.view=new $be(this),h=FM.getInstance(s,v,T),d=new uve(s),EC(this)&&BSe(s),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),g&&s.rootElement.offsetParent===null&&gpe(s.rootElement,()=>{s.view._wt.wtOverlays.updateLastSpreaderSize(),s.render(),s.view.adjustElementsSize()}),typeof g=="object"&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")};function L(){let S=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,S=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&S===!1&&(S=!0,this.onQueueEmpty(this.valid))}}}function B(S){const R=S.replace(",",".");return isNaN(parseFloat(R))===!1?parseFloat(R):S}function ae(S,R,k){if(!S.length)return;const D=s.getActiveEditor(),W=new L;let V=!0;W.onQueueEmpty=he=>{D&&V&&D.cancelChanges(),k(he)};for(let he=S.length-1;he>=0;he--){const[te,we,,ye]=S[he],pe=l.propToCol(we),$e=s.getCellMeta(te,pe);$e.type==="numeric"&&typeof ye=="string"&&pve(ye)&&(S[he][3]=B(ye)),s.getCellValidator($e)&&(W.addValidatorToQueue(),s.validateCell(S[he][3],$e,function(We,Xe){return function(Se){if(typeof Se!="boolean")throw new Error("Validation error: result is not boolean");if(Se===!1&&Xe.allowInvalid===!1){V=!1,S.splice(We,1),Xe.valid=!0;const le=s.getCell(Xe.visualRow,Xe.visualCol);le!==null&&Rt(le,v.invalidCellClassName)}W.removeValidatorFormQueue()}}(he,$e),R))}W.checkIfQueueIsEmpty()}function U(S,R){let k=S.length-1;if(k<0)return;for(;k>=0;k--){let W=!1;if(S[k]===null){S.splice(k,1);continue}if(!((S[k][2]===null||S[k][2]===void 0)&&(S[k][3]===null||S[k][3]===void 0))){if(v.allowInsertRow)for(;S[k][0]>s.countRows()-1;){const{delta:V}=l.createRow(void 0,void 0,{source:R});if(V===0){W=!0;break}}if(s.dataType==="array"&&(!v.columns||v.columns.length===0)&&v.allowInsertColumn)for(;l.propToCol(S[k][1])>s.countCols()-1;){const{delta:V}=l.createCol(void 0,void 0,{source:R});if(V===0){W=!0;break}}W||l.set(S[k][0],S[k][1],S[k][3])}}s.forceFullRender=!0,c.adjustRowsAndCols(),s.runHooks("beforeChangeRender",S,R),h.lockEditor(),s._refreshBorders(null),h.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",S,R||"edit");const D=s.getActiveEditor();D&&Fe(D.refreshValue)&&D.refreshValue()}this._createCellCoords=function(S,R){return s.view._wt.createCellCoords(S,R)},this._createCellRange=function(S,R,k){return s.view._wt.createCellRange(S,R,k)},this.validateCell=function(S,R,k,D){let W=s.getCellValidator(R);function V(he){if(!(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])||R.hidden===!0){k(he);return}const te=R.visualCol,we=R.visualRow,ye=s.getCell(we,te,!0);if(ye&&ye.nodeName!=="TH"){const pe=s.rowIndexMapper.getRenderableFromVisualIndex(we),$e=s.columnIndexMapper.getRenderableFromVisualIndex(te);s.view._wt.getSetting("cellRenderer",pe,$e,ye)}k(he)}Ame(W)&&(W=function(he){return function(te,we){we(he.test(te))}}(W)),Mn(W)?(S=s.runHooks("beforeValidate",S,R.visualRow,R.prop,D),s._registerImmediate(()=>{W.call(R,S,he=>{s&&(he=s.runHooks("afterValidate",he,S,R.visualRow,R.prop,D),R.valid=he,V(he),s.runHooks("postAfterValidate",he,S,R.visualRow,R.prop,D))})})):s._registerImmediate(()=>{R.valid=!0,V(R.valid,!1)})};function ce(S,R,k){return Array.isArray(S)?S:[[S,R,k]]}function ve(S,R){const k=s.getActiveEditor(),D=s.runHooks("beforeChange",S,R||"edit"),W=S.filter(V=>V!==null);return D===!1||W.length===0?(k&&k.cancelChanges(),[]):W}this.setDataAtCell=function(S,R,k,D){const W=ce(S,R,k),V=[];let he=D,te,we,ye;for(te=0,we=W.length;te<we;te++){if(typeof W[te]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof W[te][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");W[te][1]>=this.countCols()?ye=W[te][1]:ye=l.colToProp(W[te][1]),V.push([W[te][0],ye,u.getAtCell(this.toPhysicalRow(W[te][0]),W[te][1]),W[te][2]])}!he&&typeof S=="object"&&(he=R);const pe=ve(V,D);s.runHooks("afterSetDataAtCell",pe,he),ae(pe,he,()=>{U(pe,he)})},this.setDataAtRowProp=function(S,R,k,D){const W=ce(S,R,k),V=[];let he=D,te,we;for(te=0,we=W.length;te<we;te++)V.push([W[te][0],W[te][1],u.getAtCell(this.toPhysicalRow(W[te][0]),W[te][1]),W[te][2]]);!he&&typeof S=="object"&&(he=R);const ye=ve(V,D);s.runHooks("afterSetDataAtRowProp",ye,he),ae(ye,he,()=>{U(ye,he)})},this.listen=function(){s&&!s.isListening()&&(TA.forEach(S=>{s!==S&&S.unlisten()}),kA=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(kA=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return kA===s.guid},this.destroyEditor=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s._refreshBorders(S,R)},this.populateFromArray=function(S,R,k,D,W,V,he){if(!(typeof k=="object"&&typeof k[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const te=typeof D=="number"?s._createCellCoords(D,W):null;return c.populateFromArray(s._createCellCoords(S,R),k,te,V,he)},this.spliceCol=function(S,R,k){for(var D=arguments.length,W=new Array(D>3?D-3:0),V=3;V<D;V++)W[V-3]=arguments[V];return l.spliceCol(S,R,k,...W)},this.spliceRow=function(S,R,k){for(var D=arguments.length,W=new Array(D>3?D-3:0),V=3;V<D;V++)W[V-3]=arguments[V];return l.spliceRow(S,R,k,...W)},this.getSelected=function(){if(T.isSelected())return Pt(T.getSelectedRange(),S=>{let{from:R,to:k}=S;return[R.row,R.col,k.row,k.col]})},this.getSelectedLast=function(){const S=this.getSelected();let R;return S&&S.length>0&&(R=S[S.length-1]),R},this.getSelectedRange=function(){if(T.isSelected())return Array.from(T.getSelectedRange())},this.getSelectedRangeLast=function(){const S=this.getSelectedRange();let R;return S&&S.length>0&&(R=S[S.length-1]),R},this.emptySelectedCells=function(S){if(!T.isSelected()||this.countRows()===0||this.countCols()===0)return;const R=[];F(T.getSelectedRange(),k=>{if(k.isSingleHeader())return;const D=k.getTopStartCorner(),W=k.getBottomEndCorner();Ke(D.row,W.row,V=>{Ke(D.col,W.col,he=>{this.getCellMeta(V,he).readOnly||R.push([V,he,null])})})}),R.length>0&&this.setDataAtCell(R,S)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const S=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(S,0),!this.isRenderSuspended()&&S===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(h.lockEditor(),this._refreshBorders(null),h.unlockEditor()))},this.batchRender=function(S){this.suspendRender();const R=S();return this.resumeRender(),R},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(R,0),(!this.isExecutionSuspended()&&R===this.executionSuspendedCounter||S)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const k=S();return this.resumeExecution(R),k},this.batch=function(S){this.suspendRender(),this.suspendExecution();const R=S();return this.resumeExecution(),this.resumeRender(),R},this.refreshDimensions=function(){if(!s.view)return;const{width:S,height:R}=s.view.getLastSize(),{width:k,height:D}=s.rootElement.getBoundingClientRect(),W=k!==S||D!==R;s.runHooks("beforeRefreshDimensions",{width:S,height:R},{width:k,height:D},W)!==!1&&((W||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(k,D),s.render()),s.runHooks("afterRefreshDimensions",{width:S,height:R},{width:k,height:D},W))},this.updateData=function(S,R){e$(S,k=>{l=k},k=>{l=k,s.columnIndexMapper.fitToLength(this.getInitialColumnCount()),s.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols()},{hotInstance:s,dataMap:l,dataSource:u,internalSource:"updateData",source:R,metaManager:C,firstRun:g})},this.loadData=function(S,R){e$(S,k=>{l=k},()=>{C.clearCellsCache(),s.initIndexMappers(),c.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:l,dataSource:u,internalSource:"loadData",source:R,metaManager:C,firstRun:g})},this.getInitialColumnCount=function(){const S=v.columns;let R=0;if(Array.isArray(S))R=S.length;else if(Mn(S))if(s.dataType==="array"){const k=this.countSourceCols();for(let D=0;D<k;D+=1)S(D)&&(R+=1)}else(s.dataType==="object"||s.dataType==="function")&&(R=l.colToPropCache.length);else if(Fe(v.dataSchema)){const k=l.getSchema();R=Array.isArray(k)?k.length:OM(k)}else R=this.countSourceCols();return R},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(S,R,k,D){return Tn(S)?l.getAll():l.getRange(s._createCellCoords(S,R),s._createCellCoords(k,D),l.DESTINATION_RENDERER)},this.getCopyableText=function(S,R,k,D){return l.getCopyableText(s._createCellCoords(S,R),s._createCellCoords(k,D))},this.getCopyableData=function(S,R){return l.getCopyable(S,l.colToProp(R))},this.getSchema=function(){return l.getSchema()},this.updateSettings=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const k=(g?s.loadData:s.updateData).bind(this);let D=!1,W,V;if(Fe(S.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Fe(S.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Fe(S.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(W in S)W==="data"||(W==="language"?I(S.language):W==="className"?N("className",S.className):W==="tableClassName"&&s.table?(N("tableClassName",S.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):ze.getSingleton().isRegistered(W)||ze.getSingleton().isDeprecated(W)?(Mn(S[W])||Array.isArray(S[W]))&&(S[W].initialHook=!0,s.addHook(W,S[W])):!R&&Xn(S,W)&&(y[W]=S[W]));S.data===void 0&&v.data===void 0?k(null,"updateSettings"):S.data!==void 0?k(S.data,"updateSettings"):S.columns!==void 0&&(l.createMap(),s.initIndexMappers());const he=s.countCols(),te=v.columns;if(te&&Mn(te)&&(D=!0),(S.cell!==void 0||S.cells!==void 0||S.columns!==void 0)&&C.clearCache(),he>0)for(W=0,V=0;W<he;W++){if(te){const pe=D?te(W):te[V];pe&&C.updateColumnMeta(V,pe)}V+=1}Fe(S.cell)&&It(S.cell,pe=>{s.setCellMetaObject(pe.row,pe.col,pe)}),s.runHooks("afterCellMetaReset");let we=s.rootElement.style.height;we!==""&&(we=parseInt(s.rootElement.style.height,10));let ye=S.height;if(Mn(ye)&&(ye=ye()),R&&s.rootElement.getAttribute("style")&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style")),ye===null){const pe=s.rootElement.getAttribute("data-initialstyle");pe&&(pe.indexOf("height")>-1||pe.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",pe):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else ye!==void 0&&(s.rootElement.style.height=isNaN(ye)?`${ye}`:`${ye}px`,s.rootElement.style.overflow="hidden");if(typeof S.width<"u"){let pe=S.width;Mn(pe)&&(pe=pe()),s.rootElement.style.width=isNaN(pe)?`${pe}`:`${pe}px`}R||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",S)),c.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,h.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),h.unlockEditor()),!R&&s.view&&(we===""||ye===""||ye===void 0)&&we!==ye&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const S=s.getSelectedLast();if(v.getValue){if(Mn(v.getValue))return v.getValue.call(s);if(S)return s.getData()[S[0][0]][v.getValue]}else if(S)return s.getDataAtCell(S[0],S[1])},this.getSettings=function(){return v},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(S,R,k,D,W){c.alter(S,R,k,D,W)},this.getCell=function(S,R){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=R,W=S;if(R>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(R)))return null;D=this.columnIndexMapper.getRenderableFromVisualIndex(R)}if(S>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(S)))return null;W=this.rowIndexMapper.getRenderableFromVisualIndex(S)}return W===null||D===null?null:s.view.getCellAtCoords(s._createCellCoords(W,D),k)},this.getCoords=function(S){const R=this.view._wt.wtTable.getCoords(S);if(R===null)return null;const{row:k,col:D}=R;let W=k,V=D;return k>=0&&(W=this.rowIndexMapper.getVisualFromRenderableIndex(k)),D>=0&&(V=this.columnIndexMapper.getVisualFromRenderableIndex(D)),s._createCellCoords(W,V)},this.colToProp=function(S){return l.colToProp(S)},this.propToCol=function(S){return l.propToCol(S)},this.toVisualRow=S=>this.rowIndexMapper.getVisualFromPhysicalIndex(S),this.toVisualColumn=S=>this.columnIndexMapper.getVisualFromPhysicalIndex(S),this.toPhysicalRow=S=>this.rowIndexMapper.getPhysicalFromVisualIndex(S),this.toPhysicalColumn=S=>this.columnIndexMapper.getPhysicalFromVisualIndex(S),this.getDataAtCell=function(S,R){return l.get(S,l.colToProp(R))},this.getDataAtRowProp=function(S,R){return l.get(S,R)},this.getDataAtCol=function(S){const R=[],k=l.getRange(s._createCellCoords(0,S),s._createCellCoords(v.data.length-1,S),l.DESTINATION_RENDERER);for(let D=0;D<k.length;D+=1)for(let W=0;W<k[D].length;W+=1)R.push(k[D][W]);return R},this.getDataAtProp=function(S){const R=[],k=l.getRange(s._createCellCoords(0,l.propToCol(S)),s._createCellCoords(v.data.length-1,l.propToCol(S)),l.DESTINATION_RENDERER);for(let D=0;D<k.length;D+=1)for(let W=0;W<k[D].length;W+=1)R.push(k[D][W]);return R},this.getSourceData=function(S,R,k,D){let W;return S===void 0?W=u.getData():W=u.getByRange(s._createCellCoords(S,R),s._createCellCoords(k,D)),W},this.getSourceDataArray=function(S,R,k,D){let W;return S===void 0?W=u.getData(!0):W=u.getByRange(s._createCellCoords(S,R),s._createCellCoords(k,D),!0),W},this.getSourceDataAtCol=function(S){return u.getAtColumn(S)},this.setSourceDataAtCell=function(S,R,k,D){const W=ce(S,R,k),V=this.hasHook("afterSetSourceDataAtCell"),he=[];V&&F(W,we=>{let[ye,pe,$e]=we;he.push([ye,pe,u.getAtCell(ye,pe),$e])}),F(W,we=>{let[ye,pe,$e]=we;u.setAtCell(ye,pe,$e)}),V&&this.runHooks("afterSetSourceDataAtCell",he,D),this.render();const te=s.getActiveEditor();te&&Fe(te.refreshValue)&&te.refreshValue()},this.getSourceDataAtRow=function(S){return u.getAtRow(S)},this.getSourceDataAtCell=function(S,R){return u.getAtCell(S,R)},this.getDataAtRow=function(S){return l.getRange(s._createCellCoords(S,0),s._createCellCoords(S,this.countCols()-1),l.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(S,R,k,D){const W=S===void 0?[0,0,this.countRows(),this.countCols()]:[S,R,k,D],[V,he]=W;let[,,te,we]=W,ye=null,pe=null;te===void 0&&(te=V),we===void 0&&(we=he);let $e="mixed";return Ke(Math.max(Math.min(V,te),0),Math.max(V,te),We=>{let Xe=!0;return Ke(Math.max(Math.min(he,we),0),Math.max(he,we),Se=>(pe=this.getCellMeta(We,Se).type,ye?Xe=ye===pe:ye=pe,Xe)),$e=Xe?pe:"mixed",Xe}),$e},this.removeCellMeta=function(S,R,k){const[D,W]=[this.toPhysicalRow(S),this.toPhysicalColumn(R)];let V=C.getCellMetaKeyValue(D,W,k);s.runHooks("beforeRemoveCellMeta",S,R,k,V)!==!1&&(C.removeCellMeta(D,W,k),s.runHooks("afterRemoveCellMeta",S,R,k,V)),V=null},this.spliceCellsMeta=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var k=arguments.length,D=new Array(k>2?k-2:0),W=2;W<k;W++)D[W-2]=arguments[W];if(D.length>0&&!Array.isArray(D[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");R>0&&C.removeRow(this.toPhysicalRow(S),R),D.length>0&&F(D.reverse(),V=>{C.createRow(this.toPhysicalRow(S)),F(V,(he,te)=>this.setCellMetaObject(S,te,he))}),s.render()},this.setCellMetaObject=function(S,R,k){typeof k=="object"&&It(k,(D,W)=>{this.setCellMeta(S,R,W,D)})},this.setCellMeta=function(S,R,k,D){if(s.runHooks("beforeSetCellMeta",S,R,k,D)===!1)return;let W=S,V=R;S<this.countRows()&&(W=this.toPhysicalRow(S)),R<this.countCols()&&(V=this.toPhysicalColumn(R)),C.setCellMeta(W,V,k,D),s.runHooks("afterSetCellMeta",S,R,k,D)},this.getCellsMeta=function(){return C.getCellsMeta()},this.getCellMeta=function(S,R){let k=this.toPhysicalRow(S),D=this.toPhysicalColumn(R);return k===null&&(k=S),D===null&&(D=R),C.getCellMeta(k,D,{visualRow:S,visualColumn:R})},this.getCellMetaAtRow=function(S){return C.getCellsMetaAtRow(S)},this.isColumnModificationAllowed=function(){return!(s.dataType==="object"||v.columns)},this.getCellRenderer=function(S,R){const k=typeof S=="number"?s.getCellMeta(S,R).renderer:S.renderer;return typeof k=="string"?r3(k):Tn(k)?r3("text"):k},this.getCellEditor=function(S,R){const k=typeof S=="number"?s.getCellMeta(S,R).editor:S.editor;return typeof k=="string"?Lz(k):Tn(k)?Lz("text"):k},this.getCellValidator=function(S,R){const k=typeof S=="number"?s.getCellMeta(S,R).validator:S.validator;return typeof k=="string"?Ive(k):k},this.validateCells=function(S){this._validateCells(S)},this.validateRows=function(S,R){if(!Array.isArray(S))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(R,S)},this.validateColumns=function(S,R){if(!Array.isArray(S))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(R,void 0,S)},this._validateCells=function(S,R,k){const D=new L;S&&(D.onQueueEmpty=S);let W=s.countRows()-1;for(;W>=0;){if(R!==void 0&&R.indexOf(W)===-1){W-=1;continue}let V=s.countCols()-1;for(;V>=0;){if(k!==void 0&&k.indexOf(V)===-1){V-=1;continue}D.addValidatorToQueue(),s.validateCell(s.getDataAtCell(W,V),s.getCellMeta(W,V),he=>{if(typeof he!="boolean")throw new Error("Validation error: result is not boolean");he===!1&&(D.valid=!1),D.removeValidatorFormQueue()},"validateCells"),V-=1}W-=1}D.checkIfQueueIsEmpty()},this.getRowHeader=function(S){let R=v.rowHeaders,k=S;return k!==void 0&&(k=s.runHooks("modifyRowHeader",k)),k===void 0?(R=[],Ke(s.countRows()-1,D=>{R.push(s.getRowHeader(D))})):Array.isArray(R)&&R[k]!==void 0?R=R[k]:Mn(R)?R=R(k):R&&typeof R!="string"&&typeof R!="number"&&(R=k+1),R},this.hasRowHeaders=function(){return!!v.rowHeaders},this.hasColHeaders=function(){if(v.colHeaders!==void 0&&v.colHeaders!==null)return!!v.colHeaders;for(let S=0,R=s.countCols();S<R;S++)if(s.getColHeader(S))return!0;return!1},this.getColHeader=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const k=s.runHooks("modifyColHeader",S);if(k===void 0){const te=[],we=s.countCols();for(let ye=0;ye<we;ye++)te.push(s.getColHeader(ye));return te}let D=v.colHeaders;const W=function(te){const we=[],ye=s.countCols();let pe=0;for(;pe<ye;pe++)Mn(v.columns)&&v.columns(pe)&&we.push(pe);return we[te]},V=s.toPhysicalColumn(k),he=W(V);return v.colHeaders===!1?D=null:v.columns&&Mn(v.columns)&&v.columns(he)&&v.columns(he).title?D=v.columns(he).title:v.columns&&v.columns[V]&&v.columns[V].title?D=v.columns[V].title:Array.isArray(v.colHeaders)&&v.colHeaders[V]!==void 0?D=v.colHeaders[V]:Mn(v.colHeaders)?D=v.colHeaders(V):v.colHeaders&&typeof v.colHeaders!="string"&&typeof v.colHeaders!="number"&&(D=qbe(k)),D=s.runHooks("modifyColumnHeaderValue",D,S,R),D},this._getColWidthFromSettings=function(S){let R;if(S>=0&&(R=s.getCellMeta(0,S).width),(R===void 0||R===v.width)&&(R=v.colWidths),R!=null){switch(typeof R){case"object":R=R[S];break;case"function":R=R(S);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getColWidth=function(S){let R=s._getColWidthFromSettings(S);return R=s.runHooks("modifyColWidth",R,S),R===void 0&&(R=iv.DEFAULT_WIDTH),R},this._getRowHeightFromSettings=function(S){let R=v.rowHeights;if(R!=null){switch(typeof R){case"object":R=R[S];break;case"function":R=R(S);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getRowHeight=function(S){let R=s._getRowHeightFromSettings(S);return R=s.runHooks("modifyRowHeight",R,S),R},this.countSourceRows=function(){return u.countRows()},this.countSourceCols=function(){return u.countFirstRowKeys()},this.countRows=function(){return l.getLength()},this.countCols=function(){const S=v.maxCols,R=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(S,R)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return BM(s.countRows()-1,k=>{if(s.isEmptyRow(k))R+=1;else if(S===!0)return!1}),R},this.countEmptyCols=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return BM(s.countCols()-1,k=>{if(s.isEmptyCol(k))R+=1;else if(S===!0)return!1}),R},this.isEmptyRow=function(S){return v.isEmptyRow.call(s,S)},this.isEmptyCol=function(S){return v.isEmptyCol.call(s,S)},this.selectCell=function(S,R,k,D){let W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,V=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Tn(S)||Tn(R)?!1:this.selectCells([[S,R,k,D]],W,V)},this.selectCells=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;R===!1&&(i=!0);const D=T.selectCells(S);return D&&k&&s.listen(),i=!1,D},this.selectColumns=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,k=arguments.length>2?arguments[2]:void 0;return T.selectColumns(S,R,k)},this.selectRows=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,k=arguments.length>2?arguments[2]:void 0;return T.selectRows(S,R,k)},this.deselectCell=function(){T.deselect()},this.selectAll=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,k=arguments.length>2?arguments[2]:void 0;i=!0,T.selectAll(S,R,k),i=!1};const Me=(S,R)=>S.getNearestNotHiddenIndex(R,1,!0);this.scrollViewportTo=function(S){var R;if(typeof S=="number"){var k;S={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(k=arguments[4])!==null&&k!==void 0?k:!0}}const{row:D,col:W,verticalSnap:V,horizontalSnap:he,considerHiddenIndexes:te}=(R=S)!==null&&R!==void 0?R:{};let we,ye,pe,$e;V!==void 0&&(we=V==="top",ye=!we),he!==void 0&&(pe=he==="start",$e=!pe);let We=D,Xe=W;if(te===void 0||te){const mt=Number.isInteger(D)&&D>=0,Qe=Number.isInteger(W)&&W>=0,et=mt?Me(this.rowIndexMapper,D):void 0,ft=Qe?Me(this.columnIndexMapper,W):void 0;if(et===null||ft===null)return!1;We=mt?s.rowIndexMapper.getRenderableFromVisualIndex(et):D,Xe=Qe?s.columnIndexMapper.getRenderableFromVisualIndex(ft):W}const Se=Number.isInteger(We),le=Number.isInteger(Xe);return Se&&We>=0&&le&&Xe>=0?s.view.scrollViewport(s._createCellCoords(We,Xe),we,$e,ye,pe):Se&&We>=0&&(le&&Xe<0||!le)?s.view.scrollViewportVertically(We,we,ye):le&&Xe>=0&&(Se&&We<0||!Se)?s.view.scrollViewportHorizontally(Xe,$e,pe):!1},this.scrollToFocusedCell=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",S);const{highlight:R}=this.getSelectedRangeLast();this.scrollViewportTo(R.toObject())?this.view.render():(this.removeHook("afterScroll",S),this._registerImmediate(()=>S()))},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),u&&u.destroy(),u=null,this.getShortcutManager().destroy(),C.clearCache(),TA.delete(this.guid),EC(s)){const S=this.rootDocument.querySelector(".hot-display-license-info");S&&S.parentNode.removeChild(S)}Oa(s.rootElement),a.destroy(),h&&h.destroy(),s.batchExecution(()=>{s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),x.getItems().forEach(S=>{let[,R]=S;R.destroy()}),x.clear(),s.runHooks("afterDestroy")},!0),ze.getSingleton().destroy(s),It(s,(S,R,k)=>{Mn(S)?k[R]=Ce(R):R!=="guid"&&(k[R]=null)}),s.isDestroyed=!0,l&&l.destroy(),l=null,c=null,T=null,h=null,s=null};function Ce(S){return()=>{throw new Error(`The "${S}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return h.getActiveEditor()},this.getPlugin=function(S){const R=Fs(S);return R==="UndoRedo"?this.undoRedo:x.getItem(R)},this.getPluginName=function(S){return S===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:x.getId(S)},this.getInstance=function(){return s},this.addHook=function(S,R){ze.getSingleton().add(S,R,s)},this.hasHook=function(S){return ze.getSingleton().has(S,s)||ze.getSingleton().has(S)},this.addHookOnce=function(S,R){ze.getSingleton().once(S,R,s)},this.removeHook=function(S,R){ze.getSingleton().remove(S,R,s)},this.runHooks=function(S,R,k,D,W,V,he){return ze.getSingleton().run(s,S,R,k,D,W,V,he)},this.getTranslatedPhrase=function(S,R){return TU(v.language,S,R)},this.toHTML=()=>Kz(this),this.toTableElement=()=>{const S=this.rootDocument.createElement("div");return S.insertAdjacentHTML("afterbegin",Kz(this)),S.firstElementChild},this.timeouts=[],this._registerTimeout=function(S){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=S;typeof k=="function"&&(k=setTimeout(k,R)),this.timeouts.push(k)},this._clearTimeouts=function(){F(this.timeouts,S=>{clearTimeout(S)})},this.immediates=[],this._registerImmediate=function(S){this.immediates.push(setImmediate(S))},this._clearImmediates=function(){F(this.immediates,S=>{clearImmediate(S)})},this._refreshBorders=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h.destroyEditor(S),s.view.render(),R&&T.isSelected()&&h.prepareEditor()},this._getEditorManager=function(){return h},this.isRtl=function(){return s.rootWindow.getComputedStyle(s.rootElement).direction==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};const ne=XSe({handleEvent(){return s.isListening()},beforeKeyDown:S=>this.runHooks("beforeKeyDown",S),afterKeyDown:S=>{this.isDestroyed||s.runHooks("afterDocumentKeyDown",S)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",S=>{S.ctrlKey===!1&&S.metaKey===!1&&ne.releasePressedKeys()}),this.getShortcutManager=function(){return ne},this.getFocusManager=function(){return d},t3().forEach(S=>{const R=GM(S);x.addItem(S,new R(this))}),FSe(s),ne.setActiveContextName("grid"),ze.getSingleton().run(s,"construct")}const QSe="hooksRefRegisterer",c$={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){F(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){It(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};jl(c$,"MIXIN_NAME",QSe,{writable:!1,enumerable:!1});const JSe=c$;function Ks(t,e,n){return e=ZSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZSe(t){var e=e1e(t,"string");return typeof e=="symbol"?e:String(e)}function e1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const t1e="base",br=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),MA="baseEditor";class ng{static get EDITOR_TYPE(){return t1e}constructor(e){Ks(this,"hot",void 0),Ks(this,"state",br.VIRGIN),Ks(this,"_opened",!1),Ks(this,"_fullEditMode",!1),Ks(this,"_closeCallback",null),Ks(this,"TD",null),Ks(this,"row",null),Ks(this,"col",null),Ks(this,"prop",null),Ks(this,"originalValue",null),Ks(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,r,o,i,s){this.TD=o,this.row=e,this.col=n,this.prop=r,this.originalValue=i,this.cellProperties=s,this.state=br.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let r,o,i,s;if(n){const c=this.hot.getSelectedLast();r=Math.max(Math.min(c[0],c[2]),0),o=Math.max(Math.min(c[1],c[3]),0),i=Math.max(c[0],c[2]),s=Math.max(c[1],c[3])}else[r,o,i,s]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",r,o);Array.isArray(a)&&([r,o]=a);const l=this.hot.getShortcutManager().getContext("editor"),u={runOnlyIf:()=>Fe(this.hot.getSelected()),group:MA};this.isInFullEditMode()&&l.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],u),this.hot.populateFromArray(r,o,e,i,s,"edit")}beginEditing(e,n){if(this.state!==br.VIRGIN)return;const r=this.hot,o=r.rowIndexMapper.getRenderableFromVisualIndex(this.row),i=r.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(r.view.scrollViewport(r._createCellCoords(o,i)),this.state=br.EDITING,this.isInFullEditMode()){const s=typeof e=="string"?e:fr(this.originalValue);this.setValue(s)}this.open(n),this._opened=!0,this.focus(),r.view.render(),r.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,n,r){let o;if(r){const s=this._closeCallback;this._closeCallback=a=>{s&&s(a),r(a),this.hot.view.render()}}if(this.isWaiting())return;const i=this.hot.getShortcutManager().getContext("editor");if(i.removeShortcutsByGroup(MA),i.removeShortcutsByGroup(tC),this.state===br.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===br.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const s=this.getValue();this.cellProperties.trimWhitespace?o=[[typeof s=="string"?String.prototype.trim.call(s||""):s]]:o=[[s]],this.state=br.WAITING,this.saveValue(o,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",a=>{this.state=br.FINISHED,this.discardEditor(a)}):(this.state=br.FINISHED,this.discardEditor(!0))}}cancelChanges(){this.state=br.FINISHED,this.discardEditor()}discardEditor(e){this.state===br.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=br.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=br.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===br.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:r,wtViewport:o}=this.hot.view._wt,i=this.hot.rootWindow,s=Dr(n),a=pn(n),l=Dr(this.hot.rootElement),u=pn(this.hot.rootElement),c=r.topOverlay.holder,h=r.inlineStartOverlay.holder,d=c!==i?c.scrollTop:0,g=h!==i?h.scrollLeft:0,p=i.innerWidth-l.left-u,{wtTable:w}=(e=r.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,C=w.name,v=["master","inline_start"].includes(C)?d:0,y=["master","top","bottom"].includes(C)?g:0,x=s.top===l.top?0:1;let M=s.top-l.top-x-v,_=0;this.hot.isRtl()?_=i.innerWidth-s.left-a-p-1+y:_=s.left-l.left-1-y,["top","top_inline_start_corner"].includes(C)&&(M+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(C)&&(_+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));const T=this.hot.hasColHeaders(),O=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),I=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),N=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(T&&O<=0||O===N)&&(M+=1),I<=0&&(_+=1);const L=o.rowsRenderCalculator.startPosition,B=o.columnsRenderCalculator.startPosition,ae=Math.abs(r.inlineStartOverlay.getScrollPosition()),U=r.topOverlay.getScrollPosition(),ce=Lr(this.hot.rootDocument);let ve=n.offsetTop;if(["inline_start","master"].includes(C)&&(ve+=L-U),["bottom","bottom_inline_start_corner"].includes(C)){const{wtViewport:we,wtTable:ye}=r.bottomOverlay.clone;ve+=we.getWorkspaceHeight()-ye.getHeight()-ce}let Me=n.offsetLeft;this.hot.isRtl()?(Me>=0?Me=w.getWidth()-n.offsetLeft:Me=Math.abs(Me),Me+=B-ae-a):["top","master","bottom"].includes(C)&&(Me+=B-ae);const Ce=tc(this.TD,this.hot.rootWindow),ne=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",S=parseInt(Ce[ne],10)>0?0:1,R=parseInt(Ce.borderTopWidth,10)>0?0:1,k=pn(n)+S,D=Kn(n)+R,W=dpe(c)?ce:0,V=fpe(h)?ce:0,he=this.hot.view.maximumVisibleElementWidth(Me)-W+S,te=Math.max(this.hot.view.maximumVisibleElementHeight(ve)-V+R,23);return{top:M,start:_,height:D,maxHeight:te,width:k,maxWidth:he}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}bn(ng,JSe);function h$(t,e,n){t.addEventListener(e,n,!1)}function d$(t,e,n){t.removeEventListener(e,n,!1)}function f$(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function n1e(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,r=t.createTextNode(""),o=t.createElement("span");let i;function s(){r.textContent=i.value,o.style.position="absolute",o.style.fontSize=f$(i).fontSize,o.style.fontFamily=f$(i).fontFamily,o.style.whiteSpace="pre",n.appendChild(o);const c=o.clientWidth+2;n.removeChild(o);const h=i.style;h.height=`${e.minHeight}px`,e.minWidth>c?h.width=`${e.minWidth}px`:c>e.maxWidth?h.width=`${e.maxWidth}px`:h.width=`${c}px`;const d=i.scrollHeight?i.scrollHeight-1:0;e.minHeight>d?h.height=`${e.minHeight}px`:e.maxHeight<d?(h.height=`${e.maxHeight}px`,h.overflowY="visible"):h.height=`${d}px`}function a(){t.defaultView.setTimeout(s,0)}function l(c){if(c&&c.minHeight)if(c.minHeight==="inherit")e.minHeight=i.clientHeight;else{const h=parseInt(c.minHeight,10);isNaN(h)||(e.minHeight=h)}if(c&&c.maxHeight)if(c.maxHeight==="inherit")e.maxHeight=i.clientHeight;else{const h=parseInt(c.maxHeight,10);isNaN(h)||(e.maxHeight=h)}if(c&&c.minWidth)if(c.minWidth==="inherit")e.minWidth=i.clientWidth;else{const h=parseInt(c.minWidth,10);isNaN(h)||(e.minWidth=h)}if(c&&c.maxWidth)if(c.maxWidth==="inherit")e.maxWidth=i.clientWidth;else{const h=parseInt(c.maxWidth,10);isNaN(h)||(e.maxWidth=h)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(r))}function u(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;i=c,l(h),i.nodeName==="TEXTAREA"&&(i.style.resize="none",i.style.overflowY="",i.style.height=`${e.minHeight}px`,i.style.minWidth=`${e.minWidth}px`,i.style.maxWidth=`${e.maxWidth}px`,i.style.overflowY="hidden"),d&&(h$(i,"input",s),h$(i,"keydown",a)),s()}return{init:u,resize:s,unObserve(){d$(i,"input",s),d$(i,"keydown",a)}}}function g$(t,e){const n=sz(e),r=e.value.split(`
`);let o=n,i=0;for(let s=0;s<r.length;s++){const a=r[s];s!==0&&(i+=r[s-1].length+1);const l=i+a.length;if(t==="home"?o=i:t==="end"&&(o=l),n<=l)break}K0(e,o)}function Fh(t,e,n){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=o1e(t,"string");return typeof e=="symbol"?e:String(e)}function o1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const i1e="ht_editor_visible",KC="ht_editor_hidden",m$="textEditor",s1e="text";class Vh extends ng{static get EDITOR_TYPE(){return s1e}constructor(e){super(e),Fh(this,"eventManager",new zs(this)),Fh(this,"autoResize",n1e(this.hot.rootDocument)),Fh(this,"TEXTAREA",void 0),Fh(this,"textareaStyle",void 0),Fh(this,"TEXTAREA_PARENT",void 0),Fh(this,"textareaParentStyle",void 0),Fh(this,"layerClass",void 0),this.eventManager=new zs(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),spe(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,r,o,i,s){const a=this.state;if(super.prepare(e,n,r,o,i,s),!s.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=s;l&&(this.TEXTAREA.value=""),a!==br.FINISHED&&this.hideEditableElement()}}beginEditing(e,n){this.state===br.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),K0(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),ct(this.TEXTAREA,[["data-hot-input",""],jf(-1)]),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[Ll()]),ke(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),ke(this.TEXTAREA_PARENT,"handsontableInputHolder"),yt(this.TEXTAREA_PARENT,this.layerClass)&&Rt(this.TEXTAREA_PARENT,this.layerClass),ke(this.TEXTAREA_PARENT,KC),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){Wpe()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Rt(this.TEXTAREA_PARENT,this.layerClass),ke(this.TEXTAREA_PARENT,KC)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Ke(e.length-1,r=>{const o=e[r];if(yt(o,"handsontableEditor"))return n=!0,!1}),yt(this.TEXTAREA_PARENT,KC)&&Rt(this.TEXTAREA_PARENT,KC),n?(this.layerClass=i1e,ke(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ke(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==br.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:r,width:o,maxWidth:i,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${r}px`,this.showEditableElement();const l=tc(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const u=tc(this.TEXTAREA),c=parseInt(u.paddingLeft,10)+parseInt(u.paddingRight,10),h=parseInt(u.paddingTop,10)+parseInt(u.paddingBottom,10),d=o-c,g=s-h,p=i-c,w=a-h;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(d,p),minHeight:Math.min(g,w),maxWidth:p,maxHeight:w},!0)}bindEvents(){Oz()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===br.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===br.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("editor"),r=e.getContext("grid"),o={runOnlyIf:()=>Fe(this.hot.getSelected()),group:m$},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Tab"],["Shift","Tab"],["PageUp"],["PageDown"]],forwardToContext:r,callback:()=>{}},{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:s=>!this.hot.selection.isMultiple()&&!s.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(s,a)=>{let[l]=a;g$(l,this.TEXTAREA)}},{keys:[["End"]],callback:(s,a)=>{let[l]=a;g$(l,this.TEXTAREA)}}],o)}unregisterShortcuts(){const e=this.hot.getShortcutManager().getContext("editor");e.removeShortcutsByGroup(tC),e.removeShortcutsByGroup(m$),e.removeShortcutsByGroup(MA)}}const a1e="base";function kv(t,e,n,r,o,i,s){const a=s.ariaTags,l=[],u=[],c=[],h=[];s.className&&ke(e,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(JB())):a&&c.push(JB()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(ZB())):(u.push(s.invalidCellClassName),a&&c.push(ZB()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!i&&s.placeholder&&l.push(s.placeholderCellClassName),Rt(e,u),ke(e,l),Wf(e,c),ct(e,h)}kv.RENDERER_TYPE=a1e;const l1e="text";function $l(t,e,n,r,o,i,s){kv.apply(this,[t,e,n,r,o,i,s]);let a=i;if(!a&&s.placeholder&&(a=s.placeholder),a=fr(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Oa(e);const l=t.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=t.getSourceDataAtRow(n),e.appendChild(l)}else kh(e,a)}$l.RENDERER_TYPE=l1e;const u1e="text",p$={CELL_TYPE:u1e,editor:Vh,renderer:$l};qs(p$),Ti.editors={BaseEditor:ng};function Ti(t,e){const n=new u$(t,e||{},T_);return n.init(),n}Ti.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new u$(t,e,T_)},Ti.DefaultSettings=qU(),Ti.hooks=ze.getSingleton(),Ti.CellCoords=mC,Ti.CellRange=t_,Ti.packageName="handsontable",Ti.buildDate="16/01/2024 10:27:23",Ti.version="14.1.0",Ti.languages={dictionaryKeys:A0e,getLanguageDictionary:kU,getLanguagesDictionaries:D0e,registerLanguageDictionary:EU,getTranslatedPhrase:TU};function XC(t,e,n){return e=JC(e),m1e(t,v$()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function w$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function c1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(n),!0).forEach(function(r){d1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y$(t){var e=h1e(t,"string");return typeof e=="symbol"?e:String(e)}function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function Mv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y$(r.key),r)}}function _v(t,e,n){return e&&b$(t.prototype,e),n&&b$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d1e(t,e,n){return e=y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JC(t)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_A(t,e)}function f1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function g1e(t,e){if(t==null)return{};var n=f1e(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m1e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$(t)}function p1e(t){return v1e(t)||w1e(t)||y1e(t)||b1e()}function v1e(t){if(Array.isArray(t))return OA(t)}function w1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y1e(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var AA=null,C1e="Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with  the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.",S1e="The Handsontable instance bound to this component was destroyed and cannot be used properly.",ZC="global",x1e="hot-wrapper-editor-container";function R1e(){if(typeof console<"u"){var t;(t=console).warn.apply(t,arguments)}}function PA(t,e){var n=de.Children.toArray(t),r=de.Children.count(t),o=null;return r!==0&&(r===1&&n[0].props[e]?o=n[0]:o=n.find(function(i){return i.props[e]!==void 0})),o||null}function S$(t){return t?t.type.WrappedComponent?t.type.WrappedComponent:t.type:null}function x$(t,e){if(typeof t>"u"||e===null)return null;var n=E$(e.props,!1);return n.className="".concat(x1e," ").concat(n.className),TE.createPortal(de.createElement("div",Object.assign({},n),e),t.body)}function R$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZC,r=PA(t,"hot-editor"),o=S$(r);return r?de.cloneElement(r,{emitEditorInstance:function(i,s){e.get(o)||e.set(o,new Map);var a=e.get(o);a.set(s??ZC,i)},editorColumnScope:n,isEditor:!0}):null}function E1e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;n||(n=document),AA||(AA=n.createDocumentFragment());var r=n.createElement("DIV");AA.appendChild(r);var o=de.cloneElement(t,c1e({key:"".concat(e.row,"-").concat(e.col)},e));return{portal:TE.createPortal(o,r,"".concat(e.row,"-").concat(e.col,"-").concat(Math.random())),portalContainer:r}}function E$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{id:t.id||(e?"hot-"+Math.random().toString(36).substring(5):void 0),className:t.className||"",style:t.style||{}}}function k1e(){return typeof window<"u"}var k$=function(){function t(){Mv(this,t)}return _v(t,null,[{key:"getSettings",value:function(e){var n={};if(e.settings){var r=e.settings;for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])}for(var i in e)i!=="settings"&&i!=="children"&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}}]),t}(),T1e=function(t){QC(e,t);function e(){return Mv(this,e),XC(this,e,arguments)}return _v(e,[{key:"getSettingsProps",value:function(){var n=this;return this.internalProps=["_componentRendererColumns","_emitColumnSettings","_columnIndex","_getChildElementByType","_getRendererWrapper","_getEditorClass","_getEditorCache","_getOwnerDocument","hot-renderer","hot-editor","children"],Object.keys(this.props).filter(function(r){return!n.internalProps.includes(r)}).reduce(function(r,o){return r[o]=n.props[o],r},{})}},{key:"getLocalEditorElement",value:function(){return R$(this.props.children,this.props._getEditorCache(),this.props._columnIndex)}},{key:"createColumnSettings",value:function(){var n=this.props._getChildElementByType(this.props.children,"hot-renderer"),r=this.getLocalEditorElement();this.columnSettings=k$.getSettings(this.getSettingsProps()),n!==null&&(this.columnSettings.renderer=this.props._getRendererWrapper(n),this.props._componentRendererColumns.set(this.props._columnIndex,!0)),r!==null&&(this.columnSettings.editor=this.props._getEditorClass(r,this.props._columnIndex))}},{key:"emitColumnSettings",value:function(){this.props._emitColumnSettings(this.columnSettings,this.props._columnIndex)}},{key:"componentDidMount",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"componentDidUpdate",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"render",value:function(){var n=this.props._getOwnerDocument(),r=x$(n,this.getLocalEditorElement());return de.createElement(de.Fragment,null,r)}}]),e}(de.Component),M1e=function(t){QC(e,t);function e(){var n;return Mv(this,e),n=XC(this,e,arguments),n.state={portals:[]},n}return _v(e,[{key:"render",value:function(){return de.createElement(de.Fragment,null,this.state.portals)}}]),e}(de.Component),_1e="14.1.0";function IA(t,e){return e={exports:{}},t(e,e.exports),e.exports}/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Vr=typeof Symbol=="function"&&Symbol.for,NA=Vr?Symbol.for("react.element"):60103,HA=Vr?Symbol.for("react.portal"):60106,eS=Vr?Symbol.for("react.fragment"):60107,tS=Vr?Symbol.for("react.strict_mode"):60108,nS=Vr?Symbol.for("react.profiler"):60114,rS=Vr?Symbol.for("react.provider"):60109,oS=Vr?Symbol.for("react.context"):60110,DA=Vr?Symbol.for("react.async_mode"):60111,iS=Vr?Symbol.for("react.concurrent_mode"):60111,sS=Vr?Symbol.for("react.forward_ref"):60112,aS=Vr?Symbol.for("react.suspense"):60113,O1e=Vr?Symbol.for("react.suspense_list"):60120,lS=Vr?Symbol.for("react.memo"):60115,uS=Vr?Symbol.for("react.lazy"):60116,A1e=Vr?Symbol.for("react.block"):60121,P1e=Vr?Symbol.for("react.fundamental"):60117,I1e=Vr?Symbol.for("react.responder"):60118,N1e=Vr?Symbol.for("react.scope"):60119;function Mi(t){if(Tv(t)==="object"&&t!==null){var e=t.$$typeof;switch(e){case NA:switch(t=t.type,t){case DA:case iS:case eS:case nS:case tS:case aS:return t;default:switch(t=t&&t.$$typeof,t){case oS:case sS:case uS:case lS:case rS:return t;default:return e}}case HA:return e}}}function T$(t){return Mi(t)===iS}var H1e=DA,D1e=iS,L1e=oS,j1e=rS,W1e=NA,F1e=sS,V1e=eS,B1e=uS,z1e=lS,U1e=HA,$1e=nS,G1e=tS,Y1e=aS,q1e=function(t){return T$(t)||Mi(t)===DA},K1e=T$,X1e=function(t){return Mi(t)===oS},Q1e=function(t){return Mi(t)===rS},J1e=function(t){return Tv(t)==="object"&&t!==null&&t.$$typeof===NA},Z1e=function(t){return Mi(t)===sS},exe=function(t){return Mi(t)===eS},txe=function(t){return Mi(t)===uS},nxe=function(t){return Mi(t)===lS},rxe=function(t){return Mi(t)===HA},oxe=function(t){return Mi(t)===nS},ixe=function(t){return Mi(t)===tS},sxe=function(t){return Mi(t)===aS},axe=function(t){return typeof t=="string"||typeof t=="function"||t===eS||t===iS||t===nS||t===tS||t===aS||t===O1e||Tv(t)==="object"&&t!==null&&(t.$$typeof===uS||t.$$typeof===lS||t.$$typeof===rS||t.$$typeof===oS||t.$$typeof===sS||t.$$typeof===P1e||t.$$typeof===I1e||t.$$typeof===N1e||t.$$typeof===A1e)},lxe=Mi,uxe={AsyncMode:H1e,ConcurrentMode:D1e,ContextConsumer:L1e,ContextProvider:j1e,Element:W1e,ForwardRef:F1e,Fragment:V1e,Lazy:B1e,Memo:z1e,Portal:U1e,Profiler:$1e,StrictMode:G1e,Suspense:Y1e,isAsyncMode:q1e,isConcurrentMode:K1e,isContextConsumer:X1e,isContextProvider:Q1e,isElement:J1e,isForwardRef:Z1e,isFragment:exe,isLazy:txe,isMemo:nxe,isPortal:rxe,isProfiler:oxe,isStrictMode:ixe,isSuspense:sxe,isValidElementType:axe,typeOf:lxe},wn=IA(function(t,e){});wn.AsyncMode,wn.ConcurrentMode,wn.ContextConsumer,wn.ContextProvider,wn.Element,wn.ForwardRef,wn.Fragment,wn.Lazy,wn.Memo,wn.Portal,wn.Profiler,wn.StrictMode,wn.Suspense,wn.isAsyncMode,wn.isConcurrentMode,wn.isContextConsumer,wn.isContextProvider,wn.isElement,wn.isForwardRef,wn.isFragment,wn.isLazy,wn.isMemo,wn.isPortal,wn.isProfiler,wn.isStrictMode,wn.isSuspense,wn.isValidElementType,wn.typeOf,IA(function(t){t.exports=uxe});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var LFe=Object.getOwnPropertySymbols,jFe=Object.prototype.hasOwnProperty,WFe=Object.prototype.propertyIsEnumerable;function FFe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function cxe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}cxe();var hxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dxe=hxe;Function.call.bind(Object.prototype.hasOwnProperty);function M$(){}function _$(){}_$.resetWarningCache=M$;var fxe=function(){function t(r,o,i,s,a,l){if(l!==dxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_$,resetWarningCache:M$};return n.PropTypes=n,n},gxe=IA(function(t){t.exports=fxe()}),LA=gxe,jA=function(t){QC(e,t);function e(){var n;return Mv(this,e),n=XC(this,e,arguments),n.id=null,n.__hotInstance=null,n.hotElementRef=null,n.columnSettings=[],n.renderersPortalManager=null,n.portalCacheArray=[],n.renderedCellCache=new Map,n.editorCache=new Map,n.componentRendererColumns=new Map,n}return _v(e,[{key:"hotInstance",get:function(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(S1e),null)},set:function(n){this.__hotInstance=n}},{key:"getRenderedCellCache",value:function(){return this.renderedCellCache}},{key:"getEditorCache",value:function(){return this.editorCache}},{key:"clearCache",value:function(){this.getRenderedCellCache().clear(),this.componentRendererColumns.clear()}},{key:"getOwnerDocument",value:function(){return k1e()?this.hotElementRef?this.hotElementRef.ownerDocument:document:null}},{key:"setHotElementRef",value:function(n){this.hotElementRef=n}},{key:"getRendererWrapper",value:function(n){var r=this;return function(o,i,s,a,l,u,c){var h=r.getRenderedCellCache();if(h.has("".concat(s,"-").concat(a))&&(i.innerHTML=h.get("".concat(s,"-").concat(a)).innerHTML),i&&!i.getAttribute("ghost-table")){for(var d=E1e(n,{TD:i,row:s,col:a,prop:l,value:u,cellProperties:c,isRenderer:!0},i.ownerDocument),g=d.portal,p=d.portalContainer;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(p),r.portalCacheArray.push(g)}return h.set("".concat(s,"-").concat(a),i),i}}},{key:"getEditorClass",value:function(n){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZC,i=S$(n),s=(r=this.getEditorCache().get(i))===null||r===void 0?void 0:r.get(o);return this.makeEditorClass(s)}},{key:"makeEditorClass",value:function(n){var r=function(o){QC(i,o);function i(s){var a;return Mv(this,i),a=XC(this,i,[s]),n.hotCustomEditorInstance=C$(a),a.editorComponent=n,a}return _v(i,[{key:"focus",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}}]),i}(Ti.editors.BaseEditor);return Object.getOwnPropertyNames(Ti.editors.BaseEditor.prototype).forEach(function(o){o!=="constructor"&&(r.prototype[o]=function(){for(var i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(i=n[o]).call.apply(i,[n].concat(a))})}),r}},{key:"getGlobalRendererElement",value:function(){return PA(this.props.children,"hot-renderer")}},{key:"getGlobalEditorElement",value:function(){return R$(this.props.children,this.getEditorCache())}},{key:"createNewGlobalSettings",value:function(){var n=k$.getSettings(this.props),r=this.getGlobalRendererElement(),o=this.getGlobalEditorElement();return n.columns=this.columnSettings.length?this.columnSettings:n.columns,o?n.editor=this.getEditorClass(o,ZC):n.editor=this.props.editor||(this.props.settings?this.props.settings.editor:void 0),r?(n.renderer=this.getRendererWrapper(r),this.componentRendererColumns.set("global",!0)):n.renderer=this.props.renderer||(this.props.settings?this.props.settings.renderer:void 0),n}},{key:"displayAutoSizeWarning",value:function(n){var r,o;this.hotInstance&&((r=this.hotInstance.getPlugin("autoRowSize"))!==null&&r!==void 0&&r.enabled||(o=this.hotInstance.getPlugin("autoColumnSize"))!==null&&o!==void 0&&o.enabled)&&this.componentRendererColumns.size>0&&R1e(C1e)}},{key:"setHotColumnSettings",value:function(n,r){this.columnSettings[r]=n}},{key:"handsontableBeforeViewRender",value:function(){this.getRenderedCellCache().clear()}},{key:"handsontableAfterViewRender",value:function(){var n=this;this.renderersPortalManager.setState({portals:p1e(this.portalCacheArray)},function(){n.portalCacheArray=[]})}},{key:"updateHot",value:function(n){this.hotInstance&&this.hotInstance.updateSettings(n,!1)}},{key:"setRenderersPortalManagerRef",value:function(n){this.renderersPortalManager=n}},{key:"componentDidMount",value:function(){var n=this,r=this.createNewGlobalSettings();this.hotInstance=new Ti.Core(this.hotElementRef,r),this.hotInstance.addHook("beforeViewRender",function(){return n.handsontableBeforeViewRender()}),this.hotInstance.addHook("afterViewRender",function(){return n.handsontableAfterViewRender()}),this.hotInstance.init(),this.displayAutoSizeWarning(r)}},{key:"componentDidUpdate",value:function(){this.clearCache();var n=this.createNewGlobalSettings();this.updateHot(n),this.displayAutoSizeWarning(n)}},{key:"componentWillUnmount",value:function(){this.clearCache(),this.hotInstance&&this.hotInstance.destroy()}},{key:"render",value:function(){var n=this,r=function(l){return l.type===T1e},o=de.Children.toArray(this.props.children),i=o.filter(function(l){return r(l)}).map(function(l,u){return de.cloneElement(l,{_componentRendererColumns:n.componentRendererColumns,_emitColumnSettings:n.setHotColumnSettings.bind(n),_columnIndex:u,_getChildElementByType:PA.bind(n),_getRendererWrapper:n.getRendererWrapper.bind(n),_getEditorClass:n.getEditorClass.bind(n),_getOwnerDocument:n.getOwnerDocument.bind(n),_getEditorCache:n.getEditorCache.bind(n),children:l.props.children})}),s=E$(this.props),a=x$(this.getOwnerDocument(),this.getGlobalEditorElement());return de.createElement(de.Fragment,null,de.createElement("div",Object.assign({ref:this.setHotElementRef.bind(this)},s),i),de.createElement(M1e,{ref:this.setRenderersPortalManagerRef.bind(this)}),a)}}],[{key:"version",get:function(){return _1e}}]),e}(de.Component);jA.propTypes={style:LA.object,id:LA.string,className:LA.string};var mxe=["children"],rg=de.forwardRef(function(t,e){var n,r=t.children,o=g1e(t,mxe),i=typeof de.useId=="function"?de.useId():void 0,s=(n=o.id)!==null&&n!==void 0?n:i;return de.createElement(jA,Object.assign({id:s},o,{ref:e}),r)});rg.version=jA.version,de.Component;const O$=(t,e,n,r,o,i,s)=>((i||"").match(/^https?:\/\//)===null?e.innerText=i:(i=i.replace("<","&lt;").replace(">","&gt;"),e.innerHTML=`<a href="${i}" target="_blank" rel="noopener noreferrer">${i}</a>`),e),Ov=["copy","cut","---------","undo","redo","---------","row_above","row_below","remove_row","clear_column"],pxe=Y.forwardRef(function(t,e){const n=["Site","URL","Reprint?","Auto-gen?","Deleted?","View Count"],r=i=>{var s,a;for(let l of i||[]){let[u,c,h,d]=l;if(c===1){const g=zE.find(({re:p})=>d.match(p)!==null);if(g!==null){(a=(s=e==null?void 0:e.current)==null?void 0:s.hotInstance)==null||a.setDataAtCell(u,0,g==null?void 0:g.site);const p=d.match(/https?:\/\/youtu\.be\/([^\/\?&]+)/);p!==null&&(d=`https://www.youtube.com/watch?v=${p[1]}`,l[3]=d)}}}},o=[{type:"dropdown",source:zE.map(i=>i.site)},{type:"text",renderer:O$},{type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"},{type:"text"}];return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,tableClassName:"playlinks-table",rowHeaders:!0,colHeaders:n,columns:o,width:"100%",contextMenu:Ov,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:[20,35,10,10,10,15],stretchH:"all",afterChange:r,licenseKey:"non-commercial-and-evaluation"})})}),WA=(t,e,n,r,o,i,s)=>{if(i===null)return e.innerHTML="",e;const a=t.getDataAtCell(n,0)||"";return i=i.replace(/<ref\s*[^>]*\/>/gi,'<i class="asterisk tiny icon"></i>'),i=i.replace(/<ref\s*[^>]*>(.*)<\/ref>/gi,'<i class="asterisk tiny icon"></i>'),i=i.replace(/'{3}([^']*)'{3}/g,"<b>$1</b>"),i=i.replace(/'{2}([^']*)'{2}/g,"<i>$1</i>"),a!==""&&(i=`<span style="color:${a};">${i}</span>`),i=i.replace(/<(?!\/?(?:b|i|u|span|div|s|sub|sup|strong|em|mark)\b)/g,"&lt;").replace(new RegExp("(?<!(?:b|i|u|span|div|s|sub|sup|strong|em|mark)\\b[^<]*)>","g"),"&gt;"),e.innerHTML=i,e},A$=Y.forwardRef(function({headersText:t,needsRomanization:e,needsEnglishTranslation:n,mode:r="light"},o){const i={columns:[],indicators:!1};e||i.columns.push(2),n||i.columns.push(3);const s=[{type:"text"},{type:"text",renderer:WA},{type:"text",renderer:WA},{type:"text",renderer:WA}];return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:o,rowHeaders:!0,colHeaders:t,width:"100%",contextMenu:Ov,hiddenColumns:i,columns:s,autoWrapRow:!0,autoWrapCol:!0,selectionMode:"multiple",manualColumnResize:!0,imeFastEdit:!0,colWidths:[20],stretchH:"all",minSpareRows:0,className:`lyrics-table ${r}-mode`,licenseKey:"non-commercial-and-evaluation"})})}),FA=Y.forwardRef(function({forProducerPages:t=!1},e){const n=["URL","Description","Official"],r=[{type:"text",renderer:O$},{type:"text"},{type:"checkbox",className:"htCenter htMiddle"}];let o=[60,30,10];t&&(n.push("Media","Inactive?"),r.push({type:"checkbox",className:"htCenter htMiddle"},{type:"checkbox",className:"htCenter htMiddle"}),o=[60,25,5,5,5]);const i=s=>{var a,l;for(let u of s||[]){const[c,h,d,g]=u;if(h===0){const p=Vj.find(({re:C})=>g.match(C)!==null);p!==null&&((l=(a=e==null?void 0:e.current)==null?void 0:a.hotInstance)==null||l.setDataAtCell(c,1,p==null?void 0:p.site));let w=/^https?:\/\/youtu\.be\/([^\?]+)/.exec(g);w===null&&(w=/^https?:\/\/www\.youtube\.com\/watch\?v=([^\?&]+)/.exec(g)),w!==null&&(u[3]=`https://www.youtube.com/watch?v=${w[1]}`)}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:n,columns:r,width:"100%",contextMenu:Ov,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:o,stretchH:"all",minSpareRows:0,afterChange:i,licenseKey:"non-commercial-and-evaluation"})})});function cS({copyState:t}){const[e,n]=Y.useState(!1);return m.jsx(Tl,{content:"Copied to clipboard",position:"top center",open:e,onClose:()=>n(!1),trigger:m.jsx(hr,{basic:!0,color:"blue",onClick:()=>{navigator.clipboard.writeText(t),n(!0)},children:"Copy Output"})})}function VA({errors:t,warnings:e,recommendToAutoloadCategories:n}){return m.jsxs("div",{children:[t.length===0?null:m.jsxs(El,{negative:!0,children:[m.jsx(ba,{children:"Errors"}),m.jsx("ul",{children:t.map((r,o)=>m.jsx("li",{children:r},o))})]}),e.length===0?null:m.jsxs(El,{children:[m.jsx(ba,{children:"Warnings"}),m.jsx("ul",{children:e.map((r,o)=>m.jsx("li",{children:r},o))})]}),n&&m.jsx(El,{positive:!0,children:"It is recommended to click the 'Autoload Categories' button before generating the page again."})]})}function BA({handleFetchFromVocadb:t,loading:e,mode:n,setStateOnBlur:r}){return m.jsx(kn,{fluid:!0,placeholder:`https://vocadb.net/${n}/...`,label:m.jsx(hr,{onClick:t,loading:e,children:"Pre-load"}),onBlur:o=>{var i;r(((i=o==null?void 0:o.target)==null?void 0:i.value)||"")},labelPosition:"right"})}function Av(t,e){return{bindInput:n=>({onBlur:r=>{e({...t,[n]:r.target.value})}}),bindTextArea:n=>({onBlur:r=>{e({...t,[n]:r.target.value})}}),bindCheckbox:n=>({checked:t[n],onChange:(r,o)=>{e({...t,[n]:o.checked})}}),bindDropdown:n=>({value:t[n],onChange:(r,o)=>{e({...t,[n]:o.value})}})}}var hS=function(){return hS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},hS.apply(this,arguments)};function vxe(){var t=Y.useRef(!1),e=Y.useCallback(function(){return t.current},[]);return Y.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function wxe(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={loading:!1});var r=Y.useRef(0),o=vxe(),i=Y.useState(n),s=i[0],a=i[1],l=Y.useCallback(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var h=++r.current;return s.loading||a(function(d){return hS(hS({},d),{loading:!0})}),t.apply(void 0,u).then(function(d){return o()&&h===r.current&&a({value:d,loading:!1}),d},function(d){return o()&&h===r.current&&a({error:d,loading:!1}),d})},e);return[s,l]}function yxe(t,e){e===void 0&&(e=[]);var n=wxe(t,e,{loading:!0}),r=n[0],o=n[1];return Y.useEffect(function(){o()},[o]),r}var P$={exports:{}};const bxe={},Cxe=Object.freeze(Object.defineProperty({__proto__:null,default:bxe},Symbol.toStringTag,{value:"Module"})),zA=Kq(Cxe);(function(t,e){var n=void 0,r=function(o){return n||(n=new Promise(function(i,s){var a=typeof o<"u"?o:{},l=a.onAbort;a.onAbort=function(f){s(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){i(a)}),t=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function f(se,Ee){switch(typeof Ee){case"boolean":xFe(se,Ee?1:0);break;case"number":bFe(se,Ee);break;case"string":CFe(se,Ee,-1,-1);break;case"object":if(Ee===null)$q(se);else if(Ee.length!=null){var ot=ux(Ee,lx);SFe(se,ot,Ee.length,-1),dx(ot)}else gx(se,"Wrong API use : tried to return a value of an unknown type ("+Ee+").",-1);break;default:$q(se)}}function b(se,Ee){for(var ot=[],kt=0;kt<se;kt+=1){var $t=Qe(Ee+4*kt,"i32"),_n=mFe($t);if(_n===1||_n===2)$t=yFe($t);else if(_n===3)$t=vFe($t);else if(_n===4){_n=$t,$t=pFe(_n),_n=wFe(_n);for(var aa=new Uint8Array($t),Ss=0;Ss<$t;Ss+=1)aa[Ss]=L[_n+Ss];$t=aa}else $t=null;ot.push($t)}return ot}function E(se,Ee){this.La=se,this.db=Ee,this.Ja=1,this.fb=[]}function P(se,Ee){if(this.db=Ee,Ee=Q(se)+1,this.Ya=hx(Ee),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");re(se,B,this.Ya,Ee),this.eb=this.Ya,this.Ua=this.ib=null}function z(se){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),se!=null){var Ee=this.filename,ot="/",kt=Ee;if(ot&&(ot=typeof ot=="string"?ot:ht(ot),kt=Ee?j(ot+"/"+Ee):ot),Ee=cn(!0,!0),kt=G(kt,(Ee!==void 0?Ee:438)&4095|32768,0),se){if(typeof se=="string"){ot=Array(se.length);for(var $t=0,_n=se.length;$t<_n;++$t)ot[$t]=se.charCodeAt($t);se=ot}_r(kt,Ee|146),ot=Jg(kt,577),Aq(ot,se,0,se.length,0),AN(ot),_r(kt,Ee)}}this.handleError(xt(this.filename,fe)),this.db=Qe(fe,"i32"),Yq(this.db),this.Za={},this.Na={}}var fe=jc(4),be=u.cwrap,xt=be("sqlite3_open","number",["string","number"]),en=be("sqlite3_close_v2","number",["number"]),Bt=be("sqlite3_exec","number",["number","string","number","number","number"]),Or=be("sqlite3_changes","number",["number"]),eo=be("sqlite3_prepare_v2","number",["number","string","number","number","number"]),QWe=be("sqlite3_sql","string",["number"]),JWe=be("sqlite3_normalized_sql","string",["number"]),Vq=be("sqlite3_prepare_v2","number",["number","number","number","number","number"]),ZWe=be("sqlite3_bind_text","number",["number","number","number","number","number"]),Bq=be("sqlite3_bind_blob","number",["number","number","number","number","number"]),eFe=be("sqlite3_bind_double","number",["number","number","number"]),tFe=be("sqlite3_bind_int","number",["number","number","number"]),nFe=be("sqlite3_bind_parameter_index","number",["number","string"]),rFe=be("sqlite3_step","number",["number"]),oFe=be("sqlite3_errmsg","string",["number"]),iFe=be("sqlite3_column_count","number",["number"]),sFe=be("sqlite3_data_count","number",["number"]),aFe=be("sqlite3_column_double","number",["number","number"]),zq=be("sqlite3_column_text","string",["number","number"]),lFe=be("sqlite3_column_blob","number",["number","number"]),uFe=be("sqlite3_column_bytes","number",["number","number"]),cFe=be("sqlite3_column_type","number",["number","number"]),hFe=be("sqlite3_column_name","string",["number","number"]),dFe=be("sqlite3_reset","number",["number"]),fFe=be("sqlite3_clear_bindings","number",["number"]),gFe=be("sqlite3_finalize","number",["number"]),Uq=be("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),mFe=be("sqlite3_value_type","number",["number"]),pFe=be("sqlite3_value_bytes","number",["number"]),vFe=be("sqlite3_value_text","string",["number"]),wFe=be("sqlite3_value_blob","number",["number"]),yFe=be("sqlite3_value_double","number",["number"]),bFe=be("sqlite3_result_double","",["number","number"]),$q=be("sqlite3_result_null","",["number"]),CFe=be("sqlite3_result_text","",["number","string","number","number"]),SFe=be("sqlite3_result_blob","",["number","number","number","number"]),xFe=be("sqlite3_result_int","",["number","number"]),gx=be("sqlite3_result_error","",["number","string","number"]),Gq=be("sqlite3_aggregate_context","number",["number","number"]),Yq=be("RegisterExtensionFunctions","number",["number"]);E.prototype.bind=function(se){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(se)?this.wb(se):se!=null&&typeof se=="object"?this.xb(se):!0},E.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var se=rFe(this.La);switch(se){case 100:return!0;case 101:return!1;default:throw this.db.handleError(se)}},E.prototype.rb=function(se){return se==null&&(se=this.Ja,this.Ja+=1),aFe(this.La,se)},E.prototype.Ab=function(se){if(se==null&&(se=this.Ja,this.Ja+=1),se=zq(this.La,se),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(se)},E.prototype.Bb=function(se){return se==null&&(se=this.Ja,this.Ja+=1),zq(this.La,se)},E.prototype.getBlob=function(se){se==null&&(se=this.Ja,this.Ja+=1);var Ee=uFe(this.La,se);se=lFe(this.La,se);for(var ot=new Uint8Array(Ee),kt=0;kt<Ee;kt+=1)ot[kt]=L[se+kt];return ot},E.prototype.get=function(se,Ee){Ee=Ee||{},se!=null&&this.bind(se)&&this.step(),se=[];for(var ot=sFe(this.La),kt=0;kt<ot;kt+=1)switch(cFe(this.La,kt)){case 1:var $t=Ee.useBigInt?this.Ab(kt):this.rb(kt);se.push($t);break;case 2:se.push(this.rb(kt));break;case 3:se.push(this.Bb(kt));break;case 4:se.push(this.getBlob(kt));break;default:se.push(null)}return se},E.prototype.getColumnNames=function(){for(var se=[],Ee=iFe(this.La),ot=0;ot<Ee;ot+=1)se.push(hFe(this.La,ot));return se},E.prototype.getAsObject=function(se,Ee){se=this.get(se,Ee),Ee=this.getColumnNames();for(var ot={},kt=0;kt<Ee.length;kt+=1)ot[Ee[kt]]=se[kt];return ot},E.prototype.getSQL=function(){return QWe(this.La)},E.prototype.getNormalizedSQL=function(){return JWe(this.La)},E.prototype.run=function(se){return se!=null&&this.bind(se),this.step(),this.reset()},E.prototype.nb=function(se,Ee){Ee==null&&(Ee=this.Ja,this.Ja+=1),se=Oe(se);var ot=ux(se,lx);this.fb.push(ot),this.db.handleError(ZWe(this.La,Ee,ot,se.length-1,0))},E.prototype.vb=function(se,Ee){Ee==null&&(Ee=this.Ja,this.Ja+=1);var ot=ux(se,lx);this.fb.push(ot),this.db.handleError(Bq(this.La,Ee,ot,se.length,0))},E.prototype.mb=function(se,Ee){Ee==null&&(Ee=this.Ja,this.Ja+=1),this.db.handleError((se===(se|0)?tFe:eFe)(this.La,Ee,se))},E.prototype.yb=function(se){se==null&&(se=this.Ja,this.Ja+=1),Bq(this.La,se,0,0,0)},E.prototype.ob=function(se,Ee){switch(Ee==null&&(Ee=this.Ja,this.Ja+=1),typeof se){case"string":this.nb(se,Ee);return;case"number":this.mb(se,Ee);return;case"bigint":this.nb(se.toString(),Ee);return;case"boolean":this.mb(se+0,Ee);return;case"object":if(se===null){this.yb(Ee);return}if(se.length!=null){this.vb(se,Ee);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+se+")."},E.prototype.xb=function(se){var Ee=this;return Object.keys(se).forEach(function(ot){var kt=nFe(Ee.La,ot);kt!==0&&Ee.ob(se[ot],kt)}),!0},E.prototype.wb=function(se){for(var Ee=0;Ee<se.length;Ee+=1)this.ob(se[Ee],Ee+1);return!0},E.prototype.reset=function(){return this.freemem(),fFe(this.La)===0&&dFe(this.La)===0},E.prototype.freemem=function(){for(var se;(se=this.fb.pop())!==void 0;)dx(se)},E.prototype.free=function(){this.freemem();var se=gFe(this.La)===0;return delete this.db.Za[this.La],this.La=0,se},P.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var se=Vw(),Ee=jc(4);et(fe),et(Ee);try{this.db.handleError(Vq(this.db.db,this.eb,-1,fe,Ee)),this.eb=Qe(Ee,"i32");var ot=Qe(fe,"i32");return ot===0?(this.gb(),{done:!0}):(this.Ua=new E(ot,this.db),this.db.Za[ot]=this.Ua,{value:this.Ua,done:!1})}catch(kt){throw this.ib=A(this.eb),this.gb(),kt}finally{Bw(se)}},P.prototype.gb=function(){dx(this.Ya),this.Ya=null},P.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:A(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(P.prototype[Symbol.iterator]=function(){return this}),z.prototype.run=function(se,Ee){if(!this.db)throw"Database closed";if(Ee){se=this.prepare(se,Ee);try{se.step()}finally{se.free()}}else this.handleError(Bt(this.db,se,0,0,fe));return this},z.prototype.exec=function(se,Ee,ot){if(!this.db)throw"Database closed";var kt=Vw(),$t=null;try{var _n=HN(se),aa=jc(4);for(se=[];Qe(_n,"i8")!==0;){et(fe),et(aa),this.handleError(Vq(this.db,_n,-1,fe,aa));var Ss=Qe(fe,"i32");if(_n=Qe(aa,"i32"),Ss!==0){var Li=null;for($t=new E(Ss,this),Ee!=null&&$t.bind(Ee);$t.step();)Li===null&&(Li={columns:$t.getColumnNames(),values:[]},se.push(Li)),Li.values.push($t.get(null,ot));$t.free()}}return se}catch(la){throw $t&&$t.free(),la}finally{Bw(kt)}},z.prototype.each=function(se,Ee,ot,kt,$t){typeof Ee=="function"&&(kt=ot,ot=Ee,Ee=void 0),se=this.prepare(se,Ee);try{for(;se.step();)ot(se.getAsObject(null,$t))}finally{se.free()}if(typeof kt=="function")return kt()},z.prototype.prepare=function(se,Ee){if(et(fe),this.handleError(eo(this.db,se,-1,fe,0)),se=Qe(fe,"i32"),se===0)throw"Nothing to prepare";var ot=new E(se,this);return Ee!=null&&ot.bind(Ee),this.Za[se]=ot},z.prototype.iterateStatements=function(se){return new P(se,this)},z.prototype.export=function(){Object.values(this.Za).forEach(function(Ee){Ee.free()}),Object.values(this.Na).forEach(Zg),this.Na={},this.handleError(en(this.db));var se=GWe(this.filename);return this.handleError(xt(this.filename,fe)),this.db=Qe(fe,"i32"),Yq(this.db),se},z.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(se){se.free()}),Object.values(this.Na).forEach(Zg),this.Na={},this.handleError(en(this.db)),Ht("/"+this.filename),this.db=null)},z.prototype.handleError=function(se){if(se===0)return null;throw se=oFe(this.db),Error(se)},z.prototype.getRowsModified=function(){return Or(this.db)},z.prototype.create_function=function(se,Ee){Object.prototype.hasOwnProperty.call(this.Na,se)&&(Zg(this.Na[se]),delete this.Na[se]);var ot=cx(function(kt,$t,_n){$t=b($t,_n);try{var aa=Ee.apply(null,$t)}catch(Ss){gx(kt,Ss,-1);return}f(kt,aa)},"viii");return this.Na[se]=ot,this.handleError(Uq(this.db,se,Ee.length,1,0,ot,0,0,0)),this},z.prototype.create_aggregate=function(se,Ee){var ot=Ee.init||function(){return null},kt=Ee.finalize||function(Li){return Li},$t=Ee.step;if(!$t)throw"An aggregate function must have a step function in "+se;var _n={};Object.hasOwnProperty.call(this.Na,se)&&(Zg(this.Na[se]),delete this.Na[se]),Ee=se+"__finalize",Object.hasOwnProperty.call(this.Na,Ee)&&(Zg(this.Na[Ee]),delete this.Na[Ee]);var aa=cx(function(Li,la,LN){var bd=Gq(Li,1);Object.hasOwnProperty.call(_n,bd)||(_n[bd]=ot()),la=b(la,LN),la=[_n[bd]].concat(la);try{_n[bd]=$t.apply(null,la)}catch(RFe){delete _n[bd],gx(Li,RFe,-1)}},"viii"),Ss=cx(function(Li){var la=Gq(Li,1);try{var LN=kt(_n[la])}catch(bd){delete _n[la],gx(Li,bd,-1);return}f(Li,LN),delete _n[la]},"vi");return this.Na[se]=aa,this.Na[Ee]=Ss,this.handleError(Uq(this.db,se,$t.length-1,1,0,0,aa,Ss,0)),this},u.Database=z};var c=Object.assign({},u),h="./this.program",d=typeof window=="object",g=typeof importScripts=="function",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w="",C,v,y;if(p){var x=zA,M=zA;w=g?M.dirname(w)+"/":__dirname+"/",C=(f,b)=>(f=te(f)?new URL(f):M.normalize(f),x.readFileSync(f,b?void 0:"utf8")),y=f=>(f=C(f,!0),f.buffer||(f=new Uint8Array(f)),f),v=(f,b,E,P=!0)=>{f=te(f)?new URL(f):M.normalize(f),x.readFile(f,P?void 0:"utf8",(z,fe)=>{z?E(z):b(P?fe.buffer:fe)})},!u.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(d||g)&&(g?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),w=w.indexOf("blob:")!==0?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",C=f=>{var b=new XMLHttpRequest;return b.open("GET",f,!1),b.send(null),b.responseText},g&&(y=f=>{var b=new XMLHttpRequest;return b.open("GET",f,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),v=(f,b,E)=>{var P=new XMLHttpRequest;P.open("GET",f,!0),P.responseType="arraybuffer",P.onload=()=>{P.status==200||P.status==0&&P.response?b(P.response):E()},P.onerror=E,P.send(null)});var _=u.print||console.log.bind(console),T=u.printErr||console.error.bind(console);Object.assign(u,c),c=null,u.thisProgram&&(h=u.thisProgram);var O;u.wasmBinary&&(O=u.wasmBinary),typeof WebAssembly!="object"&&V("no native wasm support detected");var I,N=!1,L,B,ae,U,ce,ve,Me;function Ce(){var f=I.buffer;u.HEAP8=L=new Int8Array(f),u.HEAP16=ae=new Int16Array(f),u.HEAPU8=B=new Uint8Array(f),u.HEAPU16=new Uint16Array(f),u.HEAP32=U=new Int32Array(f),u.HEAPU32=ce=new Uint32Array(f),u.HEAPF32=ve=new Float32Array(f),u.HEAPF64=Me=new Float64Array(f)}var ne=[],S=[],R=[];function k(){var f=u.preRun.shift();ne.unshift(f)}var D=0,W=null;function V(f){var b;throw(b=u.onAbort)==null||b.call(u,f),f="Aborted("+f+")",T(f),N=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}var he=f=>f.startsWith("data:application/octet-stream;base64,"),te=f=>f.startsWith("file://"),we;if(we="sql-wasm.wasm",!he(we)){var ye=we;we=u.locateFile?u.locateFile(ye,w):w+ye}function pe(f){if(f==we&&O)return new Uint8Array(O);if(y)return y(f);throw"both async and sync fetching of the wasm failed"}function $e(f){if(!O&&(d||g)){if(typeof fetch=="function"&&!te(f))return fetch(f,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw"failed to load wasm binary file at '"+f+"'";return b.arrayBuffer()}).catch(()=>pe(f));if(v)return new Promise((b,E)=>{v(f,P=>b(new Uint8Array(P)),E)})}return Promise.resolve().then(()=>pe(f))}function We(f,b,E){return $e(f).then(P=>WebAssembly.instantiate(P,b)).then(P=>P).then(E,P=>{T(`failed to asynchronously prepare wasm: ${P}`),V(P)})}function Xe(f,b){var E=we;O||typeof WebAssembly.instantiateStreaming!="function"||he(E)||te(E)||p||typeof fetch!="function"?We(E,f,b):fetch(E,{credentials:"same-origin"}).then(P=>WebAssembly.instantiateStreaming(P,f).then(b,function(z){return T(`wasm streaming compile failed: ${z}`),T("falling back to ArrayBuffer instantiation"),We(E,f,b)}))}var Se,le,mt=f=>{for(;0<f.length;)f.shift()(u)};function Qe(f,b="i8"){switch(b.endsWith("*")&&(b="*"),b){case"i1":return L[f>>0];case"i8":return L[f>>0];case"i16":return ae[f>>1];case"i32":return U[f>>2];case"i64":V("to do getValue(i64) use WASM_BIGINT");case"float":return ve[f>>2];case"double":return Me[f>>3];case"*":return ce[f>>2];default:V(`invalid type for getValue: ${b}`)}}function et(f){var b="i32";switch(b.endsWith("*")&&(b="*"),b){case"i1":L[f>>0]=0;break;case"i8":L[f>>0]=0;break;case"i16":ae[f>>1]=0;break;case"i32":U[f>>2]=0;break;case"i64":V("to do setValue(i64) use WASM_BIGINT");case"float":ve[f>>2]=0;break;case"double":Me[f>>3]=0;break;case"*":ce[f>>2]=0;break;default:V(`invalid type for setValue: ${b}`)}}var ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,He=(f,b,E)=>{var P=b+E;for(E=b;f[E]&&!(E>=P);)++E;if(16<E-b&&f.buffer&&ft)return ft.decode(f.subarray(b,E));for(P="";b<E;){var z=f[b++];if(z&128){var fe=f[b++]&63;if((z&224)==192)P+=String.fromCharCode((z&31)<<6|fe);else{var be=f[b++]&63;z=(z&240)==224?(z&15)<<12|fe<<6|be:(z&7)<<18|fe<<12|be<<6|f[b++]&63,65536>z?P+=String.fromCharCode(z):(z-=65536,P+=String.fromCharCode(55296|z>>10,56320|z&1023))}}else P+=String.fromCharCode(z)}return P},A=(f,b)=>f?He(B,f,b):"",H=(f,b)=>{for(var E=0,P=f.length-1;0<=P;P--){var z=f[P];z==="."?f.splice(P,1):z===".."?(f.splice(P,1),E++):E&&(f.splice(P,1),E--)}if(b)for(;E;E--)f.unshift("..");return f},j=f=>{var b=f.charAt(0)==="/",E=f.substr(-1)==="/";return(f=H(f.split("/").filter(P=>!!P),!b).join("/"))||b||(f="."),f&&E&&(f+="/"),(b?"/":"")+f},Z=f=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=b[0],b=b[1],!f&&!b?".":(b&&(b=b.substr(0,b.length-1)),f+b)},$=f=>{if(f==="/")return"/";f=j(f),f=f.replace(/\/$/,"");var b=f.lastIndexOf("/");return b===-1?f:f.substr(b+1)},ee=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return E=>crypto.getRandomValues(E);if(p)try{var f=zA;if(f.randomFillSync)return E=>f.randomFillSync(E);var b=f.randomBytes;return E=>(E.set(b(E.byteLength)),E)}catch{}V("initRandomDevice")},K=f=>(K=ee())(f);function q(){for(var f="",b=!1,E=arguments.length-1;-1<=E&&!b;E--){if(b=0<=E?arguments[E]:"/",typeof b!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";f=b+"/"+f,b=b.charAt(0)==="/"}return f=H(f.split("/").filter(P=>!!P),!b).join("/"),(b?"/":"")+f||"."}var oe=[],Q=f=>{for(var b=0,E=0;E<f.length;++E){var P=f.charCodeAt(E);127>=P?b++:2047>=P?b+=2:55296<=P&&57343>=P?(b+=4,++E):b+=3}return b},re=(f,b,E,P)=>{if(!(0<P))return 0;var z=E;P=E+P-1;for(var fe=0;fe<f.length;++fe){var be=f.charCodeAt(fe);if(55296<=be&&57343>=be){var xt=f.charCodeAt(++fe);be=65536+((be&1023)<<10)|xt&1023}if(127>=be){if(E>=P)break;b[E++]=be}else{if(2047>=be){if(E+1>=P)break;b[E++]=192|be>>6}else{if(65535>=be){if(E+2>=P)break;b[E++]=224|be>>12}else{if(E+3>=P)break;b[E++]=240|be>>18,b[E++]=128|be>>12&63}b[E++]=128|be>>6&63}b[E++]=128|be&63}}return b[E]=0,E-z};function Oe(f,b){var E=Array(Q(f)+1);return f=re(f,E,0,E.length),b&&(E.length=f),E}var De=[];function tt(f,b){De[f]={input:[],output:[],Xa:b},ci(f,at)}var at={open(f){var b=De[f.node.rdev];if(!b)throw new J(43);f.tty=b,f.seekable=!1},close(f){f.tty.Xa.fsync(f.tty)},fsync(f){f.tty.Xa.fsync(f.tty)},read(f,b,E,P){if(!f.tty||!f.tty.Xa.sb)throw new J(60);for(var z=0,fe=0;fe<P;fe++){try{var be=f.tty.Xa.sb(f.tty)}catch{throw new J(29)}if(be===void 0&&z===0)throw new J(6);if(be==null)break;z++,b[E+fe]=be}return z&&(f.node.timestamp=Date.now()),z},write(f,b,E,P){if(!f.tty||!f.tty.Xa.jb)throw new J(60);try{for(var z=0;z<P;z++)f.tty.Xa.jb(f.tty,b[E+z])}catch{throw new J(29)}return P&&(f.node.timestamp=Date.now()),z}},pt={sb(){e:{if(!oe.length){var f=null;if(p){var b=Buffer.alloc(256),E=0,P=process.stdin.fd;try{E=x.readSync(P,b)}catch(z){if(z.toString().includes("EOF"))E=0;else throw z}0<E?f=b.slice(0,E).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f){f=null;break e}oe=Oe(f,!0)}f=oe.shift()}return f},jb(f,b){b===null||b===10?(_(He(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},fsync(f){f.output&&0<f.output.length&&(_(He(f.output,0)),f.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},ln={jb(f,b){b===null||b===10?(T(He(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},fsync(f){f.output&&0<f.output.length&&(T(He(f.output,0)),f.output=[])}};function St(f,b){var E=f.Ia?f.Ia.length:0;E>=b||(b=Math.max(b,E*(1048576>E?2:1.125)>>>0),E!=0&&(b=Math.max(b,256)),E=f.Ia,f.Ia=new Uint8Array(b),0<f.Ma&&f.Ia.set(E.subarray(0,f.Ma),0))}var Be={Qa:null,Ra(){return Be.createNode(null,"/",16895,0)},createNode(f,b,E,P){if((E&61440)===24576||(E&61440)===4096)throw new J(63);return Be.Qa||(Be.Qa={dir:{node:{Pa:Be.Ga.Pa,Oa:Be.Ga.Oa,lookup:Be.Ga.lookup,ab:Be.Ga.ab,rename:Be.Ga.rename,unlink:Be.Ga.unlink,rmdir:Be.Ga.rmdir,readdir:Be.Ga.readdir,symlink:Be.Ga.symlink},stream:{Ta:Be.Ha.Ta}},file:{node:{Pa:Be.Ga.Pa,Oa:Be.Ga.Oa},stream:{Ta:Be.Ha.Ta,read:Be.Ha.read,write:Be.Ha.write,lb:Be.Ha.lb,bb:Be.Ha.bb,cb:Be.Ha.cb}},link:{node:{Pa:Be.Ga.Pa,Oa:Be.Ga.Oa,readlink:Be.Ga.readlink},stream:{}},pb:{node:{Pa:Be.Ga.Pa,Oa:Be.Ga.Oa},stream:Di}}),E=yn(f,b,E,P),st(E.mode)?(E.Ga=Be.Qa.dir.node,E.Ha=Be.Qa.dir.stream,E.Ia={}):(E.mode&61440)===32768?(E.Ga=Be.Qa.file.node,E.Ha=Be.Qa.file.stream,E.Ma=0,E.Ia=null):(E.mode&61440)===40960?(E.Ga=Be.Qa.link.node,E.Ha=Be.Qa.link.stream):(E.mode&61440)===8192&&(E.Ga=Be.Qa.pb.node,E.Ha=Be.Qa.pb.stream),E.timestamp=Date.now(),f&&(f.Ia[b]=E,f.timestamp=E.timestamp),E},Lb(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},Ga:{Pa(f){var b={};return b.dev=(f.mode&61440)===8192?f.id:1,b.ino=f.id,b.mode=f.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=f.rdev,st(f.mode)?b.size=4096:(f.mode&61440)===32768?b.size=f.Ma:(f.mode&61440)===40960?b.size=f.link.length:b.size=0,b.atime=new Date(f.timestamp),b.mtime=new Date(f.timestamp),b.ctime=new Date(f.timestamp),b.zb=4096,b.blocks=Math.ceil(b.size/b.zb),b},Oa(f,b){if(b.mode!==void 0&&(f.mode=b.mode),b.timestamp!==void 0&&(f.timestamp=b.timestamp),b.size!==void 0&&(b=b.size,f.Ma!=b))if(b==0)f.Ia=null,f.Ma=0;else{var E=f.Ia;f.Ia=new Uint8Array(b),E&&f.Ia.set(E.subarray(0,Math.min(b,f.Ma))),f.Ma=b}},lookup(){throw Pe[44]},ab(f,b,E,P){return Be.createNode(f,b,E,P)},rename(f,b,E){if(st(f.mode)){try{var P=Mt(b,E)}catch{}if(P)for(var z in P.Ia)throw new J(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=E,b.Ia[E]=f,b.timestamp=f.parent.timestamp,f.parent=b},unlink(f,b){delete f.Ia[b],f.timestamp=Date.now()},rmdir(f,b){var E=Mt(f,b),P;for(P in E.Ia)throw new J(55);delete f.Ia[b],f.timestamp=Date.now()},readdir(f){var b=[".",".."],E;for(E of Object.keys(f.Ia))b.push(E);return b},symlink(f,b,E){return f=Be.createNode(f,b,41471,0),f.link=E,f},readlink(f){if((f.mode&61440)!==40960)throw new J(28);return f.link}},Ha:{read(f,b,E,P,z){var fe=f.node.Ia;if(z>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-z,P),8<f&&fe.subarray)b.set(fe.subarray(z,z+f),E);else for(P=0;P<f;P++)b[E+P]=fe[z+P];return f},write(f,b,E,P,z,fe){if(b.buffer===L.buffer&&(fe=!1),!P)return 0;if(f=f.node,f.timestamp=Date.now(),b.subarray&&(!f.Ia||f.Ia.subarray)){if(fe)return f.Ia=b.subarray(E,E+P),f.Ma=P;if(f.Ma===0&&z===0)return f.Ia=b.slice(E,E+P),f.Ma=P;if(z+P<=f.Ma)return f.Ia.set(b.subarray(E,E+P),z),P}if(St(f,z+P),f.Ia.subarray&&b.subarray)f.Ia.set(b.subarray(E,E+P),z);else for(fe=0;fe<P;fe++)f.Ia[z+fe]=b[E+fe];return f.Ma=Math.max(f.Ma,z+P),P},Ta(f,b,E){if(E===1?b+=f.position:E===2&&(f.node.mode&61440)===32768&&(b+=f.node.Ma),0>b)throw new J(28);return b},lb(f,b,E){St(f.node,b+E),f.node.Ma=Math.max(f.node.Ma,b+E)},bb(f,b,E,P,z){if((f.node.mode&61440)!==32768)throw new J(43);if(f=f.node.Ia,z&2||f.buffer!==L.buffer){if((0<E||E+b<f.length)&&(f.subarray?f=f.subarray(E,E+b):f=Array.prototype.slice.call(f,E,E+b)),E=!0,b=65536*Math.ceil(b/65536),(z=Wq(65536,b))?(B.fill(0,z,z+b),b=z):b=0,!b)throw new J(48);L.set(f,b)}else E=!1,b=f.byteOffset;return{Db:b,ub:E}},cb(f,b,E,P){return Be.Ha.write(f,b,0,P,E,!1),0}}},cn=(f,b)=>{var E=0;return f&&(E|=365),b&&(E|=146),E},bs=null,sa={},hn=[],X=1,ie=null,ge=!0,J=null,Pe={};function lt(f,b={}){if(f=q(f),!f)return{path:"",node:null};if(b=Object.assign({qb:!0,kb:0},b),8<b.kb)throw new J(32);f=f.split("/").filter(be=>!!be);for(var E=bs,P="/",z=0;z<f.length;z++){var fe=z===f.length-1;if(fe&&b.parent)break;if(E=Mt(E,f[z]),P=j(P+"/"+f[z]),E.Va&&(!fe||fe&&b.qb)&&(E=E.Va.root),!fe||b.Sa){for(fe=0;(E.mode&61440)===40960;)if(E=Zt(P),P=q(Z(P),E),E=lt(P,{kb:b.kb+1}).node,40<fe++)throw new J(32)}}return{path:P,node:E}}function ht(f){for(var b;;){if(f===f.parent)return f=f.Ra.tb,b?f[f.length-1]!=="/"?`${f}/${b}`:f+b:f;b=b?`${f.name}/${b}`:f.name,f=f.parent}}function it(f,b){for(var E=0,P=0;P<b.length;P++)E=(E<<5)-E+b.charCodeAt(P)|0;return(f+E>>>0)%ie.length}function nt(f){var b=it(f.parent.id,f.name);if(ie[b]===f)ie[b]=f.Wa;else for(b=ie[b];b;){if(b.Wa===f){b.Wa=f.Wa;break}b=b.Wa}}function Mt(f,b){var E;if(E=(E=Sn(f,"x"))?E:f.Ga.lookup?0:2)throw new J(E,f);for(E=ie[it(f.id,b)];E;E=E.Wa){var P=E.name;if(E.parent.id===f.id&&P===b)return E}return f.Ga.lookup(f,b)}function yn(f,b,E,P){return f=new Lq(f,b,E,P),b=it(f.parent.id,f.name),f.Wa=ie[b],ie[b]=f}function st(f){return(f&61440)===16384}function sn(f){var b=["r","w","rw"][f&3];return f&512&&(b+="w"),b}function Sn(f,b){if(ge)return 0;if(!b.includes("r")||f.mode&292){if(b.includes("w")&&!(f.mode&146)||b.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Zr(f,b){try{return Mt(f,b),20}catch{}return Sn(f,"wx")}function xn(f,b,E){try{var P=Mt(f,b)}catch(z){return z.Ka}if(f=Sn(f,"wx"))return f;if(E){if(!st(P.mode))return 54;if(P===P.parent||ht(P)==="/")return 10}else if(st(P.mode))return 31;return 0}function $r(){for(var f=0;4096>=f;f++)if(!hn[f])return f;throw new J(33)}function lr(f){if(f=hn[f],!f)throw new J(8);return f}function Cs(f,b=-1){return Ww||(Ww=function(){this.$a={}},Ww.prototype={},Object.defineProperties(Ww.prototype,{object:{get(){return this.node},set(E){this.node=E}},flags:{get(){return this.$a.flags},set(E){this.$a.flags=E}},position:{get(){return this.$a.position},set(E){this.$a.position=E}}})),f=Object.assign(new Ww,f),b==-1&&(b=$r()),f.fd=b,hn[b]=f}var Di={open(f){var b,E;f.Ha=sa[f.node.rdev].Ha,(E=(b=f.Ha).open)==null||E.call(b,f)},Ta(){throw new J(70)}};function ci(f,b){sa[f]={Ha:b}}function Lc(f,b){var E=b==="/",P=!b;if(E&&bs)throw new J(10);if(!E&&!P){var z=lt(b,{qb:!1});if(b=z.path,z=z.node,z.Va)throw new J(10);if(!st(z.mode))throw new J(54)}b={type:f,Pb:{},tb:b,Cb:[]},f=f.Ra(b),f.Ra=b,b.root=f,E?bs=f:z&&(z.Va=b,z.Ra&&z.Ra.Cb.push(b))}function G(f,b,E){var P=lt(f,{parent:!0}).node;if(f=$(f),!f||f==="."||f==="..")throw new J(28);var z=Zr(P,f);if(z)throw new J(z);if(!P.Ga.ab)throw new J(63);return P.Ga.ab(P,f,b,E)}function Ie(f,b){return G(f,(b!==void 0?b:511)&1023|16384,0)}function Te(f,b,E){typeof E>"u"&&(E=b,b=438),G(f,b|8192,E)}function Wt(f,b){if(!q(f))throw new J(44);var E=lt(b,{parent:!0}).node;if(!E)throw new J(44);b=$(b);var P=Zr(E,b);if(P)throw new J(P);if(!E.Ga.symlink)throw new J(63);E.Ga.symlink(E,b,f)}function gt(f){var b=lt(f,{parent:!0}).node;f=$(f);var E=Mt(b,f),P=xn(b,f,!0);if(P)throw new J(P);if(!b.Ga.rmdir)throw new J(63);if(E.Va)throw new J(10);b.Ga.rmdir(b,f),nt(E)}function Ht(f){var b=lt(f,{parent:!0}).node;if(!b)throw new J(44);f=$(f);var E=Mt(b,f),P=xn(b,f,!1);if(P)throw new J(P);if(!b.Ga.unlink)throw new J(63);if(E.Va)throw new J(10);b.Ga.unlink(b,f),nt(E)}function Zt(f){if(f=lt(f).node,!f)throw new J(44);if(!f.Ga.readlink)throw new J(28);return q(ht(f.parent),f.Ga.readlink(f))}function Co(f,b){if(f=lt(f,{Sa:!b}).node,!f)throw new J(44);if(!f.Ga.Pa)throw new J(63);return f.Ga.Pa(f)}function hi(f){return Co(f,!0)}function _r(f,b){if(f=typeof f=="string"?lt(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new J(63);f.Ga.Oa(f,{mode:b&4095|f.mode&-4096,timestamp:Date.now()})}function Lw(f,b){if(0>b)throw new J(28);if(f=typeof f=="string"?lt(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new J(63);if(st(f.mode))throw new J(31);if((f.mode&61440)!==32768)throw new J(28);var E=Sn(f,"w");if(E)throw new J(E);f.Ga.Oa(f,{size:b,timestamp:Date.now()})}function Jg(f,b,E){if(f==="")throw new J(44);if(typeof b=="string"){var P={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[b];if(typeof P>"u")throw Error(`Unknown file open mode: ${b}`);b=P}if(E=b&64?(typeof E>"u"?438:E)&4095|32768:0,typeof f=="object")var z=f;else{f=j(f);try{z=lt(f,{Sa:!(b&131072)}).node}catch{}}if(P=!1,b&64)if(z){if(b&128)throw new J(20)}else z=G(f,E,0),P=!0;if(!z)throw new J(44);if((z.mode&61440)===8192&&(b&=-513),b&65536&&!st(z.mode))throw new J(54);if(!P&&(E=z?(z.mode&61440)===40960?32:st(z.mode)&&(sn(b)!=="r"||b&512)?31:Sn(z,sn(b)):44))throw new J(E);return b&512&&!P&&Lw(z,0),b&=-131713,z=Cs({node:z,path:ht(z),flags:b,seekable:!0,position:0,Ha:z.Ha,Fb:[],error:!1}),z.Ha.open&&z.Ha.open(z),!u.logReadFiles||b&1||(PN||(PN={}),f in PN||(PN[f]=1)),z}function AN(f){if(f.fd===null)throw new J(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(b){throw b}finally{hn[f.fd]=null}f.fd=null}function _q(f,b,E){if(f.fd===null)throw new J(8);if(!f.seekable||!f.Ha.Ta)throw new J(70);if(E!=0&&E!=1&&E!=2)throw new J(28);f.position=f.Ha.Ta(f,b,E),f.Fb=[]}function Oq(f,b,E,P,z){if(0>P||0>z)throw new J(28);if(f.fd===null)throw new J(8);if((f.flags&2097155)===1)throw new J(8);if(st(f.node.mode))throw new J(31);if(!f.Ha.read)throw new J(28);var fe=typeof z<"u";if(!fe)z=f.position;else if(!f.seekable)throw new J(70);return b=f.Ha.read(f,b,E,P,z),fe||(f.position+=b),b}function Aq(f,b,E,P,z){if(0>P||0>z)throw new J(28);if(f.fd===null)throw new J(8);if(!(f.flags&2097155))throw new J(8);if(st(f.node.mode))throw new J(31);if(!f.Ha.write)throw new J(28);f.seekable&&f.flags&1024&&_q(f,0,2);var fe=typeof z<"u";if(!fe)z=f.position;else if(!f.seekable)throw new J(70);return b=f.Ha.write(f,b,E,P,z,void 0),fe||(f.position+=b),b}function GWe(f){var b,E=Jg(f,E||0);f=Co(f).size;var P=new Uint8Array(f);return Oq(E,P,0,f,0),b=P,AN(E),b}function Pq(){J||(J=function(f,b){this.name="ErrnoError",this.node=b,this.Eb=function(E){this.Ka=E},this.Eb(f),this.message="FS error"},J.prototype=Error(),J.prototype.constructor=J,[44].forEach(f=>{Pe[f]=new J(f),Pe[f].stack="<generic error, no stack>"}))}var Iq;function jw(f,b,E){f=j("/dev/"+f);var P=cn(!!b,!!E);Nq||(Nq=64);var z=Nq++<<8|0;ci(z,{open(fe){fe.seekable=!1},close(){var fe;(fe=E==null?void 0:E.buffer)!=null&&fe.length&&E(10)},read(fe,be,xt,en){for(var Bt=0,Or=0;Or<en;Or++){try{var eo=b()}catch{throw new J(29)}if(eo===void 0&&Bt===0)throw new J(6);if(eo==null)break;Bt++,be[xt+Or]=eo}return Bt&&(fe.node.timestamp=Date.now()),Bt},write(fe,be,xt,en){for(var Bt=0;Bt<en;Bt++)try{E(be[xt+Bt])}catch{throw new J(29)}return en&&(fe.node.timestamp=Date.now()),Bt}}),Te(f,P,z)}var Nq,Ln={},Ww,PN;function wd(f,b,E){if(b.charAt(0)==="/")return b;if(f=f===-100?"/":lr(f).path,b.length==0){if(!E)throw new J(44);return f}return j(f+"/"+b)}function ix(f,b,E){try{var P=f(b)}catch(fe){if(fe&&fe.node&&j(b)!==j(ht(fe.node)))return-54;throw fe}U[E>>2]=P.dev,U[E+4>>2]=P.mode,ce[E+8>>2]=P.nlink,U[E+12>>2]=P.uid,U[E+16>>2]=P.gid,U[E+20>>2]=P.rdev,le=[P.size>>>0,(Se=P.size,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[E+24>>2]=le[0],U[E+28>>2]=le[1],U[E+32>>2]=4096,U[E+36>>2]=P.blocks,f=P.atime.getTime(),b=P.mtime.getTime();var z=P.ctime.getTime();return le=[Math.floor(f/1e3)>>>0,(Se=Math.floor(f/1e3),1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[E+40>>2]=le[0],U[E+44>>2]=le[1],ce[E+48>>2]=f%1e3*1e3,le=[Math.floor(b/1e3)>>>0,(Se=Math.floor(b/1e3),1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[E+56>>2]=le[0],U[E+60>>2]=le[1],ce[E+64>>2]=b%1e3*1e3,le=[Math.floor(z/1e3)>>>0,(Se=Math.floor(z/1e3),1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[E+72>>2]=le[0],U[E+76>>2]=le[1],ce[E+80>>2]=z%1e3*1e3,le=[P.ino>>>0,(Se=P.ino,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[E+88>>2]=le[0],U[E+92>>2]=le[1],0}var sx=void 0;function ax(){var f=U[+sx>>2];return sx+=4,f}var Fw=(f,b)=>b+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*b:NaN,YWe=[0,31,60,91,121,152,182,213,244,274,305,335],qWe=[0,31,59,90,120,151,181,212,243,273,304,334],Hq=f=>{var b=Q(f)+1,E=hx(b);return E&&re(f,B,E,b),E},IN={},Dq=()=>{if(!NN){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},b;for(b in IN)IN[b]===void 0?delete f[b]:f[b]=IN[b];var E=[];for(b in f)E.push(`${b}=${f[b]}`);NN=E}return NN},NN,HN=f=>{var b=Q(f)+1,E=jc(b);return re(f,B,E,b),E},KWe=(f,b,E,P)=>{var z={string:Bt=>{var Or=0;return Bt!=null&&Bt!==0&&(Or=HN(Bt)),Or},array:Bt=>{var Or=jc(Bt.length);return L.set(Bt,Or),Or}};f=u["_"+f];var fe=[],be=0;if(P)for(var xt=0;xt<P.length;xt++){var en=z[E[xt]];en?(be===0&&(be=Vw()),fe[xt]=en(P[xt])):fe[xt]=P[xt]}return E=f.apply(null,fe),E=function(Bt){return be!==0&&Bw(be),b==="string"?Bt?He(B,Bt):"":b==="boolean"?!!Bt:Bt}(E)},lx=0,ux=(f,b)=>(b=b==1?jc(f.length):hx(f.length),f.subarray||f.slice||(f=new Uint8Array(f)),B.set(f,b),b),yd,DN=[],du,Zg=f=>{yd.delete(du.get(f)),du.set(f,null),DN.push(f)},cx=(f,b)=>{if(!yd){yd=new WeakMap;var E=du.length;if(yd)for(var P=0;P<0+E;P++){var z=du.get(P);z&&yd.set(z,P)}}if(E=yd.get(f)||0)return E;if(DN.length)E=DN.pop();else{try{du.grow(1)}catch(xt){throw xt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":xt}E=du.length-1}try{du.set(E,f)}catch(xt){if(!(xt instanceof TypeError))throw xt;if(typeof WebAssembly.Function=="function"){P=WebAssembly.Function,z={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var fe={parameters:[],results:b[0]=="v"?[]:[z[b[0]]]},be=1;be<b.length;++be)fe.parameters.push(z[b[be]]);b=new P(fe,f)}else{for(P=[1],z=b.slice(0,1),b=b.slice(1),fe={i:127,p:127,j:126,f:125,d:124,e:111},P.push(96),be=b.length,128>be?P.push(be):P.push(be%128|128,be>>7),be=0;be<b.length;++be)P.push(fe[b[be]]);z=="v"?P.push(0):P.push(1,fe[z]),b=[0,97,115,109,1,0,0,0,1],z=P.length,128>z?b.push(z):b.push(z%128|128,z>>7),b.push.apply(b,P),b.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),b=new WebAssembly.Module(new Uint8Array(b)),b=new WebAssembly.Instance(b,{e:{f}}).exports.f}du.set(E,b)}return yd.set(f,E),E};function Lq(f,b,E,P){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=X++,this.name=b,this.mode=E,this.Ga={},this.Ha={},this.rdev=P}Object.defineProperties(Lq.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),Pq(),ie=Array(4096),Lc(Be,"/"),Ie("/tmp"),Ie("/home"),Ie("/home/web_user"),function(){Ie("/dev"),ci(259,{read:()=>0,write:(P,z,fe,be)=>be}),Te("/dev/null",259),tt(1280,pt),tt(1536,ln),Te("/dev/tty",1280),Te("/dev/tty1",1536);var f=new Uint8Array(1024),b=0,E=()=>(b===0&&(b=K(f).byteLength),f[--b]);jw("random",E),jw("urandom",E),Ie("/dev/shm"),Ie("/dev/shm/tmp")}(),function(){Ie("/proc");var f=Ie("/proc/self");Ie("/proc/self/fd"),Lc({Ra(){var b=yn(f,"fd",16895,73);return b.Ga={lookup(E,P){var z=lr(+P);return E={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>z.path}},E.parent=E}},b}},"/proc/self/fd")}();var XWe={a:(f,b,E,P)=>{V(`Assertion failed: ${f?He(B,f):""}, at: `+[b?b?He(B,b):"":"unknown filename",E,P?P?He(B,P):"":"unknown function"])},h:function(f,b){try{return f=f?He(B,f):"",_r(f,b),0}catch(E){if(typeof Ln>"u"||E.name!=="ErrnoError")throw E;return-E.Ka}},H:function(f,b,E){try{if(b=b?He(B,b):"",b=wd(f,b),E&-8)return-28;var P=lt(b,{Sa:!0}).node;return P?(f="",E&4&&(f+="r"),E&2&&(f+="w"),E&1&&(f+="x"),f&&Sn(P,f)?-2:0):-44}catch(z){if(typeof Ln>"u"||z.name!=="ErrnoError")throw z;return-z.Ka}},i:function(f,b){try{var E=lr(f);return _r(E.node,b),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},g:function(f){try{var b=lr(f).node,E=typeof b=="string"?lt(b,{Sa:!0}).node:b;if(!E.Ga.Oa)throw new J(63);return E.Ga.Oa(E,{timestamp:Date.now()}),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},b:function(f,b,E){sx=E;try{var P=lr(f);switch(b){case 0:var z=ax();if(0>z)return-28;for(;hn[z];)z++;return Cs(P,z).fd;case 1:case 2:return 0;case 3:return P.flags;case 4:return z=ax(),P.flags|=z,0;case 5:return z=ax(),ae[z+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return U[jq()>>2]=28,-1;default:return-28}}catch(fe){if(typeof Ln>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Ka}},f:function(f,b){try{var E=lr(f);return ix(Co,E.path,b)}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},n:function(f,b,E){b=Fw(b,E);try{if(isNaN(b))return 61;var P=lr(f);if(!(P.flags&2097155))throw new J(28);return Lw(P.node,b),0}catch(z){if(typeof Ln>"u"||z.name!=="ErrnoError")throw z;return-z.Ka}},C:function(f,b){try{if(b===0)return-28;var E=Q("/")+1;return b<E?-68:(re("/",B,f,b),E)}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},F:function(f,b){try{return f=f?He(B,f):"",ix(hi,f,b)}catch(E){if(typeof Ln>"u"||E.name!=="ErrnoError")throw E;return-E.Ka}},z:function(f,b,E){try{return b=b?He(B,b):"",b=wd(f,b),b=j(b),b[b.length-1]==="/"&&(b=b.substr(0,b.length-1)),Ie(b,E),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},E:function(f,b,E,P){try{b=b?He(B,b):"";var z=P&256;return b=wd(f,b,P&4096),ix(z?hi:Co,b,E)}catch(fe){if(typeof Ln>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Ka}},y:function(f,b,E,P){sx=P;try{b=b?He(B,b):"",b=wd(f,b);var z=P?ax():0;return Jg(b,E,z).fd}catch(fe){if(typeof Ln>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Ka}},w:function(f,b,E,P){try{if(b=b?He(B,b):"",b=wd(f,b),0>=P)return-28;var z=Zt(b),fe=Math.min(P,Q(z)),be=L[E+fe];return re(z,B,E,P+1),L[E+fe]=be,fe}catch(xt){if(typeof Ln>"u"||xt.name!=="ErrnoError")throw xt;return-xt.Ka}},v:function(f){try{return f=f?He(B,f):"",gt(f),0}catch(b){if(typeof Ln>"u"||b.name!=="ErrnoError")throw b;return-b.Ka}},G:function(f,b){try{return f=f?He(B,f):"",ix(Co,f,b)}catch(E){if(typeof Ln>"u"||E.name!=="ErrnoError")throw E;return-E.Ka}},r:function(f,b,E){try{return b=b?He(B,b):"",b=wd(f,b),E===0?Ht(b):E===512?gt(b):V("Invalid flags passed to unlinkat"),0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return-P.Ka}},q:function(f,b,E){try{if(b=b?He(B,b):"",b=wd(f,b,!0),E){var P=ce[E>>2]+4294967296*U[E+4>>2],z=U[E+8>>2];fe=1e3*P+z/1e6,E+=16,P=ce[E>>2]+4294967296*U[E+4>>2],z=U[E+8>>2],be=1e3*P+z/1e6}else var fe=Date.now(),be=fe;f=fe;var xt=lt(b,{Sa:!0}).node;return xt.Ga.Oa(xt,{timestamp:Math.max(f,be)}),0}catch(en){if(typeof Ln>"u"||en.name!=="ErrnoError")throw en;return-en.Ka}},l:function(f,b,E){f=new Date(1e3*Fw(f,b)),U[E>>2]=f.getSeconds(),U[E+4>>2]=f.getMinutes(),U[E+8>>2]=f.getHours(),U[E+12>>2]=f.getDate(),U[E+16>>2]=f.getMonth(),U[E+20>>2]=f.getFullYear()-1900,U[E+24>>2]=f.getDay(),b=f.getFullYear(),U[E+28>>2]=(b%4!==0||b%100===0&&b%400!==0?qWe:YWe)[f.getMonth()]+f.getDate()-1|0,U[E+36>>2]=-(60*f.getTimezoneOffset()),b=new Date(f.getFullYear(),6,1).getTimezoneOffset();var P=new Date(f.getFullYear(),0,1).getTimezoneOffset();U[E+32>>2]=(b!=P&&f.getTimezoneOffset()==Math.min(P,b))|0},j:function(f,b,E,P,z,fe,be,xt){z=Fw(z,fe);try{if(isNaN(z))return 61;var en=lr(P);if(b&2&&!(E&2)&&(en.flags&2097155)!==2)throw new J(2);if((en.flags&2097155)===1)throw new J(2);if(!en.Ha.bb)throw new J(43);var Bt=en.Ha.bb(en,f,z,b,E),Or=Bt.Db;return U[be>>2]=Bt.ub,ce[xt>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return-eo.Ka}},k:function(f,b,E,P,z,fe,be){fe=Fw(fe,be);try{if(isNaN(fe))return 61;var xt=lr(z);if(E&2){if((xt.node.mode&61440)!==32768)throw new J(43);if(!(P&2)){var en=B.slice(f,f+b);xt.Ha.cb&&xt.Ha.cb(xt,en,fe,b,P)}}}catch(Bt){if(typeof Ln>"u"||Bt.name!=="ErrnoError")throw Bt;return-Bt.Ka}},s:(f,b,E)=>{function P(en){return(en=en.toTimeString().match(/\(([A-Za-z ]+)\)$/))?en[1]:"GMT"}var z=new Date().getFullYear(),fe=new Date(z,0,1),be=new Date(z,6,1);z=fe.getTimezoneOffset();var xt=be.getTimezoneOffset();ce[f>>2]=60*Math.max(z,xt),U[b>>2]=+(z!=xt),f=P(fe),b=P(be),f=Hq(f),b=Hq(b),xt<z?(ce[E>>2]=f,ce[E+4>>2]=b):(ce[E>>2]=b,ce[E+4>>2]=f)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:f=>{var b=B.length;if(f>>>=0,2147483648<f)return!1;for(var E=1;4>=E;E*=2){var P=b*(1+.2/E);P=Math.min(P,f+100663296);var z=Math;P=Math.max(f,P);e:{z=(z.min.call(z,2147483648,P+(65536-P%65536)%65536)-I.buffer.byteLength+65535)/65536;try{I.grow(z),Ce();var fe=1;break e}catch{}fe=void 0}if(fe)return!0}return!1},A:(f,b)=>{var E=0;return Dq().forEach((P,z)=>{var fe=b+E;for(z=ce[f+4*z>>2]=fe,fe=0;fe<P.length;++fe)L[z++>>0]=P.charCodeAt(fe);L[z>>0]=0,E+=P.length+1}),0},B:(f,b)=>{var E=Dq();ce[f>>2]=E.length;var P=0;return E.forEach(z=>P+=z.length+1),ce[b>>2]=P,0},e:function(f){try{var b=lr(f);return AN(b),0}catch(E){if(typeof Ln>"u"||E.name!=="ErrnoError")throw E;return E.Ka}},p:function(f,b){try{var E=lr(f);return L[b>>0]=E.tty?2:st(E.mode)?3:(E.mode&61440)===40960?7:4,ae[b+2>>1]=0,le=[0,(Se=0,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[b+8>>2]=le[0],U[b+12>>2]=le[1],le=[0,(Se=0,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[b+16>>2]=le[0],U[b+20>>2]=le[1],0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return P.Ka}},x:function(f,b,E,P){try{e:{var z=lr(f);f=b;for(var fe,be=b=0;be<E;be++){var xt=ce[f>>2],en=ce[f+4>>2];f+=8;var Bt=Oq(z,L,xt,en,fe);if(0>Bt){var Or=-1;break e}if(b+=Bt,Bt<en)break;typeof fe<"u"&&(fe+=Bt)}Or=b}return ce[P>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return eo.Ka}},m:function(f,b,E,P,z){b=Fw(b,E);try{if(isNaN(b))return 61;var fe=lr(f);return _q(fe,b,P),le=[fe.position>>>0,(Se=fe.position,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)],U[z>>2]=le[0],U[z+4>>2]=le[1],fe.hb&&b===0&&P===0&&(fe.hb=null),0}catch(be){if(typeof Ln>"u"||be.name!=="ErrnoError")throw be;return be.Ka}},D:function(f){var E;try{var b=lr(f);return(E=b.Ha)!=null&&E.fsync?b.Ha.fsync(b):0}catch(P){if(typeof Ln>"u"||P.name!=="ErrnoError")throw P;return P.Ka}},u:function(f,b,E,P){try{e:{var z=lr(f);f=b;for(var fe,be=b=0;be<E;be++){var xt=ce[f>>2],en=ce[f+4>>2];f+=8;var Bt=Aq(z,L,xt,en,fe);if(0>Bt){var Or=-1;break e}b+=Bt,typeof fe<"u"&&(fe+=Bt)}Or=b}return ce[P>>2]=Or,0}catch(eo){if(typeof Ln>"u"||eo.name!=="ErrnoError")throw eo;return eo.Ka}}},dt=function(){var E;function f(P){var z;return dt=P.exports,I=dt.I,Ce(),du=dt.Aa,S.unshift(dt.J),D--,(z=u.monitorRunDependencies)==null||z.call(u,D),D==0&&W&&(P=W,W=null,P()),dt}var b={a:XWe};if(D++,(E=u.monitorRunDependencies)==null||E.call(u,D),u.instantiateWasm)try{return u.instantiateWasm(b,f)}catch(P){return T(`Module.instantiateWasm callback failed with error: ${P}`),!1}return Xe(b,function(P){f(P.instance)}),{}}();u._sqlite3_free=f=>(u._sqlite3_free=dt.K)(f),u._sqlite3_value_text=f=>(u._sqlite3_value_text=dt.L)(f);var jq=()=>(jq=dt.M)();u._sqlite3_prepare_v2=(f,b,E,P,z)=>(u._sqlite3_prepare_v2=dt.N)(f,b,E,P,z),u._sqlite3_step=f=>(u._sqlite3_step=dt.O)(f),u._sqlite3_finalize=f=>(u._sqlite3_finalize=dt.P)(f),u._sqlite3_reset=f=>(u._sqlite3_reset=dt.Q)(f),u._sqlite3_clear_bindings=f=>(u._sqlite3_clear_bindings=dt.R)(f),u._sqlite3_value_blob=f=>(u._sqlite3_value_blob=dt.S)(f),u._sqlite3_value_bytes=f=>(u._sqlite3_value_bytes=dt.T)(f),u._sqlite3_value_double=f=>(u._sqlite3_value_double=dt.U)(f),u._sqlite3_value_int=f=>(u._sqlite3_value_int=dt.V)(f),u._sqlite3_value_type=f=>(u._sqlite3_value_type=dt.W)(f),u._sqlite3_result_blob=(f,b,E,P)=>(u._sqlite3_result_blob=dt.X)(f,b,E,P),u._sqlite3_result_double=(f,b)=>(u._sqlite3_result_double=dt.Y)(f,b),u._sqlite3_result_error=(f,b,E)=>(u._sqlite3_result_error=dt.Z)(f,b,E),u._sqlite3_result_int=(f,b)=>(u._sqlite3_result_int=dt._)(f,b),u._sqlite3_result_int64=(f,b,E)=>(u._sqlite3_result_int64=dt.$)(f,b,E),u._sqlite3_result_null=f=>(u._sqlite3_result_null=dt.aa)(f),u._sqlite3_result_text=(f,b,E,P)=>(u._sqlite3_result_text=dt.ba)(f,b,E,P),u._sqlite3_aggregate_context=(f,b)=>(u._sqlite3_aggregate_context=dt.ca)(f,b),u._sqlite3_column_count=f=>(u._sqlite3_column_count=dt.da)(f),u._sqlite3_data_count=f=>(u._sqlite3_data_count=dt.ea)(f),u._sqlite3_column_blob=(f,b)=>(u._sqlite3_column_blob=dt.fa)(f,b),u._sqlite3_column_bytes=(f,b)=>(u._sqlite3_column_bytes=dt.ga)(f,b),u._sqlite3_column_double=(f,b)=>(u._sqlite3_column_double=dt.ha)(f,b),u._sqlite3_column_text=(f,b)=>(u._sqlite3_column_text=dt.ia)(f,b),u._sqlite3_column_type=(f,b)=>(u._sqlite3_column_type=dt.ja)(f,b),u._sqlite3_column_name=(f,b)=>(u._sqlite3_column_name=dt.ka)(f,b),u._sqlite3_bind_blob=(f,b,E,P,z)=>(u._sqlite3_bind_blob=dt.la)(f,b,E,P,z),u._sqlite3_bind_double=(f,b,E)=>(u._sqlite3_bind_double=dt.ma)(f,b,E),u._sqlite3_bind_int=(f,b,E)=>(u._sqlite3_bind_int=dt.na)(f,b,E),u._sqlite3_bind_text=(f,b,E,P,z)=>(u._sqlite3_bind_text=dt.oa)(f,b,E,P,z),u._sqlite3_bind_parameter_index=(f,b)=>(u._sqlite3_bind_parameter_index=dt.pa)(f,b),u._sqlite3_sql=f=>(u._sqlite3_sql=dt.qa)(f),u._sqlite3_normalized_sql=f=>(u._sqlite3_normalized_sql=dt.ra)(f),u._sqlite3_errmsg=f=>(u._sqlite3_errmsg=dt.sa)(f),u._sqlite3_exec=(f,b,E,P,z)=>(u._sqlite3_exec=dt.ta)(f,b,E,P,z),u._sqlite3_changes=f=>(u._sqlite3_changes=dt.ua)(f),u._sqlite3_close_v2=f=>(u._sqlite3_close_v2=dt.va)(f),u._sqlite3_create_function_v2=(f,b,E,P,z,fe,be,xt,en)=>(u._sqlite3_create_function_v2=dt.wa)(f,b,E,P,z,fe,be,xt,en),u._sqlite3_open=(f,b)=>(u._sqlite3_open=dt.xa)(f,b);var hx=u._malloc=f=>(hx=u._malloc=dt.ya)(f),dx=u._free=f=>(dx=u._free=dt.za)(f);u._RegisterExtensionFunctions=f=>(u._RegisterExtensionFunctions=dt.Ba)(f);var Wq=(f,b)=>(Wq=dt.Ca)(f,b),Vw=()=>(Vw=dt.Da)(),Bw=f=>(Bw=dt.Ea)(f),jc=f=>(jc=dt.Fa)(f);u.stackAlloc=jc,u.stackSave=Vw,u.stackRestore=Bw,u.cwrap=(f,b,E,P)=>{var z=!E||E.every(fe=>fe==="number"||fe==="boolean");return b!=="string"&&z&&!P?u["_"+f]:function(){return KWe(f,b,E,arguments)}},u.addFunction=cx,u.removeFunction=Zg,u.UTF8ToString=A,u.ALLOC_NORMAL=lx,u.allocate=ux,u.allocateUTF8OnStack=HN;var fx;W=function f(){fx||Fq(),fx||(W=f)};function Fq(){function f(){if(!fx&&(fx=!0,u.calledRun=!0,!N)){if(u.noFSInit||Iq||(Iq=!0,Pq(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?jw("stdin",u.stdin):Wt("/dev/tty","/dev/stdin"),u.stdout?jw("stdout",null,u.stdout):Wt("/dev/tty","/dev/stdout"),u.stderr?jw("stderr",null,u.stderr):Wt("/dev/tty1","/dev/stderr"),Jg("/dev/stdin",0),Jg("/dev/stdout",1),Jg("/dev/stderr",1)),ge=!1,mt(S),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var b=u.postRun.shift();R.unshift(b)}mt(R)}}if(!(0<D)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)k();mt(ne),0<D||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),f()},1)):f())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Fq(),a}),n)};t.exports=r,t.exports.default=r})(P$);var Sxe=P$.exports;const xxe=gu(Sxe),Rxe="/VLW-Page-Generators-v2/assets/sql-wasm-785JABKZ.wasm",Exe="/VLW-Page-Generators-v2/assets/synths-Dcwss-it.db",I$=Y.createContext({AppDataSource:{}});let N$;const kxe=({children:t})=>{const{value:e,loading:n}=yxe(async()=>{try{const r=await xxe({locateFile:()=>Rxe}),o=await fetch(Exe).then(s=>s.arrayBuffer()),i=new r.Database(new Uint8Array(o));return console.log("Initialized DB connection"),i}catch(r){console.error(r)}},[]);return n?m.jsx(Fu,{active:!0,children:m.jsx(wp,{children:"Loading"})}):(N$=e,m.jsx(I$.Provider,{value:{AppDataSource:e},children:!n&&t}))},Txe=()=>{const{AppDataSource:t}=Y.useContext(I$);return t};function UA(){var t;try{return(t=Txe().exec("SELECT * FROM engines;")[0].values)==null?void 0:t.map(([e,n])=>({id:e,name:n}))}catch(e){console.error(e)}return[]}const H$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Mxe=[{id:["aWhimsicalStar\u2606"],license:"https://awhimsicalstar.dreamwidth.org"},{id:["Azayaka"],license:"https://echoesofblue.tumblr.com/terms|her website"},{id:["a bunny's translations"],license:"http://bunnyword.tumblr.com/about|her tumblr"},{id:["BambooXZX"],license:"https://bambooxzx.wordpress.com/about/"},{id:["Bluepenguin","EJ Translations"],license:"https://ejtranslations.wordpress.com/"},{id:["CoolMikeHatsune22"],license:"https://coolmikehatsune22.wordpress.com/about-me/"},{id:["Kazabana"],license:"https://kazabana.wordpress.com/about/"},{id:["ElectricRaichu","Len's Lyrics","Raichu"],license:"https://vocaloidlyrics.fandom.com/wiki/Talk:ElectricRaichu/Translator_Licence|his website"},{id:["Magenetra","Kagamine_Neko","aquariantwin","Mellifera_x3"],license:"https://magenetratranslations.tumblr.com/Terms|their tumblr"},{id:["Matchakame"],license:"http://matchakame.tumblr.com/about|her tumblr"},{id:["PeanutSub"],license:"https://peanut-sub.tumblr.com/about|their blog"},{id:["poppochan28"],license:"https://poppochan.dreamwidth.org/438.html|their blog"},{id:["Pricecheck Translations"],license:"http://pricechecktranslations.tumblr.com/about|her tumblr"},{id:["Releska"],license:"https://releska.com/|his blog"},{id:["Tackmyn Y."],license:"https://tackmyn.livedoor.blog/about_me.html|his blog"},{id:["TsunaguSubs"],license:"https://tsunagusubs.github.io/#faq|her website"},{id:["shiyuki332","Shiyuki","Shiyuki332"],license:"https://twitter.com/shiyuki332/status/1256815663663837184|their twitter"},{id:["Yumemiru Sekai"],license:"https://yumemirusekai.wordpress.com/faq/|their blog"}],Pv=t=>t===""||t.match(/^#[0-9a-fA-F]{3,6}$/)||Object.keys(H$).includes(t),dS=t=>H$[t]||t,_xe=t=>{let e=!1,n=!1,r=["Colour","Original","Romanized","English"],o=!1;if(t.length===0)e=!0,n=!0;else{const i=[],s=[];t.forEach(a=>{a.name!=="English"&&(n=!0),a.name==="Mandarin"?(o=!0,i.push("Chinese")):i.push(a.name),a.transliteration&&(e=!0,s.push(a.transliteration))}),r=["Colour",i.join("/"),e?s.join("/"):"","English"]}return[e,n,r,o]};function $A(t,e=!1){return t=t.replace(/[]/gm,"a"),t=t.replace(/[]/gm,"A"),t=t.replace(/[]/gm,"i"),t=t.replace(/[]/gm,"I"),t=t.replace(/[]/gm,"u"),t=t.replace(/[]/gm,"U"),t=t.replace(/[]/gm,"e"),t=t.replace(/[]/gm,"E"),t=t.replace(/[]/gm,"o"),t=t.replace(/[]/gm,"O"),e?(t=t.replace(/[]/gm,"\xFC"),t=t.replace(/[]/gm,"\xDC")):(t=t.replace(/[]/gm,"v"),t=t.replace(/[]/gm,"V")),t}function D$(t,{langOptions:{headersText:e,needsRomanization:n,needsEnglishTranslation:r},translator:o,isOfficialTranslation:i,bgColour:s,fgColour:a,overrideShowEnglishColumn:l=!1}){const u=n||r,c=t.some(y=>!!y.english&&y.english!==""),h=l||r&&c;let d=!1,g=null;const p=/<ref(?:[^>]*)>/;let w=new Set;for(let y of t)w.add(y.colour),y.original.match(p)||((y==null?void 0:y.romanized)||"").match(p)?(d=!0,g=g||!1):c&&((y==null?void 0:y.english)||"").match(p)&&(d=!0,g=!0);let C="";const v=Mxe.find(y=>y.id[0]===o);if(v&&(C+=`{{TranslatorLicense|${v.id[0]}|${v.license}}}
`),w.size>1){let y=w.has("");y&&w.delete("");let x=[...w].map(M=>`|<span style="color:${M}">Singer</span>
`).join("");y&&(x+=`|All
`),C+=`{| border="1" cellpadding="4" style="border-collapse:collapse; border:1px groove; line-height:1.5"
!style="background-color:${s}; color:${a}"|Singer
${x}
|}
`}if(u){let y="";c&&i?(y=e.slice(0,-1).map(x=>`|'''''${x}'''''
`).join(""),y+=`|{{OfficialEnglish}}
`):y=e.map(x=>!h&&x==="English"?"":`|'''''${x}'''''
`).join(""),C=`{| style="width:100%"
${y}${t.map(x=>x.getWikitext(h)).join("")}|}`,c&&(!i||o!=="")&&(C+=`
{{Translator|${o===""?"Anonymous":o}}}
`)}else C=`<poem>
${t.map(y=>y.colour===""?y.original:`<span style="color:${y.colour}">${y.original}</span>`).join(`
`)}
</poem>
`;return d&&(C+=`
==${g?"Translation ":""}Notes==
<references />
`),C}const Br={vdb:m.jsxs(m.Fragment,{children:["Input the URL to the VocaDB song page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/S/1501",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/S/1501"})," Rolling Girl"]}),pvStills:m.jsxs(m.Fragment,{children:["Save PV stills as local file",m.jsx("br",{}),m.jsx("br",{}),"May fail to get working HQ images for older songs.",m.jsx("br",{}),"Finicky when trying to get images from Bilibili."]}),cw:m.jsxs(m.Fragment,{children:["Add content warnings to the top of page.",m.jsx("br",{}),m.jsx("br",{}),"You are required to add the justification for adding a content warning, e.g. if it contains violent/sexual content, or if it deals with mature themes."]}),language:m.jsx(m.Fragment,{children:"The language the song lyrics are written in."}),origTitle:m.jsx(m.Fragment,{children:"Song title in original language."}),altChTitle:m.jsx(m.Fragment,{children:"Song title in alternate Chinese script (e.g. Traditional/Simplified Chinese script)."}),romTitle:m.jsx(m.Fragment,{children:"Transliterated song title (if non-English original)"}),engTitle:m.jsx(m.Fragment,{children:"Song title translated to English (if non-English original)"}),infobox:m.jsxs(m.Fragment,{children:["Infobox background (left) and foreground (right) colour",m.jsx("br",{}),"hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),dateOfPublication:m.jsx(m.Fragment,{children:"Original date of publication"}),singers:m.jsxs(m.Fragment,{children:["Markup for singer(s), e.g.:",m.jsx("br",{}),"[[Kagamine Rin]] and [[Kagamine Len]]",m.jsx("br",{}),m.jsx("br",{}),"Be sure to check whether the correct singer category has been put in."]}),producers:m.jsxs(m.Fragment,{children:["Markup for producer(s), one per line, e.g.:",m.jsx("br",{}),"[[Tanaka Kazuto]] (music, lyrics)",m.jsx("br",{}),"Pikucha (illustration)",m.jsx("br",{}),m.jsx("br",{}),"Categories will be loaded automatically based on the markup."]}),description:m.jsx(m.Fragment,{children:"Background information about the song."}),playLinks:m.jsxs(m.Fragment,{children:["Links to play song, one per line.",m.jsx("br",{}),"Recognized links: youtu.be, youtube.com, nicovideo.jp, piapro.jp, soundcloud.com, bandcamp.com, vimeo.com, bilibili.com",m.jsx("br",{}),m.jsx("br",{}),"Leave URL empty if there's no play link available (e.g. the song is not publicly available or the song is an album-only release)."]}),lyrics:m.jsxs(m.Fragment,{children:["Copy & paste original, transliterated and translated lyrics here.",m.jsx("br",{}),"Add text colour styling to the entire row by specifying the hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),translator:m.jsx(m.Fragment,{children:"Translator's name"}),officialTranslation:m.jsx(m.Fragment,{children:"Is the translation approved by the producer?"}),extLinks:m.jsxs(m.Fragment,{children:["Links to related web pages, one per line, with description, e.g.:",m.jsx("br",{}),"https://piapro.jp/t/uvwx Off-vocal",m.jsx("br",{}),m.jsx("br",{}),"Recognizes many commonly used sites such as Hatsune Miku Wiki and VocaDB."]}),categories:m.jsxs(m.Fragment,{children:["Category names, one per line, e.g.:",m.jsx("br",{}),"Songs",m.jsx("br",{}),"VOCALOID original songs",m.jsx("br",{}),m.jsx("br",{}),"Click the Autoload button to have the site generate commonly used tags."]})},ds={vdb:m.jsxs(m.Fragment,{children:["Input URL to VocaDB album page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/Al/21149",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Al/21149"})," Comic and Cosmic"]}),cover:m.jsx(m.Fragment,{children:"This tool will attempt to load the album cover picture from VocaDB."}),origTitle:m.jsx(m.Fragment,{children:"Album name in original language"}),romTitle:m.jsx(m.Fragment,{children:"Transliterated song title (if non-English original)"}),infobox:m.jsxs(m.Fragment,{children:["Infobox background (left) and foreground (right) colour",m.jsx("br",{}),"hexadecimal colour, e.g., #ff0000",m.jsx("br",{}),m.jsx("em",{children:"or"}),m.jsx("br",{}),"colour name, e.g., red"]}),label:m.jsx(m.Fragment,{children:"Name of the label that published the album, e.g. EXIT TUNES, KarenT"}),description:m.jsx(m.Fragment,{children:'Add a short description about the album, e.g. "a compilation album by PRODUCERS featuring SYNTHS" or "an album by PRODUCER".'}),engines:m.jsx(m.Fragment,{children:"Needed to generate synth category tags."}),tracklist:m.jsxs(m.Fragment,{children:["Add tracklist information here.",m.jsx("br",{}),'Track names should follow the naming convention of song articles (e.g. "\u3059\u308D\u3049\u3082\u3049\u3057\u3087\u3093 (Slow Motion)").',m.jsx("br",{}),m.jsx("br",{}),'If a song page exists on Vocaloid Lyrics wiki then you can copy and paste the URL to that song page to the cell in the third column ("Track name/VLW Page Title"). The site will automatically detect the page title in this scenario.',m.jsx("br",{}),m.jsx("br",{}),"Markup to featured producers and singers should only be added for the first mention of that artist/synth."]}),vdbAlbumId:m.jsxs(m.Fragment,{children:['The numerical ID of the album page entry on VocaDB. For example, the Page ID for the album "Comic and Cosmic" (',m.jsx("a",{href:"https://vocadb.net/Al/21149",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Al/21149"}),") is 21149."]}),vocaWikiPage:m.jsx(m.Fragment,{children:"The Vocaloid Wiki page for the album, if it exists. Only the page name should be given."}),extLinks:m.jsxs(m.Fragment,{children:["Links to related web pages, one per line, with description, e.g.:",m.jsx("br",{}),"https://piapro.jp/t/uvwx Off-vocal",m.jsx("br",{}),m.jsx("br",{}),"Recognizes many commonly used sites such as Hatsune Miku Wiki and VocaDB"]}),categories:m.jsxs(m.Fragment,{children:["Category names, one per line, e.g.:",m.jsx("br",{}),"Albums featuring Hatsune Miku",m.jsx("br",{}),m.jsx("br",{}),"Click the Autoload button to have the site generate commonly used tags."]})},fs={vdb:m.jsxs(m.Fragment,{children:["Input URL to VocaDB producer/artist page here.",m.jsx("br",{}),m.jsx("br",{}),"e.g. ",m.jsx("a",{href:"https://vocadb.net/Ar/28",target:"_blank",rel:"noopener noreferrer",children:"https://vocadb.net/Ar/28"})," Pinocchio-P"]}),pfp:m.jsx(m.Fragment,{children:"This tool will attempt to load the producer's profile picture from VocaDB."}),prodcat:m.jsxs(m.Fragment,{children:["This will be used as the parameter of the {{ProdLinks}} template on the producer page, which will link to the producer's songs list category on the wiki",m.jsx("br",{}),m.jsx("br",{}),'Click on the "Fetch discography from wiki" button to get this site to query the list of song & album pages from the producer category on Vocaloid Lyrics Wiki.']}),prodaliases:m.jsxs(m.Fragment,{children:["The producer's other aliases, if exists. List each item using a semi-colon (;)",m.jsx("br",{}),m.jsx("br",{}),"This will be used for the {{pwt alias}} template."]}),affiliations:m.jsxs(m.Fragment,{children:["Is the producer affiliated with any circle/group/project?",m.jsx("br",{}),m.jsx("br",{}),"Add one affiliation per line."]}),labels:m.jsxs(m.Fragment,{children:["What labels (e.g. KarenT, Exit Tunes) is the producer usually affliated with?",m.jsx("br",{}),m.jsx("br",{}),"Add one label/affiliation per line."]}),languages:m.jsx(m.Fragment,{children:"What language does the producer like to write their songs in? e.g. Japanese, English"}),synthesizers:m.jsx(m.Fragment,{children:"What voice synthesizer group/software family/engine does the producer like to write their songs with? e.g. VOCALOID, UTAU"}),prodroles:m.jsx(m.Fragment,{children:"Describe the producer's typical roles, e.g. composer, lyricist, illustrator."}),description:m.jsx(m.Fragment,{children:"Describe the producer."}),extLinks:m.jsxs(m.Fragment,{children:["Examples of media links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's official Niconico/YouTube/bilibili accounts."}),m.jsx("li",{children:"The producer's NND MyList."}),m.jsx("li",{children:"The producer's piapro."}),m.jsx("li",{children:"The producer's account on SoundCloud/Netease Music."}),m.jsx("li",{children:"The producer's Bandcamp/Spotify/TuneCore/other music streaming."})]}),"Examples of official links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's official website."}),m.jsx("li",{children:"The producer's social media/SNS accounts, e.g. Twitter, Instagram, Weibo."})]}),"Examples of unofficial links:",m.jsx("br",{}),m.jsxs("ul",{children:[m.jsx("li",{children:"The producer's page on VocaDB."}),m.jsxs("li",{children:["A page on the producer from any unofficial wiki, e.g. the ",m.jsx("a",{href:"https://vocaloid.fandom.com/",target:"_blank",rel:"noopener noreferrer",children:"VOCALOID wiki"}),", the ",m.jsx("a",{href:"https://w.atwiki.jp/hmiku/",target:"_blank",rel:"noopener noreferrer",children:"Hatsune Miku wiki"}),", ",m.jsx("a",{href:"https://dic.nicovideo.jp/",target:"_blank",rel:"noopener noreferrer",children:"Nicopedia"}),", etc."]})]})]}),songList:m.jsxs(m.Fragment,{children:["Add the list of song pages ",m.jsx("b",{children:"(that exist on the VOCALOID Lyrics wiki)"})," here.",m.jsx("br",{}),m.jsx("br",{}),"You can copy and paste the page URL to add the pages automatically."]}),albumList:m.jsxs(m.Fragment,{children:["Add the list of album pages ",m.jsx("b",{children:"(that exist on the VOCALOID Lyrics wiki)"})," here.",m.jsx("br",{}),m.jsx("br",{}),"You can copy and paste the page URL to add the pages automatically."]})},Oxe={sourceInput:m.jsxs(m.Fragment,{children:["To get the source code of the wiki page, you can either:",m.jsx("br",{}),m.jsxs("ol",{children:[m.jsxs("li",{children:["Open the wiki page in ",m.jsx("a",{href:"https://community.fandom.com/wiki/Help:Source_editor",target:"_blank",rel:"noopener noreferrer",children:"Source Editor"})]}),m.jsxs("li",{children:['Append "?action=raw" to the URL of the wiki page, e.g. ',m.jsxs("a",{href:`https://${Uo}.fandom.com/wiki/ECHO/Crusher-P?action=raw`,target:"_blank",rel:"noopener noreferrer",children:["https://",Uo,".fandom.com/wiki/ECHO/Crusher-P?action=raw"]})]})]}),"Copy and paste the contents of the source code into the box below.",m.jsx("br",{}),m.jsx("br",{}),"Click the 'Extract Lyrics Table' button to extract the table into the columns below, and the 'Generate' button to generate the page source code/wikitext."]})},og=[{name:"English",code:"en"},{name:"Japanese",transliteration:"Romaji",code:"ja"},{name:"Mandarin",transliteration:"Pinyin",code:"zh"},{name:"Korean",transliteration:"Romaja",code:"ko"},{name:"Spanish",code:"es"},{name:"Acehnese",code:null},{name:"Catalan",code:null},{name:"Cantonese",transliteration:"Jyutping",code:"yue"},{name:"Dutch",code:null},{name:"Esperanto",code:null},{name:"Filipino",code:"tg"},{name:"Finnish",code:null},{name:"French",code:"fr"},{name:"German",code:"de"},{name:"Greek",transliteration:"Romanization",code:null},{name:"Indonesian",code:"id"},{name:"Irish",code:null},{name:"Italian",code:null},{name:"Latin",code:null},{name:"Malay",code:null},{name:"Polish",code:null},{name:"Portuguese",code:"pt"},{name:"Romanian",code:null},{name:"Russian",transliteration:"Romanization",code:"ru"},{name:"Sundanese",code:null},{name:"Swedish",code:null},{name:"Thai",transliteration:"Romanization",code:"th"},{name:"Turkish",code:null},{name:"Vietnamese",code:null},{name:"Welsh",code:null}];var La=(t=>(t[t.noWarnings=0]="noWarnings",t[t.questionable=1]="questionable",t[t.explicit=2]="explicit",t))(La||{});class L${constructor(e,n,...r){zn(this,"colour");zn(this,"original");zn(this,"romanized");zn(this,"english");this.colour=(r[0]||"").trim(),this.original=(r[1]||"").trim(),e&&(this.romanized=(r[2]||"").trim()),n&&(this.english=(r[3]||"").trim())}getWikitext(e=!1){let n=`|-${this.colour===""?" ":` style='color:${this.colour}'`}
`;if(this.original===(this.romanized||this.original)&&(!e||e&&this.original===(this.english||this.original)))if(this.original==="")n+=`|<br />
`;else{let r=[!!this.original,!!this.romanized,!!this.english].reduce((o,i)=>(o+=i?1:0,o),0);e&&(!this.english||this.english==="")&&(r+=1),n+=`| {{shared|${r}}} ${this.original}
`}else n+=`|${this.original}
`,this.romanized&&(n+=`|${this.romanized}
`),e&&(n+=`|${this.english||""}
`);return n}}class Axe{constructor(e,n,r,o,i){zn(this,"discNo");zn(this,"trackNo");zn(this,"pageTitle");zn(this,"producerCredit");zn(this,"singerCredit");this.discNo=e||"",this.trackNo=n||"",this.pageTitle=(r||"").trim(),this.producerCredit=(o||"").trim(),this.singerCredit=(i||"").trim()}get credits(){let e=this.singerCredit;return this.producerCredit!==""&&(e=`${this.producerCredit} ft. ${e}`),e}}class j${constructor(e,n,r=!1){zn(this,"page");zn(this,"additionalParameters");zn(this,"forAlbum");this.page=(e||"").trim(),this.additionalParameters=(n||"").trim(),this.forAlbum=r}toTemplate(){let e=this.additionalParameters;return e!==""&&!e.startsWith("|")&&(e=`|${e}`),`{{${this.forAlbum?"awt":"pwt"}|${this.page}${e}}}`}}class Pxe{constructor(e,n,r,o,i,s){zn(this,"site");zn(this,"url");zn(this,"isReprint");zn(this,"isAutogen");zn(this,"isDeleted");zn(this,"viewCount");this.site=(e||"").trim(),this.url=(n||"").trim(),this.isReprint=r==="false"||r===""?!1:!!r,this.isAutogen=o==="false"||o===""?!1:!!o,this.isDeleted=i==="false"||i===""?!1:!!i,this.viewCount=(s||"").trim()}get isOfficiallyAvailable(){return!this.isReprint&&!this.isDeleted}getWikitext(){let e="";return this.isReprint?e="reprint":this.isAutogen&&(e="auto-generated by YouTube"),this.isDeleted&&(e===""?e="deleted":e+=", deleted"),e!==""&&(e=` <small>(${e})</small>`),`[${this.url} ${this.site} Broadcast]${e}`}getFormattedViewCount(){let e=this.viewCount.trim();if(e=e.replace(/[,\.]\s?(?=\d{3})/g,""),e=e.replace(/\+/g,""),e!==""&&!isNaN(+e)){let n=parseInt(e),r=1;return n<1e3?r=10**Math.trunc(Math.log10(n)):r=10**(Math.trunc(Math.log10(n))-1),n=Math.floor(n/r)*r,n.toLocaleString("en-US")+"+"}else return this.viewCount}}class GA{constructor(e,n,r,o,i){zn(this,"url");zn(this,"description");zn(this,"isOfficial");zn(this,"isMedia");zn(this,"isInactive");this.url=(e||"").trim(),this.description=(n||"").trim(),this.isOfficial=r==="false"||r===""?!1:!!r,this.isMedia=o==="false"||o===""?!1:!!o,this.isInactive=i==="false"||i===""?!1:!!i}getWikitext(){let e;const n=/^https?:\/\/vocadb.net\/([^\?]*)/.exec(this.url),r=/^https?:\/\/([^\.]*).fandom\.com\/wiki\/(.*)/.exec(this.url);if(n!==null)e=`{{VDB|${n[1]}}}${this.description==="VocaDB"?"":" - "+this.description}`;else if(r!==null){const o=r[1];o.match(/^vocaloidlyrics$/i)===null?e=`[[w:c:${o}:${r[2]}|${this.description}]]`:e=`[[${r[2]}|${this.description}]]`}else e=`[${this.url} ${this.description}]`;return this.isInactive&&(e=`<s>${e}</s>`),e}}const Ixe=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nxe({data:t,langOptions:e,playLinksData:n,lyricsData:r,extLinksData:o}){let{cwText:i,origTitle:s,altChTitle:a,romTitle:l,engTitle:u,bgColour:c,fgColour:h,uploadDate:d,singers:g,producers:p,description:w,translator:C,categoriesRaw:v}=t;i=i.trim(),s=s.trim(),a=a.trim(),l=l.trim(),u=u.trim(),c=c.trim(),h=h.trim(),C=C.trim(),d=d.trim();let y=d===""?null:new Date(d);const x=I=>I.replace(/\s*\n\s*/g,"<br />");g=x(g.trim()),p=x(p.trim()),w=x(w.trim());let M=[];v=v.trim(),v!==""&&(M=v.split(/[\r\s]*\n+[\r\s]*/));const _=n.map(I=>new Pxe(I[0],I[1],I[2],I[3],I[4],I[5])).filter(I=>I.url!==""),T=o.map(I=>new GA(I[0],I[1],I[2])).filter(I=>I.url!==""),O=r.map(I=>new L$(e.needsRomanization,e.needsEnglishTranslation,...I));return{data:{cwState:t.cwState,cwText:i,hasEpilepsyWarning:t.hasEpilepsyWarning,origTitle:s,altChTitle:a,romTitle:l,engTitle:u,titleIsOfficiallyTranslated:t.titleIsOfficiallyTranslated,languageIds:t.languageIds,engines:t.usedEngines,bgColour:c,fgColour:h,uploadDate:y,isAlbumOnly:t.isAlbumOnly,isUnavailable:t.isUnavailable,singers:g,producers:p,description:w,translator:C,isOfficialTranslation:t.isOfficialTranslation,categories:M},langOptions:e,playLinks:_,extLinks:T,lyrics:O}}function Hxe({languageIds:t,needsEnglishTranslation:e,engines:n,singers:r,producers:o,isAlbumOnly:i,lyricsData:s}){var g;const a=[];for(let p of t)a.push(`${((g=og[p])==null?void 0:g.name)||""} songs`);const l=r.split(`
`),u=[];let c=0;for(let p of l){let w=p.match(/^\s*<small>.*<\/small>$\s*/i)===null;const C=p.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\]]*)?\\]\\]","g"));for(let v of C){let{base:y=""}=v.groups||{};y!==""&&(u.push(y.trim()),w&&(c+=1))}}a.push(...n.map(p=>`${p} original songs`)),a.push(...u.map(p=>`Songs featuring ${p}`)),c>1&&a.push(c===2?"Duet songs":c===3?"Trio songs":"Group rendition songs");const h=new RegExp("'{2,}\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\|\\n\\]]*)?\\]\\]'{2,}").exec(o);if(h!==null){let{base:p=""}=h.groups||{};p=p.trim(),p!==""&&p.match(/^w:c:/i)===null&&(p.match(/^:Category:(?:.*) songs list/i)!==null?p=p.replace(/^:Category:\s*/i,""):p=`${p} songs list`,a.push(p))}const d=o.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\|\\n\\]]*)?\\]\\]\\s*\\((?<role>.*)\\)","g"));for(let p of d){let w="",{base:C="",role:v=""}=p.groups||{};if(C===""||(C=C.trim(),C.match(/^w:c:/i)!==null))continue;C.match(/^:Category:(?:.*) songs list/i)!==null?w=C.replace(/^:Category:\s*/i,""):w=`${C} songs list`;const y=v.toLowerCase().split(/\s*,\s*/g);let x=new Set;for(let M of y){if(M==="music"||M==="compose"||M==="composition"){x=new Set,x.add("");break}switch(M){case"lyrics":x.add("/Lyrics");break;case"tuning":x.add("/Tuning");break;case"arrange":case"arrangement":x.add("/Arrangement");break;case"illust":case"illustration":case"pv":case"movie":case"video":case"animation":x.add("/Visuals");break;case"mix":case"master":case"mastering":case"instruments":case"other":x.add("/Other");break;default:x.add("");break}}x.has("")&&(a.push(`${w}`),x.delete(""));for(let M of x)a.push(`${w}${M}`)}return i&&a.push("Album Only songs"),e&&s.every(p=>!p[3]||p[3].trim()==="")&&a.push("Pages in need of English translation"),a}function Dxe(t){let{data:{cwState:e,cwText:n,origTitle:r,languageIds:o,bgColour:i,fgColour:s,uploadDate:a,singers:l,engines:u,producers:c,isAlbumOnly:h,isUnavailable:d,translator:g,isOfficialTranslation:p,categories:w},langOptions:{needsRomanization:C,needsEnglishTranslation:v},playLinks:y,lyrics:x}=t,M=!1;const _=[];e!==La.noWarnings&&n===""&&_.push([!0,"You must add a reason for wanting to add a content warning onto the page, e.g. violent content, sexual content, etc.","cwText"]),o.length===0&&(_.push([!0,"You haven't chosen a language.","languageIds"]),M=!0),r===""&&_.push([!0,"You haven't entered a song title.","origTitle"]),a===null&&_.push([!0,"You haven't entered the date of publication.","uploadDate"]),i===""&&_.push([!0,"Please add a background colour.","bgColour"]),s===""&&_.push([!0,"Please add a foreground colour.","fgColour"]),Pv(i)||_.push([!0,"The background colour is invalid.","bgColour"]),Pv(s)||_.push([!0,"The foreground colour is invalid.","fgColour"]),x.some(O=>!Pv(O.colour))&&_.push([!0,"One of the lyrics row colours is invalid.","lyrics"]),l===""&&(_.push([!0,"You haven't listed any singers.","singers"]),M=!0),l.match(/\[\[[^\]]*\]\]/gm)===null&&(_.push([!0,"You need to list at least one singer in markup, e.g. [[Kagamine Rin]].","singers"]),M=!0),u.length===0&&(_.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),M=!0),c===""?(_.push([!0,"You haven't listed any producers. For well-known producers, it is recommended that the producer's name is listed in markup, e.g. [[wowaka]], before you generate the song page.","producers"]),M=!0):c.match(/\[\[[^\]]*\]\]/gm)===null&&(_.push([!1,'If the producer already has a page on Vocaloid Lyrics wiki, then you should add the name of that producer in markup, e.g. "[[wowaka]] (music)" or "[[nagimiso]] (illustration)". Clicking the "Autoload Categories" button again in this case will automatically generate the category for that producer.',"producers"]),M=!0),w.length===0&&(_.push([!0,"Did you forget to add categories?","categoriesRaw"]),M=!0),!d&&!h&&y.length===0&&(_.push([!0,'No music videos or play links are detected. Please check the "Song is publically unavailable" if official releases are no longer available, or check the "Song is an album-only release" option if the song is released on albums only',"playLinks"]),M=!0),y.filter(O=>O.isOfficiallyAvailable&&BE[O.site]!==void 0).some(O=>O.viewCount==="")&&_.push([!1,"Did you forget to add the view counts?","playLinks"]),x.every(O=>O.original==="")&&_.push([!0,"Original lyrics column is empty.","lyrics"]);const T=x.some(O=>!!O.romanized&&O.romanized!=="");return C&&!T&&_.push([!0,"Romanized/transliterated lyrics column is empty.","lyrics"]),v&&x.some(O=>!!O.english&&O.english!=="")&&g===""&&!p&&_.push([!1,"A translation exists, but the translator is uncredited. Is it made by an anonymous contributor?","translator"]),{errors:_,recommendToAutoloadCategories:M}}function Lxe(t){let{data:{cwState:e,cwText:n,hasEpilepsyWarning:r,origTitle:o,altChTitle:i,romTitle:s,engTitle:a,titleIsOfficiallyTranslated:l,bgColour:u,fgColour:c,uploadDate:h,singers:d,producers:g,description:p,isUnavailable:w,translator:C,isOfficialTranslation:v,categories:y},langOptions:{headersText:x,needsRomanization:M,needsEnglishTranslation:_},playLinks:T,extLinks:O,lyrics:I}=t,N="",L="",B="",ae="",U="",ce="",ve="",Me="",Ce="",ne="",S="",R="";if(M&&s!==""){L="{{sort";let D=$A(s);D.replace(/[ -~]/g,"")!==""&&(L+=`|${D}`),L+="}}"}ae=r?"{{Epilepsy}}":"",ae+=e===La.questionable?`{{Questionable${n===""?"":`|${n}`}}}`:e===La.explicit?`{{Explicit${n===""?"":`|${n}`}}}`:"",w&&(B="{{Unavailable}}"),o.match(/^[a-z]/)!==null&&(N="{{Lowercase}}"),o.match(/_/g)!==null&&(N=`{{DISPLAYTITLE:${o}}}`),U=`"'''${o}'''"`,i!==""&&(U+=`<br />Simplified/Traditional Chinese: ${i}`),M&&s!==""&&(U+=`<br />${x[1]}: ${s}`),_&&a!==""&&(U+=`<br />${l?"Official ":""}English: ${a}`),h!==null&&(ce=`{{Date|${h.getFullYear()}|${Ixe[h.getMonth()]}|${h.getDate()}}}`),T.length===0?Me="N/A":Me=T.map(D=>D.getWikitext()).join(" / ");const k=T.filter(D=>!D.isReprint&&BE[D.site]!==void 0).map(D=>({vc:D.getFormattedViewCount(),abbr:BE[D.site]}));return k.length>1?Ce=k.map(D=>`${D.vc} (${D.abbr})`).join(", "):Ce=k.map(D=>D.vc).join(", "),Ce===""&&(Ce="N/A"),ve=D$(I,{langOptions:{headersText:x,needsRomanization:M,needsEnglishTranslation:_},translator:C,isOfficialTranslation:v,bgColour:u,fgColour:c}),S=O.filter(D=>!D.isOfficial).map(D=>"* "+D.getWikitext()).join(`
`),ne=O.filter(D=>D.isOfficial).map(D=>"* "+D.getWikitext()).join(`
`),(S!==""||ne!=="")&&(R=`==External Links==
`,R+=ne,R+=ne===""?"":`
`,R+=S===""?"":`===Unofficial===
${S}

`),`${N}${L}${B}${ae}
{{Infobox_Song
|image = 
|songtitle = ${U}
|color = ${u}; color:${c}
|original upload date = ${ce}
|singer = ${d}
|producer = ${g}
|#views = ${Ce}
|link = ${Me}${p?`
|description = ${p}`:""}
}}

==Lyrics==
${ve}

${R}${y.map(D=>`[[Category:${D}]]`).join(`
`)}`.trim()}var Gl=(t=>(t.producer="Producer",t.vocalist="Vocalist",t.animator="Animator",t.illustrator="Illustrator",t.label="Label",t.circle="Circle",t.band="Band",t.other="Other",t.nothing="Nothing",t.subject="Subject",t))(Gl||{}),Xr=(t=>(t.default="Default",t.animator="Animator",t.arranger="Arranger",t.composer="Composer",t.distributor="Distributor",t.illustrator="Illustrator",t.instrumentalist="Instrumentalist",t.lyricist="Lyricist",t.mastering="Mastering",t.publisher="Publisher",t.vocalist="Vocalist",t.voicemanipulator="VoiceManipulator",t.other="Other",t.mixer="Mixer",t.chorus="Chorus",t.encoder="Encoder",t.vocalprovider="VocalDataProvider",t))(Xr||{}),Xs=(t=>(t.unknown="Unknown",t.circle="Circle",t.label="Label",t.producer="Producer",t.animator="Animator",t.illustrator="Illustrator",t.lyricist="Lyricist",t.vocalist="Vocalist",t.instrumentalist="Instrumentalist",t.othervocalist="OtherVocalist",t.othergroup="OtherGroup",t.otherIndividual="OtherIndividual",t.utaite="Utaite",t.band="Band",t.designer="Designer",t.coverartist="CoverArtist",t.character="Character",t.vocaloid="Vocaloid",t.utau="UTAU",t.cevio="CeVIO",t.synthv="SynthesizerV",t.neutrino="NEUTRINO",t.voisona="VoiSona",t.newtype="NewType",t.voiceroid="Voiceroid",t.othervoicesynth="OtherVoiceSynthesizer",t))(Xs||{}),gs=(t=>(t.nnd="NicoNicoDouga",t.yt="Youtube",t.sc="SoundCloud",t.vm="Vimeo",t.pp="Piapro",t.bb="Bilibili",t.bc="Bandcamp",t))(gs||{}),W$=(t=>(t.original="Original",t.reprint="Reprint",t.other="Other",t))(W$||{}),Bh=(t=>(t.official="Official",t.commercial="Commercial",t.reference="Reference",t.other="Other",t))(Bh||{}),YA=(t=>(t.orig="Japanese",t.rom="Romaji",t.eng="English",t.oth="Unspecified",t))(YA||{}),F$=(t=>(t.unknown="Unknown",t.album="Album",t.single="Single",t.ep="EP",t.splitalbum="SplitAlbum",t.compilation="Compilation",t.video="Video",t.artbook="Artbook",t.game="Game",t.fanmade="Fanmade",t.instrumental="Instrumental",t.other="Other",t))(F$||{});const qA="ccxtwf.github.io";function Yl(t){let e="";return t.length<=1?e+=t.join(""):e+=t.slice(0,-1).join(", ")+" and "+t.at(-1),e}function KA(t,e){const n=new RegExp(`^https?:\\/\\/vocadb\\.net\\/${e}\\/(\\d+)`).exec(t);return n===null?null:n[1]}function V$(t,e){let n=e,r=e,o="",i=!1;const s=N$.exec(`SELECT "s"."basevb_name", "s"."wikicat_name", "e"."name"  
    FROM synths "s"
    LEFT JOIN engines "e" ON "s".engine_id = "e".id 
    WHERE "s".vdb_id = ${t};`);if(s.length>0){const[a,l,u]=s[0].values[0];a===l?n=`[[${l}]]`:n=`[[${l}|${a}]]`,r=(a==null?void 0:a.toString())||"",o=(u==null?void 0:u.toString())||"",i=!0}return{wikitext:n,base:r,engine:o,isSuccess:i}}async function jxe(t){var e,n;try{const r=KA(t,"S");if(r===null)throw new Error("VocaDB page ID is empty or invalid!");const o=await(await fetch(`https://vocadb.net/api/songs/${r}?fields=Artists,Names,PVs,WebLinks,CultureCodes&lang=English&origin=${qA}`)).json(),i=(o.cultureCodes||[]).map(O=>og.findIndex(I=>I.code===O)).filter(O=>O>-1),s=o.defaultName||"",a=((e=(o.names||[]).find(O=>O.language===YA.rom))==null?void 0:e.value)||"",l=((n=(o.names||[]).find(O=>O.language===YA.eng))==null?void 0:n.value)||"",u=(o.publishDate||"").replace(/^(\d{4}-\d{2}-\d{2}).*$/,"$1"),c=[],h=[],d=[],g=new Set,p=[],w=[],C=[],v=[[`https://vocadb.net/S/${r}`,"VocaDB",!1]],y={[Xr.default]:"music, lyrics",[Xr.composer]:"music",[Xr.lyricist]:"lyrics",[Xr.arranger]:"arrangement",[Xr.mixer]:"mix",[Xr.mastering]:"mastering",[Xr.voicemanipulator]:"tuning",[Xr.instrumentalist]:"instruments",[Xr.illustrator]:"illustration",[Xr.animator]:"PV",[Xr.encoder]:"encoding",[Xr.vocalist]:"vocalist",[Xr.chorus]:"chorus",[Xr.other]:"other",[Xr.distributor]:"publisher",[Xr.publisher]:"publisher"},x=[Xs.vocaloid,Xs.utau,Xs.cevio,Xs.synthv,Xs.neutrino,Xs.voiceroid,Xs.voisona,Xs.newtype,Xs.othervoicesynth];for(let O of o.artists||[]){let I=O.name||"";if(O.categories===Gl.vocalist){if(x.includes(O.artist.artistType)){const{wikitext:N,engine:L,isSuccess:B}=V$(O.artist.id,I);B&&(I=N,g.add(L))}O.isSupport?d.push(I):h.push(I)}else if(O.categories===Gl.circle||O.categories===Gl.label)p.push(I);else{let N=O.roles.split(", ");N=N.map(L=>y[L]||"other"),N=[...new Set(N)],w.push({name:I,role:N.join(", ")})}}let M="";p.length>0&&(M+=`'''''${p.join(", ")}''''':
`),M+=w.map(O=>`${O.name} (${O.role})`).join(`
`);let _="";_+=Yl(h),d.length>0&&(_+=`
<small>${Yl(d)}</small>`);const T={[gs.yt]:"YouTube",[gs.nnd]:"Niconico",[gs.bb]:"bilibili",[gs.pp]:"piapro",[gs.sc]:"SoundCloud",[gs.bc]:"Bandcamp",[gs.vm]:"Vimeo"};for(let O of o.pvs||[]){const I=T[O.service]||null;let N="";O.service===gs.yt?N=`https://www.youtube.com/watch?v=${O.pvId||""}`:N=O.url||"";const L=O.disabled,B=O.pvType!==W$.original;if(I===null?v.push([N,O.service,!B]):C.push([I,N,B,!1,L,""]),!B)switch(O.service){case gs.yt:c.push({src:`https://i.ytimg.com/vi/${O.pvId}/maxresdefault.jpg`,alt:"YouTube thumbnail",onLoad:ae=>{if(ae.target.naturalHeight>=200){ae.onload=null;return}const U=ae.target.src||"";U.endsWith("maxresdefault.jpg")?ae.target.src=`https://i.ytimg.com/vi/${O.pvId}/hqdefault.jpg`:U.endsWith("hqdefault.jpg")&&(ae.target.src=O.thumbUrl||"",ae.onload=null)}});break;case gs.bb:if(!O.thumbUrl||O.thumbUrl==="")break;c.push({src:"/VLW-Page-Generators-v2/bilibili_logo.jpeg",alt:"Click to get bilibili thumbnail",href:O.thumbUrl,target:"_blank",rel:"noopener noreferrer"});break;case gs.nnd:O.thumbUrl&&O.thumbUrl!==""&&c.push({src:O.thumbUrl+".L",alt:"Niconico thumbnail",onError:ae=>{ae.target.src=O.thumbUrl,ae.onerror=null}});break;default:O.thumbUrl&&O.thumbUrl!==""&&c.push({src:O.thumbUrl,alt:`${O.service} thumbnail`});break}}for(let O of o.webLinks||[]){const I=O.url||"";let N=O.description||"";N==="MikuWiki"&&(N="Hatsune Miku Wiki");const L=O.category===Bh.official||O.category===Bh.commercial;v.push([I,N,L])}return{formData:{languageIds:i,origTitle:s,romTitle:a,engTitle:l,uploadDate:u,singers:_,engines:[...g],producers:M,imageProps:c},playLinksData:C,extLinksData:v}}catch(r){throw r}}async function Wxe(t){var e;try{const n=KA(t,"Al");if(n===null)throw new Error("VocaDB page ID is empty or invalid!");let r=await(await fetch(`https://vocadb.net/api/albums/${n}?fields=MainPicture,Names,PVs,Artists,Tracks,WebLinks&songfields=Artists&lang=English&origin=${qA}`)).json();const o=r.defaultName||"",i=((e=(r.names||[]).find(v=>v.language==="Romaji"))==null?void 0:e.value)||"";let s=r.mainPicture.urlOriginal;const a=[],l=[],u=[],c=new Set;let h="",d="",g="";for(let v of r.artists||[])if(v.categories!==Gl.vocalist)switch(v.categories){case Gl.label:u.push(v.name||"");break;case Gl.circle:a.push(v.name||"");break;case Gl.producer:v.isSupport||l.push(v.name||"");break;default:break}h=u.length===0?"":Yl(u),r.discType===F$.compilation?d=`a compilation album by ${a.length===0?"several producers":Yl(a)}`:l.length>3?d=`an album by ${a.length===0?"several producers":Yl(a)}`:(d=`an album by ${Yl(l)}`,a.length>0&&(d+=`, under the circle ${Yl(a)}`));const p=[],w=[],C=new Map;for(let v of r.tracks||[]){const{discNumber:y,trackNumber:x,song:{artists:M,defaultName:_}={}}=v,T=[],O=[];for(let I of M||[])if(!I.isSupport)if(I.categories===Gl.vocalist){const N=I.artist.id;if(C.has(N))O.push(C.get(N)||"");else{const{wikitext:L,base:B,engine:ae,isSuccess:U}=V$(N,I.artist.name||"");U?(O.push(L),c.add(ae),C.set(N,B)):O.push(L)}}else T.push(I.artist.name||"");p.push([y,x,_||"",Yl(T),Yl(O)])}for(let v of r.webLinks||[]){const y=v.url||"";let x=v.description||"";const M=/^https?:\/\/vocaloid\.fandom\.com\/wiki\/([^\?]+)/.exec(y);M!==null&&(g=M[1]),x==="MikuWiki"&&(x="Hatsune Miku Wiki");const _=v.category===Bh.official||v.category===Bh.commercial;w.push([y,x,_])}return{formData:{origTitle:o,romTitle:i,label:h,description:d,engines:[...c],vdbAlbumId:n,vocaWikiPage:g,imageSrc:s},tracklistData:p,extLinksData:w}}catch(n){throw n}}async function Fxe(t){try{const e=KA(t,"Ar");if(e===null)throw new Error("VocaDB page ID is empty or invalid!");let n=await(await fetch(`https://vocadb.net/api/artists/${e}?fields=AdditionalNames,MainPicture,Description,ArtistLinks,WebLinks&lang=English&origin=${qA}`)).json();const r=n.name||"",o=`'''${r}''' is a vocal synth producer.`,i=[],s=[];let a=n.mainPicture.urlOriginal;const l=[];for(let u of n.artistLinks||[])u.artist.artistType===Xs.label?i.push(u.artist.name||""):s.push(u.artist.name||"");l.push([`https://vocadb.net/Ar/${e}`,"VocaDB",!1,!1,!1]);for(let u of n.webLinks||[]){const c=u.url||"";let h=u.description||"";h==="MikuWiki"&&(h="Hatsune Miku Wiki");const d=u.category===Bh.official||u.category===Bh.commercial,g=d&&!!Vj.filter(w=>w.isMedia).find(w=>w.re.exec(c)),p=u.disabled;l.push([c,h,d,g,p])}return{formData:{prodCategory:r,affiliations:s.join(`
`),label:i.join(`
`),description:o,imageSrc:a},extLinksData:l}}catch(e){throw e}}async function Vxe(t){try{if(t.trim()==="")throw new Error("Producer category cannot be empty");let e=new Set,n=new Map,r=[],o="";for(;;){let u=await(await fetch(`https://${Uo}.fandom.com/api.php?action=query&format=json&list=categorymembers&cmtitle=Category:${encodeURI(t)}_songs_list&cmprop=title|sortkeyprefix&cmlimit=500&cmtype=page|subcat&cmsort=sortkey&cmdir=ascending${o}&origin=*`)).json();if(u.error)throw new Error(`Failed fetch: ${u.error.info}`);for(let c of u.query.categorymembers){const h=decodeURI(c.title),d=(c.sortkeyprefix||"")===""?h:c.sortkeyprefix||"";c.ns===0?n.set(d,h):e.add(h)}if(u.continue)o=u.continue.cmcontinue;else break}if(n.size===0&&e.size===0)throw new Error("No pages found - please recheck the category name");const i=async u=>{const c=[];for(;;){let h=await(await fetch(`https://${Uo}.fandom.com/api.php?action=query&format=json&list=categorymembers&cmtitle=${encodeURI(u)}&cmprop=title|sortkeyprefix&cmlimit=500&cmtype=page|subcat&cmsort=sortkey&cmdir=ascending${o}&origin=*`)).json();if(h.error)throw new Error(`Failed fetch: ${h.error.info}`);if(c.push(...h.query.categorymembers.map(d=>{const g=decodeURI(d.title),p=(d.sortkeyprefix||"")===""?g:d.sortkeyprefix||"";return{title:g,sortkey:p}})),h.continue)o="&cmcontinue="+h.continue.cmcontinue;else break}return c};let s=[...e].find(u=>u.endsWith("/Albums"))||null;if(s!==null){e.delete(s);const u=await i(s);r.push(...u.map(c=>c.title))}const a=await Promise.all([...e].map(u=>i(u)));for(let u of a)for(let{sortkey:c,title:h}of u)n.set(c,h);let l=Array.from(n);return l.sort((u,c)=>{const h=u[0].toLowerCase(),d=c[0].toLowerCase();return h>d?1:h<d?-1:0}),{songs:l.map(u=>[u[1],""]),albums:r.map(u=>[u,""])}}catch(e){throw e}}const XA={cwState:La.noWarnings,cwText:"",hasEpilepsyWarning:!1,origTitle:"",altChTitle:"",romTitle:"",engTitle:"",titleIsOfficiallyTranslated:!1,bgColour:"black",fgColour:"white",uploadDate:"",isAlbumOnly:!1,isUnavailable:!1,singers:"",producers:"",description:"",translator:"",isOfficialTranslation:!1,categoriesRaw:""};function Bxe(){const[t,e]=Y.useState({url:"",loading:!1}),[n,r]=Y.useState({...XA}),[o,i]=Y.useState([]),[s,a]=Y.useState([]),[l,u]=Y.useState([]),[c,h]=Y.useState(!1),[d,g]=Y.useState(""),[p,w]=Y.useState([]),[C,v]=Y.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),y=Y.useRef(null),x=Y.useRef(null),M=Y.useRef(null),{bindInput:_,bindTextArea:T,bindCheckbox:O,bindDropdown:I}=Av(n,r),N=UA(),L=Y.useMemo(()=>o.map(R=>og[R]),[o]),[B,ae,U,ce]=Y.useMemo(()=>_xe(L),[L]),ve=Y.useMemo(()=>R=>p.includes(R)?"error":"",[p]);Y.useEffect(()=>{var R,k,D,W,V,he;(k=(R=y.current)==null?void 0:R.hotInstance)==null||k.loadData(Array(20).fill(null).map(te=>["","","",""])),(W=(D=x.current)==null?void 0:D.hotInstance)==null||W.loadData([["YouTube","",!1,!1,!1,""],["Niconico","",!1,!1,!1,""],["bilibili","",!1,!1,!1,""],["piapro","",!1,!1,!1,""],["SoundCloud","",!1,!1,!1,""]]),(he=(V=M.current)==null?void 0:V.hotInstance)==null||he.loadData(Array(5).fill(null).map(te=>["","",!1]))},[]);function Me(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(ne(!0),e({...t,loading:!0}),jxe(t.url).then(R=>{var Xe,Se,le,mt,Qe,et;const{formData:{languageIds:k,origTitle:D,romTitle:W,engTitle:V,uploadDate:he,singers:te,engines:we,producers:ye,imageProps:pe},playLinksData:$e,extLinksData:We}=R;r({...XA,origTitle:D,romTitle:W,engTitle:V,uploadDate:he,singers:te,producers:ye}),i(()=>k),a(()=>we),u(()=>pe),document.getElementById("song-generator-input-origTitle").value=D,document.getElementById("song-generator-input-romTitle").value=W,document.getElementById("song-generator-input-engTitle").value=V,document.getElementById("song-generator-input-uploadDate").value=he,document.getElementById("song-generator-input-singers").value=te,document.getElementById("song-generator-input-producers").value=ye,(Se=(Xe=y.current)==null?void 0:Xe.hotInstance)==null||Se.loadData(Array(20).fill(null).map(ft=>["","","",""])),(mt=(le=x.current)==null?void 0:le.hotInstance)==null||mt.loadData($e),(et=(Qe=M.current)==null?void 0:Qe.hotInstance)==null||et.loadData(We),window.alert("Finished fetching from VocaDB")}).catch(R=>{window.alert((R==null?void 0:R.message)||R)}).finally(()=>{e({...t,loading:!1})}))}function Ce(){var k,D;const R=Hxe({languageIds:o,needsEnglishTranslation:ae,engines:s,singers:n.singers,producers:n.producers,isAlbumOnly:n.isAlbumOnly,lyricsData:(D=(k=y.current)==null?void 0:k.hotInstance)==null?void 0:D.getData()});r({...n,categoriesRaw:R.join(`
`)})}function ne(R=!1){var k,D,W,V,he,te,we;(R||window.confirm("Are you sure you want to reset?"))&&(e({url:"",loading:!1}),r({...XA}),i([]),a([]),u([]),h(!1),(k=document.getElementById("song-generator-form"))==null||k.reset(),(W=(D=y.current)==null?void 0:D.hotInstance)==null||W.loadData(Array(20).fill(null).map(ye=>["","","",""])),(he=(V=x.current)==null?void 0:V.hotInstance)==null||he.loadData([["YouTube","",!1,!1,!1,""],["Niconico","",!1,!1,!1,""],["bilibili","",!1,!1,!1,""],["piapro","",!1,!1,!1,""],["SoundCloud","",!1,!1,!1,""]]),(we=(te=M.current)==null?void 0:te.hotInstance)==null||we.loadData(Array(5).fill(null).map(ye=>["","",!1])),v({errors:[],warnings:[],recommendToAutoloadCategories:!1}),w([]),g(""))}function S(){var we,ye,pe,$e,We,Xe;const R=Nxe({data:{...n,languageIds:o,usedEngines:s},langOptions:{needsRomanization:B,needsEnglishTranslation:ae,headersText:[...U.slice(1)]},playLinksData:((ye=(we=x.current)==null?void 0:we.hotInstance)==null?void 0:ye.getData())||[],lyricsData:(($e=(pe=y.current)==null?void 0:pe.hotInstance)==null?void 0:$e.getData())||[],extLinksData:((Xe=(We=M.current)==null?void 0:We.hotInstance)==null?void 0:Xe.getData())||[]}),{errors:k,recommendToAutoloadCategories:D}=Dxe(R);let W=!1;const V=[],he=[];let te=new Set;for(let Se of k){const[le,mt,Qe]=Se;le?(W=!0,V.push(mt.toString())):he.push(mt.toString()),te.add(Qe.toString())}if(w([...te]),v({errors:V,warnings:he,recommendToAutoloadCategories:D}),!W||c){const Se=Lxe(R);g(Se)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{id:"song-generator-form",children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:Br.vdb})]})}),m.jsx(me,{width:13,children:m.jsx(BA,{handleFetchFromVocadb:Me,loading:t.loading,setStateOnBlur:R=>{e({...t,url:R})},mode:"S"})})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:m.jsx(uf,{size:"large",children:l.map(R=>Y.createElement($o,{...R,key:R.src,title:R.alt}))})})}),m.jsx(Gt,{}),m.jsxs(Ue,{style:{paddingBottom:"20px"},children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Content Warnings:"}),m.jsx(_t,{content:Br.cw})]})}),m.jsxs(me,{width:13,children:[m.jsx(kn,{id:"song-generator-input-cwText",fluid:!0,placeholder:"violent/mature content",label:m.jsx(qn,{id:"song-generator-input-cwState",selection:!0,options:[{key:0,text:"No warnings",value:La.noWarnings},{key:1,text:"Questionable",value:La.questionable},{key:2,text:"Explicit",value:La.explicit}],...I("cwState"),className:"cw-dropdown "+(n.cwState===La.questionable?"questionable":n.cwState===La.explicit?"explicit":"")}),labelPosition:"left",..._("cwText"),className:ve("cwText")}),m.jsx("br",{}),m.jsx(En,{id:"song-generator-input-hasEpilepsyWarning",label:"Epileptic Warning",...O("hasEpilepsyWarning")})]})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Song Language:"}),m.jsx(_t,{content:Br.language,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(qn,{placeholder:"Song Language",fluid:!0,multiple:!0,selection:!0,options:og.map((R,k)=>({key:k,text:R.name,value:k})),className:ve("languageIds"),value:o,onChange:(R,k)=>i(k.value)})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Original title:"}),m.jsx(_t,{content:Br.origTitle,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"song-generator-input-origTitle",fluid:!0,placeholder:"Original title",className:ve("origTitle"),..._("origTitle")})})]}),ce&&m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Traditional/Simplified Chinese title:"}),m.jsx(_t,{content:Br.altChTitle})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"song-generator-input-altChTitle",fluid:!0,placeholder:"Traditional/Simplified Chinese title",..._("altChTitle"),className:ve("altChTitle")})})]}),B&&m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Transliterated title:"}),m.jsx(_t,{content:Br.romTitle})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"song-generator-input-romTitle",fluid:!0,placeholder:"Romanized title",..._("romTitle"),className:ve("romTitle")})})]}),ae&&m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Translated title:"}),m.jsx(_t,{content:Br.engTitle})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"song-generator-input-engTitle",fluid:!0,placeholder:"English title",..._("engTitle"),className:ve("engTitle"),label:m.jsx(En,{id:"song-generator-input-isOfficiallyTranslated",label:"Is an official title?",...O("titleIsOfficiallyTranslated")}),labelPosition:"right"})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Infobox BG/FG colours:"}),m.jsx(_t,{content:Br.infobox,required:!0})]})}),m.jsxs(me,{width:13,children:[m.jsx("div",{className:"infobox-preview",style:{backgroundColor:n.bgColour,color:n.fgColour},children:m.jsx("span",{children:"Preview"})}),m.jsxs(Yo,{stackable:!0,children:[m.jsx(me,{width:8,children:m.jsx(kn,{size:"small",className:ve("bgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(kn,{type:"color",value:dS(n.bgColour),onChange:(R,k)=>{r({...n,bgColour:k.value})}})},labelPosition:"right",value:n.bgColour,onChange:(R,k)=>r({...n,bgColour:k.value})})}),m.jsx(me,{width:8,children:m.jsx(kn,{size:"small",className:ve("fgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(kn,{type:"color",value:dS(n.fgColour),onChange:(R,k)=>{r({...n,fgColour:k.value})}})},labelPosition:"right",value:n.fgColour,onChange:(R,k)=>r({...n,fgColour:k.value})})})]})]})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Upload Date:"}),m.jsx(_t,{content:Br.dateOfPublication,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"song-generator-input-uploadDate",type:"date",..._("uploadDate"),className:ve("uploadDate")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Singer(s):"}),m.jsx(_t,{content:Br.singers,required:!0})]})}),m.jsxs(me,{width:13,children:[m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:N.map(R=>({key:R.id,text:R.name,value:R.name})),value:s,onChange:(R,k)=>a(k.value),className:ve("engines")}),m.jsx(Go,{id:"song-generator-input-singers",...T("singers"),className:ve("singers")})]})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Producer(s):"}),m.jsx(_t,{content:Br.producers,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"song-generator-input-producers",...T("producers"),className:ve("producers")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:Br.description})]})}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"song-generator-input-description",...T("description"),className:ve("description")})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{className:ve("playLinks"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Broadcast Links"}),m.jsx(_t,{content:Br.playLinks,required:!0})]})}),m.jsxs(me,{width:13,children:[m.jsx(pxe,{ref:x}),m.jsxs("div",{style:{marginTop:"10px",display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:[m.jsx("div",{children:m.jsx(En,{id:"song-generator-input-isAlbumOnly",label:"Song is an album-only release",...O("isAlbumOnly")})}),m.jsx("div",{style:{paddingLeft:"30px"},children:m.jsx(En,{id:"song-generator-input-isUnavailable",label:"Song is publically unavailable",...O("isUnavailable")})})]})]})]}),m.jsx(Gt,{}),m.jsx(Ue,{className:ve("lyrics"),children:m.jsxs(me,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"Lyrics"}),m.jsx(_t,{content:Br.lyrics,required:!0})]}),m.jsx(A$,{headersText:U,needsRomanization:B,needsEnglishTranslation:ae,mode:"light",ref:y})]})}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Translator:"}),m.jsx(_t,{content:Br.translator})]})}),m.jsxs(me,{width:13,children:[m.jsx(kn,{id:"song-generator-input-translator",type:"text",..._("translator"),className:ve("translator"),style:{minWidth:"40%"}}),m.jsx(En,{id:"song-generator-input-isOfficialTranslation",label:"Is an official translation",...O("isOfficialTranslation"),style:{marginLeft:"20px"}}),m.jsx(_t,{content:Br.officialTranslation})]})]}),m.jsx(Gt,{}),m.jsxs(Ue,{className:ve("extLinks"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"External Links"}),m.jsx(_t,{content:Br.extLinks})]})}),m.jsx(me,{width:13,children:m.jsx(FA,{ref:M})})]}),m.jsxs(Ue,{children:[m.jsxs(me,{width:3,children:[m.jsxs("div",{className:"label-column",style:{marginBottom:"10px"},children:[m.jsx("div",{children:"Categories"}),m.jsx(_t,{content:Br.categories,required:!0})]}),m.jsx(hr,{basic:!0,color:"violet",onClick:Ce,children:"Autoload"})]}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"song-generator-input-categoriesRaw",value:n.categoriesRaw,onChange:(R,k)=>{var D;return r({...n,categoriesRaw:((D=k.value)==null?void 0:D.toString())||""})},className:ve("categoriesRaw")})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>ne(),children:"Reset"})}),m.jsxs(me,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:S,children:"Generate"}),m.jsx(En,{label:"Ignore Errors",checked:c,onChange:(R,k)=>h((k==null?void 0:k.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:m.jsx(VA,{errors:C.errors,warnings:C.warnings,recommendToAutoloadCategories:C.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsxs(me,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:d})]}),m.jsx("h2",{className:"centered-header",children:B?`${n.origTitle}${n.romTitle===""?"":` (${n.romTitle})`}`:n.origTitle}),m.jsx(Go,{rows:40,value:d,onChange:(R,k)=>g(`${k==null?void 0:k.value}`||"")})]})})]})})})}const zxe=Y.forwardRef(function(t,e){const n=(a,l,u,c,h,d,g)=>{if(!d||d==="")return l.innerText="",l;const p=(d==null?void 0:d.match(/^(?:\[\[(?!w:c:))(?:([^\|]*)(?:|\|.*))\]\]$/i))||null;if(p!==null){d=d.replace("<","&lt;").replace(">","&gt;");let w=encodeURI(p[1]).replace(/\?/g,"%3F");l.innerHTML=`<a href="https://${Uo}.fandom.com/wiki/${w}" target="_blank" rel="noopener noreferrer">${d}</a>`}else l.innerText=d;return l},r=["Disk no","Track no","Track name/VLW Page Title","Feat. Producers","Feat. Singers"],o=[{type:"numeric"},{type:"numeric"},{type:"text",renderer:n},{type:"text"},{type:"text"}];let i=[5,5,50,20,20];const s=a=>{for(let l of a){const[u,c,h,d]=l||[];if(c===2){const g=(d==null?void 0:d.match(/^https?:\/\/vocaloidlyrics\.fandom\.com\/wiki\/([^\?]+)/))||null;if(g!==null){let p=g[1];p=decodeURI(p).replace(/_/g," ").replace(/%3F/g,"?"),l[3]=`[[${p}]]`}}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:r,columns:o,width:"100%",contextMenu:Ov,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:i,beforeChange:s,stretchH:"all",minSpareRows:0,licenseKey:"non-commercial-and-evaluation"})})});function Uxe({formData:t,tracklistData:e,extLinksData:n}){let{origTitle:r,romTitle:o,bgColour:i,fgColour:s,label:a,description:l,vdbAlbumId:u,vocaWikiPage:c,categoriesRaw:h}=t;r=r.trim(),o=o.trim(),i=i.trim(),s=s.trim(),a=a.trim(),l=l.trim(),u=u.trim().replace(/^(\d+)\D*$/,"$1"),c=c.trim();let d=[];h=h.trim(),h!==""&&(d=h.split(/[\r\s]*\n+[\r\s]*/));const g=e.map(w=>new Axe(w[0],w[1],w[2],w[3],w[4])).filter(w=>w.pageTitle!==""),p=n.map(w=>new GA(w[0],w[1],w[2])).filter(w=>w.url!=="");return{formData:{...t,origTitle:r,romTitle:o,bgColour:i,fgColour:s,label:a,description:l,vdbAlbumId:u,vocaWikiPage:c,categories:d},tracklist:g,extLinks:p}}function QA(t){const e=[],n=t.matchAll(new RegExp("\\[\\[(?<base>[^\\|\\n\\]]*)\\|?(?<cap>(?<=\\|)[^\\]]*)?\\]\\]","g"));for(let r of n){let{base:o=""}=r.groups||{};o!==""&&(o=o.trim(),o.match(/^w:c:/i)===null&&(o.match(/^:[Cc]ategory:(.*) songs list$/)!==null&&(o=o.replace(/^:[Cc]ategory:(.*) songs list$/,"$1")),e.push(o)))}return e}function $xe(t,e){var c,h;let{description:n,engines:r}=t;const o=[],i=[],s=[];let a=new Set(QA(n)),l=new Set,u=new Set;for(let d of e){const g=QA(((c=d[3])==null?void 0:c.trim())||""),p=QA(((h=d[4])==null?void 0:h.trim())||"");for(let w of g)l.add(w);for(let w of p)u.add(w)}for(let d of a)l.has(d)&&l.delete(d);return i.push(...a),i.push(...l),s.push(...u),o.push(...r.map(d=>`Albums featuring ${d}`)),o.push(...s.map(d=>`Albums featuring ${d}`)),o.push(...i.map(d=>`${d} songs list/Albums`)),o}function Gxe(t){let{formData:{origTitle:e,bgColour:n,fgColour:r,description:o,engines:i,vdbAlbumId:s,categories:a},tracklist:l}=t,u=!1;const c=[];return e===""&&c.push([!0,"You haven't entered an album name.","origTitle"]),n===""&&c.push([!0,"Please add a background colour.","bgColour"]),r===""&&c.push([!0,"Please add a foreground colour.","fgColour"]),Pv(n)||c.push([!0,"The background colour is invalid.","bgColour"]),Pv(r)||c.push([!0,"The foreground colour is invalid.","fgColour"]),o===""&&c.push([!0,"You must add a short description about the album.","description"]),s===""&&c.push([!0,"You must add a numeric page ID for the VocaDB link.","vdbAlbumId"]),l.every(h=>h.pageTitle==="")?c.push([!0,"You must add at least one song to the tracklist.","tracklist"]):(l.some(h=>h.trackNo==="")&&c.push([!0,"You must add the track listing number to all tracks.","tracklist"]),l.some(h=>h.discNo!==""&&isNaN(+h.discNo))&&c.push([!0,"The disc number must be numeric.","tracklist"]),l.some(h=>h.trackNo!==""&&isNaN(+h.trackNo))&&c.push([!0,"The track number must be numeric.","tracklist"]),l.some(h=>h.pageTitle==="")&&c.push([!0,"You must add a track name to all tracks.","tracklist"]),l.some(h=>h.singerCredit===""&&h.producerCredit==="")&&c.push([!0,"You must add featured producers/singers to all tracks, or specify that the song is an instrumental if there are no singers.","tracklist"])),i.length===0&&(c.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),u=!0),a.length===0&&(c.push([!0,"Did you forget to add categories?","categoriesRaw"]),u=!0),{errors:c,recommendToAutoloadCategories:u}}function Yxe(t){let{formData:{origTitle:e,romTitle:n,bgColour:r,fgColour:o,label:i,description:s,vdbAlbumId:a,vocaWikiPage:l,categories:u},tracklist:c,extLinks:h}=t,d="",g="",p="",w="",C="";if(d=c.map(v=>`|${v.discNo=="1"?"":v.discNo}tr${v.trackNo} = ${v.pageTitle}
|${v.discNo=="1"?"":v.discNo}tr${v.trackNo}s = ${v.credits}`).join(`
`),p=h.filter(v=>!v.isOfficial).map(v=>"* "+v.getWikitext()).join(`
`),g=h.filter(v=>v.isOfficial).map(v=>"* "+v.getWikitext()).join(`
`),(p!==""||g!=="")&&(w=`==External Links==
`,w+=g,w+=g===""?"":`
`,w+=p===""?"":`===Unofficial===
${p}

`),n!==e&&e!==""){C="{{sort-album";const v=$A(n,!1);v.replace(/[ -~]/g,"")!==""?C+=`|${v}}}`:C+="}}"}return`
{{Album Infobox
|title = ${n===""?e:n}
|orgtitle = ${n===""?"":e}
|label = ${i}
|desc = ${s}
|vdb = ${a}
|vw = ${l}

|image = 
|color = ${r}; color:${o}
${d}
}}

${w}
${C}
${u.map(v=>`[[Category:${v}]]`).join(`
`)}`.trim()}const Iv={origTitle:"",romTitle:"",bgColour:"black",fgColour:"white",label:"",description:"",engines:[],vdbAlbumId:"",vocaWikiPage:"",categoriesRaw:""};function qxe(){const[t,e]=Y.useState({url:"",loading:!1}),[n,r]=Y.useState(null),[o,i]=Y.useState({...Iv,engines:[...Iv.engines]}),[s,a]=Y.useState(!1),[l,u]=Y.useState(""),[c,h]=Y.useState([]),[d,g]=Y.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),p=Y.useRef(null),w=Y.useRef(null),{bindInput:C,bindDropdown:v}=Av(o,i),y=UA(),x=Y.useMemo(()=>I=>c.includes(I)?"error":"",[c]);Y.useEffect(()=>{var I,N,L,B;(N=(I=w.current)==null?void 0:I.hotInstance)==null||N.loadData(Array(5).fill(null).map(ae=>["","",!1])),(B=(L=p.current)==null?void 0:L.hotInstance)==null||B.loadData(Array(12).fill(null).map(ae=>["","","","",""]))},[]);function M(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(T(!0),r(null),e({...t,loading:!0}),Wxe(t.url).then(I=>{var S,R,k,D;const{formData:{origTitle:N,romTitle:L,label:B,description:ae,engines:U,vdbAlbumId:ce,vocaWikiPage:ve,imageSrc:Me},tracklistData:Ce,extLinksData:ne}=I;i(()=>({...Iv,origTitle:N,romTitle:L,label:B,description:ae,engines:U,vdbAlbumId:ce,vocaWikiPage:ve})),r(()=>Me),document.getElementById("album-generator-input-origTitle").value=N,document.getElementById("album-generator-input-romTitle").value=L,document.getElementById("album-generator-input-label").value=B,document.getElementById("album-generator-input-description").value=ae,document.getElementById("album-generator-input-vdbAlbumId").value=ce,document.getElementById("album-generator-input-vocaWikiPage").value=ve,(R=(S=w.current)==null?void 0:S.hotInstance)==null||R.loadData(ne),(D=(k=p.current)==null?void 0:k.hotInstance)==null||D.loadData(Ce),window.alert("Finished fetching from VocaDB")}).catch(I=>{window.alert((I==null?void 0:I.message)||I)}).finally(()=>{e({...t,loading:!1})}))}function _(){var N,L;const I=$xe(o,(L=(N=p.current)==null?void 0:N.hotInstance)==null?void 0:L.getData());i({...o,categoriesRaw:I.join(`
`)})}function T(I=!1){var N,L,B,ae,U;(I||window.confirm("Are you sure you want to reset?"))&&(e({url:"",loading:!1}),i({...Iv,engines:[...Iv.engines]}),r(null),a(!1),(N=document.getElementById("album-generator-form"))==null||N.reset(),(B=(L=w.current)==null?void 0:L.hotInstance)==null||B.loadData(Array(5).fill(null).map(ce=>["","",!1])),(U=(ae=p.current)==null?void 0:ae.hotInstance)==null||U.loadData(Array(12).fill(null).map(ce=>["","","","",""])),g({errors:[],warnings:[],recommendToAutoloadCategories:!1}),h([]),u(""))}function O(){var ve,Me,Ce,ne;const I=Uxe({formData:o,tracklistData:((Me=(ve=p.current)==null?void 0:ve.hotInstance)==null?void 0:Me.getData())||[],extLinksData:((ne=(Ce=w.current)==null?void 0:Ce.hotInstance)==null?void 0:ne.getData())||[]}),{errors:N,recommendToAutoloadCategories:L}=Gxe(I);let B=!1;const ae=[],U=[];let ce=new Set;for(let S of N){const[R,k,D]=S;R?(B=!0,ae.push(k.toString())):U.push(k.toString()),ce.add(D.toString())}if(h([...ce]),g({errors:ae,warnings:U,recommendToAutoloadCategories:L}),!B||s){const S=Yxe(I);u(S)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{id:"album-generator-form",children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:ds.vdb})]})}),m.jsx(me,{width:13,children:m.jsx(BA,{handleFetchFromVocadb:M,loading:t.loading,setStateOnBlur:I=>{e({...t,url:I})},mode:"Al"})})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:n&&m.jsx($o,{src:n,size:"large",wrapped:!0,centered:!0})})}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Original title:"}),m.jsx(_t,{content:ds.origTitle,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-origTitle",fluid:!0,placeholder:"Original title",...C("origTitle"),className:x("origTitle")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Transliterated title:"}),m.jsx(_t,{content:ds.romTitle})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-romTitle",fluid:!0,placeholder:"Romanized title",...C("romTitle"),className:x("romTitle")})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Infobox BG/FG colours:"}),m.jsx(_t,{content:ds.infobox,required:!0})]})}),m.jsxs(me,{width:13,children:[m.jsx("div",{className:"infobox-preview",style:{backgroundColor:o.bgColour,color:o.fgColour},children:m.jsx("span",{children:"Preview"})}),m.jsxs(Yo,{stackable:!0,children:[m.jsx(me,{width:8,children:m.jsx(kn,{size:"small",value:o.bgColour,onChange:(I,N)=>{i({...o,bgColour:N.value})},className:x("bgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(kn,{type:"color",value:dS(o.bgColour),onChange:(I,N)=>{i({...o,bgColour:N.value})}})},labelPosition:"right"})}),m.jsx(me,{width:8,children:m.jsx(kn,{size:"small",value:o.fgColour,onChange:(I,N)=>{i({...o,fgColour:N.value})},className:x("fgColour"),label:{basic:!0,style:{padding:"2px"},content:m.jsx(kn,{type:"color",value:dS(o.fgColour),onChange:(I,N)=>{i({...o,fgColour:N.value})}})},labelPosition:"right"})})]})]})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Label:"}),m.jsx(_t,{content:ds.label})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-label",fluid:!0,placeholder:"KarenT, EXIT Tunes, etc.",...C("label"),className:x("label")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:ds.description,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-description",fluid:!0,placeholder:"an album by PRODUCER",...C("description"),className:x("description")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Singer(s):"}),m.jsx(_t,{content:ds.engines,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:y.map(I=>({key:I.id,text:I.name,value:I.name})),...v("engines"),className:x("engines"),style:{zIndex:"999"}})})]}),m.jsx(Gt,{}),m.jsx(Ue,{className:x("tracklist"),children:m.jsxs(me,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"Tracklist"}),m.jsx(_t,{content:ds.tracklist,required:!0,wide:!0})]}),m.jsx(zxe,{ref:p})]})}),m.jsx(Gt,{}),m.jsxs(Ue,{className:x("vdbAlbumId"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"VocaDB Album Page ID:"}),m.jsx(_t,{content:ds.vdbAlbumId,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-vdbAlbumId",fluid:!0,placeholder:"VocaDB Album Page ID",...C("vdbAlbumId")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"VOCALOID Wiki Page:"}),m.jsx(_t,{content:ds.vocaWikiPage})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"album-generator-input-vocaWikiPage",fluid:!0,placeholder:"Vocaloid Wiki Page Name",...C("vocaWikiPage")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"External Links:"}),m.jsx(_t,{content:ds.extLinks})]})}),m.jsx(me,{width:13,children:m.jsx(FA,{ref:w})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsxs(me,{width:3,children:[m.jsxs("div",{className:"label-column",style:{marginBottom:"10px"},children:[m.jsx("div",{children:"Categories:"}),m.jsx(_t,{content:ds.categories,required:!0})]}),m.jsx(hr,{basic:!0,color:"violet",onClick:_,children:"Autoload"})]}),m.jsx(me,{width:13,children:m.jsx(Go,{value:o.categoriesRaw,onChange:(I,N)=>{i({...o,categoriesRaw:(N.value||"").toString()})},className:x("categoriesRaw")})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>T(),children:"Reset"})}),m.jsxs(me,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:O,children:"Generate"}),m.jsx(En,{label:"Ignore Errors",checked:s,onChange:(I,N)=>a((N==null?void 0:N.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:m.jsx(VA,{errors:d.errors,warnings:d.warnings,recommendToAutoloadCategories:d.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsxs(me,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:l})]}),m.jsx("h2",{className:"centered-header",children:o.origTitle!==""&&`${o.origTitle}${o.romTitle===""?"":` (${o.romTitle})`} (album)`}),m.jsx(Go,{rows:40,value:l,onChange:(I,N)=>u(`${N==null?void 0:N.value}`||"")})]})})]})})})}const B$=Y.forwardRef(function({forAlbums:t=!1},e){const n=(a,l,u,c,h,d,g)=>{if(!d||d==="")return l.innerText="",l;{d=d.replace("<","&lt;").replace(">","&gt;");let p=encodeURI(d).replace(/\?/g,"%3F");l.innerHTML=`<a href="https://${Uo}.fandom.com/wiki/${p}" target="_blank" rel="noopener noreferrer">${d}</a>`}return l},r=[t?"Album pages":"Song pages","Additional template parameters"],o=[{type:"text",renderer:n},{type:"text"}];let i=[60,40];const s=a=>{for(let l of a){const[u,c,h,d]=l||[];if(c===0){const g=(d==null?void 0:d.match(/^https?:\/\/vocaloidlyrics\.fandom\.com\/wiki\/([^\?]+)/))||null;if(g!==null){let p=g[1];p=decodeURI(p).replace(/_/g," ").replace(/%3F/g,"?"),l[3]=p}}}};return m.jsx("div",{className:"table-container",children:m.jsx(rg,{ref:e,rowHeaders:!0,colHeaders:r,columns:o,width:"100%",contextMenu:Ov,autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,imeFastEdit:!0,selectionMode:"multiple",rowHeights:30,colWidths:i,stretchH:"all",minSpareRows:0,beforeChange:s,licenseKey:"non-commercial-and-evaluation"})})});function Kxe({formData:t,producerRoles:e,songListData:n,albumListData:r,extLinksData:o}){let{prodCategory:i,prodAliases:s,affiliations:a,label:l,description:u}=t;i=i.trim(),s=s.trim(),a=a.trim(),a=a===""?"":a.split(/\s*\n\s*/g).map(g=>`* ${g}`).join(`
`),l=l.trim(),l=l===""?"":l.split(/\s*\n\s*/g).map(g=>`* ${g}`).join(`
`),u=u.trim();const c=n.map(g=>new j$(g[0],g[1])).filter(g=>g.page!==""),h=r.map(g=>new j$(g[0],g[1],!0)).filter(g=>g.page!==""),d=o.map(g=>new GA(g[0],g[1],g[2],g[3],g[4])).filter(g=>g.url!=="");return{formData:{...t,prodCategory:i,prodAliases:s,prodRoles:e,affiliations:a,label:l,description:u},songList:c,albumList:h,extLinks:d}}function Xxe(t){let{formData:{prodCategory:e,prodRoles:n,languageIds:r,engines:o,description:i},songList:s,extLinks:a}=t;const l=[];return e===""&&l.push([!0,"You must add the producer category page name for the producer. (This will be used as the parameter of {{ProdLinks}})","prodCategory"]),r.length===0&&l.push([!0,"You haven't chosen a language.","languageIds"]),o.length===0&&l.push([!0,'Please list at least one vocal synth engine, e.g. VOCALOID. Choose "Other/Unlisted" if not on the list.',"engines"]),Object.values(n).every(u=>!u)&&l.push([!0,"You must specify at least one role for the producer, e.g. Do they compose their own songs? Are they an illustrator/PV maker for other producers?","producerRoles"]),i===""&&l.push([!0,'You must add a description for the producer. Even a short description, e.g. "[PRODUCER] is a VOCALOID producer.", will do.',"description"]),a.length===0?l.push([!0,"You must add at least one external link.","extLinks"]):a.every(u=>!u.isOfficial)&&l.push([!0,"You must add at least one official external link, e.g. the producer's social media.","extLinks"]),s.length===0&&l.push([!0,"No song page has been added.","pwtDiscog"]),{errors:l,recommendToAutoloadCategories:!1}}function Qxe(t){const e={MIKUWIKI:/^https?:\/\/(?:w|www5)\.atwiki\.jp\/hmiku\/pages\/(\d*)\.html/,UTAUDB:/^https?:\/\/w\.atwiki\.jp\/utauuuta\/pages\/(\d*)\.html/,NICOPEDIA:/^https?:\/\/dic\.nicovideo\.jp\/id\/(.*)$/,VOCADB:/^https?:\/\/vocadb\.net\/Ar\/(\d*)/,NICOTAG:/^https?:\/\/www\.nicovideo\.jp\/tag\/(.*)$/,MGP:/^https?:\/\/mzh\.moegirl\.org\.cn\/(.*)$/},n={};let r="";for(let o of t){let i=!1;for(let[s,a]of Object.entries(e)){const l=a.exec(o.url);if(l!==null){n[s]=l[1],i=!0;break}}i||(r+=`* ${o.getWikitext()}
`)}return`${`
{{links |p=yes
  |atmiku = ${n.MIKUWIKI||""}
  |atutau = ${n.UTAUDB||""}
  |nico   = ${n.NICOPEDIA||""}
  |vocadb = ${n.VOCADB||""}
  |tag    = ${n.NICOTAG||""}
  |mgp    = ${n.MGP||""}
}}`.trim()}
${r}`}function Jxe(t){const{formData:{prodCategory:e,prodAliases:n,prodRoles:r,affiliations:o,label:i,languageIds:s,engines:a,description:l},songList:u,albumList:c,extLinks:h}=t;let d="",g=["Producers"],p=h.filter(v=>v.isOfficial&&!v.isMedia).map(v=>`* ${v.description}: [${v.url} ]
`).join(""),w=h.filter(v=>v.isOfficial&&v.isMedia).map(v=>`* ${v.getWikitext()}
`).join(""),C=Qxe(h.filter(v=>!v.isOfficial));d+=`==External links==
`,d+=p===""?"":p+`
`,d+=w===""?"":`===Media===
${w}
`,d+=C===""?"":`===Unofficial===
${C}`;for(const[v,y]of Object.entries(r))y&&g.push(`${v.replace(/^\w/,x=>x.toUpperCase())}s`);for(let v of s)g.push(`${og[v].name} original producers`);for(let v of a)g.push(`Producers using ${v}`);return`
<div class="producer-links">
[[File:<PRODUCER PROFILE PICTURE IMAGE FILE>|250px|center]]
==Producer categories==
{{ProdLinks|${e}}}
${i===""?"":`==Labels==
${i}
`}${o===""?"":`==Affiliations==
${o}
`}
${d}</div>

${l}

==Works==${n===""?"":`
{{pwt alias|${n}}}`}
{| class="sortable producer-table"
|- class="vcolor-default"
! {{pwt head}}
${u.map(v=>`|-
| ${v.toTemplate()}
`).join("")}|}

${c.length===0?"":`==Discography==
{| class="sortable producer-table"
|- class="vcolor-default"
! {{awt head}}
`+c.map(v=>`|-
| ${v.toTemplate()}
`).join("")+`|}

`}
__NOTOC__
${g.map(v=>`[[Category:${v}]]`).join(`
`)}`.trim()}const zh={prodCategory:"",prodAliases:"",affiliations:"",label:"",languageIds:[],engines:[],description:""},Zxe={composer:!1,lyricist:!1,tuner:!1,illustrator:!1,animator:!1,arranger:!1,instrumentalist:!1,mixer:!1,masterer:!1};function eRe(){const[t,e]=Y.useState({url:"",loading:!1,loadingDiscog:!1}),[n,r]=Y.useState(null),[o,i]=Y.useState({...zh,languageIds:[...zh.languageIds],engines:[...zh.engines]}),[s,a]=Y.useState({...Zxe}),[l,u]=Y.useState(!1),[c,h]=Y.useState(""),[d,g]=Y.useState([]),[p,w]=Y.useState({errors:[],warnings:[],recommendToAutoloadCategories:!1}),C=Y.useRef(null),v=Y.useRef(null),y=Y.useRef(null),{bindInput:x,bindTextArea:M,bindDropdown:_}=Av(o,i),{bindCheckbox:T}=Av(s,a),O=UA(),I=Y.useMemo(()=>U=>d.includes(U)?"error":"",[d]);Y.useEffect(()=>{var U,ce,ve,Me,Ce,ne;(ce=(U=y.current)==null?void 0:U.hotInstance)==null||ce.loadData(Array(5).fill(null).map(S=>["","",!1,!1,!1])),(Me=(ve=C.current)==null?void 0:ve.hotInstance)==null||Me.loadData(Array(8).fill(null).map(S=>["",""])),(ne=(Ce=v.current)==null?void 0:Ce.hotInstance)==null||ne.loadData(Array(8).fill(null).map(S=>["",""]))},[]);function N(){window.confirm("Are you sure you want to continue? This will reset all data in the page.")&&(B(!0),r(null),e({...t,loading:!0}),Fxe(t.url).then(U=>{var R,k,D,W,V,he;const{formData:{prodCategory:ce,affiliations:ve,label:Me,description:Ce,imageSrc:ne},extLinksData:S}=U;i(()=>({...zh,prodCategory:ce,affiliations:ve,label:Me,description:Ce})),r(()=>ne),document.getElementById("producer-generator-input-prodCategory").value=ce,document.getElementById("producer-generator-input-affiliations").value=ve,document.getElementById("producer-generator-input-label").value=Me,document.getElementById("producer-generator-input-description").value=Ce,(k=(R=C.current)==null?void 0:R.hotInstance)==null||k.loadData(Array(8).fill(null).map(te=>["",""])),(W=(D=v.current)==null?void 0:D.hotInstance)==null||W.loadData(Array(8).fill(null).map(te=>["",""])),(he=(V=y.current)==null?void 0:V.hotInstance)==null||he.loadData(S),window.alert("Finished fetching from VocaDB")}).catch(U=>{window.alert((U==null?void 0:U.message)||U)}).finally(()=>{e({...t,loading:!1})}))}function L(){e({...t,loadingDiscog:!0}),Vxe(o.prodCategory).then(U=>{var Me,Ce,ne,S;const{songs:ce,albums:ve}=U;(Ce=(Me=C.current)==null?void 0:Me.hotInstance)==null||Ce.loadData(ce),(S=(ne=v.current)==null?void 0:ne.hotInstance)==null||S.loadData(ve),window.alert("Finished fetching from the VOCALOID Lyrics Wiki")}).catch(U=>{window.alert((U==null?void 0:U.message)||U)}).finally(()=>{e({...t,loadingDiscog:!1})})}function B(U=!1){var ce,ve,Me,Ce,ne,S,R;(U||window.confirm("Are you sure you want to reset?"))&&(e({url:"",loading:!1,loadingDiscog:!1}),i({...zh,languageIds:[...zh.languageIds],engines:[...zh.engines]}),r(null),u(!1),(ce=document.getElementById("producer-generator-form"))==null||ce.reset(),(Me=(ve=y.current)==null?void 0:ve.hotInstance)==null||Me.loadData(Array(5).fill(null).map(k=>["","",!1,!1,!1])),(ne=(Ce=C.current)==null?void 0:Ce.hotInstance)==null||ne.loadData(Array(8).fill(null).map(k=>["",""])),(R=(S=v.current)==null?void 0:S.hotInstance)==null||R.loadData(Array(8).fill(null).map(k=>["",""])),w({errors:[],warnings:[],recommendToAutoloadCategories:!1}),g([]),h(""))}function ae(){var R,k,D,W,V,he;const U=Kxe({formData:o,producerRoles:s,songListData:((k=(R=C.current)==null?void 0:R.hotInstance)==null?void 0:k.getData())||[],albumListData:((W=(D=v.current)==null?void 0:D.hotInstance)==null?void 0:W.getData())||[],extLinksData:((he=(V=y.current)==null?void 0:V.hotInstance)==null?void 0:he.getData())||[]}),{errors:ce,recommendToAutoloadCategories:ve}=Xxe(U);let Me=!1;const Ce=[],ne=[];let S=new Set;for(let te of ce){const[we,ye,pe]=te;we?(Me=!0,Ce.push(ye.toString())):ne.push(ye.toString()),S.add(pe.toString())}if(g([...S]),w({errors:Ce,warnings:ne,recommendToAutoloadCategories:ve}),!Me||l){const te=Jxe(U);h(te)}}return m.jsx(m.Fragment,{children:m.jsx(Gb,{id:"producer-generator-form",children:m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Pre-load from VocaDB:"}),m.jsx(_t,{content:fs.vdb})]})}),m.jsx(me,{width:13,children:m.jsx(BA,{handleFetchFromVocadb:N,loading:t.loading,setStateOnBlur:U=>{e({...t,url:U})},mode:"Ar"})})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:3,children:n&&m.jsx($o,{src:n,size:"large",wrapped:!0,centered:!0})})}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Main producer category:"}),m.jsx(_t,{content:fs.prodcat,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"producer-generator-input-prodCategory",fluid:!0,placeholder:"...",label:m.jsx(hr,{onClick:L,loading:t.loadingDiscog,children:"Fetch discography from wiki"}),labelPosition:"right",...x("prodCategory"),className:I("prodCategory")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Producer's other aliases:"}),m.jsx(_t,{content:fs.prodaliases})]})}),m.jsx(me,{width:13,children:m.jsx(kn,{id:"producer-generator-input-prodAliases",fluid:!0,placeholder:"...",...x("prodAliases"),className:I("prodAliases")})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Affiliations:"}),m.jsx(_t,{content:fs.affiliations})]})}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"producer-generator-input-affiliations",...M("affiliations"),className:I("affiliations")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Labels:"}),m.jsx(_t,{content:fs.labels})]})}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"producer-generator-input-label",...M("labels"),className:I("labels")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Languages:"}),m.jsx(_t,{content:fs.languages,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(qn,{placeholder:"Choose a language",fluid:!0,multiple:!0,selection:!0,options:og.map((U,ce)=>({key:ce,text:U.name,value:ce})),..._("languageIds"),className:I("languageIds")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Uses the synthesizers:"}),m.jsx(_t,{content:fs.synthesizers,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(qn,{placeholder:"Featuring Synth Engines",fluid:!0,multiple:!0,selection:!0,options:O.map(U=>({key:U.id,text:U.name,value:U.name})),..._("engines"),className:I("engines")})})]}),m.jsxs(Ue,{className:I("producerRoles"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Typical roles:"}),m.jsx(_t,{content:fs.prodroles,required:!0})]})}),m.jsx(me,{width:13,children:m.jsxs(Yo,{stackable:!0,className:"producer-checkboxes",children:[m.jsxs(Ue,{children:[m.jsx(me,{width:5,children:m.jsx(En,{label:"Composer",...T("composer")})}),m.jsx(me,{width:5,children:m.jsx(En,{label:"Lyricist",...T("lyricist")})}),m.jsx(me,{width:5,children:m.jsx(En,{label:"Tuner",...T("tuner")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:5,children:m.jsx(En,{label:"Illustrator",...T("illustrator")})}),m.jsx(me,{width:5,children:m.jsx(En,{label:"Animator",...T("animator")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:5,children:m.jsx(En,{label:"Arranger",...T("arranger")})}),m.jsx(me,{width:5,children:m.jsx(En,{label:"Instrumentalist",...T("instrumentalist")})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:5,children:m.jsx(En,{label:"Mixer",...T("mixer")})}),m.jsx(me,{width:5,children:m.jsx(En,{label:"Masterer",...T("masterer")})})]})]})})]}),m.jsxs(Ue,{className:I("description"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"Description:"}),m.jsx(_t,{content:fs.description,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(Go,{id:"producer-generator-input-description",...M("description")})})]}),m.jsx(Gt,{}),m.jsx(Ue,{className:I("extLinks"),children:m.jsxs(me,{width:16,children:[m.jsxs("div",{className:"centered-header",children:[m.jsx("span",{style:{paddingRight:"5px"},children:"External Links"}),m.jsx(_t,{content:fs.extLinks,required:!0,wide:!0})]}),m.jsx(FA,{forProducerPages:!0,ref:y})]})}),m.jsx(Gt,{}),m.jsxs(Ue,{className:I("pwtDiscog"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"List of songs:"}),m.jsx(_t,{content:fs.songList,required:!0})]})}),m.jsx(me,{width:13,children:m.jsx(B$,{ref:C})})]}),m.jsxs(Ue,{className:I("awtDiscog"),children:[m.jsx(me,{width:3,children:m.jsxs("div",{className:"label-column",children:[m.jsx("div",{children:"List of albums:"}),m.jsx(_t,{content:fs.albumList})]})}),m.jsx(me,{width:13,children:m.jsx(B$,{forAlbums:!0,ref:v})})]}),m.jsxs(Ue,{children:[m.jsx(me,{width:3}),m.jsx(me,{width:13,children:m.jsxs("div",{children:['Use the "Fetch discography from wiki" button to get the song & album pages that have been tagged in Vocaloid Lyrics wiki.',m.jsx("br",{}),"Alternatively, you can use ",m.jsx("a",{href:`https://${Uo}.fandom.com/wiki/Special:CategoryTree`,target:"_blank",rel:"noopener noreferrer",children:"the Category Tree tool in Vocaloid Lyrics wiki"})," to manually get the list of song & album pages. See this example for ",m.jsx("a",{href:`https://${Uo}.fandom.com/wiki/Special:CategoryTree?target=Category%3APinocchioP+songs+list&mode=all&namespaces=`,target:"_blank",rel:"noopener noreferrer",children:"PinocchioP"}),".",m.jsx("br",{}),m.jsx("br",{}),"Do note that the Category Tree tool can only query a maximum of 200 pages per category."]})})]}),m.jsx(Gt,{}),m.jsxs(Ue,{children:[m.jsx(me,{width:6,children:m.jsx(hr,{negative:!0,onClick:()=>B(),children:"Reset"})}),m.jsxs(me,{width:10,children:[m.jsx(hr,{color:"violet",size:"big",style:{width:"200px"},onClick:ae,children:"Generate"}),m.jsx(En,{label:"Ignore Errors",checked:l,onChange:(U,ce)=>u((ce==null?void 0:ce.checked)||!1)})]})]}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:m.jsx(VA,{errors:p.errors,warnings:p.warnings,recommendToAutoloadCategories:p.recommendToAutoloadCategories})})}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsx(Ue,{children:m.jsxs(me,{width:16,children:[m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:c})]}),m.jsx(Go,{rows:40,value:c,onChange:(U,ce)=>h(`${ce==null?void 0:ce.value}`||"")})]})})]})})})}function tRe(t){const e=t.match(/\{\|\s*style\s*=.*?\|\}/gs);return e===null?[]:e.map(n=>n.toString())}function nRe(t){let e=new RegExp("(?<=\\{\\|.*\\n)(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)?(?:\\|'{2,}(\\w+)'{2,}\\s*\\n)?","gm").exec(t),n=[];e===null?n=["Original","Romanized","English"]:n=[e[1]||"Original",e[2]||"Romanized",e[3]||"English"];let r=[],o=t.matchAll(/\|-(.*?)\n(.*?)\n(?=\|-|\|\})/gs);for(let i of o){const[s,a,l]=i;let u=/style\s*=\s*["']\s*color\s*:\s*([#a-zA-Z0-9]+)\s*;?\s*["']/g.exec(a),c=u===null?"":u[1]||"",h=l.matchAll(new RegExp("(?<=\\n\\||^\\|).*?(?=\\n\\||$)","gs")),d=Array.from(h).map(g=>g[0]);if(d.length===1){const g=/^\s*(\{\{shared[^\}]*\}\}|colspan=["']\d+["']\s*\|)/gi;let p=d[0];p.match(/^\s*<br\s*\/?\s*>\s*$/)?r.push([c,"","",""]):p.match(g)?(p=p.replace(g,""),r.push([c,p,p,p])):r.push([c,d[0]||"","",""])}else r.push([c,d[0]||"",d[1]||"",d[2]||""])}return{headers:n,lyrics:r}}function rRe(t){return t.map(e=>(e[2]=(e[2]||"").trim().replace(/^\w/,n=>n.toLowerCase()),e[2]=e[2].replace(/\.\s*(\w)/g,(n,r)=>`. ${r.toLowerCase()}`),e))}function oRe(t){return t.map(e=>(e[2]=$A((e[2]||"").trim(),!0),e))}function iRe(t){return t.map(e=>(e[2]=(e[2]||"").trim().replace(new RegExp("(?=\\b)(wo|he)(?<=\\b)","gi"),n=>{switch(n){case"wo":return"o";case"he":return"e";default:return""}}),e[2]=(e[2]||"").trim().replace(/dzu/gi,"zu"),e))}function sRe(){const t=Y.useRef(null);Y.useEffect(()=>{var w,C;(C=(w=t.current)==null?void 0:w.hotInstance)==null||C.loadData(Array(20).fill(null).map(v=>["","","",""]))},[]);const[e,n]=Y.useState(["Colour","Original","Romanized","English"]),[r,o]=Y.useState([]),[i,s]=Y.useState(0),[a,l]=Y.useState({translator:"",isOfficialTranslation:!1,outputThirdColumn:!1}),[u,c]=Y.useState(""),[h,d]=Y.useState({spC:!1,wkF:!1}),{bindInput:g,bindCheckbox:p}=Av(a,l);return m.jsx(m.Fragment,{children:m.jsxs(Gb,{children:[m.jsxs("h3",{children:[m.jsx("span",{children:"Input Wiki Page Source Code:"}),m.jsx(_t,{content:Oxe.sourceInput})]}),m.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:m.jsx(yi,{basic:!0,color:"violet",size:"large",children:r.length===0?"No lyrics tables found":m.jsxs(m.Fragment,{children:["Extract table",m.jsx(qn,{className:"select-table",compact:!0,selection:!0,text:`${i+1}`,options:Array(r.length).fill(null).map((w,C)=>({key:C,text:C+1,value:C})),value:i,onChange:(w,C)=>{s(+((C==null?void 0:C.value)||0))}}),"of ",r.length]})})}),m.jsx(Go,{rows:20,onInput:(w,C)=>{const v=tRe(`${(C==null?void 0:C.value)||""}`);o(v)}}),m.jsx(hr,{color:"violet",size:"large",fluid:!0,style:{marginTop:"10px"},onClick:()=>{var y,x;const w=r[i],{headers:C,lyrics:v}=nRe(w);n(["Colour",...C]),(x=(y=t.current)==null?void 0:y.hotInstance)==null||x.loadData(v)},children:"Extract Lyrics Table"}),m.jsx(Gt,{}),m.jsx("h3",{children:"Parsed Lyrics:"}),m.jsx(A$,{headersText:e,needsRomanization:!0,needsEnglishTranslation:!0,ref:t}),m.jsx("br",{}),m.jsxs(Yo,{stackable:!0,verticalAlign:"middle",children:[m.jsxs(Ue,{children:[m.jsx(me,{width:3,children:m.jsx("h4",{children:"Translator:"})}),m.jsx(me,{width:10,children:m.jsx(kn,{fluid:!0,...g("translator")})}),m.jsx(me,{width:3,children:m.jsx(En,{label:"Is official translation?",...p("isOfficialTranslation")})})]}),m.jsx(Ue,{children:m.jsx(me,{width:16,children:m.jsx(En,{label:"Must show English lyrics column",...p("outputThirdColumn")})})})]}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsxs(uh,{widths:"3",children:[m.jsx(Tl,{trigger:m.jsx(hr,{basic:!0,color:"green",children:"Open mini-library of special characters"}),wide:!0,position:"top center",content:m.jsxs(Yo,{columns:2,children:[m.jsxs(Ue,{children:[m.jsx(me,{column:8,children:"A: \u0101 \xE1 \u01CE \xE0 \u0100 \xC1 \u01CD \xC0"}),m.jsx(me,{column:8,children:"I: \u012B \xED \u01D0 \xEC \u012A \xCD \u01CF \xCC"})]}),m.jsxs(Ue,{children:[m.jsx(me,{column:8,children:"U: \u016B \xFA \u01D4 \xF9 \u016A \xDA \u01D3 \xD9"}),m.jsx(me,{column:8,children:"\xDC: \u01D6 \u01D8 \u01DA \u01DC \u01D5 \u01D7 \u01D9 \u01DB"})]}),m.jsxs(Ue,{children:[m.jsx(me,{column:8,children:"E: \u0113 \xE9 \u011B \xE8 \u0112 \xC9 \u011A \xC8"}),m.jsx(me,{column:8,children:"O: \u014D \xF3 \u01D2 \xF2 \u014C \xD3 \u01D1 \xD2"})]})]}),on:"click",open:h.spC,onOpen:()=>d({...h,spC:!0}),onClose:()=>d({...h,spC:!1})}),m.jsx(Tl,{trigger:m.jsx(hr,{basic:!0,color:"green",children:"Show glossary of wikitext formatting"}),wide:!0,position:"top center",content:m.jsxs("div",{children:["Bold: '''",m.jsx("b",{children:"bold"}),"'''",m.jsx("br",{}),"Italics: ''",m.jsx("i",{children:"italic"}),"''",m.jsx("br",{}),"Bold & Italic: '''''",m.jsx("b",{children:m.jsx("i",{children:"bold & italic"})}),"'''''",m.jsx("br",{}),m.jsx("br",{}),"Strikethrough: <s>",m.jsx("s",{children:"strikethrough"}),"</s>",m.jsx("br",{}),"Superscript: 1<sup>st</sup> (1",m.jsx("sup",{children:"st"}),")",m.jsx("br",{}),"Small Text: <small>text</small> (",m.jsx("small",{children:"text"}),")",m.jsx("br",{}),"Underlined: <u>",m.jsx("u",{children:"underline"}),"</u>",m.jsx("br",{}),m.jsx("hr",{}),m.jsx("b",{children:"Subscript"}),": O<sub>2</sub> (O",m.jsx("sub",{children:"2"}),")",m.jsx("br",{}),m.jsx("b",{children:"Big Text"}),": <big>text</big> (",m.jsx("big",{children:"text"}),")",m.jsx("br",{}),m.jsx("b",{children:"In-line style"}),': <span style="color:#000000">text<span>',m.jsx("br",{}),m.jsx("b",{children:"Internal link"}),": [[Page name]]",m.jsx("br",{}),m.jsx("b",{children:"Hyperlink (external website)"}),": [https://www.example.org displayed text]",m.jsx("br",{}),m.jsx("b",{children:"Link to wikipedia"}),": [[wikipedia:Page_name|displayed text]]",m.jsx("br",{}),m.jsx("b",{children:"Link to other FANDOM wiki"}),": [[w:c:Wiki_name:Page_name|displayed text]]"]}),on:"click",open:h.wkF,onOpen:()=>d({...h,wkF:!0}),onClose:()=>d({...h,wkF:!1})})]}),m.jsx(Gt,{}),m.jsx(Gt,{}),m.jsxs(uh,{widths:"3",children:[m.jsx(hr,{color:"teal",onClick:()=>{var v;const w=(v=t.current)==null?void 0:v.hotInstance;let C=w.getData();C=rRe(C),w==null||w.loadData(C)},children:"Decapitalize romanized lyrics"}),m.jsx(hr,{color:"teal",onClick:()=>{var v;const w=(v=t.current)==null?void 0:v.hotInstance;let C=w.getData();C=oRe(C),w==null||w.loadData(C)},children:"Pinyin: Remove tones"}),m.jsx(hr,{color:"teal",onClick:()=>{var v;const w=(v=t.current)==null?void 0:v.hotInstance;let C=w.getData();C=iRe(C),w==null||w.loadData(C)},children:"Romaji: Change 'wo'\u2192'o', 'he'\u2192'e', 'dzu'\u2192'zu'"})]}),m.jsx(Gt,{}),m.jsx(hr,{color:"violet",size:"large",fluid:!0,onClick:()=>{var v,y;const w=(y=((v=t.current)==null?void 0:v.hotInstance).getData())==null?void 0:y.map(x=>new L$(!0,!0,...x)),C=D$(w,{langOptions:{headersText:[e[1],e[2],e[3]],needsRomanization:!0,needsEnglishTranslation:!0},translator:a.translator.trim(),isOfficialTranslation:a.isOfficialTranslation,bgColour:"black",fgColour:"white",overrideShowEnglishColumn:a.outputThirdColumn});c(C)},children:"Generate"}),m.jsx(Gt,{}),m.jsx("br",{}),m.jsx(Gt,{}),m.jsxs("h3",{className:"centered-header",children:[m.jsx("span",{className:"before-button",children:"Results"}),m.jsx(cS,{copyState:u})]}),m.jsx(Go,{rows:40,value:u,onChange:(w,C)=>c(`${C==null?void 0:C.value}`||"")})]})})}const z$="handsontableEditor",aRe="handsontable";class JA extends Vh{static get EDITOR_TYPE(){return aRe}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),K0(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(u,c){const h=this.getSourceData(c.row,c.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&yr(l,s.handsontable),this.htOptions=l}beginEditing(e,n){const r=this.hot.getSettings().onBeginEditing;r&&r()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const o=this.htEditor.getValue();o!==void 0&&this.setValue(o)}super.finishEditing(e,n,r)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const n={group:z$,relativeToGroup:tC,position:"before"},r=(o,i)=>{const s=this.htEditor;if(o!==void 0&&(o<0||s.flipped&&o>s.countRows()-1?s.deselectCell():s.selectCell(o,0),s.getData().length))return i.preventDefault(),Vs(i),this.hot.listen(),this.TEXTAREA.focus(),!1};e.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{const i=this.htEditor;let s,a;return!i.getSelectedLast()&&i.flipped?s=i.countRows()-1:i.getSelectedLast()&&(i.flipped?(a=i.getSelectedLast()[0],s=Math.max(0,a-1)):(a=i.getSelectedLast()[0],s=a-1)),r(s,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{const i=this.htEditor;let s,a;if(!i.getSelectedLast()&&!i.flipped)s=0;else if(i.getSelectedLast()){if(i.flipped)s=i.getSelectedLast()[0]+1;else if(!i.flipped){const l=i.countRows()-1;a=i.getSelectedLast()[0],s=Math.min(l,a+1)}}return r(s,o)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(z$)}}function lRe(t,e,n){uRe(t,e),e.set(t,n)}function uRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fS(t,e,n){return e=cRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cRe(t){var e=hRe(t,"string");return typeof e=="symbol"?e:String(e)}function hRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U$(t,e){var n=dRe(t,e,"get");return fRe(t,n)}function dRe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function fRe(t,e){return e.get?e.get.call(t):e.value}const gRe="autocomplete";var ZA=new WeakMap;class eP extends JA{constructor(){super(...arguments),fS(this,"query",null),fS(this,"strippedChoices",[]),fS(this,"rawChoices",[]),lRe(this,ZA,{writable:!0,value:this.hot.guid.slice(0,9)}),fS(this,"sortByRelevance",function(e,n,r){const o=[],i=[],s=e.length;let a=n.length,l,u,c,h;if(s===0){for(c=0;c<a;c++)i.push(c);return i}for(c=0;c<a;c++){if(u=GB(fr(n[c])),r)h=u.indexOf(e);else{const d=this.cellProperties.locale;h=u.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}h!==-1&&(l=u.length-h-s,o.push({baseIndex:c,index:h,charsLeft:l,value:u}))}for(o.sort((d,g)=>{if(g.index===-1)return-1;if(d.index===-1)return 1;if(d.index<g.index)return-1;if(g.index<d.index)return 1;if(d.index===g.index){if(d.charsLeft<g.charsLeft)return-1;if(d.charsLeft>g.charsLeft)return 1}return 0}),c=0,a=o.length;c<a;c++)i.push(o[c].baseIndex);return i})}static get EDITOR_TYPE(){return gRe}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return Fe(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),ke(this.htContainer,"autocompleteEditor"),ke(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[Yme(),Bme(),KB("listbox"),Jme()])}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[is("false"),Zme(`${U$(this,ZA)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,r=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,o=r==null?void 0:r.length,{row:i,col:s}=this;this.showEditableElement(),this.focus();let a=Lr();a===0&&IM()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:e?[pn(this.TEXTAREA)-2]:void 0,width:e?pn(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,u,c,h,d,g,p)=>{$l(l,u,c,h,d,g,p);const{filteringCaseSensitive:w,allowHtml:C,locale:v}=this.cellProperties,y=this.query;let x=fr(g),M,_;x&&!C&&(M=w===!0?x.indexOf(y):x.toLocaleLowerCase(v).indexOf(y.toLocaleLowerCase(v)),M!==-1&&(_=x.substr(M,y.length),x=x.replace(_,`<strong>${_}</strong>`))),n&&ct(u,[zme(),...r?[rpe(o)]:[],...r?[ope(r.indexOf(g)+1)]:[],["id",`${this.htEditor.rootElement.id}_${c}-${h}`]]),u.innerHTML=x},afterSelection:(l,u)=>{if(n){const c=this.htEditor.getCell(l,u,!0);ct(c,[CM()]),ct(this.TEXTAREA,...epe(c.id))}}}),n&&(ct(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,..._a()),ct(this.htEditor.rootElement,[qB(),tpe("polite"),npe("text"),["id",`${U$(this,ZA)}-listbox-${i}-${s}`]]),ct(this.TEXTAREA,...is("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[is("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,r=>{this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=sz(this.TEXTAREA),r=cpe(this.TEXTAREA),o=this.cellProperties.sortByRelevance,i=this.cellProperties.filter;let s=null,a=null,l=e;o&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));const u=Array.isArray(s)?s.length:0;if(i===!1)u&&(a=s[0]);else{const c=[];for(let h=0,d=l.length;h<d&&!(o&&u<=h);h++)u?c.push(l[s[h]]):c.push(l[h]);a=0,l=c}this.strippedChoices=l,this.htEditor.loadData(z0([l])),l.length===0?this.htEditor.rootElement.style.display="none":(this.htEditor.rootElement.style.display="",this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),K0(this.TEXTAREA,n,n===r?void 0:r)}flipDropdownIfNeeded(){const e=Vf(this.hot.view._wt.wtTable.TABLE),n=e===this.hot.rootWindow,r=this.cellProperties.preventOverflow;if(n||!n&&(r||r==="horizontal"))return!1;const o=Dr(this.TEXTAREA),i=Kn(this.TEXTAREA),s=this.getDropdownHeight(),a=e.scrollTop,l=Kn(this.hot.view._wt.wtTable.THEAD),u=Dr(e),c=o.top-u.top-l+a,h=e.scrollHeight-c-l-i,d=s>h&&c>h;return d?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(d?c:h,s),d}limitDropdownIfNeeded(e,n){if(n>e){let r=0,o=0,i=0,s=null;do i=this.htEditor.getRowHeight(o)||this.htEditor.view._wt.getSetting("defaultRowHeight"),r+=i,o+=1;while(r<e);s=r-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-s}px`),this.setDropdownHeight(r-i)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownHeight(){const e=this.htEditor.getColWidth(0)+Lr(this.hot.rootDocument)+2,n=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:n?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,n=this.cellProperties.visibleRows;return this.strippedChoices.length>=n?n*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,r=Pt(e,o=>fr(o));return Pt(r,o=>n?o:GB(o))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),r={row:n?n.from.row:-1};let o=!1;return e===rt.ARROW_DOWN&&r.row>0&&r.row<this.htEditor.countRows()-1&&(o=!0),e===rt.ARROW_UP&&r.row>-1&&(o=!0),o}onBeforeKeyDown(e){if(Vpe(e.keyCode)||e.keyCode===rt.BACKSPACE||e.keyCode===rt.DELETE||e.keyCode===rt.INSERT){let n=10;if(e.keyCode===rt.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}const mRe="checkbox";class $$ extends ng{static get EDITOR_TYPE(){return mRe}beginEditing(e,n){if(n&&n.type==="mouseup"){const r=this.TD.querySelector('input[type="checkbox"]');yt(r,"htBadValue")||r.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
* Pikaday
*
* Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
*/const pc=()=>window,ms=()=>window.document,tP=(t,e)=>window.setTimeout(t,e),ja=function(t,e,n,r){t.addEventListener(e,n,!!r)},ql=function(t,e,n,r){t.removeEventListener(e,n,!!r)},pRe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},_i=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},nP=function(t,e){_i(t,e)||(t.className=t.className===""?e:t.className+" "+e)},rP=function(t,e){t.className=pRe((" "+t.className+" ").replace(" "+e+" "," "))},oP=function(t){return/Array/.test(Object.prototype.toString.call(t))},Oi=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},vRe=function(t){let e=t.getDay();return e===0||e===6},wRe=function(t){return t%4===0&&t%100!==0||t%400===0},G$=function(t,e){return[31,wRe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},gS=function(t){Oi(t)&&t.setHours(0,0,0,0)},mS=function(t,e){return t.getTime()===e.getTime()},pS=function(t,e,n){let r,o;for(r in e)o=t[r]!==void 0,o&&typeof e[r]=="object"&&e[r]!==null&&e[r].nodeName===void 0?Oi(e[r])?n&&(t[r]=new Date(e[r].getTime())):oP(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=pS({},e[r],n):(n||!o)&&(t[r]=e[r]);return t},Y$=function(t,e,n){let r=ms().createEvent("HTMLEvents");r.initEvent(e,!0,!1),r=pS(r,n),t.dispatchEvent(r)},q$=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},Wa={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},K$=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},yRe=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},bRe=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),r=t.getDay(),o=e,i=o-1,s=7,a=function(h){return(h+s-1)%s};t.setDate(n+i-a(r));let l=new Date(t.getFullYear(),0,o),u=24*60*60*1e3,c=(t.getTime()-l.getTime())/u;return 1+Math.round((c-i+a(l.getDay()))/s)},CRe=function(t,e,n,r,o){let i=new Date(r,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(i).isoWeek():bRe(i,o))+"</td>"},SRe=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},xRe=function(t){return"<tbody>"+t.join("")+"</tbody>"},RRe=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+K$(t,e)+'">'+K$(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},ERe=function(t,e,n,r,o,i){let s,a,l,u=t._o,c=n===u.minYear,h=n===u.maxYear,d='<div id="'+i+'" class="pika-title" role="heading" aria-live="polite">',g,p,w=!0,C=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(n===o?s-e:12+s-e)+'"'+(s===r?' selected="selected"':"")+(c&&s<u.minMonth||h&&s>u.maxMonth?' disabled="disabled"':"")+">"+u.i18n.months[s]+"</option>");for(g='<div class="pika-label">'+u.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",oP(u.yearRange)?(s=u.yearRange[0],a=u.yearRange[1]+1):(s=n-u.yearRange,a=1+n+u.yearRange),l=[];s<a&&s<=u.maxYear;s++)s>=u.minYear&&l.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return p='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",u.showMonthAfterYear?d+=p+g:d+=g+p,c&&(r===0||u.minMonth>=r)&&(w=!1),h&&(r===11||u.maxMonth<=r)&&(C=!1),e===0&&(d+='<button class="pika-prev'+(w?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(C?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),d+="</div>"},kRe=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+RRe(t)+xRe(e)+"</table>"};function iP(t){let e=this,n=e.config(t);e._onMouseDown=function(o){if(!e._v)return;o=o||pc().event;let i=o.target||o.srcElement;if(i)if(_i(i,"is-disabled")||(_i(i,"pika-button")&&!_i(i,"is-empty")&&!_i(i.parentNode,"is-disabled")?(e.setDate(new Date(i.getAttribute("data-pika-year"),i.getAttribute("data-pika-month"),i.getAttribute("data-pika-day"))),n.bound&&tP(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):_i(i,"pika-prev")?e.prevMonth():_i(i,"pika-next")&&e.nextMonth()),_i(i,"pika-select"))e._c=!0;else if(o.preventDefault)o.preventDefault();else return o.returnValue=!1,!1},e._onChange=function(o){o=o||pc().event;let i=o.target||o.srcElement;i&&(_i(i,"pika-select-month")?e.gotoMonth(i.value):_i(i,"pika-select-year")&&e.gotoYear(i.value))},e._onKeyChange=function(o){if(o=o||pc().event,e.isVisible())switch(o.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let o=this.moment(n.field.value,n.format,n.formatStrict);return o&&o.isValid()?o.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(o){let i;o.firedBy!==e&&(i=e._parseFieldValue(),Oi(i)&&e.setDate(i),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let o=ms().activeElement;do if(_i(o,"pika-single"))return;while(o=o.parentNode);e._c||(e._b=tP(function(){e.hide()},50)),e._c=!1},e._onClick=function(o){o=o||pc().event;let i=o.target||o.srcElement,s=i;if(i){!hasEventListeners&&_i(i,"pika-select")&&(i.onchange||(i.setAttribute("onchange","return;"),ja(i,"change",e._onChange)));do if(_i(s,"pika-single")||s===n.trigger)return;while(s=s.parentNode);e._v&&i!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=ms().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),ja(e.el,"mousedown",e._onMouseDown,!0),ja(e.el,"touchend",e._onMouseDown,!0),ja(e.el,"change",e._onChange),n.keyboardInput&&ja(ms(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?ms().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),ja(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;Oi(r)?n.setDefaultDate?e.setDate(r,!0):e.gotoDate(r):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",ja(n.trigger,"click",e._onInputClick),ja(n.trigger,"focus",e._onInputFocus),ja(n.trigger,"blur",e._onInputBlur)):this.show()}iP.prototype={config:function(t){this._o||(this._o=pS({},Wa,!0));let e=pS(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,Oi(e.minDate)||(e.minDate=!1),Oi(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),oP(e.yearRange)){let r=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||Wa.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,Oi(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return Oi(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",Y$(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!Oi(t))return;let n=this._o.minDate,r=this._o.maxDate;Oi(n)&&t<n?t=n:Oi(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),gS(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),Y$(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(Oi(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,r=parseInt(e)*24*60*60*1e3,o;t==="add"?o=new Date(n.valueOf()+r):t==="subtract"&&(o=new Date(n.valueOf()-r)),this.setDate(o)},adjustCalendars:function(){this.calendars[0]=q$(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=q$({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(gS(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=Wa.minDate,this._o.minYear=Wa.minYear,this._o.minMonth=Wa.minMonth,this._o.startRange=Wa.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(gS(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=Wa.maxDate,this._o.maxYear=Wa.maxYear,this._o.maxMonth=Wa.maxMonth,this._o.endRange=Wa.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,i=e.maxMonth,s="",a;this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(i)&&this._m>i&&(this._m=i));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+ERe(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&tP(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,r,o,i,s,a,l,u,c;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,r=pc().innerWidth||ms().documentElement.clientWidth,o=pc().innerHeight||ms().documentElement.clientHeight,i=ms().body.scrollTop||ms().documentElement.scrollTop,u=!0,c=!0,l=t.getBoundingClientRect(),s=l.left+pc().pageXOffset,a=l.bottom+pc().pageYOffset,(this._o.reposition&&s+e>r||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,u=!1),(this._o.reposition&&a+n>o+i||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,c=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",nP(this.el,u?"left-aligned":"right-aligned"),nP(this.el,c?"bottom-aligned":"top-aligned"),rP(this.el,u?"right-aligned":"left-aligned"),rP(this.el,c?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let r=this._o,o=new Date,i=G$(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];gS(o),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let u=e===0?11:e-1,c=e===11?0:e+1,h=e===0?t-1:t,d=e===11?t+1:t,g=G$(h,u),p=i+s,w=p;for(;w>7;)w-=7;p+=7-w;let C=!1;for(let v=0,y=0;v<p;v++){let x=new Date(t,e,1+(v-s)),M=Oi(this._d)?mS(x,this._d):!1,_=mS(x,o),T=r.events.indexOf(x.toDateString())!==-1,O=v<s||v>=i+s,I=1+(v-s),N=e,L=t,B=r.startRange&&mS(r.startRange,x),ae=r.endRange&&mS(r.endRange,x),U=r.startRange&&r.endRange&&r.startRange<x&&x<r.endRange,ce=r.minDate&&x<r.minDate||r.maxDate&&x>r.maxDate||r.disableWeekends&&vRe(x)||r.disableDayFn&&r.disableDayFn(x);O&&(v<s?(I=g+I,N=u,L=h):(I=I-i,N=c,L=d));let ve={day:I,month:N,year:L,hasEvent:T,isSelected:M,isToday:_,isDisabled:ce,isEmpty:O,isStartRange:B,isEndRange:ae,isInRange:U,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&M&&(C=!0),l.push(yRe(ve)),++y===7&&(r.showWeekNumber&&l.unshift(CRe(this,v-s,e,t,r.firstWeekOfYearMinDays)),a.push(SRe(l,r.isRTL,r.pickWholeWeek,C)),l=[],y=0,C=!1)}return kRe(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),rP(this.el,"is-hidden"),this._o.bound&&(ja(ms(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&ql(ms(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),nP(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),ql(this.el,"mousedown",this._onMouseDown,!0),ql(this.el,"touchend",this._onMouseDown,!0),ql(this.el,"change",this._onChange),t.keyboardInput&&ql(ms(),"keydown",this._onKeyChange),t.field&&(ql(t.field,"change",this._onInputChange),t.bound&&(ql(t.trigger,"click",this._onInputClick),ql(t.trigger,"focus",this._onInputFocus),ql(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function sP(t,e,n){return e=TRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TRe(t){var e=MRe(t,"string");return typeof e=="symbol"?e:String(e)}function MRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const X$="date",Q$="dateEditor";class J$ extends Vh{constructor(){super(...arguments),sP(this,"defaultDateFormat","DD/MM/YYYY"),sP(this,"parentDestroyed",!1),sP(this,"$datePicker",null)}static get EDITOR_TYPE(){return X$}init(){if(typeof Re!="function")throw new Error("You need to include moment.js to your project.");if(typeof iP!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ke(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{yt(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.hot.getShortcutManager().getContext("editor");super.open(),this.showDatepicker(e),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:Q$})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{this.hot._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Q$),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,o=this.hot.view.isMouseDown(),i=e?Iz(e.keyCode):!1;let s;this.datePicker.style.display="block",this.$datePicker=new iP(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(Re),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+n.top+Kn(this.TD)}px`;let a=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?a=n.right-pn(this.datePicker):a=n.left,this.datePickerStyle.left=`${a}px`,this.originalValue?(s=this.originalValue,Re(s,r,!0).isValid()&&this.$datePicker.setMoment(Re(s,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!o&&this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,Re(s,r,!0).isValid()&&this.$datePicker.setMoment(Re(s,r),!0),!i&&!o&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&Z0(n,this.cellProperties.datePickerConfig);const r=n.onSelect,o=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=i=>{let s=i;isNaN(s.getTime())||(s=Re(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),r&&r()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),o&&o()},n}}const _Re="dropdown";class aP extends eP{static get EDITOR_TYPE(){return _Re}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}ze.getSingleton().add("beforeValidate",function(t,e,n){const r=this.getCellMeta(e,this.propToCol(n));r.editor===aP&&r.strict===void 0&&(r.filter=!1,r.strict=!0)});const ORe="numeric";class Z$ extends Vh{static get EDITOR_TYPE(){return ORe}}const ARe="password";class e4 extends Vh{static get EDITOR_TYPE(){return ARe}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[Ll()]),Oa(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const lP="ht_editor_visible",t4="selectEditor",PRe="select";class n4 extends ng{static get EDITOR_TYPE(){return PRe}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ke(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",yt(this.select,lP)&&Rt(this.select,lP),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Oa(this.select),It(l,(u,c)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=c,Ff(h,u),this.select.appendChild(h)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let r=0,o=e.length;r<o;r++)n[e[r]]=e[r];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==br.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:r,height:o}=this.getEditedCellRect(),i=this.select.style;i.height=`${o}px`,i.width=`${r}px`,i.top=`${e}px`,i[this.hot.isRtl()?"right":"left"]=`${n}px`,i.margin="0px",ke(this.select,lP)}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("editor"),r=e.getContext("grid"),o={group:t4};this.isInFullEditMode()!==!1&&n.addShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:r,callback:()=>{}},{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],o)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(t4)}}const IRe="time";class r4 extends Vh{static get EDITOR_TYPE(){return IRe}prepare(e,n,r,o,i,s){super.prepare(e,n,r,o,i,s),this.TEXTAREA.dir="ltr"}}function NRe(){Ei(ng),Ei(eP),Ei($$),Ei(J$),Ei(aP),Ei(JA),Ei(Z$),Ei(e4),Ei(n4),Ei(Vh),Ei(r4)}const HRe="html";function uP(t,e,n,r,o,i,s){kv.apply(this,[t,e,n,r,o,i,s]),Ff(e,i??"",!1)}uP.RENDERER_TYPE=HRe;const DRe="autocomplete";function ig(t,e,n,r,o,i,s){const{rootDocument:a}=t,l=s.allowHtml?uP:$l,u=a.createElement("DIV"),c=t.getSettings().ariaTags;if(u.className="htAutocompleteArrow",c&&u.setAttribute(...Ll()),u.appendChild(a.createTextNode("\u25BC")),l.apply(this,[t,e,n,r,o,i,s]),e.firstChild||e.appendChild(a.createTextNode("\xA0")),e.insertBefore(u,e.firstChild),ke(e,"htAutocomplete"),!t.acArrowListener){const h=new zs(t);t.acArrowListener=function(d){yt(d.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,r),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}ig.RENDERER_TYPE=DRe;const LRe="dropdown";function cP(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}cP.RENDERER_TYPE=LRe;const o4=new WeakMap,i4=new WeakMap,jRe="htBadValue",sg="data-row",ag="data-col",WRe="checkboxRenderer",s4="checkbox";ze.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:r,type:o,row:i,column:s,prop:a}=e;if(o===s4){if(r){const{value:l,property:u}=r;let c=n;if(l)c=typeof l=="function"?l(i,s,a,n):l;else if(u){const h=this.getDataAtRowProp(i,u);c=h!==null?h:n}t=c}return t}});function hP(t,e,n,r,o,i,s){const{rootDocument:a}=t,l=t.getSettings().ariaTags;kv.apply(this,[t,e,n,r,o,i,s]),FRe(t);let u=VRe(a);const c=s.label;let h=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Oa(e),i===s.checkedTemplate||fr(i).toLocaleLowerCase(s.locale)===fr(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:i===s.uncheckedTemplate||fr(i).toLocaleLowerCase(s.locale)===fr(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:Tr(i)?ke(u,"noValue"):(u.style.display="none",ke(u,jRe),h=!0),ct(u,[[sg,n],[ag,r]]),l&&ct(u,[yM(u.checked?t.getTranslatedPhrase(lA):t.getTranslatedPhrase(uA)),Qme(u.checked),Ume()]),!h&&c){let w="";if(c.value)w=typeof c.value=="function"?c.value.call(this,n,r,o,i):c.value;else if(c.property){const v=t.getDataAtRowProp(n,c.property);w=v!==null?v:""}const C=BRe(a,w,c.separated!==!0);c.position==="before"?c.separated?(e.appendChild(C),e.appendChild(u)):(C.appendChild(u),u=C):(!c.position||c.position==="after")&&(c.separated?(e.appendChild(u),e.appendChild(C)):(C.insertBefore(u,C.firstChild),u=C))}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),o4.has(t)||(o4.set(t,!0),d());function d(){const w=t.getShortcutManager().getContext("grid"),C={group:WRe};w.addShortcuts([{keys:[["space"]],callback:()=>(g(),!p())},{keys:[["enter"]],callback:()=>(g(),!p()),runOnlyIf:()=>t.getSettings().enterBeginsEditing},{keys:[["delete"],["backspace"]],callback:()=>(g(!0),!p()),relativeToGroup:SA,position:"before"}],C)}function g(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=t.getSelectedRange();if(C)for(let v=0;v<C.length;v++){const{row:y,col:x}=C[v].getTopStartCorner(),{row:M,col:_}=C[v].getBottomEndCorner(),T=[];for(let O=y;O<=M;O+=1)for(let I=x;I<=_;I+=1){const N=t.getCellMeta(O,I);if(N.type!=="checkbox")return;if(N.readOnly===!0)continue;typeof N.checkedTemplate>"u"&&(N.checkedTemplate=!0),typeof N.uncheckedTemplate>"u"&&(N.uncheckedTemplate=!1);const L=t.getDataAtCell(O,I);w===!1?[N.checkedTemplate,N.checkedTemplate.toString()].includes(L)?T.push([O,I,N.uncheckedTemplate]):[N.uncheckedTemplate,N.uncheckedTemplate.toString(),null,void 0].includes(L)&&T.push([O,I,N.checkedTemplate]):T.push([O,I,N.uncheckedTemplate])}T.length>0&&t.setDataAtCell(T)}}function p(){const w=t.getSelectedRange();if(w){for(let C=0;C<w.length;C++){const v=w[C].getTopStartCorner(),y=w[C].getBottomEndCorner();for(let x=v.row;x<=y.row;x++)for(let M=v.col;M<=y.col;M++){const _=t.getCellMeta(x,M);if(_.type!=="checkbox")return!1;const T=t.getCell(x,M);if(T==null||T.querySelectorAll("input[type=checkbox]").length>0&&!_.readOnly)return!0}}return!1}}}hP.RENDERER_TYPE=s4;function FRe(t){let e=i4.get(t);if(!e){const{rootElement:n}=t;e=new zs(t),e.addEventListener(n,"click",r=>URe(r,t)),e.addEventListener(n,"mouseup",r=>zRe(r,t)),e.addEventListener(n,"change",r=>$Re(r,t)),i4.set(t,e)}return e}function VRe(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function BRe(t,e,n){const r=t.createElement("label");return r.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`,r.appendChild(t.createTextNode(e)),r.cloneNode(!0)}function zRe(t,e){const{target:n}=t;dP(n)&&(!n.hasAttribute(sg)||!n.hasAttribute(ag)||setTimeout(e.listen,10))}function URe(t,e){const{target:n}=t;if(!dP(n)||!n.hasAttribute(sg)||!n.hasAttribute(ag))return;const r=parseInt(n.getAttribute(sg),10),o=parseInt(n.getAttribute(ag),10);e.getCellMeta(r,o).readOnly&&t.preventDefault()}function $Re(t,e){const{target:n}=t;if(!dP(n)||!n.hasAttribute(sg)||!n.hasAttribute(ag))return;const r=parseInt(n.getAttribute(sg),10),o=parseInt(n.getAttribute(ag),10),i=e.getCellMeta(r,o);if(!i.readOnly){let s=null;t.target.checked?s=i.uncheckedTemplate===void 0?!0:i.checkedTemplate:s=i.uncheckedTemplate===void 0?!1:i.uncheckedTemplate,e.setDataAtCell(r,o,s)}}function dP(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const GRe="handsontable";function fP(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}fP.RENDERER_TYPE=GRe;function vS(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a4={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,o,i){function s(u,c){if(!o[u]){if(!r[u]){var h=typeof vS=="function"&&vS;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var g=o[u]={exports:{}};r[u][0].call(g.exports,function(p){return s(r[u][1][p]||p)},g,g.exports,n,r,o,i)}return o[u].exports}for(var a=typeof vS=="function"&&vS,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(n,r,o){(function(i){var s,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,u=Math.floor,c="[BigNumber Error] ",h=c+"Number primitive has more than 15 significant digits: ",d=1e14,g=14,p=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],C=1e7,v=1e9;function y(N){var L=0|N;return 0<N||N===L?L:L-1}function x(N){for(var L,B,ae=1,U=N.length,ce=N[0]+"";ae<U;){for(L=N[ae++]+"",B=g-L.length;B--;L="0"+L);ce+=L}for(U=ce.length;ce.charCodeAt(--U)===48;);return ce.slice(0,U+1||1)}function M(N,L){var B,ae,U=N.c,ce=L.c,ve=N.s,Me=L.s,Ce=N.e,ne=L.e;if(!ve||!Me)return null;if(B=U&&!U[0],ae=ce&&!ce[0],B||ae)return B?ae?0:-Me:ve;if(ve!=Me)return ve;if(B=ve<0,ae=Ce==ne,!U||!ce)return ae?0:!U^B?1:-1;if(!ae)return ne<Ce^B?1:-1;for(Me=(Ce=U.length)<(ne=ce.length)?Ce:ne,ve=0;ve<Me;ve++)if(U[ve]!=ce[ve])return U[ve]>ce[ve]^B?1:-1;return Ce==ne?0:ne<Ce^B?1:-1}function _(N,L,B,ae){if(N<L||B<N||N!==(N<0?l(N):u(N)))throw Error(c+(ae||"Argument")+(typeof N=="number"?N<L||B<N?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function T(N){var L=N.c.length-1;return y(N.e/g)==L&&N.c[L]%2!=0}function O(N,L){return(1<N.length?N.charAt(0)+"."+N.slice(1):N)+(L<0?"e":"e+")+L}function I(N,L,B){var ae,U;if(L<0){for(U=B+".";++L;U+=B);N=U+N}else if(++L>(ae=N.length)){for(U=B,L-=ae;--L;U+=B);N+=U}else L<ae&&(N=N.slice(0,L)+"."+N.slice(L));return N}(s=function N(L){var B,ae,U,ce,ve,Me,Ce,ne,S,R,k=le.prototype={constructor:le,toString:null,valueOf:null},D=new le(1),W=20,V=4,he=-7,te=21,we=-1e7,ye=1e7,pe=!1,$e=1,We=0,Xe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Se="0123456789abcdefghijklmnopqrstuvwxyz";function le(A,H){var j,Z,$,ee,K,q,oe,Q,re=this;if(!(re instanceof le))return new le(A,H);if(H==null){if(A instanceof le)return re.s=A.s,re.e=A.e,void(re.c=(A=A.c)?A.slice():A);if((q=typeof A=="number")&&0*A==0){if(re.s=1/A<0?(A=-A,-1):1,A===~~A){for(ee=0,K=A;10<=K;K/=10,ee++);return re.e=ee,void(re.c=[A])}Q=String(A)}else{if(Q=String(A),!a.test(Q))return U(re,Q,q);re.s=Q.charCodeAt(0)==45?(Q=Q.slice(1),-1):1}-1<(ee=Q.indexOf("."))&&(Q=Q.replace(".","")),0<(K=Q.search(/e/i))?(ee<0&&(ee=K),ee+=+Q.slice(K+1),Q=Q.substring(0,K)):ee<0&&(ee=Q.length)}else{if(_(H,2,Se.length,"Base"),Q=String(A),H==10)return ft(re=new le(A instanceof le?A:Q),W+re.e+1,V);if(q=typeof A=="number"){if(0*A!=0)return U(re,Q,q,H);if(re.s=1/A<0?(Q=Q.slice(1),-1):1,le.DEBUG&&15<Q.replace(/^0\.0*|\./,"").length)throw Error(h+A);q=!1}else re.s=Q.charCodeAt(0)===45?(Q=Q.slice(1),-1):1;for(j=Se.slice(0,H),ee=K=0,oe=Q.length;K<oe;K++)if(j.indexOf(Z=Q.charAt(K))<0){if(Z=="."){if(ee<K){ee=oe;continue}}else if(!$&&(Q==Q.toUpperCase()&&(Q=Q.toLowerCase())||Q==Q.toLowerCase()&&(Q=Q.toUpperCase()))){$=!0,K=-1,ee=0;continue}return U(re,String(A),q,H)}-1<(ee=(Q=ae(Q,H,10,re.s)).indexOf("."))?Q=Q.replace(".",""):ee=Q.length}for(K=0;Q.charCodeAt(K)===48;K++);for(oe=Q.length;Q.charCodeAt(--oe)===48;);if(Q=Q.slice(K,++oe)){if(oe-=K,q&&le.DEBUG&&15<oe&&(p<A||A!==u(A)))throw Error(h+re.s*A);if(ye<(ee=ee-K-1))re.c=re.e=null;else if(ee<we)re.c=[re.e=0];else{if(re.e=ee,re.c=[],K=(ee+1)%g,ee<0&&(K+=g),K<oe){for(K&&re.c.push(+Q.slice(0,K)),oe-=g;K<oe;)re.c.push(+Q.slice(K,K+=g));Q=Q.slice(K),K=g-Q.length}else K-=oe;for(;K--;Q+="0");re.c.push(+Q)}}else re.c=[re.e=0]}function mt(A,H,j,Z){var $,ee,K,q,oe;if(j==null?j=V:_(j,0,8),!A.c)return A.toString();if($=A.c[0],K=A.e,H==null)oe=x(A.c),oe=Z==1||Z==2&&(K<=he||te<=K)?O(oe,K):I(oe,K,"0");else if(ee=(A=ft(new le(A),H,j)).e,q=(oe=x(A.c)).length,Z==1||Z==2&&(H<=ee||ee<=he)){for(;q<H;oe+="0",q++);oe=O(oe,ee)}else if(H-=K,oe=I(oe,ee,"0"),q<ee+1){if(0<--H)for(oe+=".";H--;oe+="0");}else if(0<(H+=ee-q))for(ee+1==q&&(oe+=".");H--;oe+="0");return A.s<0&&$?"-"+oe:oe}function Qe(A,H){for(var j,Z=1,$=new le(A[0]);Z<A.length;Z++){if(!(j=new le(A[Z])).s){$=j;break}H.call($,j)&&($=j)}return $}function et(A,H,j){for(var Z=1,$=H.length;!H[--$];H.pop());for($=H[0];10<=$;$/=10,Z++);return(j=Z+j*g-1)>ye?A.c=A.e=null:A.c=j<we?[A.e=0]:(A.e=j,H),A}function ft(A,H,j,Z){var $,ee,K,q,oe,Q,re,Oe=A.c,De=w;if(Oe){e:{for($=1,q=Oe[0];10<=q;q/=10,$++);if((ee=H-$)<0)ee+=g,K=H,re=(oe=Oe[Q=0])/De[$-K-1]%10|0;else if((Q=l((ee+1)/g))>=Oe.length){if(!Z)break e;for(;Oe.length<=Q;Oe.push(0));oe=re=0,K=(ee%=g)-g+($=1)}else{for(oe=q=Oe[Q],$=1;10<=q;q/=10,$++);re=(K=(ee%=g)-g+$)<0?0:oe/De[$-K-1]%10|0}if(Z=Z||H<0||Oe[Q+1]!=null||(K<0?oe:oe%De[$-K-1]),Z=j<4?(re||Z)&&(j==0||j==(A.s<0?3:2)):5<re||re==5&&(j==4||Z||j==6&&(0<ee?0<K?oe/De[$-K]:0:Oe[Q-1])%10&1||j==(A.s<0?8:7)),H<1||!Oe[0])return Oe.length=0,Z?(H-=A.e+1,Oe[0]=De[(g-H%g)%g],A.e=-H||0):Oe[0]=A.e=0,A;if(ee==0?(Oe.length=Q,q=1,Q--):(Oe.length=Q+1,q=De[g-ee],Oe[Q]=0<K?u(oe/De[$-K]%De[K])*q:0),Z)for(;;){if(Q==0){for(ee=1,K=Oe[0];10<=K;K/=10,ee++);for(K=Oe[0]+=q,q=1;10<=K;K/=10,q++);ee!=q&&(A.e++,Oe[0]==d&&(Oe[0]=1));break}if(Oe[Q]+=q,Oe[Q]!=d)break;Oe[Q--]=0,q=1}for(ee=Oe.length;Oe[--ee]===0;Oe.pop());}A.e>ye?A.c=A.e=null:A.e<we&&(A.c=[A.e=0])}return A}function He(A){var H,j=A.e;return j===null?A.toString():(H=x(A.c),H=j<=he||te<=j?O(H,j):I(H,j,"0"),A.s<0?"-"+H:H)}return le.clone=N,le.ROUND_UP=0,le.ROUND_DOWN=1,le.ROUND_CEIL=2,le.ROUND_FLOOR=3,le.ROUND_HALF_UP=4,le.ROUND_HALF_DOWN=5,le.ROUND_HALF_EVEN=6,le.ROUND_HALF_CEIL=7,le.ROUND_HALF_FLOOR=8,le.EUCLID=9,le.config=le.set=function(A){var H,j;if(A!=null){if(typeof A!="object")throw Error(c+"Object expected: "+A);if(A.hasOwnProperty(H="DECIMAL_PLACES")&&(_(j=A[H],0,v,H),W=j),A.hasOwnProperty(H="ROUNDING_MODE")&&(_(j=A[H],0,8,H),V=j),A.hasOwnProperty(H="EXPONENTIAL_AT")&&((j=A[H])&&j.pop?(_(j[0],-v,0,H),_(j[1],0,v,H),he=j[0],te=j[1]):(_(j,-v,v,H),he=-(te=j<0?-j:j))),A.hasOwnProperty(H="RANGE"))if((j=A[H])&&j.pop)_(j[0],-v,-1,H),_(j[1],1,v,H),we=j[0],ye=j[1];else{if(_(j,-v,v,H),!j)throw Error(c+H+" cannot be zero: "+j);we=-(ye=j<0?-j:j)}if(A.hasOwnProperty(H="CRYPTO")){if((j=A[H])!==!!j)throw Error(c+H+" not true or false: "+j);if(j){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw pe=!j,Error(c+"crypto unavailable");pe=j}else pe=j}if(A.hasOwnProperty(H="MODULO_MODE")&&(_(j=A[H],0,9,H),$e=j),A.hasOwnProperty(H="POW_PRECISION")&&(_(j=A[H],0,v,H),We=j),A.hasOwnProperty(H="FORMAT")){if(typeof(j=A[H])!="object")throw Error(c+H+" not an object: "+j);Xe=j}if(A.hasOwnProperty(H="ALPHABET")){if(typeof(j=A[H])!="string"||/^.$|[+-.\s]|(.).*\1/.test(j))throw Error(c+H+" invalid: "+j);Se=j}}return{DECIMAL_PLACES:W,ROUNDING_MODE:V,EXPONENTIAL_AT:[he,te],RANGE:[we,ye],CRYPTO:pe,MODULO_MODE:$e,POW_PRECISION:We,FORMAT:Xe,ALPHABET:Se}},le.isBigNumber=function(A){return A instanceof le||A&&A._isBigNumber===!0||!1},le.maximum=le.max=function(){return Qe(arguments,k.lt)},le.minimum=le.min=function(){return Qe(arguments,k.gt)},le.random=(ce=9007199254740992,ve=Math.random()*ce&2097151?function(){return u(Math.random()*ce)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(A){var H,j,Z,$,ee,K=0,q=[],oe=new le(D);if(A==null?A=W:_(A,0,v),$=l(A/g),pe)if(crypto.getRandomValues){for(H=crypto.getRandomValues(new Uint32Array($*=2));K<$;)9e15<=(ee=131072*H[K]+(H[K+1]>>>11))?(j=crypto.getRandomValues(new Uint32Array(2)),H[K]=j[0],H[K+1]=j[1]):(q.push(ee%1e14),K+=2);K=$/2}else{if(!crypto.randomBytes)throw pe=!1,Error(c+"crypto unavailable");for(H=crypto.randomBytes($*=7);K<$;)9e15<=(ee=281474976710656*(31&H[K])+1099511627776*H[K+1]+4294967296*H[K+2]+16777216*H[K+3]+(H[K+4]<<16)+(H[K+5]<<8)+H[K+6])?crypto.randomBytes(7).copy(H,K):(q.push(ee%1e14),K+=7);K=$/7}if(!pe)for(;K<$;)(ee=ve())<9e15&&(q[K++]=ee%1e14);for($=q[--K],A%=g,$&&A&&(ee=w[g-A],q[K]=u($/ee)*ee);q[K]===0;q.pop(),K--);if(K<0)q=[Z=0];else{for(Z=-1;q[0]===0;q.splice(0,1),Z-=g);for(K=1,ee=q[0];10<=ee;ee/=10,K++);K<g&&(Z-=g-K)}return oe.e=Z,oe.c=q,oe}),le.sum=function(){for(var A=1,H=arguments,j=new le(H[0]);A<H.length;)j=j.plus(H[A++]);return j},ae=function(){var A="0123456789";function H(j,Z,$,ee){for(var K,q,oe=[0],Q=0,re=j.length;Q<re;){for(q=oe.length;q--;oe[q]*=Z);for(oe[0]+=ee.indexOf(j.charAt(Q++)),K=0;K<oe.length;K++)oe[K]>$-1&&(oe[K+1]==null&&(oe[K+1]=0),oe[K+1]+=oe[K]/$|0,oe[K]%=$)}return oe.reverse()}return function(j,Z,$,ee,K){var q,oe,Q,re,Oe,De,tt,at,pt=j.indexOf("."),ln=W,St=V;for(0<=pt&&(re=We,We=0,j=j.replace(".",""),De=(at=new le(Z)).pow(j.length-pt),We=re,at.c=H(I(x(De.c),De.e,"0"),10,$,A),at.e=at.c.length),Q=re=(tt=H(j,Z,$,K?(q=Se,A):(q=A,Se))).length;tt[--re]==0;tt.pop());if(!tt[0])return q.charAt(0);if(pt<0?--Q:(De.c=tt,De.e=Q,De.s=ee,tt=(De=B(De,at,ln,St,$)).c,Oe=De.r,Q=De.e),pt=tt[oe=Q+ln+1],re=$/2,Oe=Oe||oe<0||tt[oe+1]!=null,Oe=St<4?(pt!=null||Oe)&&(St==0||St==(De.s<0?3:2)):re<pt||pt==re&&(St==4||Oe||St==6&&1&tt[oe-1]||St==(De.s<0?8:7)),oe<1||!tt[0])j=Oe?I(q.charAt(1),-ln,q.charAt(0)):q.charAt(0);else{if(tt.length=oe,Oe)for(--$;++tt[--oe]>$;)tt[oe]=0,oe||(++Q,tt=[1].concat(tt));for(re=tt.length;!tt[--re];);for(pt=0,j="";pt<=re;j+=q.charAt(tt[pt++]));j=I(j,Q,q.charAt(0))}return j}}(),B=function(){function A(Z,$,ee){var K,q,oe,Q,re=0,Oe=Z.length,De=$%C,tt=$/C|0;for(Z=Z.slice();Oe--;)re=((q=De*(oe=Z[Oe]%C)+(K=tt*oe+(Q=Z[Oe]/C|0)*De)%C*C+re)/ee|0)+(K/C|0)+tt*Q,Z[Oe]=q%ee;return re&&(Z=[re].concat(Z)),Z}function H(Z,$,ee,K){var q,oe;if(ee!=K)oe=K<ee?1:-1;else for(q=oe=0;q<ee;q++)if(Z[q]!=$[q]){oe=Z[q]>$[q]?1:-1;break}return oe}function j(Z,$,ee,K){for(var q=0;ee--;)Z[ee]-=q,q=Z[ee]<$[ee]?1:0,Z[ee]=q*K+Z[ee]-$[ee];for(;!Z[0]&&1<Z.length;Z.splice(0,1));}return function(Z,$,ee,K,q){var oe,Q,re,Oe,De,tt,at,pt,ln,St,Be,cn,bs,sa,hn,X,ie,ge=Z.s==$.s?1:-1,J=Z.c,Pe=$.c;if(!(J&&J[0]&&Pe&&Pe[0]))return new le(Z.s&&$.s&&(J?!Pe||J[0]!=Pe[0]:Pe)?J&&J[0]==0||!Pe?0*ge:ge/0:NaN);for(ln=(pt=new le(ge)).c=[],ge=ee+(Q=Z.e-$.e)+1,q||(q=d,Q=y(Z.e/g)-y($.e/g),ge=ge/g|0),re=0;Pe[re]==(J[re]||0);re++);if(Pe[re]>(J[re]||0)&&Q--,ge<0)ln.push(1),Oe=!0;else{for(sa=J.length,X=Pe.length,ge+=2,1<(De=u(q/(Pe[re=0]+1)))&&(Pe=A(Pe,De,q),J=A(J,De,q),X=Pe.length,sa=J.length),bs=X,Be=(St=J.slice(0,X)).length;Be<X;St[Be++]=0);ie=Pe.slice(),ie=[0].concat(ie),hn=Pe[0],Pe[1]>=q/2&&hn++;do{if(De=0,(oe=H(Pe,St,X,Be))<0){if(cn=St[0],X!=Be&&(cn=cn*q+(St[1]||0)),1<(De=u(cn/hn)))for(q<=De&&(De=q-1),at=(tt=A(Pe,De,q)).length,Be=St.length;H(tt,St,at,Be)==1;)De--,j(tt,X<at?ie:Pe,at,q),at=tt.length,oe=1;else De==0&&(oe=De=1),at=(tt=Pe.slice()).length;if(at<Be&&(tt=[0].concat(tt)),j(St,tt,Be,q),Be=St.length,oe==-1)for(;H(Pe,St,X,Be)<1;)De++,j(St,X<Be?ie:Pe,Be,q),Be=St.length}else oe===0&&(De++,St=[0]);ln[re++]=De,St[0]?St[Be++]=J[bs]||0:(St=[J[bs]],Be=1)}while((bs++<sa||St[0]!=null)&&ge--);Oe=St[0]!=null,ln[0]||ln.splice(0,1)}if(q==d){for(re=1,ge=ln[0];10<=ge;ge/=10,re++);ft(pt,ee+(pt.e=re+Q*g-1)+1,K,Oe)}else pt.e=Q,pt.r=+Oe;return pt}}(),Me=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Ce=/^([^.]+)\.$/,ne=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g,U=function(A,H,j,Z){var $,ee=j?H:H.replace(R,"");if(S.test(ee))A.s=isNaN(ee)?null:ee<0?-1:1,A.c=A.e=null;else{if(!j&&(ee=ee.replace(Me,function(K,q,oe){return $=(oe=oe.toLowerCase())=="x"?16:oe=="b"?2:8,Z&&Z!=$?K:q}),Z&&($=Z,ee=ee.replace(Ce,"$1").replace(ne,"0.$1")),H!=ee))return new le(ee,$);if(le.DEBUG)throw Error(c+"Not a"+(Z?" base "+Z:"")+" number: "+H);A.c=A.e=A.s=null}},k.absoluteValue=k.abs=function(){var A=new le(this);return A.s<0&&(A.s=1),A},k.comparedTo=function(A,H){return M(this,new le(A,H))},k.decimalPlaces=k.dp=function(A,H){var j,Z,$;if(A!=null)return _(A,0,v),H==null?H=V:_(H,0,8),ft(new le(this),A+this.e+1,H);if(!(j=this.c))return null;if(Z=(($=j.length-1)-y(this.e/g))*g,$=j[$])for(;$%10==0;$/=10,Z--);return Z<0&&(Z=0),Z},k.dividedBy=k.div=function(A,H){return B(this,new le(A,H),W,V)},k.dividedToIntegerBy=k.idiv=function(A,H){return B(this,new le(A,H),0,1)},k.exponentiatedBy=k.pow=function(A,H){var j,Z,$,ee,K,q,oe,Q,re=this;if((A=new le(A)).c&&!A.isInteger())throw Error(c+"Exponent not an integer: "+He(A));if(H!=null&&(H=new le(H)),K=14<A.e,!re.c||!re.c[0]||re.c[0]==1&&!re.e&&re.c.length==1||!A.c||!A.c[0])return Q=new le(Math.pow(+He(re),K?2-T(A):+He(A))),H?Q.mod(H):Q;if(q=A.s<0,H){if(H.c?!H.c[0]:!H.s)return new le(NaN);(Z=!q&&re.isInteger()&&H.isInteger())&&(re=re.mod(H))}else{if(9<A.e&&(0<re.e||re.e<-1||(re.e==0?1<re.c[0]||K&&24e7<=re.c[1]:re.c[0]<8e13||K&&re.c[0]<=9999975e7)))return ee=re.s<0&&T(A)?-0:0,-1<re.e&&(ee=1/ee),new le(q?1/ee:ee);We&&(ee=l(We/g+2))}for(oe=K?(j=new le(.5),q&&(A.s=1),T(A)):($=Math.abs(+He(A)))%2,Q=new le(D);;){if(oe){if(!(Q=Q.times(re)).c)break;ee?Q.c.length>ee&&(Q.c.length=ee):Z&&(Q=Q.mod(H))}if($){if(($=u($/2))===0)break;oe=$%2}else if(ft(A=A.times(j),A.e+1,1),14<A.e)oe=T(A);else{if(($=+He(A))==0)break;oe=$%2}re=re.times(re),ee?re.c&&re.c.length>ee&&(re.c.length=ee):Z&&(re=re.mod(H))}return Z?Q:(q&&(Q=D.div(Q)),H?Q.mod(H):ee?ft(Q,We,V,void 0):Q)},k.integerValue=function(A){var H=new le(this);return A==null?A=V:_(A,0,8),ft(H,H.e+1,A)},k.isEqualTo=k.eq=function(A,H){return M(this,new le(A,H))===0},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(A,H){return 0<M(this,new le(A,H))},k.isGreaterThanOrEqualTo=k.gte=function(A,H){return(H=M(this,new le(A,H)))===1||H===0},k.isInteger=function(){return!!this.c&&y(this.e/g)>this.c.length-2},k.isLessThan=k.lt=function(A,H){return M(this,new le(A,H))<0},k.isLessThanOrEqualTo=k.lte=function(A,H){return(H=M(this,new le(A,H)))===-1||H===0},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return 0<this.s},k.isZero=function(){return!!this.c&&this.c[0]==0},k.minus=function(A,H){var j,Z,$,ee,K=this,q=K.s;if(H=(A=new le(A,H)).s,!q||!H)return new le(NaN);if(q!=H)return A.s=-H,K.plus(A);var oe=K.e/g,Q=A.e/g,re=K.c,Oe=A.c;if(!oe||!Q){if(!re||!Oe)return re?(A.s=-H,A):new le(Oe?K:NaN);if(!re[0]||!Oe[0])return Oe[0]?(A.s=-H,A):new le(re[0]?K:V==3?-0:0)}if(oe=y(oe),Q=y(Q),re=re.slice(),q=oe-Q){for(($=(ee=q<0)?(q=-q,re):(Q=oe,Oe)).reverse(),H=q;H--;$.push(0));$.reverse()}else for(Z=(ee=(q=re.length)<(H=Oe.length))?q:H,q=H=0;H<Z;H++)if(re[H]!=Oe[H]){ee=re[H]<Oe[H];break}if(ee&&($=re,re=Oe,Oe=$,A.s=-A.s),0<(H=(Z=Oe.length)-(j=re.length)))for(;H--;re[j++]=0);for(H=d-1;q<Z;){if(re[--Z]<Oe[Z]){for(j=Z;j&&!re[--j];re[j]=H);--re[j],re[Z]+=d}re[Z]-=Oe[Z]}for(;re[0]==0;re.splice(0,1),--Q);return re[0]?et(A,re,Q):(A.s=V==3?-1:1,A.c=[A.e=0],A)},k.modulo=k.mod=function(A,H){var j,Z,$=this;return A=new le(A,H),!$.c||!A.s||A.c&&!A.c[0]?new le(NaN):!A.c||$.c&&!$.c[0]?new le($):($e==9?(Z=A.s,A.s=1,j=B($,A,0,3),A.s=Z,j.s*=Z):j=B($,A,0,$e),(A=$.minus(j.times(A))).c[0]||$e!=1||(A.s=$.s),A)},k.multipliedBy=k.times=function(A,H){var j,Z,$,ee,K,q,oe,Q,re,Oe,De,tt,at,pt,ln,St=this,Be=St.c,cn=(A=new le(A,H)).c;if(!(Be&&cn&&Be[0]&&cn[0]))return!St.s||!A.s||Be&&!Be[0]&&!cn||cn&&!cn[0]&&!Be?A.c=A.e=A.s=null:(A.s*=St.s,Be&&cn?(A.c=[0],A.e=0):A.c=A.e=null),A;for(Z=y(St.e/g)+y(A.e/g),A.s*=St.s,(oe=Be.length)<(Oe=cn.length)&&(at=Be,Be=cn,cn=at,$=oe,oe=Oe,Oe=$),$=oe+Oe,at=[];$--;at.push(0));for(pt=d,ln=C,$=Oe;0<=--$;){for(j=0,De=cn[$]%ln,tt=cn[$]/ln|0,ee=$+(K=oe);$<ee;)j=((Q=De*(Q=Be[--K]%ln)+(q=tt*Q+(re=Be[K]/ln|0)*De)%ln*ln+at[ee]+j)/pt|0)+(q/ln|0)+tt*re,at[ee--]=Q%pt;at[ee]=j}return j?++Z:at.splice(0,1),et(A,at,Z)},k.negated=function(){var A=new le(this);return A.s=-A.s||null,A},k.plus=function(A,H){var j,Z=this,$=Z.s;if(H=(A=new le(A,H)).s,!$||!H)return new le(NaN);if($!=H)return A.s=-H,Z.minus(A);var ee=Z.e/g,K=A.e/g,q=Z.c,oe=A.c;if(!ee||!K){if(!q||!oe)return new le($/0);if(!q[0]||!oe[0])return oe[0]?A:new le(q[0]?Z:0*$)}if(ee=y(ee),K=y(K),q=q.slice(),$=ee-K){for((j=0<$?(K=ee,oe):($=-$,q)).reverse();$--;j.push(0));j.reverse()}for(($=q.length)-(H=oe.length)<0&&(j=oe,oe=q,q=j,H=$),$=0;H;)$=(q[--H]=q[H]+oe[H]+$)/d|0,q[H]=d===q[H]?0:q[H]%d;return $&&(q=[$].concat(q),++K),et(A,q,K)},k.precision=k.sd=function(A,H){var j,Z,$;if(A!=null&&A!==!!A)return _(A,1,v),H==null?H=V:_(H,0,8),ft(new le(this),A,H);if(!(j=this.c))return null;if(Z=($=j.length-1)*g+1,$=j[$]){for(;$%10==0;$/=10,Z--);for($=j[0];10<=$;$/=10,Z++);}return A&&this.e+1>Z&&(Z=this.e+1),Z},k.shiftedBy=function(A){return _(A,-p,p),this.times("1e"+A)},k.squareRoot=k.sqrt=function(){var A,H,j,Z,$,ee=this,K=ee.c,q=ee.s,oe=ee.e,Q=W+4,re=new le("0.5");if(q!==1||!K||!K[0])return new le(!q||q<0&&(!K||K[0])?NaN:K?ee:1/0);if((j=(q=Math.sqrt(+He(ee)))==0||q==1/0?(((H=x(K)).length+oe)%2==0&&(H+="0"),q=Math.sqrt(+H),oe=y((oe+1)/2)-(oe<0||oe%2),new le(H=q==1/0?"1e"+oe:(H=q.toExponential()).slice(0,H.indexOf("e")+1)+oe)):new le(q+"")).c[0]){for((q=(oe=j.e)+Q)<3&&(q=0);;)if($=j,j=re.times($.plus(B(ee,$,Q,1))),x($.c).slice(0,q)===(H=x(j.c)).slice(0,q)){if(j.e<oe&&--q,(H=H.slice(q-3,q+1))!="9999"&&(Z||H!="4999")){+H&&(+H.slice(1)||H.charAt(0)!="5")||(ft(j,j.e+W+2,1),A=!j.times(j).eq(ee));break}if(!Z&&(ft($,$.e+W+2,0),$.times($).eq(ee))){j=$;break}Q+=4,q+=4,Z=1}}return ft(j,j.e+W+1,V,A)},k.toExponential=function(A,H){return A!=null&&(_(A,0,v),A++),mt(this,A,H,1)},k.toFixed=function(A,H){return A!=null&&(_(A,0,v),A=A+this.e+1),mt(this,A,H)},k.toFormat=function(A,H,j){var Z;if(j==null)A!=null&&H&&typeof H=="object"?(j=H,H=null):A&&typeof A=="object"?(j=A,A=H=null):j=Xe;else if(typeof j!="object")throw Error(c+"Argument not an object: "+j);if(Z=this.toFixed(A,H),this.c){var $,ee=Z.split("."),K=+j.groupSize,q=+j.secondaryGroupSize,oe=j.groupSeparator||"",Q=ee[0],re=ee[1],Oe=this.s<0,De=Oe?Q.slice(1):Q,tt=De.length;if(q&&($=K,K=q,tt-=q=$),0<K&&0<tt){for($=tt%K||K,Q=De.substr(0,$);$<tt;$+=K)Q+=oe+De.substr($,K);0<q&&(Q+=oe+De.slice($)),Oe&&(Q="-"+Q)}Z=re?Q+(j.decimalSeparator||"")+((q=+j.fractionGroupSize)?re.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(j.fractionGroupSeparator||"")):re):Q}return(j.prefix||"")+Z+(j.suffix||"")},k.toFraction=function(A){var H,j,Z,$,ee,K,q,oe,Q,re,Oe,De,tt=this,at=tt.c;if(A!=null&&(!(q=new le(A)).isInteger()&&(q.c||q.s!==1)||q.lt(D)))throw Error(c+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+He(q));if(!at)return new le(tt);for(H=new le(D),Q=j=new le(D),Z=oe=new le(D),De=x(at),ee=H.e=De.length-tt.e-1,H.c[0]=w[(K=ee%g)<0?g+K:K],A=!A||0<q.comparedTo(H)?0<ee?H:Q:q,K=ye,ye=1/0,q=new le(De),oe.c[0]=0;re=B(q,H,0,1),($=j.plus(re.times(Z))).comparedTo(A)!=1;)j=Z,Z=$,Q=oe.plus(re.times($=Q)),oe=$,H=q.minus(re.times($=H)),q=$;return $=B(A.minus(j),Z,0,1),oe=oe.plus($.times(Q)),j=j.plus($.times(Z)),oe.s=Q.s=tt.s,Oe=B(Q,Z,ee*=2,V).minus(tt).abs().comparedTo(B(oe,j,ee,V).minus(tt).abs())<1?[Q,Z]:[oe,j],ye=K,Oe},k.toNumber=function(){return+He(this)},k.toPrecision=function(A,H){return A!=null&&_(A,1,v),mt(this,A,H,2)},k.toString=function(A){var H,j=this,Z=j.s,$=j.e;return $===null?Z?(H="Infinity",Z<0&&(H="-"+H)):H="NaN":(H=A==null?$<=he||te<=$?O(x(j.c),$):I(x(j.c),$,"0"):A===10?I(x((j=ft(new le(j),W+$+1,V)).c),j.e,"0"):(_(A,2,Se.length,"Base"),ae(I(x(j.c),$,"0"),10,A,Z,!0)),Z<0&&j.c[0]&&(H="-"+H)),H},k.valueOf=k.toJSON=function(){return He(this)},k._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf),L!=null&&le.set(L),le}()).default=s.BigNumber=s,r!==void 0&&r.exports?r.exports=s:(i||(i=typeof self<"u"&&self?self:window),i.BigNumber=s)})(this)},{}],2:[function(n,r,o){r.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(i){var s=i%10;return~~(i%100/10)==1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(n,r,o){function i(y,x){return function(M){if(Array.isArray(M))return M}(y)||function(M,_){var T=[],O=!0,I=!1,N=void 0;try{for(var L,B=M[Symbol.iterator]();!(O=(L=B.next()).done)&&(T.push(L.value),!_||T.length!==_);O=!0);}catch(ae){I=!0,N=ae}finally{try{O||B.return==null||B.return()}finally{if(I)throw N}}return T}(y,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=n("./globalState"),a=n("./validating"),l=n("./parsing"),u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c={general:{scale:1024,suffixes:u,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:u,marker:"d"}},h={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(y){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},M=2<arguments.length?arguments[2]:void 0;if(typeof x=="string"&&(x=l.parseFormat(x)),!a.validateFormat(x))return"ERROR: invalid format";var _=x.prefix||"",T=x.postfix||"",O=function(I,N,L){switch(N.output){case"currency":return N=v(N,s.currentCurrencyDefaultFormat()),function(Se,le,mt){var Qe=mt.currentCurrency(),et=Object.assign({},h,le),ft=void 0,He="",A=!!et.totalLength||!!et.forceAverage||et.average,H=le.currencyPosition||Qe.position,j=le.currencySymbol||Qe.symbol;et.spaceSeparated&&(He=" "),H==="infix"&&(ft=He+j+He);var Z=C({instance:Se,providedFormat:le,state:mt,decimalSeparator:ft});return H==="prefix"&&(Z=Se._value<0&&et.negative==="sign"?"-".concat(He).concat(j).concat(Z.slice(1)):j+He+Z),H&&H!=="postfix"||(Z=Z+(He=A?"":He)+j),Z}(I,N,s);case"percent":return N=v(N,s.currentPercentageDefaultFormat()),function(Se,le,mt,Qe){var et=le.prefixSymbol,ft=C({instance:Qe(100*Se._value),providedFormat:le,state:mt}),He=Object.assign({},h,le);return et?"%".concat(He.spaceSeparated?" ":"").concat(ft):"".concat(ft).concat(He.spaceSeparated?" ":"","%")}(I,N,s,L);case"byte":return N=v(N,s.currentByteDefaultFormat()),D=I,V=s,he=L,te=(W=N).base||"binary",we=c[te],ye=g(D._value,we.suffixes,we.scale),pe=ye.value,$e=ye.suffix,We=C({instance:he(pe),providedFormat:W,state:V,defaults:V.currentByteDefaultFormat()}),Xe=V.currentAbbreviations(),"".concat(We).concat(Xe.spaced?" ":"").concat($e);case"time":return N=v(N,s.currentTimeDefaultFormat()),ne=I,S=Math.floor(ne._value/60/60),R=Math.floor((ne._value-60*S*60)/60),k=Math.round(ne._value-60*S*60-60*R),"".concat(S,":").concat(R<10?"0":"").concat(R,":").concat(k<10?"0":"").concat(k);case"ordinal":return N=v(N,s.currentOrdinalDefaultFormat()),B=I,ae=N,ce=(U=s).currentOrdinal(),ve=Object.assign({},h,ae),Me=C({instance:B,providedFormat:ae,state:U}),Ce=ce(B._value),"".concat(Me).concat(ve.spaceSeparated?" ":"").concat(Ce);case"number":default:return C({instance:I,providedFormat:N,numbro:L})}var B,ae,U,ce,ve,Me,Ce,ne,S,R,k,D,W,V,he,te,we,ye,pe,$e,We,Xe}(y,x,M);return O=(O=_+O)+T}function g(y,x,M){var _=x[0],T=Math.abs(y);if(M<=T){for(var O=1;O<x.length;++O){var I=Math.pow(M,O),N=Math.pow(M,O+1);if(I<=T&&T<N){_=x[O],y/=I;break}}_===x[0]&&(y/=Math.pow(M,x.length-1),_=x[x.length-1])}return{value:y,suffix:_}}function p(y){for(var x="",M=0;M<y;M++)x+="0";return x}function w(y,x){return y.toString().indexOf("e")!==-1?function(M,_){var T=M.toString(),O=i(T.split("e"),2),I=O[0],N=O[1],L=i(I.split("."),2),B=L[0],ae=L[1],U=ae===void 0?"":ae;if(0<+N)T=B+U+p(N-U.length);else{var ce=".";ce=+B<0?"-0".concat(ce):"0".concat(ce);var ve=(p(-N-1)+Math.abs(B)+U).substr(0,_);ve.length<_&&(ve+=p(_-ve.length)),T=ce+ve}return 0<+N&&0<_&&(T+=".".concat(p(_))),T}(y,x):(Math.round(+"".concat(y,"e+").concat(x))/Math.pow(10,x)).toFixed(x)}function C(y){var x=y.instance,M=y.providedFormat,_=y.state,T=_===void 0?s:_,O=y.decimalSeparator,I=y.defaults,N=I===void 0?T.currentDefaults():I,L=x._value;if(L===0&&T.hasZeroFormat())return T.getZeroFormat();if(!isFinite(L))return L.toString();var B,ae,U,ce,ve,Me,Ce,ne,S=Object.assign({},h,N,M),R=S.totalLength,k=R?0:S.characteristic,D=S.optionalCharacteristic,W=S.forceAverage,V=!!R||!!W||S.average,he=R?-1:V&&M.mantissa===void 0?0:S.mantissa,te=!R&&(M.optionalMantissa===void 0?he===-1:S.optionalMantissa),we=S.trimMantissa,ye=S.thousandSeparated,pe=S.spaceSeparated,$e=S.negative,We=S.forceSign,Xe=S.exponential,Se="";if(V){var le=function(A){var H=A.value,j=A.forceAverage,Z=A.abbreviations,$=A.spaceSeparated,ee=$!==void 0&&$,K=A.totalLength,q=K===void 0?0:K,oe="",Q=Math.abs(H),re=-1;if(Q>=Math.pow(10,12)&&!j||j==="trillion"?(oe=Z.trillion,H/=Math.pow(10,12)):Q<Math.pow(10,12)&&Q>=Math.pow(10,9)&&!j||j==="billion"?(oe=Z.billion,H/=Math.pow(10,9)):Q<Math.pow(10,9)&&Q>=Math.pow(10,6)&&!j||j==="million"?(oe=Z.million,H/=Math.pow(10,6)):(Q<Math.pow(10,6)&&Q>=Math.pow(10,3)&&!j||j==="thousand")&&(oe=Z.thousand,H/=Math.pow(10,3)),oe&&(oe=(ee?" ":"")+oe),q){var Oe=H.toString().split(".")[0];re=Math.max(q-Oe.length,0)}return{value:H,abbreviation:oe,mantissaPrecision:re}}({value:L,forceAverage:W,abbreviations:T.currentAbbreviations(),spaceSeparated:pe,totalLength:R});L=le.value,Se+=le.abbreviation,R&&(he=le.mantissaPrecision)}if(Xe){var mt=(ae=(B={value:L,characteristicPrecision:k}).value,U=B.characteristicPrecision,ce=U===void 0?0:U,ve=i(ae.toExponential().split("e"),2),Me=ve[0],Ce=ve[1],ne=+Me,ce&&1<ce&&(ne*=Math.pow(10,ce-1),Ce=0<=(Ce=+Ce-(ce-1))?"+".concat(Ce):Ce),{value:ne,abbreviation:"e".concat(Ce)});L=mt.value,Se=mt.abbreviation+Se}var Qe,et,ft,He=function(A,H,j,Z,$){if(Z===-1)return A;var ee=w(H,Z),K=i(ee.toString().split("."),2),q=K[0],oe=K[1],Q=oe===void 0?"":oe;if(Q.match(/^0+$/)&&(j||$))return q;var re=Q.match(/0+$/);return $&&re?"".concat(q,".").concat(Q.toString().slice(0,re.index)):ee.toString()}(L.toString(),L,te,he,we);return He=function(A,H,j,Z,$){var ee=Z.currentDelimiters(),K=ee.thousands;$=$||ee.decimal;var q=ee.thousandsSize||3,oe=A.toString(),Q=oe.split(".")[0],re=oe.split(".")[1];return j&&(H<0&&(Q=Q.slice(1)),function(Oe,De){for(var tt=[],at=0,pt=Oe;0<pt;pt--)at===De&&(tt.unshift(pt),at=0),at++;return tt}(Q.length,q).forEach(function(Oe,De){Q=Q.slice(0,Oe+De)+K+Q.slice(Oe+De)}),H<0&&(Q="-".concat(Q))),oe=re?Q+$+re:Q}(He=function(A,H,j,Z){var $=A,ee=i($.toString().split("."),2),K=ee[0],q=ee[1];if(K.match(/^-?0$/)&&j)return q?"".concat(K.replace("0",""),".").concat(q):K.replace("0","");if(K.length<Z)for(var oe=Z-K.length,Q=0;Q<oe;Q++)$="0".concat($);return $.toString()}(He,0,D,k),L,ye,T,O),(V||Xe)&&(He=He+Se),(We||L<0)&&(Qe=He,ft=$e,He=(et=L)===0?Qe:+Qe==0?Qe.replace("-",""):0<et?"+".concat(Qe):ft==="sign"?Qe:"(".concat(Qe.replace("-",""),")")),He}function v(y,x){if(!y)return x;var M=Object.keys(y);return M.length===1&&M[0]==="output"?x:y}r.exports=function(y){return{format:function(){for(var x=arguments.length,M=new Array(x),_=0;_<x;_++)M[_]=arguments[_];return d.apply(void 0,M.concat([y]))},getByteUnit:function(){for(var x=arguments.length,M=new Array(x),_=0;_<x;_++)M[_]=arguments[_];return(function(T){var O=c.general;return g(T._value,O.suffixes,O.scale).suffix}).apply(void 0,M.concat([y]))},getBinaryByteUnit:function(){for(var x=arguments.length,M=new Array(x),_=0;_<x;_++)M[_]=arguments[_];return(function(T){var O=c.binary;return g(T._value,O.suffixes,O.scale).suffix}).apply(void 0,M.concat([y]))},getDecimalByteUnit:function(){for(var x=arguments.length,M=new Array(x),_=0;_<x;_++)M[_]=arguments[_];return(function(T){var O=c.decimal;return g(T._value,O.suffixes,O.scale).suffix}).apply(void 0,M.concat([y]))},formatOrDefault:v}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(n,r,o){var i=n("./en-US"),s=n("./validating"),a=n("./parsing"),l={},u=void 0,c={},h=null,d={};function g(w){u=w}function p(){return c[u]}l.languages=function(){return Object.assign({},c)},l.currentLanguage=function(){return u},l.currentCurrency=function(){return p().currency},l.currentAbbreviations=function(){return p().abbreviations},l.currentDelimiters=function(){return p().delimiters},l.currentOrdinal=function(){return p().ordinal},l.currentDefaults=function(){return Object.assign({},p().defaults,d)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),p().timeFormat)},l.setDefaults=function(w){w=a.parseFormat(w),s.validateFormat(w)&&(d=w)},l.getZeroFormat=function(){return h},l.setZeroFormat=function(w){return h=typeof w=="string"?w:null},l.hasZeroFormat=function(){return h!==null},l.languageData=function(w){if(w){if(c[w])return c[w];throw new Error('Unknown tag "'.concat(w,'"'))}return p()},l.registerLanguage=function(w){var C=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!s.validateLanguage(w))throw new Error("Invalid language data");c[w.languageTag]=w,C&&g(w.languageTag)},l.setLanguage=function(w){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i.languageTag;if(!c[w]){var v=w.split("-")[0],y=Object.keys(c).find(function(x){return x.split("-")[0]===v});return c[y]?void g(y):void g(C)}g(w)},l.registerLanguage(i),u=i.languageTag,r.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(n,r,o){r.exports=function(i){return{loadLanguagesInNode:function(s){return a=i,void s.forEach(function(l){var u=void 0;try{u=n("../languages/".concat(l))}catch{console.error('Unable to load "'.concat(l,'". No matching language file found.'))}u&&a.registerLanguage(u)});var a}}}},{}],6:[function(n,r,o){var i=n("bignumber.js");function s(a,l,u){var c=new i(a._value),h=l;return u.isNumbro(l)&&(h=l._value),h=new i(h),a._value=c.minus(h).toNumber(),a}r.exports=function(a){return{add:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.plus(p).toNumber(),c;var c,h,d,g,p},subtract:function(l,u){return s(l,u,a)},multiply:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.times(p).toNumber(),c;var c,h,d,g,p},divide:function(l,u){return h=u,d=a,g=new i((c=l)._value),p=h,d.isNumbro(h)&&(p=h._value),p=new i(p),c._value=g.dividedBy(p).toNumber(),c;var c,h,d,g,p},set:function(l,u){return c=l,d=h=u,a.isNumbro(h)&&(d=h._value),c._value=d,c;var c,h,d},difference:function(l,u){return c=u,s(d=(h=a)(l._value),c,h),Math.abs(d._value);var c,h,d}}}},{"bignumber.js":1}],7:[function(n,r,o){function i(C,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(C,x.key,x)}}var s=n("./globalState"),a=n("./validating"),l=n("./loading")(w),u=n("./unformatting"),c=n("./formatting")(w),h=n("./manipulating")(w),d=n("./parsing"),g=function(){function C(x){(function(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")})(this,C),this._value=x}var v,y;return v=C,(y=[{key:"clone",value:function(){return w(this._value)}},{key:"format",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return c.format(this,x)}},{key:"formatCurrency",value:function(x){return typeof x=="string"&&(x=d.parseFormat(x)),(x=c.formatOrDefault(x,s.currentCurrencyDefaultFormat())).output="currency",c.format(this,x)}},{key:"formatTime",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return x.output="time",c.format(this,x)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(x){return h.difference(this,x)}},{key:"add",value:function(x){return h.add(this,x)}},{key:"subtract",value:function(x){return h.subtract(this,x)}},{key:"multiply",value:function(x){return h.multiply(this,x)}},{key:"divide",value:function(x){return h.divide(this,x)}},{key:"set",value:function(x){return h.set(this,p(x))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&i(v.prototype,y),C}();function p(C){var v=C;return w.isNumbro(C)?v=C._value:typeof C=="string"?v=w.unformat(C):isNaN(C)&&(v=NaN),v}function w(C){return new g(p(C))}w.version="2.1.2",w.isNumbro=function(C){return C instanceof g},w.language=s.currentLanguage,w.registerLanguage=s.registerLanguage,w.setLanguage=s.setLanguage,w.languages=s.languages,w.languageData=s.languageData,w.zeroFormat=s.setZeroFormat,w.defaultFormat=s.currentDefaults,w.setDefaults=s.setDefaults,w.defaultCurrencyFormat=s.currentCurrencyDefaultFormat,w.validate=a.validate,w.loadLanguagesInNode=l.loadLanguagesInNode,w.unformat=u.unformat,r.exports=w},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(n,r,o){r.exports={parseFormat:function(i){var s,a,l,u,c,h,d,g,p,w,C,v,y,x,M,_,T,O,I,N,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof i!="string"?i:(a=L,i=(l=(s=i).match(/^{([^}]*)}/))?(a.prefix=l[1],s.slice(l[0].length)):s,c=L,function(B,ae){if(B.indexOf("$")===-1){if(B.indexOf("%")===-1)return B.indexOf("bd")!==-1?(ae.output="byte",ae.base="general"):B.indexOf("b")!==-1?(ae.output="byte",ae.base="binary"):B.indexOf("d")!==-1?(ae.output="byte",ae.base="decimal"):B.indexOf(":")===-1?B.indexOf("o")!==-1&&(ae.output="ordinal"):ae.output="time";ae.output="percent"}else ae.output="currency"}(i=(h=(u=i).match(/{([^}]*)}$/))?(c.postfix=h[1],u.slice(0,-h[0].length)):u,L),d=L,(g=i.match(/[1-9]+[0-9]*/))&&(d.totalLength=+g[0]),p=L,(w=i.split(".")[0].match(/0+/))&&(p.characteristic=w[0].length),function(B,ae){if(B.indexOf(".")!==-1){var U=B.split(".")[0];ae.optionalCharacteristic=U.indexOf("0")===-1}}(i,L),C=L,i.indexOf("a")!==-1&&(C.average=!0),y=L,(v=i).indexOf("K")!==-1?y.forceAverage="thousand":v.indexOf("M")!==-1?y.forceAverage="million":v.indexOf("B")!==-1?y.forceAverage="billion":v.indexOf("T")!==-1&&(y.forceAverage="trillion"),function(B,ae){var U=B.split(".")[1];if(U){var ce=U.match(/0+/);ce&&(ae.mantissa=ce[0].length)}}(i,L),M=L,(x=i).match(/\[\.]/)?M.optionalMantissa=!0:x.match(/\./)&&(M.optionalMantissa=!1),_=L,i.indexOf(",")!==-1&&(_.thousandSeparated=!0),T=L,i.indexOf(" ")!==-1&&(T.spaceSeparated=!0),I=L,(O=i).match(/^\+?\([^)]*\)$/)&&(I.negative="parenthesis"),O.match(/^\+?-/)&&(I.negative="sign"),N=L,i.match(/^\+/)&&(N.forceSign=!0),L)}}},{}],9:[function(n,r,o){var i=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",h=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,g=5<arguments.length?arguments[5]:void 0,p=6<arguments.length?arguments[6]:void 0;if(l!=="")return l===d?0:function w(C,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",x=3<arguments.length?arguments[3]:void 0,M=4<arguments.length?arguments[4]:void 0,_=5<arguments.length?arguments[5]:void 0,T=6<arguments.length?arguments[6]:void 0;if(!isNaN(+C))return+C;var O="",I=C.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(I!==C)return-1*w(I,v,y,x,M,_,T);for(var N=0;N<i.length;N++){var L=i[N];if((O=C.replace(L.key,""))!==C)return w(O,v,y,x,M,_,T)*L.factor}if((O=C.replace("%",""))!==C)return w(O,v,y,x,M,_,T)/100;var B=parseFloat(C);if(!isNaN(B)){var ae=x(B);if(ae&&ae!=="."&&(O=C.replace(new RegExp("".concat(s(ae),"$")),""))!==C)return w(O,v,y,x,M,_,T);var U={};Object.keys(_).forEach(function(R){U[_[R]]=R});for(var ce=Object.keys(U).sort().reverse(),ve=ce.length,Me=0;Me<ve;Me++){var Ce=ce[Me],ne=U[Ce];if((O=C.replace(Ce,""))!==C){var S=void 0;switch(ne){case"thousand":S=Math.pow(10,3);break;case"million":S=Math.pow(10,6);break;case"billion":S=Math.pow(10,9);break;case"trillion":S=Math.pow(10,12)}return w(O,v,y,x,M,_,T)*S}}}}(function(w,C){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",y=w.replace(v,"");return y=(y=y.replace(new RegExp("([0-9])".concat(s(C.thousands),"([0-9])"),"g"),"$1$2")).replace(C.decimal,".")}(l,u,c),u,c,h,d,g,p)}r.exports={unformat:function(l,u){var c,h,d,g=n("./globalState"),p=g.currentDelimiters(),w=g.currentCurrency().symbol,C=g.currentOrdinal(),v=g.getZeroFormat(),y=g.currentAbbreviations(),x=void 0;if(typeof l=="string")x=function(M,_){if(!M.indexOf(":")||_.thousands===":")return!1;var T=M.split(":");if(T.length!==3)return!1;var O=+T[0],I=+T[1],N=+T[2];return!isNaN(O)&&!isNaN(I)&&!isNaN(N)}(l,p)?(c=l.split(":"),h=+c[0],d=+c[1],+c[2]+60*d+3600*h):a(l,p,w,C,v,y,u);else{if(typeof l!="number")return;x=l}if(x!==void 0)return x}}},{"./globalState":4}],10:[function(n,r,o){function i(p){return function(w){if(Array.isArray(w)){for(var C=0,v=new Array(w.length);C<w.length;C++)v[C]=w[C];return v}}(p)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(p)}var a=n("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(p,w){return w.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(p){return p.output==="byte"}},characteristic:{type:"number",restriction:function(p){return 0<=p},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(p){return 0<=p},message:"value must be positive"},{restriction:function(p,w){return!w.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(p){return 0<=p},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(p,w){return w.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(p){return p.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(p){return!!a.unformat(p)}function d(p,w,C){var v=3<arguments.length&&arguments[3]!==void 0&&arguments[3],y=Object.keys(p).map(function(x){if(!w[x])return console.error("".concat(C," Invalid key: ").concat(x)),!1;var M=p[x],_=w[x];if(typeof _=="string"&&(_={type:_}),_.type==="format"){if(!d(M,u,"[Validate ".concat(x,"]"),!0))return!1}else if(s(M)!==_.type)return console.error("".concat(C," ").concat(x,' type mismatched: "').concat(_.type,'" expected, "').concat(s(M),'" provided')),!1;if(_.restrictions&&_.restrictions.length)for(var T=_.restrictions.length,O=0;O<T;O++){var I=_.restrictions[O],N=I.restriction,L=I.message;if(!N(M,p))return console.error("".concat(C," ").concat(x," invalid value: ").concat(L)),!1}return _.restriction&&!_.restriction(M,p)?(console.error("".concat(C," ").concat(x," invalid value: ").concat(_.message)),!1):_.validValues&&_.validValues.indexOf(M)===-1?(console.error("".concat(C," ").concat(x," invalid value: must be among ").concat(JSON.stringify(_.validValues),', "').concat(M,'" provided')),!1):!(_.children&&!d(M,_.children,"[Validate ".concat(x,"]")))});return v||y.push.apply(y,i(Object.keys(w).map(function(x){var M=w[x];if(typeof M=="string"&&(M={type:M}),M.mandatory){var _=M.mandatory;if(typeof _=="function"&&(_=_(p)),_&&p[x]===void 0)return console.error("".concat(C,' Missing mandatory key "').concat(x,'"')),!1}return!0}))),y.reduce(function(x,M){return x&&M},!0)}function g(p){return d(p,u,"[Validate format]")}r.exports={validate:function(p,w){var C=h(p),v=g(w);return C&&v},validateFormat:g,validateInput:h,validateLanguage:function(p){return d(p,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(a4);var YRe=a4.exports;const Uh=gu(YRe),qRe="numeric";function gP(t,e,n,r,o,i,s){let a=i;if(Jo(a)){const l=s.numericFormat,u=l&&l.culture||"-",c=l&&l.pattern,h=s.className||"",d=h.length?h.split(" "):[];if(typeof u<"u"&&!Uh.languages()[u]){const g=u.replace("-",""),p=Uh.allLanguages?Uh.allLanguages[u]:Uh[g];p&&Uh.registerLanguage(p)}Uh.setLanguage(u),a=Uh(a).format(c||"0"),d.indexOf("htLeft")<0&&d.indexOf("htCenter")<0&&d.indexOf("htRight")<0&&d.indexOf("htJustify")<0&&d.push("htRight"),d.indexOf("htNumeric")<0&&d.push("htNumeric"),s.className=d.join(" "),e.dir="ltr"}$l(t,e,n,r,o,a,s)}gP.RENDERER_TYPE=qRe;const KRe="password";function mP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s]);const a=s.hashLength||e.innerHTML.length,l=s.hashSymbol||"*";let u="";Ke(a-1,()=>{u+=l}),Ff(e,u)}mP.RENDERER_TYPE=KRe;const XRe="select";function pP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s])}pP.RENDERER_TYPE=XRe;const QRe="time";function vP(t,e,n,r,o,i,s){$l.apply(this,[t,e,n,r,o,i,s]),e.dir="ltr"}vP.RENDERER_TYPE=QRe;function JRe(){as(ig),as(kv),as(hP),as(cP),as(fP),as(uP),as(gP),as(mP),as(pP),as($l),as(vP)}const ZRe="autocomplete";function wS(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,l4(n,e)):l4(n,e)(this.source):e(!0)}wS.VALIDATOR_TYPE=ZRe;function l4(t,e){const n=t;return function(r){let o=!1;for(let i=0,s=r.length;i<s;i++)if(n===r[i]){o=!0;break}e(o)}}function eEe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const tEe="date";function wP(t,e){const n=Dz(X$,this.instance);let r=t,o=!0;r==null&&(r="");let i=Re(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=Re(new Date(r)).isValid()||i;if(this.allowEmpty&&r===""&&(s=!0,i=!0),s||(o=!1),!s&&i&&(o=!0),s&&!i)if(this.correctFormat===!0){const a=nEe(r,this.dateFormat),l=this.instance.toVisualRow(this.row),u=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(l,u,a,"dateValidator"),o=!0}else o=!1;e(o)}wP.VALIDATOR_TYPE=tEe;function nEe(t,e){const n=Re(eEe(t)),r=Re(t,e),o=t.search(/[A-z]/g)>-1;let i;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||o?i=n:i=r,i.format(e)}const rEe="dropdown";function yP(t,e){wS.apply(this,[t,e])}yP.VALIDATOR_TYPE=rEe;const oEe="numeric";function bP(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:Jo(t))}bP.VALIDATOR_TYPE=oEe;const iEe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],sEe="time";function CP(t,e){const n=this.timeFormat||"h:mm:ss a";let r=!0,o=t;o===null&&(o=""),o=/^\d{3,}$/.test(o)?parseInt(o,10):o;const i=/^\d{1,2}$/.test(o);i&&(o+=":00");const s=Re(o,iEe,!0).isValid()?Re(o):Re(o,n);let a=s.isValid(),l=Re(o,n,!0).isValid()&&!i;if(this.allowEmpty&&o===""&&(a=!0,l=!0),a||(r=!1),!a&&l&&(r=!0),a&&!l)if(this.correctFormat===!0){const u=s.format(n),c=this.instance.toVisualRow(this.row),h=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(c,h,u,"timeValidator"),r=!0}else r=!1;e(r)}CP.VALIDATOR_TYPE=sEe;function aEe(){$f(wS),$f(yP),$f(wP),$f(bP),$f(CP)}const lEe="autocomplete",uEe={CELL_TYPE:lEe,editor:eP,renderer:ig,validator:wS},cEe="checkbox",hEe={CELL_TYPE:cEe,editor:$$,renderer:hP},dEe="date";function u4(t,e,n,r,o,i,s){ig.apply(this,[t,e,n,r,o,i,s])}u4.RENDERER_TYPE=dEe;const fEe="date",gEe={CELL_TYPE:fEe,editor:J$,renderer:u4,validator:wP},mEe="dropdown",pEe={CELL_TYPE:mEe,editor:aP,renderer:cP,validator:yP},vEe="handsontable",wEe={CELL_TYPE:vEe,editor:JA,renderer:fP},yEe="numeric",bEe={CELL_TYPE:yEe,editor:Z$,renderer:gP,validator:bP,dataType:"number"},CEe="password",SEe={CELL_TYPE:CEe,editor:e4,renderer:mP,copyable:!1},xEe="select",REe={CELL_TYPE:xEe,editor:n4,renderer:pP},EEe="time",kEe={CELL_TYPE:EEe,editor:r4,renderer:vP,validator:CP};function TEe(){qs(uEe),qs(hEe),qs(gEe),qs(pEe),qs(wEe),qs(bEe),qs(SEe),qs(REe),qs(p$),qs(kEe)}function MEe(t,e){c4(t,e),e.add(t)}function _Ee(t,e,n){c4(t,e),e.set(t,n)}function c4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lg(t,e,n){return e=OEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OEe(t){var e=AEe(t,"string");return typeof e=="symbol"?e:String(e)}function AEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PEe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ug(t,e){var n=IEe(t,e,"get");return NEe(t,n)}function IEe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function NEe(t,e){return e.get?e.get.call(t):e.value}const h4=new Map([["plugin",kve],["cell-type",YU],["editor",Hz],["renderer",n3],["validator",o3]]),HEe="base",SP=[];let Fa=null;var $h=new WeakMap,d4=new WeakSet;class an{static get PLUGIN_KEY(){return HEe}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){MEe(this,d4),lg(this,"eventManager",new zs(this)),lg(this,"pluginName",null),lg(this,"pluginsInitializedCallbacks",[]),lg(this,"isPluginsReady",!1),lg(this,"enabled",!1),lg(this,"initialized",!1),_Ee(this,$h,{writable:!0,value:{}}),jl(this,"hot",e,{writable:!1}),Fa=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const r=[];if(n.forEach(o=>{const[i,s]=o.split(":");if(!h4.has(i))throw new Error(`Unknown plugin dependency type "${i}" was found.`);h4.get(i)(s)||r.push(` - ${s} (${i})`)}),r.length>0){const o=[`The ${this.pluginName} plugin requires the following modules:
`,`${r.join(`
`)}
`].join("");SP.push(o)}}if(Fa||(Fa=t3()),Fa.indexOf("UndoRedo")>=0&&Fa.splice(Fa.indexOf("UndoRedo"),1),Fa.indexOf(this.pluginName)>=0&&Fa.splice(Fa.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Fa.length===0){if(SP.length>0){const r=[`${SP.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(r)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,n){ug(this,$h)[e]=ug(this,$h)[e]||[];const r=ug(this,$h)[e];this.hot.addHook(e,n),r.push(n),ug(this,$h)[e]=r}removeHooks(e){F(ug(this,$h)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=ug(this,$h);It(e,(n,r)=>this.removeHooks(r)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){F(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=PEe(this,d4,DEe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),It(this,(n,r)=>{r!=="hot"&&(this[r]=null)}),delete this.t,delete this.hot}}function DEe(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function Gh(t,e,n){return e=LEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LEe(t){var e=jEe(t,"string");return typeof e=="symbol"?e:String(e)}function jEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let f4=class{constructor(t){Gh(this,"hot",null),Gh(this,"container",null),Gh(this,"injected",!1),Gh(this,"rows",[]),Gh(this,"columns",[]),Gh(this,"samples",null),Gh(this,"settings",{useHeaders:!0}),this.hot=t}addRow(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(t)),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(t){if(this.hot.getColHeader(0)!=null){const n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}addColumn(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(t){this.injected||this.injectTable(),F(this.rows,e=>{t(e.row,Kn(e.table)-1)})}getWidths(t){this.injected||this.injectTable(),F(this.columns,e=>{const{width:n}=e.table.getBoundingClientRect();t(e.col,Math.ceil(n))})}setSettings(t){this.settings=t}setSetting(t,e){this.settings||(this.settings={}),this.settings[t]=e}getSettings(){return this.settings}getSetting(t){return this.settings?this.settings[t]:null}createColGroupsCol(t){const e=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1,-1)),this.samples.forEach(n=>{F(n.strings,r=>{e.appendChild(this.createColElement(r.col,t))})}),e}createRow(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,r),n.appendChild(r)),this.samples.forEach(o=>{F(o.strings,i=>{const s=i.col,a=this.hot.getCellMeta(t,s);a.col=s,a.row=t;const l=this.hot.getCellRenderer(a),u=e.createElement("td");u.setAttribute("ghost-table",1),l(this.hot,u,t,s,this.hot.colToProp(s),i.value,a),n.appendChild(u)})}),n}appendColumnHeadersRow(){const{rootDocument:t}=this.hot,e=t.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){const r=t.createElement("th");n.push([-1,r]),e.appendChild(r)}this.samples.forEach(r=>{F(r.strings,o=>{const i=o.col,s=t.createElement("th");n.push([i,s]),e.appendChild(s)})}),this.table.tHead.appendChild(e),F(n,r=>{const[o,i]=r;this.hot.view.appendColHeader(o,i)})}createCol(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment();return this.samples.forEach(r=>{F(r.strings,o=>{const i=o.row,s=this.hot.getCellMeta(i,t);s.col=t,s.row=i;const a=this.hot.getCellRenderer(s),l=e.createElement("td"),u=e.createElement("tr");l.setAttribute("ghost-table",1),a(this.hot,l,i,t,this.hot.colToProp(t),o.value,s),u.appendChild(l),n.appendChild(u)})}),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(t,e){const n=this.hot.rootDocument.createElement("col");let r=0;e>=0&&t>=0&&(r=this.hot.getCellMeta(e,t).colspan);let o=this.hot.view._wt.wtTable.getStretchedColumnWidth(t);if(r>1)for(let i=t+1;i<t+r;i++)o+=this.hot.view._wt.wtTable.getStretchedColumnWidth(i);return n.style.width=`${o}px`,n}createTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("table"),o=e.createElement("thead"),i=e.createElement("tbody"),s=e.createElement("colgroup"),a=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&r.appendChild(s),this.isHorizontal()&&(a.appendChild(l),o.appendChild(a),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(o),this.isVertical()&&i.appendChild(a),r.appendChild(i),ke(r,t),n.appendChild(r),{fragment:n,table:r,tHead:o,tBody:i,colGroup:s,tr:a,th:l}}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=e.createElement("div"),o=`htGhostTable htAutoSize ${t.trim()}`;return ke(r,o),n.appendChild(r),{fragment:n,container:r}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function yS(t,e,n){return e=WEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WEe(t){var e=FEe(t,"string");return typeof e=="symbol"?e:String(e)}function FEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bS{static get SAMPLE_COUNT(){return 3}constructor(e){yS(this,"samples",null),yS(this,"dataFactory",null),yS(this,"customSampleCount",null),yS(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:bS.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,r){const o=new Map,{from:i,to:s}=typeof r=="number"?{from:r,to:r}:r;return Ke(i,s,a=>{const l=this.generateSample(e,n,a);o.set(a,l)}),o}generateSample(e,n,r){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const o=new Map,i=e==="row"?"col":"row",s=[];return Ke(n.from,n.to,a=>{const l=e==="row"?this.dataFactory(r,a):this.dataFactory(a,r);if(l===!1)return;const{value:u,bundleSeed:c}=l,h=typeof c=="string"&&c.length>0;let d;h?d=c:Ot(u)?d=`${Object.keys(u).length}`:Array.isArray(u)?d=`${u.length}`:d=`${fr(u).length}`,o.has(d)||o.set(d,{needed:this.getSampleCount(),strings:[]});const g=o.get(d);g.needed&&(!(s.indexOf(u)>-1)||this.allowDuplicates||h)&&(g.strings.push({value:u,[i]:a}),s.push(u),g.needed-=1)}),o}}function cg(t,e){g4(t,e),e.add(t)}function VEe(t,e,n){g4(t,e),e.set(t,n)}function g4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hg(t,e,n){return e=BEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BEe(t){var e=zEe(t,"string");return typeof e=="symbol"?e:String(e)}function zEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UEe(t,e,n){var r=m4(t,e,"set");return $Ee(t,r,n),n}function $Ee(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function CS(t,e){var n=m4(t,e,"get");return GEe(t,n)}function m4(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function GEe(t,e){return e.get?e.get.call(t):e.value}function Yh(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("modifyAutoColumnSizeSeed");const Nv="autoColumnSize",YEe=10,qEe="autoColumnSize";var dg=new WeakMap,p4=new WeakSet,v4=new WeakSet,w4=new WeakSet,xP=new WeakSet,y4=new WeakSet,b4=new WeakSet;class Hv extends an{static get PLUGIN_KEY(){return Nv}static get PLUGIN_PRIORITY(){return YEe}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),cg(this,b4),cg(this,y4),cg(this,xP),cg(this,w4),cg(this,v4),cg(this,p4),hg(this,"ghostTable",new f4(this.hot)),hg(this,"samplesGenerator",new bS((n,r)=>{const o=this.hot.getCellMeta(n,r);let i="";o.spanned||(i=this.hot.getDataAtCell(n,r));let s="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(s=this.hot.runHooks("modifyAutoColumnSizeSeed",s,o,i)),{value:i,bundleSeed:s}})),hg(this,"firstCalculation",!0),hg(this,"inProgress",!1),hg(this,"measuredColumns",0),hg(this,"columnWidthsMap",new fc),VEe(this,dg,{writable:!0,value:[]}),this.hot.columnIndexMapper.registerMap(qEe,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,r,o)=>Yh(this,xP,C4).call(this,n,r,o))}isEnabled(){return this.hot.getSettings()[Nv]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Nv];n&&n.useHeaders!==null&&n.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Yh(e,v4,XEe).call(e,...o)}),this.addHook("beforeChangeRender",r=>Yh(this,w4,QEe).call(this,r)),this.addHook("afterFormulasValuesUpdate",r=>Yh(this,b4,ZEe).call(this,r)),this.addHook("beforeViewRender",r=>Yh(this,p4,KEe).call(this,r)),this.addHook("modifyColWidth",(r,o)=>this.getColumnWidth(o,r)),this.addHook("afterInit",()=>Yh(this,y4,JEe).call(this)),super.enablePlugin()}updatePlugin(){const e=this.findColumnsWhereHeaderWasChanged();e.length&&(this.clearCache(e),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,r)=>Yh(this,xP,C4).call(this,e,n,r))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.hot.renderCall,n=this.getFirstVisibleColumn(),r=this.getLastVisibleColumn();n===-1||r===-1||this.calculateColumnsWidth({from:n,to:r},void 0,e)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,i=typeof n=="number"?{from:n,to:n}:n;Ke(o.from,o.to,s=>{let a=this.hot.toPhysicalColumn(s);if(a===null&&(a=s),r||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a)){const l=this.samplesGenerator.generateColumnSamples(s,i);F(l,u=>{let[c,h]=u;return this.ghostTable.addColumn(c,h)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{const l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=o.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=0;const r=this.hot.countCols()-1;let o=null;this.inProgress=!0;const i=()=>{if(!this.hot){eC(o),this.inProgress=!1;return}this.calculateColumnsWidth({from:n,to:Math.min(n+Hv.CALCULATION_STEP,r)},e),n=n+Hv.CALCULATION_STEP+1,n<r?o=AM(i):(eC(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateColumnsWidth({from:0,to:s},e),this.firstCalculation=!1,n=s+1),n<r?i():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[Nv],n=e&&Xn(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Xn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){const e=this.hot.getSettings()[Nv];let n=Hv.SYNC_CALCULATION_LIMIT;const r=this.hot.countCols()-1;return Ot(e)&&(n=e.syncLimit,UB(n)?n=Qz(r,n):n>>=0),Math.min(n,r)}getColumnWidth(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n;return o===void 0&&(o=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),r&&typeof o=="number"&&(o=Math.max(o,iv.DEFAULT_WIDTH))),o}getFirstVisibleColumn(){const e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){const n=e.wtTable.getFirstVisibleColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}if(e.wtViewport.columnsRenderCalculator){const n=e.wtTable.getFirstRenderedColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}getLastVisibleColumn(){const e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){const n=e.wtTable.getLastVisibleColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}if(e.wtViewport.columnsRenderCalculator){const n=e.wtTable.getLastRenderedColumn();if(n!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}findColumnsWhereHeaderWasChanged(){const e=this.hot.getColHeader();return fo(e,(n,r,o)=>{const i=CS(this,dg).length;return(i-1<o||CS(this,dg)[o]!==r)&&n.push(o),i-1<o?CS(this,dg).push(r):CS(this,dg)[o]=r,n},[])}clearCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length?this.hot.batchExecution(()=>{F(e,n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!os(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function KEe(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function XEe(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout(()=>{this.hot&&this.recalculateAllColumnsWidth()},0)}function QEe(t){const e=Pt(t,n=>{let[,r]=n;return this.hot.toPhysicalColumn(this.hot.propToCol(r))});this.clearCache(Array.from(new Set(e)))}function C4(t,e,n){let r=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),r=this.getColumnWidth(e,void 0,!1)),r}function JEe(){UEe(this,dg,this.hot.getColHeader())}function ZEe(t){const e=os(t,r=>{var o;return Fe((o=r.address)===null||o===void 0?void 0:o.col)}),n=Pt(e,r=>r.address.col);this.clearCache(Array.from(new Set(n)))}const qh={horizontal:"horizontal",vertical:"vertical"};function eke(t,e,n){let r,o,i;return e[0]===t[0]&&e[1]<t[1]?(i="left",r=n(e[0],e[1]),o=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(i="right",r=n(e[0],t[3]+1),o=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(i="up",r=n(e[0],e[1]),o=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(i="down",r=n(t[2]+1,e[1]),o=n(e[2],e[3])),r&&r.normalize(),o&&o.normalize(),{directionOfDrag:i,startOfDragCoords:r,endOfDragCoords:o}}function tke(t){const e={};return t===!0?(e.directions=Object.keys(qh),e.autoInsertRow=!0):Ot(t)?(Fe(t.autoInsertRow)?t.direction===qh.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,Fe(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(qh)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function Dv(t,e){nke(t,e),e.add(t)}function nke(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fg(t,e,n){return e=rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=oke(t,"string");return typeof e=="symbol"?e:String(e)}function oke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lv(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("modifyAutofillRange"),ze.getSingleton().register("beforeAutofill"),ze.getSingleton().register("afterAutofill");const S4="autofill",ike=20,ske=["fillHandle"],ake="insert_row_below",lke=200;var x4=new WeakSet,R4=new WeakSet,E4=new WeakSet,k4=new WeakSet,T4=new WeakSet;class uke extends an{constructor(){super(...arguments),Dv(this,T4),Dv(this,k4),Dv(this,E4),Dv(this,R4),Dv(this,x4),fg(this,"addingStarted",!1),fg(this,"mouseDownOnCellCorner",!1),fg(this,"mouseDragOutside",!1),fg(this,"handleDraggedCells",0),fg(this,"directions",[]),fg(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return S4}static get PLUGIN_PRIORITY(){return ike}static get SETTING_KEYS(){return[S4,...ske]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>Lv(this,R4,hke).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>Lv(this,x4,cke).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>Lv(this,E4,dke).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:r}=e.getTopStartCorner(),{row:o,col:i}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:r,endRow:o,endCol:i}]),a=[],l=[],u=[];return F(s,c=>{for(let h=c.startRow;h<=c.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=c.startCol;h<=c.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),F(a,c=>{const h=[];F(l,d=>{h.push(this.hot.getCopyableData(c,d))}),u.push(h)}),u}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,r,o]=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.getSelectedRangeLast(),s=i.getTopStartCorner(),a=i.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[s.row,s.col,a.row,a.col],u=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,n),Math.max(a.row,r),Math.max(a.col,o)],l),{directionOfDrag:c,startOfDragCoords:h,endOfDragCoords:d}=eke(l,u,(g,p)=>this.hot._createCellCoords(g,p));if(h&&h.row>-1&&h.col>-1){const g=this.getSelectionData(),p=i.clone(),w=this.hot._createCellRange(h,h,d),C=this.hot.runHooks("beforeAutofill",g,p,w,c);if(C===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let v=C;const y=C;if(["up","left"].indexOf(c)>-1&&!(y.length===1&&y[0].length===0))if(v=[],c==="up"){const x=d.row-h.row+1,M=x%y.length;for(let _=0;_<x;_++)v.push(y[(_+(y.length-M))%y.length])}else{const x=d.col-h.col+1,M=x%y[0].length;for(let _=0;_<y.length;_++){v.push([]);for(let T=0;T<x;T++)v[_].push(y[_][(T+(y[_].length-M))%y[_].length])}}this.hot.populateFromArray(h.row,h.col,v,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(u),this.hot.runHooks("afterAutofill",v,p,w,c),this.hot.render()}else this.hot._refreshBorders();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),r=n.getBottomEndCorner();let o=e;if(this.directions.includes(qh.vertical)&&this.directions.includes(qh.horizontal)){const i=n.getTopStartCorner();(r.col<=e.col||i.col>=e.col)&&(o=this.hot._createCellCoords(r.row,e.col)),(r.row<e.row||i.row>e.row)&&(o=this.hot._createCellCoords(e.row,r.col))}else if(this.directions.includes(qh.vertical))o=this.hot._createCellCoords(e.row,r.col);else if(this.directions.includes(qh.horizontal))o=this.hot._createCellCoords(r.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(o)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(ake,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},lke)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),r=this.hot.countRows();e[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),r=this.hot.countRows();let o;for(let i=e[2]+1;i<r;i++){for(let l=e[1];l<=e[3];l++)if(n[i][l])return-1;const s=n[i][e[1]-1],a=n[i][e[3]+1];(s||a)&&(o=i)}return o}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(...Pt(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,r=Dr(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+Kn(this.hot.table),o=Dr(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+pn(this.hot.table);return e.clientY>r&&e.clientX<=o}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>Lv(this,k4,fke).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>Lv(this,T4,gke).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=tke(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function cke(){this.selectAdjacent()&&this.fillIn()}function hke(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function dke(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function fke(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function gke(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function SS(t,e){mke(t,e),e.add(t)}function mke(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kh(t,e,n){return e=pke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pke(t){var e=vke(t,"string");return typeof e=="symbol"?e:String(e)}function vke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const xS="autoRowSize",wke=40,yke="autoRowSize";var M4=new WeakSet,RP=new WeakSet,_4=new WeakSet,O4=new WeakSet;class Wv extends an{static get PLUGIN_KEY(){return xS}static get PLUGIN_PRIORITY(){return wke}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),SS(this,O4),SS(this,_4),SS(this,RP),SS(this,M4),Kh(this,"headerHeight",null),Kh(this,"ghostTable",new f4(this.hot)),Kh(this,"samplesGenerator",new bS((n,r)=>{if(n>=0&&r>=0&&this.hot.getCellMeta(n,r).hidden)return!1;let o;return n>=0?o=this.hot.getDataAtCell(n,r):n===-1&&(o=this.hot.getColHeader(r)),{value:o}})),Kh(this,"firstCalculation",!0),Kh(this,"inProgress",!1),Kh(this,"measuredRows",0),Kh(this,"rowHeightsMap",new fc),this.hot.rowIndexMapper.registerMap(yke,this.rowHeightsMap),this.addHook("beforeRowResize",(n,r,o)=>jv(this,RP,A4).call(this,n,r,o))}isEnabled(){const e=this.hot.getSettings()[xS];return e===!0||Ot(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jv(e,_4,Cke).call(e,...r)}),this.addHook("beforeChangeRender",n=>jv(this,O4,Ske).call(this,n)),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("beforeViewRender",n=>jv(this,M4,bke).call(this,n)),this.addHook("modifyRowHeight",(n,r)=>this.getRowHeight(r,n)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,r)=>jv(this,RP,A4).call(this,e,n,r))}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,i=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const s=this.samplesGenerator.generateRowSamples(-1,i);this.ghostTable.addColumnHeadersRow(s.get(-1))}Ke(o.from,o.to,s=>{if(r||this.rowHeightsMap.getValueAtIndex(s)===null){const a=this.samplesGenerator.generateRowSamples(s,i);F(a,l=>{let[u,c]=l;return this.ghostTable.addRow(u,c)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=o.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=0;const r=this.hot.countRows()-1;let o=null;this.inProgress=!0;const i=()=>{if(!this.hot){eC(o),this.inProgress=!1;return}this.calculateRowsHeight({from:n,to:Math.min(n+Wv.CALCULATION_STEP,r)},e),n=n+Wv.CALCULATION_STEP+1,n<r?o=AM(i):(eC(o),this.inProgress=!1,this.hot.view.adjustElementsSize(!0),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateRowsHeight({from:0,to:s},e),this.firstCalculation=!1,n=s+1),n<r?i():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}setSamplingOptions(){const e=this.hot.getSettings()[xS],n=e&&Xn(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Xn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllRowsHeight(){Th(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){const e=this.hot.getSettings()[xS];let n=Wv.SYNC_CALCULATION_LIMIT;const r=this.hot.countRows()-1;return Ot(e)&&(n=e.syncLimit,UB(n)?n=Qz(r,n):n>>=0),Math.min(n,r)}getRowHeight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const r=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let o=n;return r!==null&&r>(n||0)&&(o=r),o}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){const e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){const e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(e){const{from:n,to:r}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Ke(Math.min(n,r),Math.max(n,r),o=>{this.rowHeightsMap.setValueAtIndex(o,null)})},!0)}isNeedRecalculate(){return!!os(this.rowHeightsMap.getValues().slice(0,this.measuredRows),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function bke(){const t=this.hot.renderCall,e=this.hot.getSettings().fixedRowsBottom,n=this.getFirstVisibleRow(),r=this.getLastVisibleRow();if(!(n===-1||r===-1)){if(this.calculateRowsHeight({from:n,to:r},void 0,t),e){const o=this.hot.countRows()-1;this.calculateRowsHeight({from:o-e,to:o})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function A4(t,e,n){let r=t;return n&&(this.calculateRowsHeight(e,void 0,!0),r=this.getRowHeight(e)),r}function Cke(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout(()=>{this.hot&&this.recalculateAllRowsHeight()})}function Ske(t){let e=null;t.length===1?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),e!==null&&this.clearCacheByRange(e)}const{getListWithInsertedItems:xke,getListWithRemovedItems:Rke}=dU("physicallyIndexed");class Eke extends Lh{constructor(){super(e=>e)}insert(e,n){const r=L_(this.indexedValues,n);this.indexedValues=xke(r,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=Rke(this.indexedValues,e);this.indexedValues=D_(n,e),super.remove(e)}}const kke=Eke,{getListWithInsertedItems:Tke,getListWithRemovedItems:Mke}=dU("physicallyIndexed");class _ke extends Lh{constructor(){super(e=>e)}insert(e,n){this.indexedValues=Tke(this.indexedValues,e,n,(r,o)=>this.getNextValue(o)),super.insert(e,n)}remove(e){this.indexedValues=Mke(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}const Oke=_ke;function Ake(t,e){Pke(t,e),e.add(t)}function Pke(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ike(t,e,n){return e=Nke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nke(t){var e=Hke(t,"string");return typeof e=="symbol"?e:String(e)}function Hke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dke(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const EP="bindRowsWithHeaders",Lke=210,jke="loose",Wke=new Map([["loose",kke],["strict",Oke]]);var P4=new WeakSet;class Fke extends an{constructor(){super(...arguments),Ake(this,P4),Ike(this,"headerIndexes",null)}static get PLUGIN_KEY(){return EP}static get PLUGIN_PRIORITY(){return Lke}isEnabled(){return!!this.hot.getSettings()[EP]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[EP];typeof e!="string"&&(e=jke);const n=Wke.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",r=>Dke(this,P4,Vke).call(this,r)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function Vke(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function RS(t,e){I4(t,e),e.add(t)}function Bke(t,e,n){I4(t,e),e.set(t,n)}function I4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N4(t,e,n){return e=zke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zke(t){var e=Uke(t,"string");return typeof e=="symbol"?e:String(e)}function Uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H4(t,e){var n=D4(t,e,"get");return $ke(t,n)}function $ke(t,e){return e.get?e.get.call(t):e.value}function ES(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function kP(t,e,n){var r=D4(t,e,"set");return Gke(t,r,n),n}function D4(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Gke(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const kS="collapsibleColumns",Yke=290,qke=["nestedHeaders"],gg="collapsibleIndicator",L4=kS,j4=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var mg=new WeakMap,W4=new WeakSet,F4=new WeakSet,V4=new WeakSet,B4=new WeakSet;class Kke extends an{constructor(){super(...arguments),RS(this,B4),RS(this,V4),RS(this,F4),RS(this,W4),N4(this,"nestedHeadersPlugin",null),N4(this,"headerStateManager",null),Bke(this,mg,{writable:!0,value:null})}static get PLUGIN_KEY(){return kS}static get PLUGIN_PRIORITY(){return Yke}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[kS,...qke]}isEnabled(){return!!this.hot.getSettings()[kS]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||vn("You need to configure the Nested Headers plugin in order to use collapsible headers."),kP(this,mg,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>ES(this,V4,Jke).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ES(e,B4,Zke).call(e,...o)}),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ES(e,W4,Xke).call(e,...o)}),this.addHook("beforeOnCellMouseDown",(r,o,i)=>ES(this,F4,Qke).call(this,r,o,i)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),kP(this,mg,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:r}=this.hot.getSelectedRangeLast().highlight,{collapsible:o,isCollapsed:i,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(n,r))!==null&&e!==void 0?e:{};o&&(i?this.expandSection({row:n,col:s}):this.collapseSection({row:n,col:s}))},runOnlyIf:()=>{var e;return(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight.isHeader()},group:L4})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(L4)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,o=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,i=function(s){s&&s.parentNode.removeChild(s)};Ke(0,e-1,s=>{const a=n.childNodes[s],l=r.childNodes[s],u=o?o.childNodes[s]:null;Ke(0,a.childNodes.length-1,c=>{let h=a.childNodes[c].querySelector(`.${gg}`);i(h),l&&l.childNodes[c]&&(h=l.childNodes[c].querySelector(`.${gg}`),i(h)),o&&u&&u.childNodes[c]&&(h=u.childNodes[c].querySelector(`.${gg}`),i(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(r=>{const{collapsible:o,origColspan:i,headerLevel:s,columnIndex:a,isCollapsed:l}=r;if(o===!0&&i>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!j4.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const r=os(e,h=>{let{row:d}=h;return d<0});let o=r.length>0;F(r,h=>{var d;let{row:g,col:p}=h;const{collapsible:w,isCollapsed:C}=(d=this.headerStateManager.getHeaderSettings(g,p))!==null&&d!==void 0?d:{};if(!w||C&&n==="collapse"||!C&&n==="expand")return o=!1,!1});const i=[],s=[];o&&F(r,h=>{let{row:d,col:g}=h;const{colspanCompensation:p,affectedColumns:w,rollbackModification:C}=this.headerStateManager.triggerNodeModification(n,d,g);p>0&&(s.push(...w),i.push(C))});const a=this.getCollapsedColumns();let l=[];n==="collapse"?l=DB([...a,...s]):n==="expand"&&(l=os(a,h=>!s.includes(h)));const u=j4.get(n);if(this.hot.runHooks(u.beforeHook,a,l,o)===!1){F(i,h=>{h()});return}this.hot.batchExecution(()=>{F(s,h=>{H4(this,mg).setValueAtIndex(this.hot.toPhysicalColumn(h),u.hideColumn)})},!0);const c=this.getCollapsedColumns().length!==a.length;this.hot.runHooks(u.afterHook,a,l,o,c),this.hot.render(),this.hot.view.adjustElementsSize(!0)}getCollapsedColumns(){return H4(this,mg).getHiddenIndexes()}destroy(){kP(this,mg,null),super.destroy()}}function Xke(t,e,n){var r;const{collapsible:o,origColspan:i,isCollapsed:s}=(r=this.headerStateManager.getHeaderSettings(n,t))!==null&&r!==void 0?r:{},a=o&&i>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let u=e.querySelector(`.${gg}`);if(Wf(e,[is("")[0]]),a)u||(u=this.hot.rootDocument.createElement("div"),ke(u,gg),e.querySelector("div:first-child").appendChild(u)),Rt(u,["collapsed","expanded"]),s?(ke(u,"collapsed"),kh(u,"+"),l&&ct(e,...is(!1))):(ke(u,"expanded"),kh(u,"-"),l&&ct(e,...is(!0))),l&&ct(u,...Ll());else{var c;(c=u)===null||c===void 0||c.remove()}}function Qke(t,e){yt(t.target,gg)&&(yt(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):yt(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),Vs(t))}function Jke(){this.updatePlugin()}function Zke(t,e){e||this.updatePlugin()}function Xh(t,e,n){return e=eTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return typeof e=="symbol"?e:String(e)}function tTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const nTe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],rTe=!1,oTe=!0,iTe=!0;class sTe{constructor(e,n){Xh(this,"hot",void 0),Xh(this,"sortingStates",new _C),Xh(this,"sortEmptyCells",rTe),Xh(this,"indicator",oTe),Xh(this,"headerAction",iTe),Xh(this,"compareFunctionFactory",void 0),Xh(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){Ot(e)&&It(e,(n,r)=>{nTe.includes(r)&&(this[r]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[r]=n;return r===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return Ot(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(e=>{let[n,r]=e;return{column:this.hot.toVisualColumn(n),...r}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(Fe(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}const TS="asc",MS="desc",z4="colHeader";function aTe(t){if(Ot(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[TS,MS].includes(n)}function lTe(t){if(t.some(n=>aTe(n)===!1))return!1;const e=t.map(n=>{let{column:r}=n;return r});return new Set(e).size===e.length}function U4(t){if(t!==MS)return t===TS?MS:TS}function $4(t){return t.querySelector(`.${z4}`)}function G4(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function TP(t,e,n){return t===-1&&e>=0&&_h(n)===!1}const uTe="ascending",cTe="descending",Y4="indicatorDisabled",q4="columnSorting",K4="sortAction",X4=new Map([[TS,uTe],[MS,cTe]]);function hTe(t,e,n,r){const o=[q4];if(r&&o.push(K4),n===!1)return o.push(Y4),o;const i=t.getSortOrderOfColumn(e);return Fe(i)&&o.push(X4.get(i)),o}function dTe(){return Array.from(X4.values()).concat(K4,Y4,q4)}function Q4(t,e,n){const r=e.locale;return function(o,i){const{sortEmptyCells:s}=n;return typeof o=="string"&&(o=o.toLocaleLowerCase(r)),typeof i=="string"&&(i=i.toLocaleLowerCase(r)),o===i?Va:Tr(o)?Tr(i)?Va:s&&t==="asc"?Cr:Sr:Tr(i)?s&&t==="asc"?Sr:Cr:isNaN(o)&&!isNaN(i)?t==="asc"?Sr:Cr:!isNaN(o)&&isNaN(i)||(isNaN(o)||isNaN(i)||(o=parseFloat(o),i=parseFloat(i)),o<i)?t==="asc"?Cr:Sr:o>i?t==="asc"?Sr:Cr:Va}}const J4="default";function fTe(t,e,n){return function(r,o){const i=parseFloat(r),s=parseFloat(o),{sortEmptyCells:a}=n;if(i===s||isNaN(i)&&isNaN(s))return Va;if(a){if(Tr(r))return t==="asc"?Cr:Sr;if(Tr(o))return t==="asc"?Sr:Cr}return isNaN(i)?Sr:isNaN(s)?Cr:i<s?t==="asc"?Cr:Sr:i>s?t==="asc"?Sr:Cr:Va}}const gTe="numeric";function mTe(t,e,n){const r=e.checkedTemplate,o=e.uncheckedTemplate,{sortEmptyCells:i}=n;return function(s,a){const l=Tr(s),u=Tr(a),c=l?o:s,h=u?o:a,d=c===o||c===r,g=h===o||h===r;if(i===!1){if(l&&u===!1)return Sr;if(l===!1&&u)return Cr}return d===!1&&g?t==="asc"?Cr:Sr:d&&g===!1?t==="asc"?Sr:Cr:d===!1&&g===!1?Q4(t,e,n)(s,a):c===o&&h===r?t==="asc"?Cr:Sr:c===r&&h===o?t==="asc"?Sr:Cr:Va}}const pTe="checkbox";function vTe(t,e,n){return function(r,o){const{sortEmptyCells:i}=n;if(r===o)return Va;if(Tr(r))return Tr(o)?Va:i&&t==="asc"?Cr:Sr;if(Tr(o))return i&&t==="asc"?Sr:Cr;const s=e.dateFormat,a=Re(r,s),l=Re(o,s);return a.isValid()?l.isValid()?l.isAfter(a)?t==="asc"?Cr:Sr:l.isBefore(a)?t==="asc"?Sr:Cr:Va:Cr:Sr}}const wTe="date",{register:_S,getItem:Z4,hasItem:yTe}=Bs("sorting.compareFunctionFactory"),{register:e6,getItem:bTe}=Bs("sorting.mainSortComparator");function t6(t){return yTe(t)?Z4(t):Z4(J4)}_S(gTe,fTe),_S(pTe,mTe),_S(wTe,vTe),_S(J4,Q4);const Va=0,Cr=-1,Sr=1;function CTe(t,e){const n=bTe(e);for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.sort(n(...o))}function STe(t,e){return function(n,r){const[,...o]=n,[,...i]=r;return function(s){const a=t[s],l=e[s],u=o[s],c=i[s],h=l.columnSorting;return(h.compareFunctionFactory?h.compareFunctionFactory:t6(l.type))(a,l,h)(u,c)}(0)}}function OS(t,e){xTe(t,e),e.add(t)}function xTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AS(t,e,n){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RTe(t){var e=ETe(t,"string");return typeof e=="symbol"?e:String(e)}function ETe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const PS="columnSorting",kTe=50,IS="append",TTe="replace",n6=PS;e6(PS,STe),ze.getSingleton().register("beforeColumnSort"),ze.getSingleton().register("afterColumnSort");var NS=new WeakSet,r6=new WeakSet,o6=new WeakSet,i6=new WeakSet;class s6 extends an{constructor(){super(...arguments),OS(this,i6),OS(this,o6),OS(this,r6),OS(this,NS),AS(this,"columnStatesManager",null),AS(this,"columnMetaCache",null),AS(this,"pluginKey",PS),AS(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return PS}static get PLUGIN_PRIORITY(){return kTe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new sTe(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new fc(n=>{let r=this.hot.toVisualColumn(n);return r===null&&(r=n),this.getMergedPluginSettings(r)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,r)=>pg(this,r6,MTe).call(this,n,r)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pg(e,i6,OTe).call(e,...r)}),this.addHook("afterOnCellMouseDown",(n,r)=>this.onAfterOnCellMouseDown(n,r)),this.addHook("afterInit",()=>pg(this,NS,MP).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pg(e,o6,_Te).call(e,...r)}),this.hot.view&&pg(this,NS,MP).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,r)=>{const o=$4(r);G4(n,r)===!1||o===null||this.updateHeaderClasses(o)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();e.row===-1&&e.col>=0&&this.sort(this.getColumnNextConfig(e.col))},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:n6})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(n6)}sort(e){const n=this.getSortConfig(),r=this.getNormalizedSortConfigs(e),o=this.areValidSortConfigs(r);this.hot.runHooks("beforeColumnSort",n,r,o)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new fU),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),o&&(this.columnStatesManager.setSortStates(r),this.sortByPresetSortStates(r),this.saveAllSortSettings(r)),this.hot.runHooks("afterColumnSort",n,o?r:n,o),o&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return Fe(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return lTe(e)&&e.every(r=>{let{column:o}=r;return o<=n&&o>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),r=o=>{let{column:i,...s}=o;return{column:this.hot.toPhysicalColumn(i),...s}};n.initialConfig=Pt(e,r),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,r=o=>{let{column:i,...s}=o;return{column:this.hot.toVisualColumn(i),...s}};return Fe(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=Pt(n.initialConfig,r)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(Fe(n)){const o=U4(n);return Fe(o)?{column:e,sortOrder:o}:void 0}const r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:U4()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IS;const r=this.columnStatesManager.getIndexOfColumnInSortQueue(e),o=r!==-1,i=this.getSortConfig(),s=this.getColumnNextConfig(e);if(o){if(Tn(s))return[...i.slice(0,r),...i.slice(r+1)];if(n===IS)return[...i.slice(0,r),...i.slice(r+1),s];if(n===TTe)return[...i.slice(0,r),s,...i.slice(r+1)]}return Fe(s)?i.concat(s):i}getPluginColumnConfig(e){if(Ot(e)){const n=e[this.pluginKey];if(Ot(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),o=this.hot.getCellMeta(0,e),i=Object.getPrototypeOf(o);return Array.isArray(i.columns)?Object.assign(r,n,this.getPluginColumnConfig(i.columns[e])):Mn(i.columns)?Object.assign(r,n,this.getPluginColumnConfig(i.columns(e))):Object.assign(r,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),r}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(e.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}const n=[],r=this.hot.countRows(),o=u=>Pt(e,c=>this.hot.getDataAtCell(u,c.column));for(let u=0;u<this.getNumberOfRowsToSort(r);u+=1)n.push([this.hot.toPhysicalRow(u)].concat(o(u)));const i=Pt(n,u=>u[0]);CTe(n,this.pluginKey,Pt(e,u=>u.sortOrder),Pt(e,u=>this.getFirstCellSettings(u.column)));for(let u=n.length;u<r;u+=1)n.push([u].concat(o(u)));const s=Pt(n,u=>u[0]),a=new Map(Pt(i,(u,c)=>[u,s[c]])),l=Pt(this.hot.rowIndexMapper.getIndexesSequence(),u=>a.has(u)?a.get(u):u);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(Ot(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||Ot(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(Rt(e,dTe()),this.enabled!==!1){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];ke(e,hTe(...r))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Fe(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&yt(e.target,z4)}onAfterOnCellMouseDown(e,n){TP(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col)),this.sort(this.getColumnNextConfig(n.col)))}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function MP(){const t=this.getAllSavedSortSettings();if(Ot(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function MTe(t,e){const n=$4(e);if(G4(t,e)===!1||n===null)return;const r=this.getFirstCellSettings(t)[this.pluginKey],o=r.indicator,i=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,o,i),this.hot.getSettings().ariaTags){const s=this.columnStatesManager.getSortOrderOfColumn(t);ct(e,...Xme(s?`${s}ending`:"none"))}}function _Te(t){t===!0&&this.hot.view&&pg(this,NS,MP).call(this)}function OTe(t,e,n,r){TP(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function Qh(t,e,n){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ATe(t){var e=PTe(t,"string");return typeof e=="symbol"?e:String(e)}function PTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ITe{constructor(e,n){Qh(this,"plugin",void 0),Qh(this,"hot",void 0),Qh(this,"endpoints",[]),Qh(this,"settings",void 0),Qh(this,"settingsType","array"),Qh(this,"currentEndpoint",null),Qh(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let r=e;if(!r&&typeof this.settings=="function"){this.settingsType="function";return}return r||(r=this.settings),F(r,o=>{const i={};this.assignSetting(o,i,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(o,i,"reversedRowCoords",!1),this.assignSetting(o,i,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,i,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,i,"sourceColumn",o.destinationColumn),this.assignSetting(o,i,"type","sum"),this.assignSetting(o,i,"forceNumeric",!1),this.assignSetting(o,i,"suppressDataTypeErrors",!0),this.assignSetting(o,i,"customFunction",null),this.assignSetting(o,i,"readOnly",!0),this.assignSetting(o,i,"roundFloat",!1),n.push(i)}),n}assignSetting(e,n,r,o){if(r==="ranges"&&e[r]===void 0){n[r]=o;return}else if(r==="ranges"&&e[r].length===0)return;if(e[r]===void 0){if(o instanceof Error)throw o;n[r]=o}else r==="destinationRow"&&n.reversedRowCoords?n[r]=this.hot.countRows()-e[r]-1:n[r]=e[r]}resetSetupBeforeStructureAlteration(e,n,r){if(this.settingsType!=="function")return;const o=e.indexOf("row")>-1?"row":"col",i=this.getAllEndpoints();F(i,s=>{o==="row"&&s.destinationRow>=n&&(e==="insert_row"?s.alterRowOffset=r:e==="remove_row"&&(s.alterRowOffset=-1*r)),o==="col"&&s.destinationColumn>=n&&(e==="insert_col"?s.alterColumnOffset=r:e==="remove_col"&&(s.alterColumnOffset=-1*r))}),this.resetAllEndpoints(i,!1)}resetSetupAfterStructureAlteration(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const d=()=>(this.hot.removeHook("beforeViewRender",d),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",d);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=e.indexOf("move_row")===0,h=n;F(u,d=>{a==="row"&&d.destinationRow>=h&&(d.alterRowOffset=l*r),a==="col"&&d.destinationColumn>=h&&(d.alterColumnOffset=l*r)}),this.resetAllEndpoints(u,!c),c?F(u,d=>{this.extendEndpointRanges(d,h,o[0],o.length),this.recreatePhysicalRanges(d),this.clearOffsetInformation(d)}):F(u,d=>{this.shiftEndpointCoordinates(d,h)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,r,o){F(e.ranges,i=>{i[1]&&(n>=i[0]&&n<=i[1]?r>i[1]?i[1]+=o:r<i[0]&&(i[0]-=o):r>=i[0]&&r<=i[1]&&(i[1]-=o,n<=i[0]&&(i[0]+=1,i[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,r=[],o=[];F(n,i=>{const s=[];if(i[1])for(let a=i[0];a<=i[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(i[0]));o.push(s)}),F(o,i=>{let s=[];F(i,(a,l)=>{l===0?s.push(a):i[l]!==i[l-1]+1&&(s.push(i[l-1]),r.push(s),s=[],s.push(a)),l===i.length-1&&(s.push(a),r.push(s))})}),e.ranges=r}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,F(e.ranges,r=>{F(r,(o,i)=>{o>=n&&(r[i]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(r=>{const o=r.alterRowOffset||0,i=r.alterColumnOffset||0;return r.destinationRow+o>=this.hot.countRows()||r.destinationColumn+i>=this.hot.countCols()})||(this.cellsToSetCache=[],F(e,r=>{this.resetEndpointValue(r,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],F(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],F(e,(r,o,i)=>{`${r[2]||""}`!=`${r[3]}`&&F(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(i[o][1])===s.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),F(n,r=>{this.refreshEndpoint(this.getEndpoint(r))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=e.alterRowOffset||0,o=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?r:0)),this.hot.toVisualColumn(e.destinationColumn+(n?o:0)),""])}setEndpointValue(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const i=this.hot.toVisualRow(e.destinationRow);if(i!==null){const s=this.hot.getCellMeta(i,e.destinationColumn);(n==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const s=e.roundFloat;let a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}r?this.hot.setDataAtCell(o,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([o,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){vn("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function _P(t){return t==null||isNaN(t)}function OP(t,e){NTe(t,e),e.add(t)}function NTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HTe(t,e,n){return e=DTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DTe(t){var e=LTe(t,"string");return typeof e=="symbol"?e:String(e)}function LTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const PP="columnSummary",jTe=220;var a6=new WeakSet,l6=new WeakSet,u6=new WeakSet;class WTe extends an{constructor(){super(...arguments),OP(this,u6),OP(this,l6),OP(this,a6),HTe(this,"endpoints",null)}static get PLUGIN_KEY(){return PP}static get PLUGIN_PRIORITY(){return jTe}isEnabled(){return!!this.hot.getSettings()[PP]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[PP],this.endpoints=new ITe(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,a6,FTe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,l6,VTe).call(e,...r)}),this.addHook("beforeCreateRow",(n,r,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,r,null,o)),this.addHook("beforeCreateCol",(n,r,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,r,null,o)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...r)}),this.addHook("afterCreateRow",(n,r,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,r,null,o)),this.addHook("afterCreateCol",(n,r,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,r,null,o)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...r)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AP(e,u6,BTe).call(e,...r)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return It(e.ranges,r=>{n+=this.getPartialSum(r,e.sourceColumn)}),n}getPartialSum(e,n){let r=0,o=e[1]||e[0],i=null,s=0;do{if(i=this.getCellValue(o,n),i=_P(i)?null:i,i!==null){const a=(`${i}`.split(".")[1]||[]).length||1;a>s&&(s=a)}r+=i||0,o-=1}while(o>=e[0]);return Math.round(r*10**s)/10**s}calculateMinMax(e,n){let r=null;return It(e.ranges,o=>{const i=this.getPartialMinMax(o,e.sourceColumn,n);if(r===null&&i!==null&&(r=i),i!==null)switch(n){case"min":r=Math.min(r,i);break;case"max":r=Math.max(r,i);break}}),r===null?"Not enough data":r}getPartialMinMax(e,n,r){let o=null,i=e[1]||e[0],s;do{if(s=this.getCellValue(i,n),s=_P(s)?null:s,o===null)o=s;else if(s!==null)switch(r){case"min":o=Math.min(o,s);break;case"max":o=Math.max(o,s);break}i-=1}while(i>=e[0]);return o}countEmpty(e,n){let r,o=0,i=e[1]||e[0];do r=this.getCellValue(i,n),r=_P(r)?null:r,r===null&&(o+=1),i-=1;while(i>=e[0]);return o}countEntries(e){let n=0;const r=e.ranges;return It(r,o=>{const i=o[1]===void 0?1:o[1]-o[0]+1,s=this.countEmpty(o,e.sourceColumn);n+=i,n-=s}),n}calculateAverage(e){const n=this.calculateSum(e),r=this.countEntries(e);return n/r}getCellValue(e,n){const r=this.hot.toVisualRow(e),o=this.hot.toVisualColumn(n);let i=this.hot.getSourceDataAtCell(e,n),s="";if(r!==null&&o!==null&&(s=this.hot.getCellMeta(r,o).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof i=="string"&&(i=i.replace(/,/,".")),i=parseFloat(i)),isNaN(i)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(un`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return i}}function FTe(){this.endpoints.initEndpoints()}function VTe(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function BTe(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function vg(t,e,n){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:String(e)}function UTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wg{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){vg(this,"rootDocument",void 0),vg(this,"isRtl",!1),vg(this,"container",null),vg(this,"editor",void 0),vg(this,"editorStyle",void 0),vg(this,"hidden",!0),this.rootDocument=e,this.isRtl=n,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(e,n){this.editorStyle.left=`${e}px`,this.editorStyle.top=`${n}px`}setSize(e,n){if(e&&n){const r=this.getInputElement();r.style.width=`${e}px`,r.style.height=`${n}px`}}getSize(){return{width:pn(this.getInputElement()),height:Kn(this.getInputElement())}}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return this.editorStyle.display==="block"}setValue(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=e}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=this.rootDocument.createElement("div"),n=this.rootDocument.createElement("textarea");return e.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),ke(this.container,wg.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),ke(e,wg.CLASS_EDITOR),ke(n,wg.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),this.container.appendChild(e),e}getInputElement(){return this.editor.querySelector(`.${wg.CLASS_INPUT}`)}destroy(){const e=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,e&&e.removeChild(this.container)}}function IP(t,e,n){return e=$Te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Te(t){var e=GTe(t,"string");return typeof e=="symbol"?e:String(e)}function GTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const YTe=250,qTe=250;class c6{constructor(e){IP(this,"wasLastActionShow",!0),IP(this,"showDebounced",null),IP(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},qTe)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YTe;this.showDebounced=kM(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}bn(c6,ei);function KTe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function XTe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function Jh(t,e){const n={};return F(t,r=>{r.forAll((o,i)=>{o>=0&&i>=0&&(n[o]||(n[o]=[]),n[o][i]=e(o,i))})}),n}function vc(t,e,n,r,o){F(t,i=>{i.forAll((s,a)=>{s>=0&&a>=0&&QTe(s,a,e,n,r,o)})})}function QTe(t,e,n,r,o,i){const s=o(t,e);let a=r;s.className&&(n==="vertical"?a=KTe(s.className,r):a=XTe(s.className,r)),i(t,e,"className",a)}function Kl(t){return`<span class="selected">\u2713</span>${t}`}function Ba(t,e){let n=!1;return Array.isArray(t)&&F(t,r=>(r.forAll((o,i)=>{if(o>=0&&i>=0&&e(o,i))return n=!0,!1}),n)),n}function HS(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:r}=e.defaultView,{top:o,left:i}=r.getBoundingClientRect();n.top=o,n.left=i}return n}const Nt="---------";function JTe(){return{name:Nt}}const ps="alignment";function ZTe(){return{key:ps,name(){return this.getTranslatedPhrase(dO)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${ps}:left`,name(){let t=this.getTranslatedPhrase(fO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htLeft")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:center`,name(){let t=this.getTranslatedPhrase(gO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htCenter")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:right`,name(){let t=this.getTranslatedPhrase(mO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htRight")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:justify`,name(){let t=this.getTranslatedPhrase(pO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htJustify")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{name:Nt},{key:`${ps}:top`,name(){let t=this.getTranslatedPhrase(vO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htTop")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:middle`,name(){let t=this.getTranslatedPhrase(wO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htMiddle")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1},{key:`${ps}:bottom`,name(){let t=this.getTranslatedPhrase(yO);return Ba(this.getSelectedRange(),(e,n)=>{const r=this.getCellMeta(e,n).className;if(r&&r.indexOf("htBottom")!==-1)return!0})&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Jh(t,(o,i)=>this.getCellMeta(o,i).className),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(o,i)=>this.getCellMeta(o,i),(o,i,s,a)=>this.setCellMeta(o,i,s,a)),this.render()},disabled:!1}]}}}const DS="clear_column";function eMe(){return{key:DS,name(){return this.getTranslatedPhrase(J_)},callback(t,e){const n=e[0].start.col,r=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}const Fv="col_left";function tMe(){return{key:Fv,name(){return this.getTranslatedPhrase($_)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Vv="col_right";function nMe(){return{key:Vv,name(){return this.getTranslatedPhrase(G_)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Bv="make_read_only";function rMe(){return{key:Bv,name(){let t=this.getTranslatedPhrase(Q_);return Ba(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)&&(t=Kl(t)),t},callback(){const t=this.getSelectedRange(),e=Ba(t,(n,r)=>this.getCellMeta(n,r).readOnly);F(t,n=>{n.forAll((r,o)=>{r>=0&&o>=0&&this.setCellMeta(r,o,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const LS="redo";function oMe(){return{key:LS,name(){return this.getTranslatedPhrase(X_)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const zv="remove_col";function iMe(){return{key:zv,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(q_,e)},callback(){this.alter("remove_col",lCe(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const jS="remove_row";function sMe(){return{key:jS,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(Y_,e)},callback(){this.alter("remove_row",uCe(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const WS="row_above";function aMe(){return{key:WS,name(){return this.getTranslatedPhrase(z_)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const FS="row_below";function lMe(){return{key:FS,name(){return this.getTranslatedPhrase(U_)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const Uv="no_items";function uMe(){return{key:Uv,name(){return this.getTranslatedPhrase(B_)},disabled:!0,isCommand:!1}}const VS="undo";function cMe(){return{key:VS,name(){return this.getTranslatedPhrase(K_)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const hMe=[WS,FS,Fv,Vv,DS,jS,zv,VS,LS,Bv,ps,Nt,Uv],dMe={[Nt]:JTe,[Uv]:uMe,[WS]:aMe,[FS]:lMe,[Fv]:tMe,[Vv]:nMe,[DS]:eMe,[jS]:sMe,[zv]:iMe,[VS]:cMe,[LS]:oMe,[Bv]:rMe,[ps]:ZTe};function h6(){const t={};return It(dMe,(e,n)=>{t[n]=e()}),t}function fMe(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(uO):this.getTranslatedPhrase(lO)},callback(){const e=this.getSelectedRangeLast();this.deselectCell(),t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function gMe(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(cO)},callback(){this.getSelectedRangeLast().forAll((e,n)=>{e>=0&&n>=0&&t.removeCommentAtCell(e,n,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function mMe(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(hO);return Ba(this.getSelectedRange(),(n,r)=>t.getCommentMeta(n,r,BS))?Kl(e):e},callback(){this.getSelectedRangeLast().forAll((e,n)=>{if(e>=0&&n>=0){const r=!!t.getCommentMeta(e,n,BS);t.updateCommentMeta(e,n,{[BS]:!r})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function za(t,e){d6(t,e),e.add(t)}function Zh(t,e,n){d6(t,e),e.set(t,n)}function d6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pMe(t,e,n){return e=vMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vMe(t){var e=wMe(t,"string");return typeof e=="symbol"?e:String(e)}function wMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ua(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Xl(t,e,n){var r=f6(t,e,"set");return yMe(t,r,n),n}function yMe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Vt(t,e){var n=f6(t,e,"get");return bMe(t,n)}function f6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function bMe(t,e){return e.get?e.get.call(t):e.value}const $v="comments",CMe=60,Ql="comment",Gv="value",g6="style",BS="readOnly",zS=$v,NP=`plugin:${$v}`;var Hn=new WeakMap,Qs=new WeakMap,US=new WeakMap,$S=new WeakMap,GS=new WeakMap,HP=new WeakMap,YS=new WeakMap,m6=new WeakSet,p6=new WeakSet,v6=new WeakSet,w6=new WeakSet,y6=new WeakSet,b6=new WeakSet,C6=new WeakSet,S6=new WeakSet,x6=new WeakSet,R6=new WeakSet;class SMe extends an{constructor(){super(...arguments),za(this,R6),za(this,x6),za(this,S6),za(this,C6),za(this,b6),za(this,y6),za(this,w6),za(this,v6),za(this,p6),za(this,m6),pMe(this,"range",{}),Zh(this,Hn,{writable:!0,value:null}),Zh(this,Qs,{writable:!0,value:null}),Zh(this,US,{writable:!0,value:!1}),Zh(this,$S,{writable:!0,value:!1}),Zh(this,GS,{writable:!0,value:{}}),Zh(this,HP,{writable:!0,value:null}),Zh(this,YS,{writable:!0,value:""})}static get PLUGIN_KEY(){return $v}static get PLUGIN_PRIORITY(){return CMe}isEnabled(){return!!this.hot.getSettings()[$v]}enablePlugin(){this.enabled||(Vt(this,Hn)||Xl(this,Hn,new wg(this.hot.rootDocument,this.hot.isRtl())),Vt(this,Qs)||Xl(this,Qs,new c6(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",e=>this.addToContextMenu(e)),this.addHook("afterRenderer",(e,n,r,o,i,s)=>Ua(this,w6,kMe).call(this,e,s)),this.addHook("afterScroll",()=>Ua(this,R6,PMe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",e=>Ua(this,x6,AMe).call(this,e)),Vt(this,Qs).addLocalHook("hide",()=>this.hide()),Vt(this,Qs).addLocalHook("show",(e,n)=>this.showAtCell(e,n)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Vt(this,Qs).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),r=e.addContext(NP);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const o=this.hot.getSelectedRangeLast();Xl(this,$S,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(o),this.show(),this.focusEditor(),e.setActiveContextName(NP),this.hot._registerTimeout(()=>{Xl(this,$S,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&!Vt(this,Hn).isVisible()},group:zS}),r.addShortcut({keys:[["Escape"]],callback:()=>{Vt(this,Hn).setValue(Vt(this,YS)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&Vt(this,Hn).isVisible()},group:zS}),r.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&Vt(this,Hn).isVisible()},group:zS})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(zS)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",r=>Ua(this,p6,RMe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>Ua(this,m6,xMe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Ua(this,v6,EMe).call(this)),this.eventManager.addEventListener(n,"focus",()=>Ua(this,b6,MMe).call(this)),this.eventManager.addEventListener(n,"blur",()=>Ua(this,y6,TMe).call(this)),this.eventManager.addEventListener(n,"mousedown",r=>Ua(this,C6,_Me).call(this,r)),this.eventManager.addEventListener(n,"mouseup",r=>Ua(this,S6,OMe).call(this,r))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=xh(e.target,"TD","TBODY");return!!(n&&yt(n,"htCommentCell")&&xh(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=Vt(this,Hn).getValue();let r="";e!=null?r=e:n!=null&&(r=n);const o=this.range.from.row,i=this.range.from.col;this.updateCommentMeta(o,i,{[Gv]:r}),this.hot.render()}setCommentAtCell(e,n,r){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(r)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Ql),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(r)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,Gv)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,Gv)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:r}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||r<0||r>this.hot.countSourceCols()-1)return!1;const o=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Vt(this,Qs).cancelHiding(),Vt(this,Hn).setValue((e=o[Ql]?o[Ql][Gv]:null)!==null&&e!==void 0?e:""),Vt(this,Hn).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){Vt(this,Hn).hide()}refreshEditor(){var e,n;if(!(arguments.length>0&&arguments[0]!==void 0&&arguments[0])&&(!this.range.from||!Vt(this,Hn).isVisible()))return;const{rowIndexMapper:r,columnIndexMapper:o}=this.hot,{row:i,col:s}=this.range.from;let a=r.getRenderableFromVisualIndex(i),l=o.getRenderableFromVisualIndex(s);const u=a===null;Vt(this,Hn).setPosition(0,0),a===null&&(a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(i,-1))),l===null&&(l=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(s,-1)));const c=a===null,h=l===null;a=(e=a)!==null&&e!==void 0?e:0,l=(n=l)!==null&&n!==void 0?n:0;const{rootWindow:d,view:{_wt:g}}=this.hot,{wtTable:p}=g,w=g.getCell({row:a,col:l},!0),C=this.getCommentMeta(i,s,g6);C?Vt(this,Hn).setSize(C.width,C.height):Vt(this,Hn).resetSize();const v=h?0:p.getStretchedColumnWidth(l),y=u&&!c?Kn(w):0,{left:x,top:M,width:_,height:T}=w.getBoundingClientRect(),{width:O,height:I}=Vt(this,Hn).getSize(),{innerWidth:N,innerHeight:L}=this.hot.rootWindow,B=this.hot.rootDocument.documentElement;let ae=x+d.scrollX+v,U=M+d.scrollY+y;this.hot.isRtl()&&(ae-=O+v),this.hot.isLtr()&&x+_+O>N?ae=x+d.scrollX-O-1:this.hot.isRtl()&&ae<-(B.scrollWidth-B.clientWidth)&&(ae=x+d.scrollX+v+1),M+I>L&&(U-=I-T+1),Vt(this,Hn).setPosition(ae,U),Vt(this,Hn).setReadOnlyState(this.getCommentMeta(i,s,BS))}focusEditor(){Vt(this,Hn).focus()}updateCommentMeta(e,n,r){const o=this.hot.getCellMeta(e,n)[Ql];let i;o?(i=_o(o),Z0(i,r)):i=r,this.hot.setCellMeta(e,n,Ql,i)}getCommentMeta(e,n,r){const o=this.hot.getCellMeta(e,n);if(o[Ql])return o[Ql][r]}addToContextMenu(e){e.items.push({name:Nt},fMe(this),gMe(this),mMe(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[$v];if(Ot(e))return e.displayDelay}getEditorInputElement(){return Vt(this,Hn).getInputElement()}destroy(){Vt(this,Hn)&&Vt(this,Hn).destroy(),Vt(this,Qs)&&Vt(this,Qs).destroy(),super.destroy()}}function xMe(t){if(!(!this.hot.view||!this.hot.view._wt)&&!Vt(this,US)&&!this.targetIsCommentTextArea(t)){const e=xh(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function RMe(t){const{rootDocument:e}=this.hot;if(!(Vt(this,US)||Vt(this,Hn).isFocused()||yt(t.target,"wtBorder")||Vt(this,HP)===t.target||!Vt(this,Hn)))if(Xl(this,HP,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));Vt(this,Qs).show(n)}else Rh(t.target,e)&&!this.targetIsCommentTextArea(t)&&Vt(this,Qs).hide()}function EMe(){Xl(this,US,!1)}function kMe(t,e){e[Ql]&&e[Ql][Gv]&&ke(t,e.commentedCellClassName)}function TMe(){Xl(this,YS,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function MMe(){Xl(this,YS,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(NP)}function _Me(t){Xl(this,GS,{width:pn(t.target),height:Kn(t.target)})}function OMe(t){const e=pn(t.target),n=Kn(t.target);(e!==Vt(this,GS).width+1||n!==Vt(this,GS).height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,{[g6]:{width:e,height:n}})}function AMe(t){Vt(this,Hn).isVisible()&&Vs(t)}function PMe(){Vt(this,$S)||this.hide()}var E6=r0,IMe=TypeError,NMe=function(t,e){if(!delete t[e])throw new IMe("Cannot delete property "+E6(e)+" of "+E6(t))},HMe=Xu,DMe=i0,LMe=Ap,jMe=G2,WMe=NMe,FMe=Y2,VMe=[].unshift(0)!==1,BMe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},zMe=VMe||!BMe();HMe({target:"Array",proto:!0,arity:1,forced:zMe},{unshift:function(t){var e=DMe(this),n=LMe(e),r=arguments.length;if(r){FMe(n+r);for(var o=n;o--;){var i=o+r;o in e?e[i]=e[o]:WMe(e,i)}for(var s=0;s<r;s++)e[s]=arguments[s]}return jMe(e,n+r)}});function DP(t,e,n){return e=UMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UMe(t){var e=$Me(t,"string");return typeof e=="symbol"?e:String(e)}function $Me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class k6{constructor(e){DP(this,"hot",void 0),DP(this,"commands",{}),DP(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.split(":"),s=i[0],a=i.length===2?i[1]:null;let l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=GMe(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||Xn(l,"submenu"))return;const u=[];typeof l.callback=="function"&&u.push(l.callback),typeof this.commonCallback=="function"&&u.push(this.commonCallback),r.unshift(i.join(":")),F(u,c=>c.apply(this.hot,r))}}function GMe(t,e){let n;return F(e,r=>{const o=r.key?r.key.split(":"):null;if(Array.isArray(o)&&o[1]===t)return n=r,!1}),n}function LP(t,e,n){return e=YMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YMe(t){var e=qMe(t,"string");return typeof e=="symbol"?e:String(e)}function qMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class T6{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;LP(this,"hot",void 0),LP(this,"predefinedItems",h6()),LP(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,It(e,(r,o)=>{let i="";r.name===Nt?(n[Nt]=r,i=Nt):isNaN(parseInt(o,10))?(r.key=r.key===void 0?o:r.key,n[o]=r,i=r.key):(n[r.key]=r,i=r.key),this.defaultOrderPattern.push(i)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return KMe(e,this.defaultOrderPattern,this.predefinedItems)}}function KMe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[];let o=t;return o&&o.items?o=o.items:Array.isArray(o)||(o=e),Ot(o)?It(o,(i,s)=>{let a=n[typeof i=="string"?i:s];a||(a=i),Ot(i)?yr(a,i):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),r.push(a)}):F(o,(i,s)=>{let a=n[i];!a&&hMe.indexOf(i)>=0||(a||(a={name:i,key:`${s}`}),Ot(i)&&yr(a,i),a.key===void 0&&(a.key=s),r.push(a))}),r}function wc(t,e,n){return e=XMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XMe(t){var e=QMe(t,"string");return typeof e=="symbol"?e:String(e)}function QMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JMe{constructor(e,n){wc(this,"top",void 0),wc(this,"topRelative",void 0),wc(this,"left",void 0),wc(this,"leftRelative",void 0),wc(this,"scrollTop",void 0),wc(this,"scrollLeft",void 0),wc(this,"cellHeight",void 0),wc(this,"cellWidth",void 0);const r=n.scrollY,o=n.scrollX;let i,s,a,l,u,c;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(i=parseInt(e.top,10),a=parseInt(e.left,10),u=e.height||0,c=e.width||0,s=i,l=a,i+=r,a+=o):this.type==="event"&&(i=parseInt(e.pageY,10),a=parseInt(e.pageX,10),u=e.target.clientHeight,c=e.target.clientWidth,s=i-r,l=a-o),this.top=i,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=r,this.scrollLeft=o,this.cellHeight=u,this.cellWidth=c}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function Yv(t,e,n){ZMe(t,e),e.set(t,n)}function ZMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jt(t,e){var n=M6(t,e,"get");return e_e(t,n)}function e_e(t,e){return e.get?e.get.call(t):e.value}function qS(t,e,n){var r=M6(t,e,"set");return t_e(t,r,n),n}function M6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function t_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Po=new WeakMap,yc=new WeakMap,Qr=new WeakMap,jP=new WeakMap,yg=new WeakMap;class n_e{constructor(e){Yv(this,Po,{writable:!0,value:void 0}),Yv(this,yc,{writable:!0,value:void 0}),Yv(this,Qr,{writable:!0,value:void 0}),Yv(this,jP,{writable:!0,value:!1}),Yv(this,yg,{writable:!0,value:{above:0,below:0,left:0,right:0}}),qS(this,jP,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return jt(this,yg)[e]=n,this}setElement(e){return qS(this,Po,e),this}setParentElement(e){return qS(this,yc,e),this}updatePosition(e){qS(this,Qr,new JMe(e,jt(this,Po).ownerDocument.defaultView)),jt(this,jP)?(jt(this,Qr).fitsBelow(jt(this,Po))?this.setPositionBelowCursor():jt(this,Qr).fitsAbove(jt(this,Po))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){jt(this,Po).dir==="rtl"?jt(this,Qr).fitsOnLeft(jt(this,Po))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():jt(this,Qr).fitsOnRight(jt(this,Po))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=jt(this,yg).above+jt(this,Qr).top-jt(this,Po).offsetHeight;jt(this,yc)&&(e=jt(this,Qr).top+jt(this,Qr).cellHeight-jt(this,Po).offsetHeight+3),jt(this,Po).style.top=`${e}px`}setPositionBelowCursor(){let e=jt(this,yg).below+jt(this,Qr).top+1;jt(this,yc)&&(e=jt(this,Qr).top-1),jt(this,Po).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=jt(this,Qr).left;if(jt(this,yc)){const{right:n}=jt(this,yc).getBoundingClientRect();e+=jt(this,Qr).cellWidth+n-(jt(this,Qr).left+jt(this,Qr).cellWidth)}else e+=jt(this,yg).right;jt(this,Po).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=jt(this,yg).left+jt(this,Qr).left-jt(this,Po).offsetWidth;if(jt(this,yc)){const{left:n}=jt(this,yc).getBoundingClientRect();e-=jt(this,Qr).left-n}jt(this,Po).style.left=`${e}px`}}function _6(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:r=()=>{},onClear:o=()=>{}}=t;const i=new Set;let s=ki(e,-1,p()-1);function a(C,v){const y=p()-1;return C<0&&(C=y),C>y&&(C=0),i.has(C)?-1:(i.add(C),r(C,!1)===!1&&(C=a(v===1?++C:--C,v)),C)}function l(C){C>-1&&C<p()&&r(C,!0)!==!1&&(s=C)}function u(){return s}function c(){p()>0&&(i.clear(),s=a(0,1))}function h(){p()>0&&(i.clear(),s=a(p()-1,-1))}function d(){p()>0&&(i.clear(),s=a(++s,1))}function g(){p()>0&&(i.clear(),s=a(--s,-1))}function p(){return Math.max(n(),0)}function w(){i.clear(),s=e,o()}return{setCurrentPage:l,getCurrentPage:u,toFirstItem:c,toLastItem:h,toNextItem:d,toPreviousItem:g,getSize:p,clear:w}}function r_e(t){return Pt(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function WP(t){return Xn(t,"submenu")}function FP(t){return new RegExp(Nt,"i").test(t.name)}function KS(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function O6(t){return Xn(t,"disableSelection")}function o_e(t){return yt(t,"htSeparator")}function i_e(t){return yt(t,"htSubmenu")}function s_e(t){return yt(t,"htDisabled")}function a_e(t){return yt(t,"htSelectionDisabled")}function l_e(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function A6(t,e){const n=t.slice(0);for(let r=0;r<n.length&&n[r].name===e;)n.shift();return n}function u_e(t,e){let n=t.slice(0);return n.reverse(),n=A6(n,e),n.reverse(),n}function c_e(t){const e=[];return F(t,(n,r)=>{r>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function h_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nt,n=t.slice(0);return n=A6(n,e),n=u_e(n,e),n=c_e(n),n}function d_e(t){return _6({size:()=>t.countRows(),onItemSelect(e,n){const r=t.getCell(e,0);if(!r||o_e(r)||s_e(r)||a_e(r))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function f_e(t){return[{keys:[["Tab"],["Shift","Tab"],["Control/Meta","A"]],forwardToContext:t.hot.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const e=t.hotMenu.getSelectedLast();if(e){const n=t.openSubMenu(e[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{t.hotMenu.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:e=>{const n=t.hotMenu.getSelectedLast();n&&(t.hotMenu.getSourceDataAtRow(n[0]).submenu?t.openSubMenu(n[0]).getNavigator().toFirstItem():(t.executeCommand(e),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{t.hotMenu.getSelectedLast()?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{t.hotMenu.getSelectedLast()?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const P6="menu",I6=P6;function g_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];r(f_e(t)),e.forEach(u=>{let{shortcuts:c,contextName:h}=u;o(c,h)});function r(u,c){a(c).addShortcuts(u,{group:P6})}function o(u,c){const h=a(c);u.forEach(d=>{let{keys:g}=d;g.forEach(p=>h.removeShortcutsByKeys(p))}),n.push({shortcuts:u,contextName:c}),r(u,c)}function i(){return[...n]}function s(u){return u?`${I6}:${u}`:I6}function a(u){var c;const h=t.hotMenu.getShortcutManager(),d=s(u);return(c=h.getContext(d))!==null&&c!==void 0?c:h.addContext(d)}function l(u){t.hotMenu.getShortcutManager().setActiveContextName(s(u))}return{addCustomShortcuts:o,getCustomShortcuts:i,getContext:a,listen:l}}function m_e(t){return(e,n,r,o,i,s)=>{if(n.hasAttribute("ghost-table"))return;const a=e.getSourceDataAtRow(r),l=t.rootDocument.createElement("div"),u=typeof s=="function"?s.call(t):s;if(Oa(n),ke(l,"htItemWrapper"),t.getSettings().ariaTags){const c=!KS(a,t)&&!O6(a)&&!FP(a);ct(n,[Vme(),yM(u),...c?[jf(-1)]:[],...KS(a,t)?[qme()]:[],...WP(a)?[is(!1)]:[]])}n.className="",n.appendChild(l),FP(a)?ke(n,"htSeparator"):typeof a.renderer=="function"?(ke(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,r,o,i,u))):Ff(l,u),KS(a,t)?ke(n,"htDisabled"):O6(a)?ke(n,"htSelectionDisabled"):WP(a)&&ke(n,"htSubmenu")}}function N6(t,e,n){p_e(t,e),e.set(t,n)}function p_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $a(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=w_e(t,"string");return typeof e=="symbol"?e:String(e)}function w_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H6(t,e,n){var r=D6(t,e,"set");return y_e(t,r,n),n}function y_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qv(t,e){var n=D6(t,e,"get");return b_e(t,n)}function D6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function b_e(t,e){return e.get?e.get.call(t):e.value}const L6=215;var Kv=new WeakMap,XS=new WeakMap;class bg{constructor(e,n){var r=this;$a(this,"hot",void 0),$a(this,"options",void 0),$a(this,"eventManager",new zs(this)),$a(this,"container",void 0),$a(this,"positioner",void 0),$a(this,"hotMenu",null),$a(this,"hotSubMenus",{}),$a(this,"parentMenu",void 0),$a(this,"menuItems",null),$a(this,"origOutsideClickDeselects",null),N6(this,Kv,{writable:!0,value:void 0}),N6(this,XS,{writable:!0,value:void 0}),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:L6,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new n_e(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r.parentMenu.runLocalHooks("afterSelectionChange",...i)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=G0(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return qv(this,Kv)}getKeyboardShortcutsCtrl(){return qv(this,XS)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=kM(a=>this.openSubMenu(a),300),n=this.options.minWidth||L6;let r=!1,o=os(this.menuItems,a=>(a.key===Uv&&(r=!0),l_e(a,this.hot)));if(o.length<1&&!r)o.push(h6()[Uv]);else if(o.length===0)return;o=h_e(o,Nt);let i=!1;const s={data:o,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Fe(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:m_e(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{qv(this,Kv).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},rowHeights:a=>o[a].name===Nt?1:23,afterOnCellContextMenu:a=>{a.preventDefault(),Pz()&&i&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,u,c,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(i=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!Pz()||!_h(a))&&i&&this.hasSelectedItem()&&(ic()||Az()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),H6(this,Kv,d_e(this.hotMenu)),H6(this,XS,g_e(this)),qv(this,XS).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(qv(this,Kv).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const r=this.parentMenu.hotMenu.getCell(n[0],0);ct(r,[is(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!i_e(n))return!1;const r=this.hotMenu.getSourceDataAtRow(e),o=new bg(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(r.submenu.items),o.open(),o.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=o,this.hot.getSettings().ariaTags&&ct(n,[is(!0)]),o}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[n.key];if(r){r.destroy(),delete this.hotSubMenus[n.key];const o=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&ct(o,[is(!1)])}}closeAllSubMenus(){F(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const r=this.hot.getSelectedRange(),o=r?r_e(r):[];this.runLocalHooks("executeCommand",n.key,o,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,o,e)}isCommandPassive(e){return e.isCommand===!1||FP(e)||KS(e,this.hot)||WP(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let r=e,o;return r&&(Mn(r)&&(r=r.call(this.hot),r===null||Tn(r)?r="":r=r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,o=n.querySelector(`.${this.options.className}.${r}`)),o||(o=n.createElement("div"),ke(o,`htMenu ${this.options.className}`),r&&ke(o,r),this.options.container.appendChild(o)),o}onAfterInit(){const{wtTable:e}=this.hotMenu.view._wt,n=this.hotMenu.getSettings().data,r=e.hider.style,o=e.holder.style,i=parseInt(r.width,10),s=fo(n,(a,l)=>a+(l.name===Nt?1:26),0);o.width=`${i+3}px`,o.height=`${s+3}px`,r.height=o.height,this.hot.getSettings().ariaTags&&ct(this.hotMenu.rootElement,[Fme(),jf(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Rh(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Rh(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&yt(e.target,"htCore")&&Rh(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}bn(bg,ei);function QS(t,e){C_e(t,e),e.add(t)}function C_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VP(t,e,n){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=x_e(t,"string");return typeof e=="symbol"?e:String(e)}function x_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JS(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const Xv="contextMenu",R_e=70,j6=Xv;ze.getSingleton().register("afterContextMenuDefaultOptions"),ze.getSingleton().register("beforeContextMenuShow"),ze.getSingleton().register("afterContextMenuShow"),ze.getSingleton().register("afterContextMenuHide"),ze.getSingleton().register("afterContextMenuExecute");var W6=new WeakSet,F6=new WeakSet,V6=new WeakSet,B6=new WeakSet;class ZS extends an{constructor(){super(...arguments),QS(this,B6),QS(this,V6),QS(this,F6),QS(this,W6),VP(this,"commandExecutor",new k6(this.hot)),VP(this,"itemsFactory",null),VP(this,"menu",null)}static get PLUGIN_KEY(){return Xv}static get PLUGIN_PRIORITY(){return R_e}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[WS,FS,Nt,Fv,Vv,Nt,jS,zv,Nt,VS,LS,Nt,Bv,Nt,ps]}isEnabled(){return!!this.hot.getSettings()[Xv]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Xv];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new bg(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>JS(this,F6,k_e).call(this)),this.menu.addLocalHook("afterOpen",()=>JS(this,V6,T_e).call(this)),this.menu.addLocalHook("afterClose",()=>JS(this,B6,M_e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.executeCommand.call(e,...o)}),this.addHook("afterOnCellContextMenu",r=>JS(this,W6,E_e).call(this,r)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),r=HS(this.menu.container,this.hot.rootDocument);this.open({left:n.left+r.left,top:n.top+r.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:j6})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(j6)}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.prepareMenuItems(),this.menu.open(),It(r,(o,i)=>{this.menu.setOffset(i,o)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.commandExecutor.execute(e,...r)}prepareMenuItems(){this.itemsFactory=new T6(this.hot,ZS.DEFAULT_ITEMS);const e=this.hot.getSettings()[Xv],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),F(r,o=>this.commandExecutor.registerCommand(o.key,o))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function E_e(t){const e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;function o(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const i=t.target;if(this.close(),yt(i,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||r)&&!o(i)&&!(yt(i,"current")&&yt(i,"wtBorder"))))return;const s=HS(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function k_e(){this.hot.runHooks("beforeContextMenuShow",this)}function T_e(){this.hot.runHooks("afterContextMenuShow",this)}function M_e(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}ZS.SEPARATOR={name:Nt};function __e(t){return{key:"copy",name(){return this.getTranslatedPhrase(Z_)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function O_e(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?ki(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(nO,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function A_e(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?ki(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(tO,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function P_e(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?ki(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(eO,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function I_e(t){return{key:"cut",name(){return this.getTranslatedPhrase(rO)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class N_e{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class H_e{constructor(){this.clipboardData=new N_e}}function z6(t,e){U6(t,e),e.add(t)}function Cg(t,e,n){U6(t,e),e.set(t,n)}function U6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e1(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Io(t,e){var n=$6(t,e,"get");return D_e(t,n)}function D_e(t,e){return e.get?e.get.call(t):e.value}function Sg(t,e,n){var r=$6(t,e,"set");return L_e(t,r,n),n}function $6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function L_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var bc=new WeakMap,BP=new WeakMap,Qv=new WeakMap,zP=new WeakMap,UP=new WeakMap,Jv=new WeakMap,t1=new WeakSet,G6=new WeakSet;class j_e{constructor(e){let{countRows:n,countColumns:r,rowsLimit:o,columnsLimit:i,countColumnHeaders:s}=e;z6(this,G6),z6(this,t1),Cg(this,bc,{writable:!0,value:void 0}),Cg(this,BP,{writable:!0,value:void 0}),Cg(this,Qv,{writable:!0,value:void 0}),Cg(this,zP,{writable:!0,value:void 0}),Cg(this,UP,{writable:!0,value:void 0}),Cg(this,Jv,{writable:!0,value:void 0}),Sg(this,BP,n),Sg(this,Qv,r),Sg(this,zP,o),Sg(this,UP,i),Sg(this,Jv,s)}setSelectedRange(e){Sg(this,bc,e)}getCellsRange(){if(Io(this,BP).call(this)===0||Io(this,Qv).call(this)===0)return null;const{row:e,col:n}=Io(this,bc).getTopStartCorner(),{row:r,col:o}=Io(this,bc).getBottomEndCorner(),i=e1(this,G6,W_e).call(this,e,r),s=e1(this,t1,$P).call(this,n,o);return{isRangeTrimmed:r!==i||o!==s,startRow:e,startCol:n,endRow:i,endCol:s}}getMostBottomColumnHeadersRange(){if(Io(this,Qv).call(this)===0||Io(this,Jv).call(this)===0)return null;const{col:e}=Io(this,bc).getTopStartCorner(),{col:n}=Io(this,bc).getBottomEndCorner(),r=e1(this,t1,$P).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-1,startCol:e,endRow:-1,endCol:r}}getAllColumnHeadersRange(){if(Io(this,Qv).call(this)===0||Io(this,Jv).call(this)===0)return null;const{col:e}=Io(this,bc).getTopStartCorner(),{col:n}=Io(this,bc).getBottomEndCorner(),r=e1(this,t1,$P).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-Io(this,Jv).call(this),startCol:e,endRow:-1,endCol:r}}}function $P(t,e){return Math.min(e,Math.max(t+Io(this,UP).call(this)-1,t))}function W_e(t,e){return Math.min(e,Math.max(t+Io(this,zP).call(this)-1,t))}function Y6(t){const e=[],n=[];return F(t,r=>{const o=Math.min(r.startRow,r.endRow),i=Math.max(r.startRow,r.endRow);Ke(o,i,l=>{e.indexOf(l)===-1&&e.push(l)});const s=Math.min(r.startCol,r.endCol),a=Math.max(r.startCol,r.endCol);Ke(s,a,l=>{n.indexOf(l)===-1&&n.push(l)})}),{rows:e,columns:n}}function Ga(t,e){q6(t,e),e.add(t)}function Cc(t,e,n){q6(t,e),e.set(t,n)}function q6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zv(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:String(e)}function V_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ii(t,e){var n=K6(t,e,"get");return B_e(t,n)}function B_e(t,e){return e.get?e.get.call(t):e.value}function vs(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Js(t,e,n){var r=K6(t,e,"set");return z_e(t,r,n),n}function K6(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function z_e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}ze.getSingleton().register("afterCopyLimit"),ze.getSingleton().register("modifyCopyableRange"),ze.getSingleton().register("beforeCut"),ze.getSingleton().register("afterCut"),ze.getSingleton().register("beforePaste"),ze.getSingleton().register("afterPaste"),ze.getSingleton().register("beforeCopy"),ze.getSingleton().register("afterCopy");const n1="copyPaste",U_e=80,$_e=["fragmentSelection"],X6=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var GP=new WeakMap,YP=new WeakMap,qP=new WeakMap,xg=new WeakMap,r1=new WeakMap,o1=new WeakMap,Rg=new WeakMap,i1=new WeakMap,KP=new WeakSet,Q6=new WeakSet,J6=new WeakSet,XP=new WeakSet,Z6=new WeakSet,eG=new WeakSet,tG=new WeakSet,nG=new WeakSet,rG=new WeakSet,oG=new WeakSet;class G_e extends an{constructor(){super(...arguments),Ga(this,oG),Ga(this,rG),Ga(this,nG),Ga(this,tG),Ga(this,eG),Ga(this,Z6),Ga(this,XP),Ga(this,J6),Ga(this,Q6),Ga(this,KP),Zv(this,"columnsLimit",1/0),Zv(this,"rowsLimit",1/0),Zv(this,"pasteMode","overwrite"),Zv(this,"uiContainer",this.hot.rootDocument.body),Cc(this,GP,{writable:!0,value:!1}),Cc(this,YP,{writable:!0,value:!1}),Cc(this,qP,{writable:!0,value:!1}),Cc(this,xg,{writable:!0,value:"cells-only"}),Cc(this,r1,{writable:!0,value:!1}),Cc(this,o1,{writable:!0,value:!1}),Cc(this,Rg,{writable:!0,value:new j_e({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})}),Cc(this,i1,{writable:!0,value:!1}),Zv(this,"copyableRanges",[])}static get PLUGIN_KEY(){return n1}static get SETTING_KEYS(){return[n1,...$_e]}static get PLUGIN_PRIORITY(){return U_e}isEnabled(){return!!this.hot.getSettings()[n1]}enablePlugin(){var e=this;if(this.enabled)return;const{[n1]:n}=this.hot.getSettings();if(typeof n=="object"){var r,o;this.pasteMode=(r=n.pasteMode)!==null&&r!==void 0?r:this.pasteMode,this.rowsLimit=isNaN(n.rowsLimit)?this.rowsLimit:n.rowsLimit,this.columnsLimit=isNaN(n.columnsLimit)?this.columnsLimit:n.columnsLimit,Js(this,GP,!!n.copyColumnHeaders),Js(this,YP,!!n.copyColumnGroupHeaders),Js(this,qP,!!n.copyColumnHeadersOnly),this.uiContainer=(o=n.uiContainer)!==null&&o!==void 0?o:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",i=>vs(this,Z6,K_e).call(this,i)),this.addHook("afterSelection",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return vs(e,eG,X_e).call(e,...s)}),this.addHook("afterSelectionEnd",()=>vs(this,tG,Q_e).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),_z()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return vs(e,nG,J_e).call(e,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return vs(e,rG,Z_e).call(e,...s)}),this.addHook("afterSelection",()=>vs(this,oG,eOe).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Js(this,xg,e),Js(this,r1,!0),vs(this,KP,iG).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Js(this,o1,!0),vs(this,KP,iG).call(this,"cut")}getRangedCopyableData(e){return Rv(this.getRangedData(e))}getRangedData(e){const n=[],{rows:r,columns:o}=Y6(e);return F(r,i=>{const s=[];F(o,a=>{i<0?s.push(this.hot.getColHeader(a,i)):s.push(this.hot.getCopyableData(i,a))}),n.push(s)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const r=new H_e;e&&r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),this.onPaste(r)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}ii(this,Rg).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);ii(this,xg)==="column-headers-only"?n.set("headers",ii(this,Rg).getMostBottomColumnHeadersRange()):(ii(this,xg)==="with-column-headers"?n.set("headers",ii(this,Rg).getMostBottomColumnHeadersRange()):ii(this,xg)==="with-column-group-headers"&&n.set("headers",ii(this,Rg).getAllColumnHeadersRange()),n.set("cells",ii(this,Rg).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(o=>o!==null).map(o=>{let{startRow:i,startCol:s,endRow:a,endCol:l}=o;return{startRow:i,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const r=n.get("cells");if(r!==null&&r.isRangeTrimmed){const{startRow:o,startCol:i,endRow:s,endCol:a}=r;this.hot.runHooks("afterCopyLimit",s-o+1,a-i+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const r=e.length,o=e[0].length,i=[],{row:s,col:a}=n.getTopStartCorner(),{row:l,col:u}=n.getBottomEndCorner();let c=s,h=a,d=s,g=a;for(;i.length<r||c<=l;){const{skipRowOnPaste:p,visualRow:w}=this.hot.getCellMeta(c,a);if(c=w+1,p===!0)continue;d=w,h=a;const C=[],v=i.length%r;for(;C.length<o||h<=u;){const{skipColumnOnPaste:y,visualCol:x}=this.hot.getCellMeta(s,h);if(h=x+1,y===!0)continue;g=x;const M=C.length%o;C.push(e[v][M])}i.push(C)}return Js(this,i1,!0),this.hot.populateFromArray(s,a,i,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,d,g]}onCopy(e){if(!this.hot.isListening()&&!ii(this,r1)||this.isEditorOpened())return;this.setCopyableText(),Js(this,r1,!1);const n=this.getRangedData(this.copyableRanges),r=vs(this,Q6,Y_e).call(this,this.copyableRanges);if(this.hot.runHooks("beforeCopy",n,this.copyableRanges,r)){const o=Rv(n);if(e&&e.clipboardData){const i=Xz(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",[X6,i].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",o);this.hot.runHooks("afterCopy",n,this.copyableRanges,r)}Js(this,xg,"cells-only"),e.preventDefault()}onCut(e){if(!this.hot.isListening()&&!ii(this,o1)||this.isEditorOpened())return;this.setCopyableText(),Js(this,o1,!1);const n=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",n,this.copyableRanges)){const r=Rv(n);if(e&&e.clipboardData){const o=Xz(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",[X6,o].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",n,this.copyableRanges)}e.preventDefault()}onPaste(e){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected())return;e&&e.preventDefault&&e.preventDefault();let n;if(e&&typeof e.clipboardData<"u"){const a=vM(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});a&&/(<table)|(<TABLE)/g.test(a)?n=mve(a,this.hot.rootDocument).data:n=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(n=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof n=="string"&&(n=wCe(n)),n===void 0||n&&n.length===0||this.hot.runHooks("beforePaste",n,this.copyableRanges)===!1)return;const[r,o,i,s]=this.populateValues(n);this.hot.selectCell(r,o,Math.min(this.hot.countRows()-1,i),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",n,this.copyableRanges)}destroy(){super.destroy()}}function iG(t){if(_z()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:r}=e.highlight,o=this.hot.getCell(n,r,!0);o&&mpe(o,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function Y_e(t){const{rows:e}=Y6(t);let n=0;for(let r=0;r<e.length&&!(e[r]>=0);r++)n+=1;return{columnHeadersCount:n}}function q_e(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r&&cz(r)}}}function sG(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r!=null&&r.hasAttribute("contenteditable")&&hz(r)}}}function K_e(t){t.items.push({name:"---------"},__e(this)),ii(this,GP)&&t.items.push(P_e(this)),ii(this,YP)&&t.items.push(A_e(this)),ii(this,qP)&&t.items.push(O_e(this)),t.items.push(I_e(this))}function X_e(t,e,n,r,o){ii(this,i1)&&(o.value=!0),Js(this,i1,!1)}function Q_e(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function J_e(){vs(this,XP,sG).call(this)}function Z_e(){vs(this,J6,q_e).call(this)}function eOe(){vs(this,XP,sG).call(this)}function aG(t,e){return`border_row${t}col${e}`}function ew(){return{width:1,color:"#000"}}function Jl(){return{hide:!0}}function tOe(){return{width:1,color:"#000",cornerVisible:!1}}function QP(t){if(Fe(t.start)||Fe(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(Fe(t.end)||Fe(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function tw(t){return Fe(t.start)&&(t.left=t.start),Fe(t.end)&&(t.right=t.end),t}function JP(t,e){return{id:aG(t,e),border:tOe(),row:t,col:e,top:Jl(),bottom:Jl(),start:Jl(),end:Jl()}}function nOe(t,e){return Xn(e,"border")&&e.border&&(t.border=e.border),Xn(e,"top")&&Fe(e.top)&&(e.top?(Ot(e.top)||(e.top=ew()),t.top=e.top):(e.top=Jl(),t.top=e.top)),Xn(e,"bottom")&&Fe(e.bottom)&&(e.bottom?(Ot(e.bottom)||(e.bottom=ew()),t.bottom=e.bottom):(e.bottom=Jl(),t.bottom=e.bottom)),Xn(e,"start")&&Fe(e.start)&&(e.start?(Ot(e.start)||(e.start=ew()),t.start=e.start):(e.start=Jl(),t.start=e.start)),Xn(e,"end")&&Fe(e.end)&&(e.end?(Ot(e.end)||(e.end=ew()),t.end=e.end):(e.end=Jl(),t.end=e.end)),t}function Zl(t,e){let n=!1;return F(t.getSelectedRange(),r=>{r.forAll((o,i)=>{if(o<0||i<0)return;const s=t.getCellMeta(o,i).borders;if(s)if(e){if(!Xn(s[e],"hide")||s[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function s1(t){return`<span class="selected">\u2713</span>${t}`}function rOe(t){return t.some(e=>Fe(e.left)||Fe(e.right))}function oOe(t){return t.some(e=>Fe(e.start)||Fe(e.end))}const iOe=new Map([["left","start"],["right","end"]]);function sOe(t){var e;return(e=iOe.get(t))!==null&&e!==void 0?e:t}function aOe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(xO);return Zl(this,"bottom")&&(e=s1(e)),e},callback(e,n){const r=Zl(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function lOe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(RO);return Zl(this,e)&&(n=s1(n)),n},callback(n,r){const o=Zl(this,e);t.prepareBorder(r,e,o)}}}function uOe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(EO)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!Zl(this)}}}function cOe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(SO);return Zl(this,e)&&(n=s1(n)),n},callback(n,r){const o=Zl(this,e);t.prepareBorder(r,e,o)}}}function hOe(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(CO);return Zl(this,"top")&&(e=s1(e)),e},callback(e,n){const r=Zl(this,"top");t.prepareBorder(n,"top",r)}}}function lG(t,e){dOe(t,e),e.add(t)}function dOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fOe(t,e,n){return e=gOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gOe(t){var e=mOe(t,"string");return typeof e=="symbol"?e:String(e)}function mOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const a1="customBorders",pOe=90;var cG=new WeakSet,hG=new WeakSet;class vOe extends an{constructor(){super(...arguments),lG(this,hG),lG(this,cG),fOe(this,"savedBorders",[])}static get PLUGIN_KEY(){return a1}static get PLUGIN_PRIORITY(){return pOe}isEnabled(){return!!this.hot.getSettings()[a1]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>uG(this,cG,wOe).call(this,e)),this.addHook("init",()=>uG(this,hG,yOe).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let r=["top","bottom","start","end"],o=null;n&&(this.checkSettingsCohesion([n]),r=Object.keys(n),o=QP(n));const i=eg(e),s=Sv(i,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});F(e,a=>{s(a).forAll((l,u)=>{F(r,c=>{this.prepareBorderFromCustomAdded(l,u,o,sOe(c))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=eg(e),r=Sv(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),o=[];return F(e,i=>{r(i).forAll((s,a)=>{F(this.savedBorders,l=>{l.row===s&&l.col===a&&o.push(tw(l))})})}),o}clearBorders(e){e?this.setBorders(e):(F(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const r=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,r,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:r})}prepareBorderFromCustomAdded(e,n,r,o){const i=this.hot.countRows(),s=this.hot.countCols();if(e>=i||n>=s)return;let a=JP(e,n);r&&(a=nOe(a,r),F(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,r),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",tw(a)),this.insertBorderIntoSettings(a,o)}prepareBorderFromCustomAddedRange(e,n){const r=Math.min(e.to.row,this.hot.countRows()-1),o=Math.min(e.to.col,this.hot.countCols()-1);Ke(e.from.row,r,i=>{Ke(e.from.col,o,s=>{const a=JP(i,s);let l=0;i===e.from.row&&Xn(n,"top")&&(l+=1,a.top=n.top),i===e.to.row&&Xn(n,"bottom")&&(l+=1,a.bottom=n.bottom),s===e.from.col&&Xn(n,"start")&&(l+=1,a.start=n.start),s===e.to.col&&Xn(n,"end")&&(l+=1,a.end=n.end),l>0&&(this.hot.setCellMeta(i,s,"borders",tw(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const r=aG(e,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,r,o){let i=this.hot.getCellMeta(e,n).borders;!i||i.border===void 0?i=JP(e,n):i=QP(i),o?(i[r]=Jl(),this.countHide(i)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(i,r,o)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,n,"borders",tw(i)))):(i[r]=ew(),this.checkCustomSelectionsFromContextMenu(i,r,o)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,n,"borders",tw(i)))}prepareBorder(e,n,r){F(e,o=>{let{start:i,end:s}=o;if(i.row===s.row&&i.col===s.col)n==="noBorders"?this.removeAllBorders(i.row,i.col):this.setBorder(i.row,i.col,n,r);else switch(n){case"noBorders":Ke(i.col,s.col,a=>{Ke(i.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Ke(i.col,s.col,a=>{this.setBorder(i.row,a,n,r)});break;case"bottom":Ke(i.col,s.col,a=>{this.setBorder(s.row,a,n,r)});break;case"start":Ke(i.row,s.row,a=>{this.setBorder(a,i.col,n,r)});break;case"end":Ke(i.row,s.row,a=>{this.setBorder(a,s.col,n,r)});break}})}createCustomBorders(e){F(e,n=>{const r=QP(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,r):this.prepareBorderFromCustomAdded(n.row,n.col,r)})}countHide(e){const{top:n,bottom:r,start:o,end:i}=e;return fo([n,r,o,i],(s,a)=>{let l=s;return a&&a.hide&&(l+=1),l},0)}clearBordersFromSelectionSettings(e){const n=Pt(this.hot.selection.highlight.customSelections,r=>r.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){F(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){F(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=Pt(this.savedBorders,r=>r.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):F(this.savedBorders,(r,o)=>{if(e.id===r.id)return this.savedBorders[o]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,r){let o=!1;return F(this.hot.selection.highlight.customSelections,i=>{if(e.id===i.settings.id){const s=this.hot.view._wt.selectionManager.getBorderInstances(i);return F(s,a=>{a.toggleHiddenClass(n,r)}),o=!0,!1}}),o}checkCustomSelections(e,n,r){const o=this.countHide(e);let i=!1;return o===4?(this.removeAllBorders(e.row,e.col),i=!0):F(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=n,s.commit(),r){const a=this.hot.view._wt.selectionManager.getBorderInstances(s);F(a,l=>{l.changeBorderStyle(r,e)})}return i=!0,!1}}),i}changeBorderSettings(){const e=this.hot.getSettings()[a1];if(Array.isArray(e)){const n=_o(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=rOe(e),r=oOe(e);if(n&&r)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function wOe(t){this.hot.getSettings()[a1]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(bO)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[hOe(this),cOe(this),aOe(this),lOe(this),uOe(this)]}})}function yOe(){this.changeBorderSettings()}function bOe(t,e){COe(t,e),e.add(t)}function COe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZP(t,e,n){return e=SOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SOe(t){var e=xOe(t,"string");return typeof e=="symbol"?e:String(e)}function xOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const fG="dragToScroll",ROe=100;var eI=new WeakSet;class EOe extends an{constructor(){super(...arguments),bOe(this,eI),ZP(this,"boundaries",null),ZP(this,"callback",null),ZP(this,"listening",!1)}static get PLUGIN_KEY(){return fG}static get PLUGIN_PRIORITY(){return ROe}isEnabled(){return!!this.hot.getSettings()[fG]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>dG(this,eI,gG).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>dG(this,eI,gG).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let r=0,o=0;n<this.boundaries.top?o=n-this.boundaries.top:n>this.boundaries.bottom&&(o=n-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,o)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",r=>this.onMouseMove(r)),n=G0(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function gG(t){if(_h(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,r)=>{var o,i;const s=(o=e.scrollLeft)!==null&&o!==void 0?o:e.scrollX,a=(i=e.scrollTop)!==null&&i!==void 0?i:e.scrollY;e.scroll(s+Math.sign(n)*50,a+Math.sign(r)*20)}),this.listen()}function ed(t,e){kOe(t,e),e.add(t)}function kOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tI(t,e,n){return e=TOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TOe(t){var e=MOe(t,"string");return typeof e=="symbol"?e:String(e)}function MOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("afterDropdownMenuDefaultOptions"),ze.getSingleton().register("beforeDropdownMenuShow"),ze.getSingleton().register("afterDropdownMenuShow"),ze.getSingleton().register("afterDropdownMenuHide"),ze.getSingleton().register("afterDropdownMenuExecute");const l1="dropdownMenu",_Oe=230,nI="changeType",rI=l1;var oI=new WeakSet,mG=new WeakSet,pG=new WeakSet,vG=new WeakSet,wG=new WeakSet,yG=new WeakSet,bG=new WeakSet;class u1 extends an{static get PLUGIN_KEY(){return l1}static get PLUGIN_PRIORITY(){return _Oe}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Fv,Vv,Nt,zv,Nt,DS,Nt,Bv,Nt,ps]}constructor(e){super(e),ed(this,bG),ed(this,yG),ed(this,wG),ed(this,vG),ed(this,pG),ed(this,mG),ed(this,oI),tI(this,"commandExecutor",new k6(this.hot)),tI(this,"itemsFactory",null),tI(this,"menu",null),this.hot.addHook("afterGetColHeader",(n,r)=>Sc(this,pG,AOe).call(this,n,r))}isEnabled(){return this.hot.getSettings()[l1]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new T6(this.hot,u1.DEFAULT_ITEMS);const n=this.hot.getSettings()[l1],r={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const o=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new bg(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",o),this.menu.setMenuItems(o),this.menu.addLocalHook("beforeOpen",()=>Sc(this,vG,POe).call(this)),this.menu.addLocalHook("afterOpen",()=>Sc(this,wG,IOe).call(this)),this.menu.addLocalHook("afterSubmenuOpen",i=>Sc(this,yG,NOe).call(this,i)),this.menu.addLocalHook("afterClose",()=>Sc(this,bG,HOe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),F(o,i=>this.commandExecutor.registerCommand(i.key,i))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:r}=this.hot.getSelectedRangeLast();if((r.isHeader()&&r.row===-1||r.isCell())&&r.col>=0){this.hot.selectColumns(r.col,r.col,-1);const{from:o}=this.hot.getSelectedRangeLast(),i=HS(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,o.col,!0),a=s.getBoundingClientRect();this.open({left:a.left+i.left,top:a.top+s.offsetHeight+i.top},{left:a.width}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var r;const o=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:rI},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var r;const o=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isCell()&&!this.menu.isOpened()},group:rI}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(rI)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>Sc(this,mG,OOe).call(this,e))}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),It(r,(o,i)=>{this.menu.setOffset(i,o)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.commandExecutor.execute(e,...r)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function CG(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function OOe(t){if(t.stopPropagation(),yt(t.target,nI)){const e=HS(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+3+e.top},{left:n.width})}}function AOe(t,e){const n=e.parentNode;if(!n)return;const r=n.parentNode.childNodes,o=Array.prototype.indexOf.call(r,n);if(t<0||o!==r.length-1)return;const i=e.querySelector(`.${nI}`);if(this.enabled&&i)return;if(!this.enabled){i&&i.parentNode.removeChild(i);return}const s=this.hot.rootDocument.createElement("button");s.className=nI,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(ct(s,[Ll(),yM(" ")]),ct(e,[KB("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function POe(){this.hot.runHooks("beforeDropdownMenuShow",this)}function IOe(){this.hot.runHooks("afterDropdownMenuShow",this),Sc(this,oI,CG).call(this,this.menu)}function NOe(t){Sc(this,oI,CG).call(this,t)}function HOe(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}u1.SEPARATOR={name:Nt};function SG(t,e,n){return e=DOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DOe(t){var e=LOe(t,"string");return typeof e=="symbol"?e:String(e)}function LOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jOe{constructor(e){SG(this,"hot",void 0),SG(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:r,endCol:o}=this._getDataRange(),i=this.options,s=[];return Ke(e,r,a=>{const l=[];!i.exportHiddenRows&&this._isHiddenRow(a)||(Ke(n,o,u=>{!i.exportHiddenColumns&&this._isHiddenColumn(u)||l.push(this.hot.getDataAtCell(a,u))}),s.push(l))}),s}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:r}=this._getDataRange(),o=this.hot.getRowHeader();Ke(n,r,i=>{!this.options.exportHiddenRows&&this._isHiddenRow(i)||e.push(o[i])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:r}=this._getDataRange(),o=this.hot.getColHeader();Ke(n,r,i=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(i)||e.push(o[i])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[r=0,o=0,i=n,s=e]=this.options.range;return r=Math.max(r,0),o=Math.max(o,0),i=Math.min(i,n),s=Math.min(s,e),{startRow:r,startCol:o,endRow:i,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function xG(t,e,n){return e=WOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WOe(t){var e=FOe(t,"string");return typeof e=="symbol"?e:String(e)}function FOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iI{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){xG(this,"dataProvider",void 0),xG(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=Qo(this.constructor.DEFAULT_OPTIONS);const r=new Date;return n=yr(Qo(iI.DEFAULT_OPTIONS),n),n=yr(n,e),n.filename=$B(n.filename,{YYYY:r.getFullYear(),MM:`${r.getMonth()+1}`.padStart(2,"0"),DD:`${r.getDate()}`.padStart(2,"0")}),n}}const VOe="\r",BOe='"',zOe=`
`;class UOe extends iI{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){const e=this.options,n=this.dataProvider.getData();let r=this.dataProvider.getColumnHeaders();const o=r.length>0,i=this.dataProvider.getRowHeaders(),s=i.length>0;let a=e.bom?"\uFEFF":"";return o&&(r=Pt(r,l=>this._escapeCell(l,!0)),s&&(a+=e.columnDelimiter),a+=r.join(e.columnDelimiter),a+=e.rowDelimiter),F(n,(l,u)=>{u>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(i[u])+e.columnDelimiter),a+=l.map(c=>this._escapeCell(c)).join(e.columnDelimiter)}),a}_escapeCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=fr(e);return r!==""&&(n||r.indexOf(VOe)>=0||r.indexOf(BOe)>=0||r.indexOf(zOe)>=0||r.indexOf(this.options.columnDelimiter)>=0)&&(r=r.replace(new RegExp('"',"g"),'""'),r=`"${r}"`),r}}const $Oe=UOe,GOe="csv",sI={[GOe]:$Oe};function YOe(t,e,n){return typeof sI[t]=="function"?new sI[t](e,n):null}const qOe="exportFile",KOe=240;class XOe extends an{static get PLUGIN_KEY(){return qOe}static get PLUGIN_PRIORITY(){return KOe}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:r,rootWindow:o}=this.hot,i=this._createTypeFormatter(e,n),s=this._createBlob(i),a=o.URL||o.webkitURL,l=r.createElement("a"),u=`${i.options.filename}.${i.options.fileExtension}`;if(l.download!==void 0){const c=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(c)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,u)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sI[e])throw new Error(`Export format type "${e}" is not supported.`);return YOe(e,new jOe(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function Eg(t,e,n){return e=QOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QOe(t){var e=JOe(t,"string");return typeof e=="symbol"?e:String(e)}function JOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nw{constructor(e,n){let{id:r,stateless:o=!0}=n;Eg(this,"hot",void 0),Eg(this,"id",void 0),Eg(this,"elements",[]),Eg(this,"hidden",!1),Eg(this,"stateId",""),Eg(this,"state",void 0),this.hot=e,this.id=r,this.stateId=`Filters.component.${this.id}`,this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new _C)}getElements(){return this.elements}reset(){F(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),F(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}bn(nw,ei);const rw={};function xc(t,e){if(!rw[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:r}=rw[t];let o=e;return r.inputValuesDecorator&&(o=r.inputValuesDecorator(o)),function(i){return n.apply(i.meta.instance,[].concat([i],[o]))}}function kg(t){if(!rw[t])throw Error(`Filter condition "${t}" does not exist.`);return rw[t].descriptor}function mr(t,e,n){n.key=t,rw[t]={condition:e,descriptor:n}}const zr="none";function ZOe(){return!0}mr(zr,ZOe,{name:HC,inputsCount:0,showOperators:!1});const ow="empty";function eAe(t){return Tr(t.value)}mr(ow,eAe,{name:PO,inputsCount:0,showOperators:!0});const c1="not_empty";function tAe(t,e){return!xc(ow,e)(t)}mr(c1,tAe,{name:IO,inputsCount:0,showOperators:!0});const iw="eq";function nAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale)===fr(n)}mr(iw,nAe,{name:NO,inputsCount:1,showOperators:!0});const h1="neq";function rAe(t,e){return!xc(iw,e)(t)}mr(h1,rAe,{name:HO,inputsCount:1,showOperators:!0});const RG="gt";function oAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>r}mr(RG,oAe,{name:FO,inputsCount:1,showOperators:!0});const EG="gte";function iAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>=r}mr(EG,iAe,{name:VO,inputsCount:1,showOperators:!0});const kG="lt";function sAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<r}mr(kG,sAe,{name:BO,inputsCount:1,showOperators:!0});const TG="lte";function aAe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<=r}mr(TG,aAe,{name:zO,inputsCount:1,showOperators:!0});const aI="date_after";function lAe(t,e){let[n]=e;const r=Re(t.value,t.meta.dateFormat),o=Re(n,t.meta.dateFormat);return!r.isValid()||!o.isValid()?!1:r.diff(o)>=0}mr(aI,lAe,{name:GO,inputsCount:1,showOperators:!0});const lI="date_before";function uAe(t,e){let[n]=e;const r=Re(t.value,t.meta.dateFormat),o=Re(n,t.meta.dateFormat);return!r.isValid()||!o.isValid()?!1:r.diff(o)<=0}mr(lI,uAe,{name:YO,inputsCount:1,showOperators:!0});const d1="between";function cAe(t,e){let[n,r]=e,o=n,i=r;if(t.meta.type==="numeric"){const s=parseFloat(o,10),a=parseFloat(i,10);o=Math.min(s,a),i=Math.max(s,a)}else if(t.meta.type==="date"){const s=xc(lI,[i]),a=xc(aI,[o]);return s(t)&&a(t)}return t.value>=o&&t.value<=i}mr(d1,cAe,{name:UO,inputsCount:2,showOperators:!0});const MG="not_between";function hAe(t,e){return!xc(d1,e)(t)}mr(MG,hAe,{name:$O,inputsCount:2,showOperators:!0});const _G="begins_with";function dAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).startsWith(fr(n))}mr(_G,dAe,{name:DO,inputsCount:1,showOperators:!0});const OG="ends_with";function fAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).endsWith(fr(n))}mr(OG,fAe,{name:LO,inputsCount:1,showOperators:!0});const uI="contains";function gAe(t,e){let[n]=e;return fr(t.value).toLocaleLowerCase(t.meta.locale).indexOf(fr(n))>=0}mr(uI,gAe,{name:jO,inputsCount:1,showOperators:!0});const AG="not_contains";function mAe(t,e){return!xc(uI,e)(t)}mr(AG,mAe,{name:WO,inputsCount:1,showOperators:!0});const PG="date_tomorrow";function pAe(t){const e=Re(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Re().subtract(-1,"days").startOf("day"),"d"):!1}mr(PG,pAe,{name:KO,inputsCount:0});const IG="date_today";function vAe(t){const e=Re(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Re().startOf("day"),"d"):!1}mr(IG,vAe,{name:qO,inputsCount:0});const NG="date_yesterday";function wAe(t){const e=Re(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Re().subtract(1,"days").startOf("day"),"d"):!1}mr(NG,wAe,{name:XO,inputsCount:0}),Npe();function yAe(t,e){let n=t;return n===""&&(n=`(${e})`),n}const cI=new Set([1]).has(1),bAe=cI&&typeof Array.from=="function";function sw(t){let e=t;return cI&&(e=new Set(e)),function(n){let r;return cI?r=e.has(n):r=!!~e.indexOf(n),r}}function HG(t){return t??""}function hI(t){let e=t;return bAe?e=Array.from(new Set(e)):e=DB(e),e=e.sort((n,r)=>typeof n=="number"&&typeof r=="number"?n-r:n===r?0:n>r?1:-1),e}function DG(t,e,n,r){const o=[],i=t===e;let s;return i||(s=sw(e)),F(t,a=>{let l=!1;(i||s(a))&&(l=!0);const u={checked:l,value:a,visualValue:yAe(a,n)};r&&r(u),o.push(u)}),o}const td="by_value";function CAe(t,e){let[n]=e;return n(t.value)}mr(td,CAe,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[sw(e)]},showOperators:!1});const aw={};function SAe(t){if(!aw[t])throw Error(`Operation with id "${t}" does not exist.`);const e=aw[t].func;return function(n,r){return e(n,r)}}function xAe(t){return aw[t].name}function dI(t,e,n){aw[t]={name:e,func:n}}const Rc="conjunction",RAe=ZO;function EAe(t,e){return t.every(n=>n.func(e))}dI(Rc,RAe,EAe);const f1="disjunction",kAe=DC;function TAe(t,e){return t.some(n=>n.func(e))}dI(f1,kAe,TAe);const fI="disjunctionWithExtraCondition",MAe=DC;function _Ae(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}dI(fI,MAe,_Ae);const OAe="numeric",LG="text",AAe="date",jG={[OAe]:[zr,Nt,ow,c1,Nt,iw,h1,Nt,RG,EG,kG,TG,d1,MG],[LG]:[zr,Nt,ow,c1,Nt,iw,h1,Nt,_G,OG,Nt,uI,AG],[AAe]:[zr,Nt,ow,c1,Nt,iw,h1,Nt,lI,aI,d1,Nt,PG,IG,NG]};function PAe(t){const e=[];let n=t;return jG[n]||(n=LG),F(jG[n],r=>{let o;r===Nt?o={name:Nt}:o=Qo(kg(r)),e.push(o)}),e}function lw(t,e,n){return e=IAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IAe(t){var e=NAe(t,"string");return typeof e=="symbol"?e:String(e)}function NAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const gI="built",mI="building",WG=["click","input","keydown","keypress","keyup","focus","blur","change"];let Zs=class qq{static get DEFAULTS(){return Qo({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){lw(this,"hot",void 0),lw(this,"eventManager",new zs(this)),lw(this,"options",void 0),lw(this,"_element",void 0),lw(this,"buildState",void 0),this.hot=e,this.options=yr(qq.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===mI?this._element:this.buildState===gI?(this.update(),this._element):(this.buildState=mI,this.build(),this.buildState=gI,this._element)}isBuilt(){return this.buildState===gI}translateIfPossible(e){return typeof e=="string"&&e.startsWith(Ao)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,r)=>{this.eventManager.addEventListener(n,r,o=>this.runLocalHooks(r,o,this))};if(this.buildState||(this.buildState=mI),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&ke(this._element,this.options.className),this.options.children.length)F(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),It(this.options,(r,o)=>{n[o]!==void 0&&o!=="className"&&o!=="tagName"&&o!=="children"&&(n[o]=this.translateIfPossible(r))}),this._element.appendChild(n),F(WG,r=>e(n,r))}else F(WG,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};bn(Zs,ei);function HAe(t,e){FG(t,e),e.add(t)}function DAe(t,e,n){FG(t,e),e.set(t,n)}function FG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g1(t,e){var n=VG(t,e,"get");return LAe(t,n)}function LAe(t,e){return e.get?e.get.call(t):e.value}function jAe(t,e,n){var r=VG(t,e,"set");return WAe(t,r,n),n}function VG(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function WAe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function FAe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Tg=new WeakMap,BG=new WeakSet;class Ec extends Zs{static get DEFAULTS(){return Qo({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,yr(Ec.DEFAULTS,n)),HAe(this,BG),DAe(this,Tg,{writable:!0,value:void 0}),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>FAe(this,BG,VAe).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");jAe(this,Tg,this._element.firstChild),ke(this._element,"htUIInput"),ke(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(g1(this,Tg).type=this.options.type,g1(this,Tg).placeholder=this.translateIfPossible(this.options.placeholder),g1(this,Tg).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&g1(this,Tg).focus()}}function VAe(t){this.options.value=t.target.value}function pI(t,e){zG(t,e),e.add(t)}function uw(t,e,n){zG(t,e),e.set(t,n)}function zG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mg(t,e,n){var r=UG(t,e,"set");return BAe(t,r,n),n}function BAe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function vI(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Zn(t,e){var n=UG(t,e,"get");return zAe(t,n)}function UG(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function zAe(t,e){return e.get?e.get.call(t):e.value}var Mr=new WeakMap,m1=new WeakMap,p1=new WeakMap,wI=new WeakMap,v1=new WeakMap,$G=new WeakSet,GG=new WeakSet,YG=new WeakSet;class cw extends Zs{static get DEFAULTS(){return Qo({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,yr(cw.DEFAULTS,n)),pI(this,YG),pI(this,GG),pI(this,$G),uw(this,Mr,{writable:!0,value:null}),uw(this,m1,{writable:!0,value:[]}),uw(this,p1,{writable:!0,value:void 0}),uw(this,wI,{writable:!0,value:void 0}),uw(this,v1,{writable:!0,value:void 0}),this.registerHooks()}getMenu(){return Zn(this,Mr)}registerHooks(){this.addLocalHook("click",()=>vI(this,YG,GAe).call(this))}setItems(e){Mg(this,m1,this.translateNames(e)),Zn(this,Mr)&&Zn(this,Mr).setMenuItems(Zn(this,m1))}translateNames(e){return F(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),Mg(this,Mr,new bg(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Zn(this,Mr).setMenuItems(Zn(this,m1));const e=new Zs(this.hot,{className:"htUISelectCaption"}),n=new Zs(this.hot,{className:"htUISelectDropdown"});Mg(this,p1,e),Mg(this,wI,e.element),Mg(this,v1,n),this.hot.getSettings().ariaTags&&(ct(n.element,[Ll()]),ct(this._element,[qB()])),F([e,n],r=>this._element.appendChild(r.element)),Zn(this,Mr).addLocalHook("select",r=>vI(this,$G,UAe).call(this,r)),Zn(this,Mr).addLocalHook("afterClose",()=>vI(this,GG,$Ae).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=Zn(this,Mr).hot.getTranslatedPhrase(HC),Zn(this,wI).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();Zn(this,Mr)&&(Zn(this,Mr).open(),Zn(this,Mr).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),Zn(this,Mr).getNavigator().toFirstItem(),Zn(this,Mr).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Zn(this,Mr)&&Zn(this,Mr).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Zn(this,Mr)&&(Zn(this,Mr).destroy(),Mg(this,Mr,null)),Zn(this,p1)&&Zn(this,p1).destroy(),Zn(this,v1)&&Zn(this,v1).destroy(),super.destroy()}}function UAe(t){t.name!==Nt&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function $Ae(){this.runLocalHooks("afterClose")}function GAe(){this.openOptions()}function qG(t,e){YAe(t,e),e.add(t)}function YAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KG(t,e,n){return e=qAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qAe(t){var e=KAe(t,"string");return typeof e=="symbol"?e:String(e)}function KAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XG(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var QG=new WeakSet,JG=new WeakSet;class yI extends nw{constructor(e,n){super(e,{id:n.id,stateless:!1}),qG(this,JG),qG(this,QG),KG(this,"name",""),KG(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new cw(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Ec(this.hot,{placeholder:iA})),this.elements.push(new Ec(this.hot,{placeholder:sA})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>XG(this,QG,XAe).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),F(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>XG(this,JG,QAe).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=Qo(e.command);n.name.startsWith(Jn)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),F(e.args,(r,o)=>{if(o>n.inputsCount-1)return!1;const i=this.getInputElement(o);i.setValue(r),i[n.inputsCount>o?"show":"hide"](),o||this.hot._registerTimeout(()=>i.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||kg(zr),n=[];return F(this.getInputElements(),(r,o)=>{e.inputsCount>o&&n.push(r.getValue())}),{command:e,args:n}}updateState(e,n){const r=kg(e?e.name:zr);this.state.setValueAtIndex(n,{command:r,args:e?e.args:[]}),e||F(this.getInputElements(),o=>o.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof cw)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Ec)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,o,i,s)=>{ke(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ke(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return ke(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[kg(zr)];if(e!==null){const{visualIndex:r}=e;n=PAe(this.hot.getDataType(0,r,this.hot.countRows(),r))}F(this.getInputElements(),r=>r.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function XAe(t){F(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function QAe(t){tv(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vs(t))}function ZG(t,e,n){JAe(t,e),e.set(t,n)}function JAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hw(t,e){var n=t8(t,e,"get");return ZAe(t,n)}function ZAe(t,e){return e.get?e.get.call(t):e.value}function e8(t,e,n){var r=t8(t,e,"set");return ePe(t,r,n),n}function t8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ePe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var _g=new WeakMap,bI=new WeakMap;class w1 extends Zs{static get DEFAULTS(){return Qo({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,yr(w1.DEFAULTS,n)),ZG(this,_g,{writable:!0,value:void 0}),ZG(this,bI,{writable:!0,value:void 0})}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),e8(this,bI,e),e8(this,_g,this._element.firstChild),hw(this,_g).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(hw(this,bI).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?hw(this,_g).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(hw(this,_g).checked=e)}focus(){this.isBuilt()&&hw(this,_g).focus()}}function tPe(t,e){nPe(t,e),e.add(t)}function nPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rPe(t,e,n){return e=oPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oPe(t){var e=iPe(t,"string");return typeof e=="symbol"?e:String(e)}function iPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const n8=0;var r8=new WeakSet;class aPe extends nw{constructor(e,n){super(e,{id:n.id,stateless:!1}),tPe(this,r8),rPe(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ke(n.parentNode,"htFiltersMenuOperators"),F(this.elements,r=>n.appendChild(r.element)),n)}}buildOperatorsElement(){const e=[Rc,f1];F(e,n=>{const r=new w1(this.hot,{name:"operator",label:{htmlFor:n,textContent:xAe(n)},value:n,checked:n===e[n8],id:n});r.addLocalHook("change",o=>sPe(this,r8,lPe).call(this,o)),this.elements.push(r)})}setChecked(e){if(this.elements.length<e)throw Error(un`Radio button with index ${e} doesn't exist.`);F(this.elements,(n,r)=>{n.setChecked(r===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof w1&&n.isChecked());return e?e.getValue():Rc}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&F(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rc,n=arguments.length>1?arguments[1]:void 0,r=e;r===fI&&(r=f1),this.state.setValueAtIndex(n,r)}reset(){this.setChecked(n8)}}function lPe(t){this.setState(t.target.value)}function uPe(t,e,n){cPe(t,e),e.set(t,n)}function cPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CI(t,e){var n=o8(t,e,"get");return hPe(t,n)}function hPe(t,e){return e.get?e.get.call(t):e.value}function dPe(t,e,n){var r=o8(t,e,"set");return fPe(t,r,n),n}function o8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function fPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var dw=new WeakMap;class fw extends Zs{static get DEFAULTS(){return Qo({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,yr(fw.DEFAULTS,n)),uPe(this,dw,{writable:!0,value:void 0})}build(){super.build(),dPe(this,dw,this._element.firstChild)}update(){this.isBuilt()&&(CI(this,dw).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&CI(this,dw).focus()}activate(){CI(this,dw).click()}}function y1(t,e){i8(t,e),e.add(t)}function Og(t,e,n){i8(t,e),e.set(t,n)}function i8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b1(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Ct(t,e){var n=s8(t,e,"get");return gPe(t,n)}function gPe(t,e){return e.get?e.get.call(t):e.value}function ea(t,e,n){var r=s8(t,e,"set");return mPe(t,r,n),n}function s8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function mPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const a8="multipleSelect.itemBox";var ta=new WeakMap,Vn=new WeakMap,SI=new WeakMap,eu=new WeakMap,kc=new WeakMap,Tc=new WeakMap,l8=new WeakSet,u8=new WeakSet,c8=new WeakSet,h8=new WeakSet;class gw extends Zs{static get DEFAULTS(){return Qo({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,yr(gw.DEFAULTS,n)),y1(this,h8),y1(this,c8),y1(this,u8),y1(this,l8),Og(this,ta,{writable:!0,value:[]}),Og(this,Vn,{writable:!0,value:void 0}),Og(this,SI,{writable:!0,value:void 0}),Og(this,eu,{writable:!0,value:void 0}),Og(this,kc,{writable:!0,value:void 0}),Og(this,Tc,{writable:!0,value:void 0}),ea(this,eu,new Ec(this.hot,{placeholder:oA,className:"htUIMultipleSelectSearch"})),ea(this,kc,new fw(this.hot,{textContent:eA,className:"htUISelectAll"})),ea(this,Tc,new fw(this.hot,{textContent:tA,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Ct(this,Vn)}registerHooks(){Ct(this,eu).addLocalHook("keydown",e=>b1(this,u8,vPe).call(this,e)),Ct(this,eu).addLocalHook("input",e=>b1(this,l8,pPe).call(this,e)),Ct(this,kc).addLocalHook("click",e=>b1(this,c8,wPe).call(this,e)),Ct(this,Tc).addLocalHook("click",e=>b1(this,h8,yPe).call(this,e))}setItems(e){ea(this,ta,e),Ct(this,Vn)&&Ct(this,Vn).loadData(Ct(this,ta))}setLocale(e){ea(this,SI,e)}getLocale(){return Ct(this,SI)}getItems(){return[...Ct(this,ta)]}getValue(){return CPe(Ct(this,ta))}getSearchInputElement(){return Ct(this,eu)}getSelectAllElement(){return Ct(this,kc)}getClearAllElement(){return Ct(this,Tc)}isSelectedAllValues(){return Ct(this,ta).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),r=new Zs(this.hot,{className:"htUISelectionControls",children:[Ct(this,kc),Ct(this,Tc)]});this._element.appendChild(Ct(this,eu).element),this._element.appendChild(r.element),this._element.appendChild(n);const o=i=>{if(!this._element)return;Ct(this,Vn)&&Ct(this,Vn).destroy(),ke(i,"htUIMultipleSelectHot"),ea(this,Vn,new this.hot.constructor(i,{data:Ct(this,ta),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(a,l,u,c,h,d)=>{a.title=d.instance.getDataAtRowProp(l,d.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Ct(this,Vn).listen()},maxCols:1,autoWrapCol:!0,height:110,colWidths:()=>Ct(this,Vn).container.scrollWidth-Lr(e),copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Ct(this,Vn).init();const s=Ct(this,Vn).getShortcutManager().getContext("grid");s.removeShortcutsByKeys(["Tab"]),s.removeShortcutsByKeys(["Shift","Tab"]),s.addShortcut({keys:[["Escape"]],callback:a=>{this.runLocalHooks("keydown",a,this)},group:a8}),s.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:a=>{Ct(this,Vn).deselectCell(),this.runLocalHooks("keydown",a,this),this.runLocalHooks("listTabKeydown",a,this)},group:a8})};o(n),this.hot._registerTimeout(()=>o(n),100)}focus(){this.isBuilt()&&Ct(this,Vn).listen()}reset(){Ct(this,eu).reset(),Ct(this,kc).reset(),Ct(this,Tc).reset()}update(){this.isBuilt()&&(Ct(this,Vn).loadData(bPe(Ct(this,ta),this.options.value)),super.update())}destroy(){Ct(this,Vn)&&Ct(this,Vn).destroy(),Ct(this,eu).destroy(),Ct(this,Tc).destroy(),Ct(this,kc).destroy(),ea(this,eu,null),ea(this,Tc,null),ea(this,kc,null),ea(this,Vn,null),ea(this,ta,null),super.destroy()}}function pPe(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...Ct(this,ta)]:n=os(Ct(this,ta),r=>`${r.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Ct(this,Vn).loadData(n)}function vPe(t){this.runLocalHooks("keydown",t,this),dz(tv,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),Vs(t),Ct(this,Vn).listen(),Ct(this,Vn).selectCell(0,0))}function wPe(t){const e=[];t.preventDefault(),F(Ct(this,Vn).getSourceData(),(n,r)=>{n.checked=!0,e.push(lU(n,r)[0])}),Ct(this,Vn).setSourceDataAtCell(e)}function yPe(t){const e=[];t.preventDefault(),F(Ct(this,Vn).getSourceData(),(n,r)=>{n.checked=!1,e.push(lU(n,r)[0])}),Ct(this,Vn).setSourceDataAtCell(e)}function bPe(t,e){const n=sw(e);return Pt(t,r=>(r.checked=n(r.value),r))}function CPe(t){const e=[];return F(t,n=>{n.checked&&e.push(n.value)}),e}function SPe(t,e){xPe(t,e),e.add(t)}function xPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RPe(t,e,n){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EPe(t){var e=kPe(t,"string");return typeof e=="symbol"?e:String(e)}function kPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var d8=new WeakSet;class MPe extends nw{constructor(e,n){super(e,{id:n.id,stateless:!1}),SPe(this,d8),RPe(this,"name",""),this.name=n.name,this.elements.push(new gw(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>TPe(this,d8,_Pe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===td){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?zr:td},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(r,o,i,s,a)=>{const[l]=os(o,h=>h.name===td),u={},c=this.hot.getTranslatedPhrase(LC);if(l){const h=hI(Pt(s(r,a),w=>w.value));i&&(l.args[0]=i);const d=[],g=DG(h,l.args[0],c,w=>{w.checked&&d.push(w.value)}),p=e.editedConditionStack.column;u.locale=this.hot.getCellMeta(0,p).locale,u.args=[d],u.command=kg(td),u.itemsSnapshot=g}else u.args=[],u.command=kg(zr);this.state.setValueAtIndex(r,u)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof gw)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,o,i,s)=>{ke(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return ke(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(LC),n=hI(this._getColumnVisibleValues()),r=DG(n,n,e);this.getMultipleSelectElement().setItems(r),super.reset(),this.getMultipleSelectElement().setValue(n);const o=this.hot.getPlugin("filters").getSelectedColumn();o!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,o.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:Pt(this.hot.getDataAtCol(e.visualIndex),n=>HG(n))}}function _Pe(t){tv(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vs(t))}var f8;function OPe(t,e){APe(t,e),e.add(t)}function APe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PPe(t,e,n){return e=IPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IPe(t){var e=NPe(t,"string");return typeof e=="symbol"?e:String(e)}function NPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HPe(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var g8=new WeakSet;class mw extends nw{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),OPe(this,g8),PPe(this,"name",""),this.name=n.name,this.elements.push(new Ec(this.hot,{type:"button",value:nA,className:"htUIButton htUIButtonOK",identifier:mw.BUTTON_OK})),this.elements.push(new Ec(this.hot,{type:"button",value:rA,className:"htUIButton htUIButtonCancel",identifier:mw.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){F(this.elements,e=>{e.addLocalHook("click",(n,r)=>HPe(this,g8,DPe).call(this,n,r))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ke(n.parentNode,"htFiltersMenuActionBar"),F(this.elements,r=>n.appendChild(r.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}f8=mw;function DPe(t,e){e.options.identifier===f8.BUTTON_OK?this.accept():this.cancel()}function xI(t,e,n){return e=LPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LPe(t){var e=jPe(t,"string");return typeof e=="symbol"?e:String(e)}function jPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const m8="ConditionCollection.filteringStates";class RI{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;xI(this,"hot",void 0),xI(this,"isMapRegistrable",void 0),xI(this,"filteringStates",new _C),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(m8,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var r;const o=this.filteringStates.getValueAtIndex(n),i=(r=o==null?void 0:o.conditions)!==null&&r!==void 0?r:[],s=o==null?void 0:o.operation;return this.isMatchInConditions(i,e,s)}isMatchInConditions(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rc;return e.length?SAe(r)(e,n):!0}addCondition(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rc,o=arguments.length>3?arguments[3]:void 0;const i=this.hot.getCellMeta(0,e).locale,s=Pt(n.args,c=>typeof c=="string"?c.toLocaleLowerCase(i):c),a=n.name||n.command.key;this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==r)throw Error(un`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(Tn(aw[r]))throw new Error(un`Unexpected operation named \`${r}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const u=this.getConditions(e);u.length===0?this.filteringStates.setValueAtIndex(e,{operation:r,conditions:[{name:a,args:s,func:xc(a,s)}]},o):u.push({name:a,args:s,func:xc(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,r;return(n=(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return fo(this.filteringStates.getEntries(),(e,n)=>{let[r,{operation:o,conditions:i}]=n;return e.push({column:r,operation:o,conditions:Pt(i,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),e},[])}importAllConditions(e){this.clean(),F(e,n=>{F(n.conditions,r=>this.addCondition(n.column,r))})}removeConditions(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const r=this.getConditions(e);return n?r.some(o=>o.name===n):r.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(m8),this.filteringStates=null,this.clearLocalHooks()}}bn(RI,ei);function p8(t,e,n){return e=WPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WPe(t){var e=FPe(t,"string");return typeof e=="symbol"?e:String(e)}function FPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class v8{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];p8(this,"conditionCollection",void 0),p8(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return F(this.conditionCollection.getFilteredColumns(),(n,r)=>{let o=this.columnDataFactory(n);r&&(o=this._getIntersectData(o,e)),e=this.filterByColumn(n,o)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];return F(n,o=>{o!==void 0&&this.conditionCollection.isMatch(o,e)&&r.push(o)}),r}_getIntersectData(e,n){const r=[];return F(n,o=>{const i=o.meta.visualRow;e[i]!==void 0&&(r[i]=e[i])}),r}}function EI(t,e){VPe(t,e),e.add(t)}function VPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nd(t,e,n){return e=BPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BPe(t){var e=zPe(t,"string");return typeof e=="symbol"?e:String(e)}function zPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kI(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var w8=new WeakSet,y8=new WeakSet,b8=new WeakSet;class C8{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];EI(this,b8),EI(this,y8),EI(this,w8),nd(this,"hot",void 0),nd(this,"conditionCollection",void 0),nd(this,"columnDataFactory",void 0),nd(this,"changes",[]),nd(this,"grouping",!1),nd(this,"latestEditedColumnPosition",-1),nd(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=r,this.conditionCollection.addLocalHook("beforeRemove",o=>kI(this,w8,UPe).call(this,o)),this.conditionCollection.addLocalHook("afterRemove",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("afterAdd",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("beforeClean",()=>kI(this,y8,$Pe).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>kI(this,b8,GPe).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,F(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var r=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const o=this.conditionCollection.exportAllConditions();let i=this.conditionCollection.getColumnStackPosition(e);i===-1&&(i=this.latestEditedColumnPosition);const s=o.slice(0,i),a=o.slice(i);a.length&&a[0].column===e&&a.shift();const l=ppe(function(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const g=new RI(r.hot,!1),p=[].concat(c,d);g.importAllConditions(p);const w=r.columnDataFactory(h);let C;g.isEmpty()?C=w:C=new v8(g,y=>r.columnDataFactory(y)).filter(),C=Pt(C,y=>y.meta.visualRow);const v=sw(C);return g.destroy(),os(w,y=>v(y.meta.visualRow))})(s),u=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:u},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),It(this,(e,n)=>{this[n]=null})}}function UPe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function $Pe(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function GPe(){F(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}bn(C8,ei);function YPe(t){return _6({initialPage:0,size:()=>t.length,onItemSelect:(e,n)=>{const r=t[e];if(r instanceof gw)return n;if(r.element&&!Th(r.element))return!1;r.focus()}})}const pw="filters";function qPe(t,e){let n=-1;const r=YPe(e),o=l=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(pw),r.setCurrentPage(e.indexOf(l))};e.forEach(l=>{l instanceof Zs&&(l.addLocalHook("click",o(l)),l.addLocalHook("focus",o(l)),l.addLocalHook("afterClose",o(l)))}),t.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||r.clear()});function i(l){const u=t.getKeyboardShortcutsCtrl(),c=l.getKeyboardShortcutsCtrl();r.clear(),c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:u.getContext(pw),callback:()=>{l.isSubMenu()&&l.close(),u.listen(pw)}}]),!l.isSubMenu()&&u.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:h=>{const d=t.getNavigator();d.getCurrentPage()>-1&&(n=d.getCurrentPage()),d.clear(),h.shiftKey?r.toPreviousItem():r.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:h=>{const d=e[r.getCurrentPage()];d instanceof cw&&(d.openOptions(),h.preventDefault()),d instanceof fw&&(d.activate(),h.preventDefault()),d instanceof Zs||h.preventDefault()}}],pw)}t.addLocalHook("afterSubmenuOpen",i),t.addLocalHook("afterOpen",i);function s(){t.focus(),t.getKeyboardShortcutsCtrl().listen(pw)}function a(){return n}return{...r,listen:s,getLastMenuPage:a}}function tu(t,e){S8(t,e),e.add(t)}function KPe(t,e,n){S8(t,e),e.set(t,n)}function S8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vw(t,e,n){return e=XPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XPe(t){var e=QPe(t,"string");return typeof e=="symbol"?e:String(e)}function QPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JPe(t,e,n){var r=x8(t,e,"set");return ZPe(t,r,n),n}function ZPe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function ww(t,e){var n=x8(t,e,"get");return eIe(t,n)}function x8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function eIe(t,e){return e.get?e.get.call(t):e.value}function na(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const TI="filters",tIe=250,R8=TI;var rd=new WeakMap,E8=new WeakSet,k8=new WeakSet,T8=new WeakSet,M8=new WeakSet,MI=new WeakSet,_8=new WeakSet,_I=new WeakSet,O8=new WeakSet,A8=new WeakSet;class nIe extends an{static get PLUGIN_KEY(){return TI}static get PLUGIN_PRIORITY(){return tIe}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),tu(this,A8),tu(this,O8),tu(this,_I),tu(this,_8),tu(this,MI),tu(this,M8),tu(this,T8),tu(this,k8),tu(this,E8),vw(this,"dropdownMenuPlugin",null),vw(this,"conditionCollection",null),vw(this,"conditionUpdateObserver",null),vw(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),vw(this,"filtersRowsMap",null),KPe(this,rd,{writable:!0,value:void 0}),this.hot.addHook("afterGetColHeader",(n,r)=>na(this,O8,lIe).call(this,n,r))}isEnabled(){return!!this.hot.getSettings()[TI]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new wv),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,n=e&&e.uiContainer||this.hot.rootDocument.body,r=s=>(s.addLocalHook("accept",()=>na(this,MI,P8).call(this,"accept")),s.addLocalHook("cancel",()=>na(this,MI,P8).call(this,"cancel")),s.addLocalHook("change",a=>na(this,_8,aIe).call(this,s,a)),s),o=()=>`${this.hot.getTranslatedPhrase(QO)}:`,i=()=>`${this.hot.getTranslatedPhrase(JO)}:`;if(!this.components.get("filter_by_condition")){const s=new yI(this.hot,{id:"filter_by_condition",name:o,addSeparator:!1,menuContainer:n});s.addLocalHook("afterClose",()=>na(this,_I,I8).call(this)),this.components.set("filter_by_condition",r(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new aPe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const s=new yI(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});s.addLocalHook("afterClose",()=>na(this,_I,I8).call(this)),this.components.set("filter_by_condition2",r(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",r(new MPe(this.hot,{id:"filter_by_value",name:i}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",r(new mw(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new RI(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new C8(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>na(this,A8,uIe).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>na(this,M8,sIe).call(this,s)),this.addHook("afterDropdownMenuShow",()=>na(this,k8,oIe).call(this)),this.addHook("afterDropdownMenuHide",()=>na(this,T8,iIe).call(this)),this.addHook("afterChange",s=>na(this,E8,rIe).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!ww(this,rd)&&this.dropdownMenuPlugin.enabled){const s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{const u=s.getNavigator(),c=ww(this,rd).getLastMenuPage();s.focus(),c>0?u.setCurrentPage(c):u.toFirstItem()}},...Array.from(this.components).map(u=>{let[,c]=u;return c.getElements()}).flat()];JPe(this,rd,qPe(s,a));const l=u=>{ww(this,rd).listen(),u.preventDefault(),tv(u.keyCode,"TAB")&&(u.shiftKey?ww(this,rd).toPreviousItem():ww(this,rd).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,r)=>{n.destroy(),this.components.set(r,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:R8})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(R8)}addCondition(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Rc;const i=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(i,{command:{key:n},args:r},o)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),r=!this.conditionCollection.isEmpty();let o=[];const i=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",i)!==!1)if(r){const s=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),o=Pt(n.filter(),l=>l.meta.visualRow);const a=sw(o);Ke(this.hot.countSourceRows()-1,l=>{a(l)||s.push(l)}),F(s,l=>{this.filtersRowsMap.setValueAtIndex(l,!0)})},!0),!e&&!o.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",i),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),r=[];return F(this.hot.getSourceDataAtCol(n),(o,i)=>{var s;const{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:g,locale:p}=this.hot.getCellMeta(i,n),w=(s=this.hot.getDataAtCell(this.hot.toVisualRow(i),n))!==null&&s!==void 0?s:o;r.push({meta:{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:g,locale:p},value:HG(w)})}),r}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),r=hI(n);this.conditionUpdateObserver.updateStatesAtColumn(e,r)}restoreComponents(e){var n;const r=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(o=>{o.isHidden()||o.restoreState(r)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,r,o){let i=e;return i===f1&&n.command.key!==zr&&r.command.key!==zr&&o.command.key!==zr?i=fI:o.command.key!==zr&&(n.command.key===zr||r.command.key===zr)&&(i=Rc),i}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),r=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...r):this.hideComponents(...r)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new v8(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return F(o,s=>{F(n.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const n=this.dropdownMenuPlugin.menu.hotMenu,r=n.getPlugin("hiddenRows");for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];const a=this.getIndexesOfComponents(...i);e?r.showRows(a):r.hideRows(a),n.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function rIe(t){t&&F(t,e=>{const[,n]=e,r=this.hot.propToCol(n);this.conditionCollection.hasConditions(r)&&this.updateValueComponentCondition(r)})}function oIe(){this.restoreComponents(Array.from(this.components.values()))}function iIe(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function sIe(t){t.items.push({name:Nt}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function P8(t){var e;if(t==="accept"){const r=this.getSelectedColumn();if(r===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:o}=r,i=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),i,s,a);this.conditionUpdateObserver.groupChanges();let u=this.conditionCollection.getColumnStackPosition(o);u===-1&&(u=void 0),this.conditionCollection.removeConditions(o),i.command.key!==zr&&(this.conditionCollection.addCondition(o,i,l,u),s.command.key!==zr&&this.conditionCollection.addCondition(o,s,l,u)),a.command.key!==zr&&this.conditionCollection.addCondition(o,a,l,u),this.conditionUpdateObserver.flush(),this.components.forEach(c=>c.saveState(o)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function aIe(t,e){this.updateDependentComponentsVisibility(),t.constructor===yI&&!e.inputsCount&&this.setListeningDropdownMenu()}function I8(){this.setListeningDropdownMenu()}function lIe(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?ke(e,"htFiltersActive"):Rt(e,"htFiltersActive")}function uIe(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:r}}=t,o=n.filter(s=>s.name===td),i=n.filter(s=>s.name!==td);if(o.length>=2||i.length>=3)vn(un`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const s=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(i[0],r),this.components.get("filter_by_condition2").updateState(i[1],r),this.components.get("filter_operators").updateState(s,r),this.components.get("filter_by_value").updateState(t)}}const N8="internal-use-in-handsontable",OI={licenseKey:N8,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function H8(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[vo])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function D8(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function cIe(t){var e;const n=t[vo],r=D8(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=H8(t);return{...OI,...r,...o}}function hIe(t){var e;const n=t[vo],r=D8(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=H8(t);return{...r,...o}}function dIe(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function C1(){const t="engine_relationship",e=Bs(vo);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function AI(){const t="shared_engine_usage",e=Bs(vo);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function fIe(t){const e=t.getSettings(),n=e[vo],r=n==null?void 0:n.engine;if(n===!0||Tn(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var o;return gIe((o=r.hyperformula)!==null&&o!==void 0?o:r,e,t)}else if(typeof r=="object"&&Tn(r.hyperformula)){const i=C1(),s=AI().get(r);return i.has(r)||i.set(r,[]),i.get(r).push(t),s&&s.push(t.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:N8}),(r.getConfig().leapYear1900!==OI.leapYear1900||MM(r.getConfig().nullDate,OI.nullDate)===!1)&&vn(un`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function gIe(t,e,n){const r=e[vo],o=cIe(e),i=C1(),s=AI();mIe(t,r.functions),pIe(t,r.language);const a=t.buildEmpty(o);return i.set(a,[n]),s.set(a,[n.guid]),vIe(a,r.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function L8(t){var e;const n=C1(),r=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(r.map(o=>[o.getPlugin("formulas").sheetId,o]))}function j8(t,e){if(t){const n=C1(),r=n.get(t),o=AI(),i=o.get(t);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),r.length===0&&n.delete(t)),i&&i.includes(e.guid)&&(i.splice(i.indexOf(e.guid),1),i.length===0&&(o.delete(t),t.destroy()))}}function mIe(t,e){e&&e.forEach(n=>{const{name:r,plugin:o,translations:i}=n;try{t.registerFunction(r,o,i)}catch(s){vn(s.message)}})}function pIe(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(r){vn(r.message)}}}function vIe(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:r,expression:o,scope:i,options:s}=n;try{t.addNamedExpression(r,o,i,s)}catch(a){vn(a.message)}}),t.resumeEvaluation())}function wIe(t,e){return(Tn(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const W8="DD/MM/YYYY";function F8(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function yIe(t){return F8(t)?t.substr(1):t}function bIe(t){return typeof t=="string"&&t.startsWith("=")}function PI(t,e){return typeof t=="string"&&e==="date"}function V8(t,e){return Re(t,e,!0).isValid()}function B8(t,e){return Re(t,e,!0).format(W8)}function CIe(t,e){return Re(t,W8,!0).format(e)}function z8(t,e){const n=new Date(Date.UTC(0,0,t+-1));return Re(n).format(e)}function od(t,e,n){SIe(t,e),e.set(t,n)}function SIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dn(t,e){var n=U8(t,e,"get");return xIe(t,n)}function xIe(t,e){return e.get?e.get.call(t):e.value}function Mc(t,e,n){var r=U8(t,e,"set");return RIe(t,r,n),n}function U8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function RIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var yw=new WeakMap,_c=new WeakMap,Ai=new WeakMap,S1=new WeakMap,II=new WeakMap,NI=new WeakMap,x1=new WeakMap;class $8{constructor(e,n,r){od(this,yw,{writable:!0,value:void 0}),od(this,_c,{writable:!0,value:void 0}),od(this,Ai,{writable:!0,value:void 0}),od(this,S1,{writable:!0,value:[]}),od(this,II,{writable:!0,value:[]}),od(this,NI,{writable:!0,value:void 0}),od(this,x1,{writable:!0,value:[]}),Mc(this,yw,e),Mc(this,_c,n),Mc(this,Ai,r)}setRemovedHfIndexes(e){return Mc(this,x1,e.map(n=>{const r=Dn(this,_c).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(r)})),Dn(this,x1)}getRemovedHfIndexes(){return Dn(this,x1)}getHfIndexFromVisualIndex(e){const n=Dn(this,_c).getIndexesSequence(),r=Dn(this,_c).getNotTrimmedIndexes();return n.indexOf(r[e])}syncMoves(e){const n=`move${Fs(Dn(this,yw))}s`;Dn(this,Ai).getEngine().batch(()=>{e.forEach(r=>{const o=r.from!==r.to,i=r.from+1!==r.to;o&&i&&Dn(this,Ai).getEngine()[n](Dn(this,Ai).getSheetId(),r.from,1,r.to)})})}storeMovesInformation(e,n,r){r!==!1&&(Mc(this,II,e.map(o=>this.getHfIndexFromVisualIndex(o))),Mc(this,NI,this.getHfIndexFromVisualIndex(n)))}getMoveLine(e,n){const r=Dn(this,_c).getNumberOfIndexes(),o=Array.from(Array(r).keys()).filter(s=>e.includes(s)===!1);if(n===0){var i;return(i=o[n])!==null&&i!==void 0?i:0}return o[n-1]+1}getInitiallyCalculatedMoves(e,n){let r=this.getMoveLine(e,n);const o=[];return e.forEach(i=>{const s={from:i,to:r};o.forEach(a=>{const l=a.from>a.to,u=a.to<=s.from;a.from>s.from&&u&&l&&(s.from+=1)}),s.from>=r&&(r+=1),o.push(s)}),o}adjustedCalculatedMoves(e){return e.forEach((n,r)=>{e.slice(r+1).forEach(o=>{const i=o.from<o.to;o.from>n.from&&i&&(o.from-=1)})}),e}calculateAndSyncMoves(e,n){if(Dn(this,Ai).isPerformingUndoRedo()||e===!1||n===!1)return;const r=this.adjustedCalculatedMoves(this.getInitiallyCalculatedMoves(Dn(this,II),Dn(this,NI)));Dn(this,Ai).getSheetId()===null?Dn(this,Ai).getPostponeAction(()=>this.syncMoves(r)):this.syncMoves(r)}getIndexesChangeSyncMethod(){const e=`set${Fs(Dn(this,yw))}Order`;return n=>{if(Dn(this,Ai).isPerformingUndoRedo())return;const r=Dn(this,_c).getIndexesSequence();if(n==="update"){const o=Dn(this,S1).map(l=>r.indexOf(l)),i=Dn(this,Ai).getEngine().getSheetDimensions(Dn(this,Ai).getSheetId());let s;Dn(this,yw)==="row"?s=i.height:s=i.width;const a=o.length;for(let l=a;l<s;l+=1)o.push(l);Dn(this,Ai).getEngine()[e](Dn(this,Ai).getSheetId(),o)}Mc(this,S1,r)}}init(){Mc(this,S1,Dn(this,_c).getIndexesSequence())}}function id(t,e,n){EIe(t,e),e.set(t,n)}function EIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nu(t,e){var n=G8(t,e,"get");return kIe(t,n)}function kIe(t,e){return e.get?e.get.call(t):e.value}function sd(t,e,n){var r=G8(t,e,"set");return TIe(t,r,n),n}function G8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function TIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var R1=new WeakMap,E1=new WeakMap,HI=new WeakMap,DI=new WeakMap,LI=new WeakMap,jI=new WeakMap,WI=new WeakMap;class MIe{constructor(e,n,r){id(this,R1,{writable:!0,value:void 0}),id(this,E1,{writable:!0,value:void 0}),id(this,HI,{writable:!0,value:void 0}),id(this,DI,{writable:!0,value:!1}),id(this,LI,{writable:!0,value:!1}),id(this,jI,{writable:!0,value:null}),id(this,WI,{writable:!0,value:null}),sd(this,R1,new $8("row",e,this)),sd(this,E1,new $8("column",n,this)),sd(this,HI,r)}getForAxis(e){return e==="row"?nu(this,R1):nu(this,E1)}setPerformUndo(e){sd(this,DI,e)}setPerformRedo(e){sd(this,LI,e)}isPerformingUndoRedo(){return nu(this,DI)||nu(this,LI)}getSheetId(){return nu(this,WI)}getEngine(){return nu(this,jI)}getPostponeAction(){return nu(this,HI)}setupSyncEndpoint(e,n){sd(this,jI,e),sd(this,WI,n),nu(this,R1).init(),nu(this,E1).init()}}function Bn(t,e){Y8(t,e),e.add(t)}function Ag(t,e,n){return e=_Ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ie(t){var e=OIe(t,"string");return typeof e=="symbol"?e:String(e)}function OIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FI(t,e,n){Y8(t,e),e.set(t,n)}function Y8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oc(t,e,n){var r=q8(t,e,"set");return AIe(t,r,n),n}function AIe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Pg(t,e){var n=q8(t,e,"get");return PIe(t,n)}function q8(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function PIe(t,e){return e.get?e.get.call(t):e.value}function Cn(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const vo="formulas",IIe=["maxRows","maxColumns","language"],NIe=260;ze.getSingleton().register("afterNamedExpressionAdded"),ze.getSingleton().register("afterNamedExpressionRemoved"),ze.getSingleton().register("afterSheetAdded"),ze.getSingleton().register("afterSheetRemoved"),ze.getSingleton().register("afterSheetRenamed"),ze.getSingleton().register("afterFormulasValuesUpdate");const Ig=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var ru=new WeakMap,VI=new WeakMap,bw=new WeakMap,K8=new WeakSet,X8=new WeakSet,BI=new WeakSet,Q8=new WeakSet,zI=new WeakSet,J8=new WeakSet,Z8=new WeakSet,UI=new WeakSet,eY=new WeakSet,tY=new WeakSet,nY=new WeakSet,rY=new WeakSet,oY=new WeakSet,iY=new WeakSet,sY=new WeakSet,aY=new WeakSet,lY=new WeakSet,uY=new WeakSet,cY=new WeakSet,hY=new WeakSet,dY=new WeakSet,fY=new WeakSet,gY=new WeakSet,mY=new WeakSet;class HIe extends an{constructor(){var e;super(...arguments),e=this,Bn(this,mY),Bn(this,gY),Bn(this,fY),Bn(this,dY),Bn(this,hY),Bn(this,cY),Bn(this,uY),Bn(this,lY),Bn(this,aY),Bn(this,sY),Bn(this,iY),Bn(this,oY),Bn(this,rY),Bn(this,nY),Bn(this,tY),Bn(this,eY),Bn(this,UI),Bn(this,Z8),Bn(this,J8),Bn(this,zI),Bn(this,Q8),Bn(this,BI),Bn(this,X8),Bn(this,K8),FI(this,ru,{writable:!0,value:!1}),FI(this,VI,{writable:!0,value:!1}),FI(this,bw,{writable:!0,value:[["valuesUpdated",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,cY,QIe).call(e,...r)}],["namedExpressionAdded",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,hY,JIe).call(e,...r)}],["namedExpressionRemoved",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,dY,ZIe).call(e,...r)}],["sheetAdded",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,fY,eNe).call(e,...r)}],["sheetRenamed",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,gY,tNe).call(e,...r)}],["sheetRemoved",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Cn(e,mY,nNe).call(e,...r)}]]}),Ag(this,"staticRegister",Bs("formulas")),Ag(this,"engine",null),Ag(this,"sheetName",null),Ag(this,"indexSyncer",null),Ag(this,"rowAxisSyncer",null),Ag(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return vo}static get PLUGIN_PRIORITY(){return NIe}static get SETTING_KEYS(){return[vo,...IIe]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[vo]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=fIe(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){vn("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const r=this.addSheet(this.sheetName,this.hot.getSourceDataArray());r!==!1&&(this.sheetName=r)}this.addHook("beforeLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,BI,pY).call(n,...o)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,zI,vY).call(n,...o)}),this.addHook("beforeUpdateData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,BI,pY).call(n,...o)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,zI,vY).call(n,...o)}),this.addHook("modifyData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,J8,WIe).call(n,...o)}),this.addHook("modifySourceData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,Z8,FIe).call(n,...o)}),this.addHook("beforeValidate",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,K8,DIe).call(n,...o)}),this.addHook("afterSetSourceDataAtCell",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,eY,VIe).call(n,...o)}),this.addHook("afterSetDataAtCell",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,UI,wY).call(n,...o)}),this.addHook("afterSetDataAtRowProp",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,UI,wY).call(n,...o)}),this.addHook("beforeCreateRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,tY,BIe).call(n,...o)}),this.addHook("beforeCreateCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,nY,zIe).call(n,...o)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,iY,GIe).call(n,...o)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,sY,YIe).call(n,...o)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,rY,UIe).call(n,...o)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,oY,$Ie).call(n,...o)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,aY,qIe).call(n,...o)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,lY,KIe).call(n,...o)}),this.indexSyncer=new MIe(this.hot.rowIndexMapper,this.hot.columnIndexMapper,r=>{this.hot.addHookOnce("init",()=>{r()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(r,o,i,s)=>{this.rowAxisSyncer.storeMovesInformation(r,o,s)}),this.hot.addHook("beforeColumnMove",(r,o,i,s)=>{this.columnAxisSyncer.storeMovesInformation(r,o,s)}),this.hot.addHook("afterRowMove",(r,o,i,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(r,o,i,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(r,o)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart,o)}),this.hot.addHook("afterColumnFreeze",(r,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.hot.addHook("beforeColumnUnfreeze",(r,o)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart-1,o)}),this.hot.addHook("afterColumnUnfreeze",(r,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.addHook("afterCellMetaReset",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,Q8,jIe).call(n,...o)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,uY,XIe).call(n,...o)}),this.addHook("beforeAutofill",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Cn(n,X8,LIe).call(n,...o)}),Pg(this,bw).forEach(r=>{let[o,i]=r;return this.engine.on(o,i)}),super.enablePlugin()}}disablePlugin(){Pg(this,bw).forEach(e=>{let[n,r]=e;return this.engine.off(n,r)}),j8(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=hIe(this.hot.getSettings());dIe(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const r=this.hot.getSettings()[vo];if(Fe(r)&&Fe(r.sheetName)&&r.sheetName!==this.sheetName&&this.switchSheet(r.sheetName),!e.data&&this.sheetName===null){const o=this.hot.getSettings()[vo].sheetName;o&&this.engine.doesSheetExist(o)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(o??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){Pg(this,bw).forEach(e=>{var n;let[r,o]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(r,o)}),Oc(this,bw,null),j8(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(Fe(n)&&!Kbe(n))return vn("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return vn("Sheet with the provided name already exists."),!1;try{const r=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(r),n),r}catch(r){return vn(r.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){HM(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Fs(vo)}.switchSheet`)}getCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const o=this.hot.toPhysicalRow(e),i=this.hot.toPhysicalColumn(n);return o!==null&&i!==null?this.engine.getCellType({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=new Set;e.forEach(o=>{var i;const s=o==null||(i=o.address)===null||i===void 0?void 0:i.sheet;s!==void 0&&(r.has(s)||r.add(s))}),L8(this.engine).forEach((o,i)=>{if((n||i!==this.sheetId)&&r.has(i)){var s;o.render(),(s=o.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=i=>{var s;const{row:a,col:l,sheet:u}=(s=i==null?void 0:i.address)!==null&&s!==void 0?s:{};return Fe(u)?`${u}:${a}x${l}`:""},o=new Set(n.map(i=>r(i)));e.forEach(i=>{var s,a;const{row:l,col:u}=(s=i.address)!==null&&s!==void 0?s:{};if(Fe(l)===!1||Fe(u)===!1||l>=this.hot.countRows()||u>=this.hot.countCols())return;const c=i==null||(a=i.address)===null||a===void 0?void 0:a.sheet,h=r(i);if(c!==void 0&&!o.has(h)){const d=L8(this.engine).get(c);if(!d)return;d.validateCell(d.getDataAtCell(l,u),d.getCellMeta(l,u),()=>{})}})}syncChangeWithEngine(e,n,r){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(o)){vn(`Not possible to set cell data at ${JSON.stringify(o)}`);return}const i=this.hot.getCellMeta(e,n);return PI(r,i.type)&&(V8(r,i.dateFormat)?r=B8(r,i.dateFormat):bIe(r)===!1&&(r=`'${r}`)),this.engine.setCellContents(o,r)}}function DIe(t,e,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(e,r)){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},i=this.hot.getCellMeta(e,r);let s=this.engine.getCellValue(o);return i.type==="date"&&Jo(s)&&(s=z8(s,i.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function LIe(t,e,n){const{row:r,col:o}=e.getTopStartCorner(),{row:i,col:s}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(d)===!1)return!1;const g=this.engine.getFillRangeData(h,d),{row:p,col:w}=h.start,{row:C,col:v}=h.end,y=C-p+1,x=v-w+1;for(let M=0;M<g.length;M+=1)for(let _=0;_<g[M].length;_+=1){const T=g[M][_],O=M%y,I=_%x,N=this.hot.getCellMeta(O,I);PI(T,N.type)&&(T.startsWith("'")?g[M][_]=T.slice(1):this.isFormulaCellType(O,I,this.sheetId)===!1&&(g[M][_]=CIe(T,N.dateFormat)))}return g}function pY(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Fs(vo))||Oc(this,VI,Tn(this.hot.getSettings().data))}function jIe(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach((n,r)=>{n.forEach((o,i)=>{const s=this.hot.getCellMeta(r,i),a=s.dateFormat;PI(o,s.type)&&(e=!0,V8(o,a)?t[r][i]=B8(o,a):this.isFormulaCellType(r,i)===!1&&(t[r][i]=`'${o}`))})}),e===!0&&(Oc(this,ru,!0),this.engine.setSheetContent(this.sheetId,t),Oc(this,ru,!1))}function vY(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Fs(vo)))if(this.sheetName=wIe(this.engine,this.hot.getSettings()[vo].sheetName),Pg(this,VI))this.switchSheet(this.sheetName);else{const n=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,n)){Oc(this,ru,!0);const r=this.engine.setSheetContent(this.sheetId,n);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(r),Oc(this,ru,!1)}}}function WIe(t,e,n,r){if(r!=="get"||Pg(this,ru)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t);if(o===null||e===null)return;if(!this.isFormulaCellType(o,e)&&this.getCellType(o,e)!=="ARRAY"){F8(n.value)&&(n.value=yIe(n.value));return}const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let s=this.engine.getCellValue(i);const a=this.hot.getCellMeta(o,e);a.type==="date"&&Jo(s)&&(s=z8(s,a.dateFormat));const l=typeof s=="object"&&s!==null?s.value:s;n.value=l}function FIe(t,e,n,r){if(r!=="get"||Pg(this,ru)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t),i=this.hot.propToCol(e);if(o===null||i===null||!this.isFormulaCellType(o,i)&&this.getCellType(o,i)!=="ARRAY")return;const s=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(s.width===0&&s.height===0)return;const a={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId};n.value=this.engine.getCellSerialized(a)}function wY(t,e){if(Ig(e))return;const n=[],r=[],o=this.engine.batch(()=>{t.forEach(i=>{let[s,a,,l]=i;const u=this.hot.propToCol(a),c=this.hot.toPhysicalRow(s),h=this.hot.toPhysicalColumn(u),d={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId};c!==null&&h!==null?this.syncChangeWithEngine(s,u,l):n.push([s,u,l]),r.push({address:d})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const i=this.engine.batch(()=>{n.forEach(s=>{let[a,l,u]=s;this.syncChangeWithEngine(a,l,u)})});this.renderDependentSheets(i,!0)}),this.renderDependentSheets(o),this.validateDependentCells(o,r)}function VIe(t,e){if(Ig(e))return;const n=[],r=[];t.forEach(o=>{let[i,s,,a]=o;const l=this.hot.propToCol(s);if(!Jo(l))return;const u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(u)){vn(`Not possible to set source cell data at ${JSON.stringify(u)}`);return}r.push({address:u}),n.push(...this.engine.setCellContents(u,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function BIe(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function zIe(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function UIe(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(r=>this.engine.isItPossibleToRemoveRows(this.sheetId,[r,1]))===!1?!1:void 0}function $Ie(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(r=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[r,1]))===!1?!1:void 0}function GIe(t,e,n){if(Ig(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function YIe(t,e,n){if(Ig(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function qIe(t,e,n,r){if(Ig(r))return;const o=this.rowAxisSyncer.getRemovedHfIndexes().sort().reverse(),i=this.engine.batch(()=>{o.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(i)}function KIe(t,e,n,r){if(Ig(r))return;const o=this.columnAxisSyncer.getRemovedHfIndexes().sort().reverse(),i=this.engine.batch(()=>{o.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(i)}function XIe(t,e,n){var r;Oc(this,ru,!0);const o=this.hot.getSourceDataArray(n,0,n+(((r=e.__children)===null||r===void 0?void 0:r.length)||0),this.hot.countSourceCols());Oc(this,ru,!1),o.forEach((i,s)=>{i.forEach((a,l)=>{this.engine.setCellContents({col:l,row:n+s,sheet:this.sheetId},[[a]])})})}function QIe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function JIe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function ZIe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function eNe(t){this.hot.runHooks("afterSheetAdded",t)}function tNe(t,e){this.hot.runHooks("afterSheetRenamed",t,e)}function nNe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function rNe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,r,,o]=e;r-o!==0&&(n=1)}return this.getTranslatedPhrase(MO,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.col,n.col),0),o=Math.max(e.col,n.col),i=[];for(let l=r;l<=o;l+=1)i.push(l);t.hideColumns(i);const s=i[i.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function oNe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(_O,n)},callback(){var n,r;if(e.length===0)return;let o=e[0],i=e[e.length-1];o=(n=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,i=(r=this.columnIndexMapper.getNearestNotHiddenIndex(i+1,1))!==null&&r!==void 0?r:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(!0),i-o+1===this.countCols()||this.selectColumns(o,i)},disabled:!1,hidden(){const n=Pt(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),o=r.getTopStartCorner().col,i=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(o),l=s.getRenderableFromVisualIndex(i),u=s.getNotTrimmedIndexes(),c=[];if(o!==i){const h=i-o+1,d=l-a+1;if(h>d){const g=u.slice(o,i+1);c.push(...g.filter(p=>n.includes(p)))}}else if(a===0&&a<o)c.push(...u.slice(0,o));else if(a===null)c.push(...u.slice(0,this.countCols()));else{const h=this.countCols()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>i&&c.push(...u.slice(i+1))}return F(c,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function Ng(t,e){bY(t,e),e.add(t)}function yY(t,e,n){bY(t,e),e.set(t,n)}function bY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function Pi(t,e){var n=CY(t,e,"get");return iNe(t,n)}function iNe(t,e){return e.get?e.get.call(t):e.value}function Cw(t,e,n){var r=CY(t,e,"set");return sNe(t,r,n),n}function CY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function sNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}ze.getSingleton().register("beforeHideColumns"),ze.getSingleton().register("afterHideColumns"),ze.getSingleton().register("beforeUnhideColumns"),ze.getSingleton().register("afterUnhideColumns");const $I="hiddenColumns",aNe=310;var Ya=new WeakMap,qa=new WeakMap,SY=new WeakSet,xY=new WeakSet,RY=new WeakSet,EY=new WeakSet,kY=new WeakSet,TY=new WeakSet;class lNe extends an{constructor(){super(...arguments),Ng(this,TY),Ng(this,kY),Ng(this,EY),Ng(this,RY),Ng(this,xY),Ng(this,SY),yY(this,Ya,{writable:!0,value:{}}),yY(this,qa,{writable:!0,value:null})}static get PLUGIN_KEY(){return $I}static get PLUGIN_PRIORITY(){return aNe}isEnabled(){return!!this.hot.getSettings()[$I]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[$I];Ot(n)&&(Cw(this,Ya,n),Tn(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Cw(this,qa,new MC),Pi(this,qa).addLocalHook("init",()=>Hg(this,TY,gNe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Pi(this,qa)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Hg(e,kY,fNe).call(e,...o)}),this.addHook("afterGetCellMeta",(r,o,i)=>Hg(this,xY,cNe).call(this,r,o,i)),this.addHook("modifyColWidth",(r,o)=>Hg(this,SY,uNe).call(this,r,o)),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Hg(e,EY,dNe).call(e,...o)}),this.addHook("modifyCopyableRange",r=>Hg(this,RY,hNe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Cw(this,Ya,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let o=n;const i=Pi(this,qa).getValues().slice(),s=e.length>0;if(r&&s){const a=e.map(l=>this.hot.toPhysicalColumn(l));F(a,l=>{i[l]=!1}),o=fo(i,(l,u,c)=>(u&&l.push(this.hot.toVisualColumn(c)),l),[])}this.hot.runHooks("beforeUnhideColumns",n,o,r&&s)!==!1&&(r&&s&&Pi(this,qa).setValues(i),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,o,r&&s,r&&o.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{Pi(this,qa).setValueAtIndex(this.hot.toPhysicalColumn(i),!0)})},!0),this.hot.runHooks("afterHideColumns",n,o,r,r&&o.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideColumns(n)}getHiddenColumns(){return Pt(Pi(this,qa).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return Pi(this,qa).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){Cw(this,Ya,null),Cw(this,qa,null),super.destroy()}}function uNe(t,e){if(this.isHidden(e))return 0;if(Pi(this,Ya).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function cNe(t,e,n){if(Pi(this,Ya).copyPasteEnabled===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const r=n.className.split(" ");if(r.length>0){const o=r.indexOf("afterHiddenColumn");o>-1&&r.splice(o,1),n.className=r.join(" ")}}}function hNe(t){if(Pi(this,Ya).copyPasteEnabled)return t;const e=[],n=(r,o,i,s)=>{e.push({startRow:r,endRow:o,startCol:i,endCol:s})};return F(t,r=>{let o=!0,i=0;Ke(r.startCol,r.endCol,s=>{this.isHidden(s)?(o||n(r.startRow,r.endRow,i,s-1),o=!0):(o&&(i=s),s===r.endCol&&n(r.startRow,r.endRow,i,s),o=!1)})}),e}function dNe(t,e){if(!Pi(this,Ya).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),ke(e,n)}function fNe(t){t.items.push({name:Nt},rNe(this),oNe(this))}function gNe(){Array.isArray(Pi(this,Ya).columns)&&this.hideColumns(Pi(this,Ya).columns)}function mNe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[r,,o]=e;r-o!==0&&(n=1)}return this.getTranslatedPhrase(OO,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.row,n.row),0),o=Math.max(e.row,n.row),i=[];for(let l=r;l<=o;l+=1)i.push(l);t.hideRows(i);const s=i[i.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function pNe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(AO,n)},callback(){var n,r;if(e.length===0)return;let o=e[0],i=e[e.length-1];o=(n=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,i=(r=this.rowIndexMapper.getNearestNotHiddenIndex(i+1,1))!==null&&r!==void 0?r:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(!0),i-o+1===this.countRows()||this.selectRows(o,i)},disabled:!1,hidden(){const n=Pt(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),o=r.getTopStartCorner().row,i=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(o),l=s.getRenderableFromVisualIndex(i),u=s.getNotTrimmedIndexes(),c=[];if(o!==i){const h=i-o+1,d=l-a+1;if(h>d){const g=u.slice(o,i+1);c.push(...g.filter(p=>n.includes(p)))}}else if(a===0&&a<o)c.push(...u.slice(0,o));else if(a===null)c.push(...u.slice(0,this.countRows()));else{const h=this.countRows()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>i&&c.push(...u.slice(i+1))}return F(c,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function Dg(t,e){_Y(t,e),e.add(t)}function MY(t,e,n){_Y(t,e),e.set(t,n)}function _Y(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ws(t,e){var n=OY(t,e,"get");return vNe(t,n)}function vNe(t,e){return e.get?e.get.call(t):e.value}function Sw(t,e,n){var r=OY(t,e,"set");return wNe(t,r,n),n}function OY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function wNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}ze.getSingleton().register("beforeHideRows"),ze.getSingleton().register("afterHideRows"),ze.getSingleton().register("beforeUnhideRows"),ze.getSingleton().register("afterUnhideRows");const GI="hiddenRows",yNe=320;var ou=new WeakMap,Ka=new WeakMap,AY=new WeakSet,PY=new WeakSet,IY=new WeakSet,NY=new WeakSet,HY=new WeakSet,DY=new WeakSet;class bNe extends an{constructor(){super(...arguments),Dg(this,DY),Dg(this,HY),Dg(this,NY),Dg(this,IY),Dg(this,PY),Dg(this,AY),MY(this,ou,{writable:!0,value:{}}),MY(this,Ka,{writable:!0,value:null})}static get PLUGIN_KEY(){return GI}static get PLUGIN_PRIORITY(){return yNe}isEnabled(){return!!this.hot.getSettings()[GI]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[GI];Ot(n)&&(Sw(this,ou,n),Tn(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Sw(this,Ka,new MC),ws(this,Ka).addLocalHook("init",()=>Lg(this,DY,kNe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,ws(this,Ka)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Lg(e,HY,ENe).call(e,...o)}),this.addHook("afterGetCellMeta",(r,o,i)=>Lg(this,PY,SNe).call(this,r,o,i)),this.addHook("modifyRowHeight",(r,o)=>Lg(this,AY,CNe).call(this,r,o)),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Lg(e,NY,RNe).call(e,...o)}),this.addHook("modifyCopyableRange",r=>Lg(this,IY,xNe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),Sw(this,ou,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let o=n;const i=ws(this,Ka).getValues().slice(),s=e.length>0;if(r&&s){const a=e.map(l=>this.hot.toPhysicalRow(l));F(a,l=>{i[l]=!1}),o=fo(i,(l,u,c)=>(u&&l.push(this.hot.toVisualRow(c)),l),[])}this.hot.runHooks("beforeUnhideRows",n,o,r&&s)!==!1&&(r&&s&&ws(this,Ka).setValues(i),this.hot.runHooks("afterUnhideRows",n,o,r&&s,r&&o.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{ws(this,Ka).setValueAtIndex(this.hot.toPhysicalRow(i),!0)})},!0),this.hot.runHooks("afterHideRows",n,o,r,r&&o.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideRows(n)}getHiddenRows(){return Pt(ws(this,Ka).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return ws(this,Ka).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){Sw(this,ou,null),Sw(this,Ka,null),super.destroy()}}function CNe(t,e){return this.isHidden(e)?0:t}function SNe(t,e,n){if(ws(this,ou).copyPasteEnabled===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const r=n.className.split(" ");if(r.length>0){const o=r.indexOf("afterHiddenRow");o>-1&&r.splice(o,1),n.className=r.join(" ")}}}function xNe(t){if(ws(this,ou).copyPasteEnabled)return t;const e=[],n=(r,o,i,s)=>{e.push({startRow:r,endRow:o,startCol:i,endCol:s})};return F(t,r=>{let o=!0,i=0;Ke(r.startRow,r.endRow,s=>{this.isHidden(s)?(o||n(i,s-1,r.startCol,r.endCol),o=!0):(o&&(i=s),s===r.endRow&&n(i,s,r.startCol,r.endCol),o=!1)})}),e}function RNe(t,e){if(!ws(this,ou).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),ke(e,n)}function ENe(t){t.items.push({name:Nt},mNe(this),pNe(this))}function kNe(){Array.isArray(ws(this,ou).rows)&&this.hideRows(ws(this,ou).rows)}function TNe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(oO)},callback(e,n){const[{start:{col:r}}]=n;t.freezeColumn(r),this.render(),this.view.adjustElementsSize(!0)},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function MNe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(iO)},callback(e,n){const[{start:{col:r}}]=n;t.unfreezeColumn(r),this.render(),this.view.adjustElementsSize(!0)},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function LY(t,e){jY(t,e),e.add(t)}function _Ne(t,e,n){jY(t,e),e.set(t,n)}function jY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YI(t,e){var n=WY(t,e,"get");return ONe(t,n)}function ONe(t,e){return e.get?e.get.call(t):e.value}function qI(t,e,n){var r=WY(t,e,"set");return ANe(t,r,n),n}function WY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ANe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function FY(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("beforeColumnFreeze"),ze.getSingleton().register("afterColumnFreeze"),ze.getSingleton().register("beforeColumnUnfreeze"),ze.getSingleton().register("afterColumnUnfreeze");const VY="manualColumnFreeze",PNe=110;var ad=new WeakMap,BY=new WeakSet,zY=new WeakSet;class INe extends an{constructor(){super(...arguments),LY(this,zY),LY(this,BY),_Ne(this,ad,{writable:!0,value:!1})}static get PLUGIN_KEY(){return VY}static get PLUGIN_PRIORITY(){return PNe}isEnabled(){return!!this.hot.getSettings()[VY]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>FY(this,BY,NNe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>FY(this,zY,HNe).call(this,e,n)),super.enablePlugin())}disablePlugin(){qI(this,ad,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;YI(this,ad)||qI(this,ad,!0),this.hot.runHooks("beforeColumnFreeze",e,r)!==!1&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}unfreezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;YI(this,ad)||qI(this,ad,!0),this.hot.runHooks("beforeColumnUnfreeze",e,r)!==!1&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}}function NNe(t){t.items.push({name:"---------"},TNe(this),MNe(this))}function HNe(t,e){if(YI(this,ad)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(r=>r<n))return!1}}function k1(t,e,n){return e=DNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DNe(t){var e=LNe(t,"string");return typeof e=="symbol"?e:String(e)}function LNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const KI=0,UY=1,$Y=2,jg="px";let GY=class{constructor(t){k1(this,"hot",void 0),k1(this,"_element",null),k1(this,"state",KI),k1(this,"inlineProperty",void 0),this.hot=t,this.inlineProperty=t.isRtl()?"right":"left"}appendTo(t){t.appendChild(this._element),this.state=$Y}build(){this.state===KI&&(this._element=this.hot.rootDocument.createElement("div"),this.state=UY)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=KI}isAppended(){return this.state===$Y}isBuilt(){return this.state>=UY}setPosition(t,e){Jo(t)&&(this._element.style.top=t+jg),Jo(e)&&(this._element.style[this.inlineProperty]=e+jg)}getPosition(){const t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}setSize(t,e){Jo(t)&&(this._element.style.width=t+jg),Jo(e)&&(this._element.style.height=e+jg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){Jo(t)&&(this._element.style.marginTop=t+jg),Jo(e)&&(this._element.style[`margin${Fs(this.inlineProperty)}`]=e+jg)}getOffset(){const t=this._element.style,e=`margin${Fs(this.inlineProperty)}`;return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[e]?parseInt(t[e],10):0}}};const jNe="ht__manualColumnMove--backlight";let WNe=class extends GY{build(){super.build(),ke(this._element,jNe)}};const FNe="ht__manualColumnMove--guideline";let VNe=class extends GY{build(){super.build(),ke(this._element,FNe)}};function Wg(t,e){YY(t,e),e.add(t)}function ra(t,e,n){YY(t,e),e.set(t,n)}function YY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function si(t,e,n){var r=qY(t,e,"set");return BNe(t,r,n),n}function BNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qe(t,e){var n=qY(t,e,"get");return zNe(t,n)}function qY(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function zNe(t,e){return e.get?e.get.call(t):e.value}function Fg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("beforeColumnMove"),ze.getSingleton().register("afterColumnMove");const XI="manualColumnMove",UNe=120,KY="ht__manualColumnMove",T1="show-ui",QI="on-moving--columns",JI="after-selection--columns";var No=new WeakMap,Ac=new WeakMap,iu=new WeakMap,M1=new WeakMap,Pc=new WeakMap,Ho=new WeakMap,_1=new WeakMap,ys=new WeakMap,Vg=new WeakMap,O1=new WeakMap,xw=new WeakMap,XY=new WeakSet,QY=new WeakSet,JY=new WeakSet,ZY=new WeakSet,e5=new WeakSet,t5=new WeakSet;class $Ne extends an{constructor(){super(...arguments),Wg(this,t5),Wg(this,e5),Wg(this,ZY),Wg(this,JY),Wg(this,QY),Wg(this,XY),ra(this,No,{writable:!0,value:new WNe(this.hot)}),ra(this,Ac,{writable:!0,value:new VNe(this.hot)}),ra(this,iu,{writable:!0,value:[]}),ra(this,M1,{writable:!0,value:0}),ra(this,Pc,{writable:!0,value:!1}),ra(this,Ho,{writable:!0,value:{}}),ra(this,_1,{writable:!0,value:void 0}),ra(this,ys,{writable:!0,value:void 0}),ra(this,Vg,{writable:!0,value:void 0}),ra(this,O1,{writable:!0,value:void 0}),ra(this,xw,{writable:!0,value:void 0})}static get PLUGIN_KEY(){return XI}static get PLUGIN_PRIORITY(){return UNe}isEnabled(){return!!this.hot.getSettings()[XI]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Fg(e,XY,GNe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Fg(e,JY,qNe).call(e,...r)}),this.addHook("afterScrollVertically",()=>Fg(this,e5,XNe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Fg(e,t5,QNe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),ke(this.hot.rootElement,KY),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Rt(this.hot.rootElement,KY),this.unregisterEvents(),qe(this,No).destroy(),qe(this,Ac).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const r=qe(this,_1),o=this.isMovePossible(e,n),i=this.hot.runHooks("beforeColumnMove",e,n,r,o);if(si(this,_1,void 0),i===!1)return;o&&this.hot.columnIndexMapper.moveIndexes(e,n);const s=o&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,r,o,s),s}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const r=this.countFinalIndex(e,n);return si(this,_1,n),this.moveColumns(e,r)}isMovePossible(e,n){const r=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>r,i=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(o||i||s||a)}isColumnOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}countFinalIndex(e,n){const r=fo(e,(o,i)=>(i<n&&(o+=1),o),0);return n-r}getColumnsWidth(e,n){const r=this.hot.columnIndexMapper;let o=0;for(let i=e;i<=n;i+=1){const s=r.getRenderableFromVisualIndex(i);i<0?o+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(o+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[XI];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const r=[];return Ke(e,n,o=>{r.push(o)}),r}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(qe(this,ys))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,o=typeof r.scrollX=="number"?r.scrollX:r.scrollLeft;let i=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,qe(this,ys)-1);const s=n.hider.offsetWidth,a=n.TBODY.offsetLeft,l=qe(this,No).getOffset().start,u=qe(this,No).getSize().width;let c=0,h=0;if(this.hot.isRtl()){const p=this.hot.rootWindow,w=pn(this.hot.rootElement),C=p.innerWidth-qe(this,Vg)-w;h=p.innerWidth-qe(this,Ho).eventPageX-C-(r.scrollX===void 0?o:0)}else h=qe(this,Ho).eventPageX-(qe(this,Vg)-(r.scrollX===void 0?o:0));if(qe(this,O1)&&(c=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(qe(this,ys))&&(i+=o),i+=c,qe(this,ys)<0)qe(this,xw)>0?qe(this,Ho).col=0:qe(this,Ho).col=e>0?e-1:e;else if(qe(this,Ho).TD.offsetWidth/2+i<=h){const p=qe(this,ys)>=qe(this,M1)?qe(this,M1)-1:qe(this,ys);qe(this,Ho).col=p+1,i+=qe(this,Ho).TD.offsetWidth}else qe(this,Ho).col=qe(this,ys);let d=h,g=i;h+u+l>=s?d=s-u-l:h+l<a+c&&(d=a+c+Math.abs(l)),i>=s-1?g=s-1:g===0?g=1:r.scrollX!==void 0&&qe(this,ys)<qe(this,xw)&&(g-=qe(this,Vg)<=r.scrollX?qe(this,Vg):0),qe(this,No).setPosition(null,d),qe(this,Ac).setPosition(null,g)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Fg(this,QY,YNe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Fg(this,ZY,KNe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){qe(this,No).build(),qe(this,Ac).build()}destroy(){qe(this,No).destroy(),qe(this,Ac).destroy(),super.destroy()}}function GNe(t,e,n,r){const o=this.hot.view._wt.wtTable,i=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=yt(t.target,"sortAction");if(!s||!i||qe(this,Pc)||t.button!==0||a){si(this,Pc,!1),qe(this,iu).length=0,Rt(this.hot.rootElement,[QI,T1]);return}const l=qe(this,Ac).isBuilt()&&!qe(this,Ac).isAppended(),u=qe(this,No).isBuilt()&&!qe(this,No).isAppended();l&&u&&(qe(this,Ac).appendTo(o.hider),qe(this,No).appendTo(o.hider));const{from:c,to:h}=s,d=Math.min(c.col,h.col),g=Math.max(c.col,h.col);if(e.row<0&&e.col>=d&&e.col<=g){r.column=!0,si(this,Pc,!0);const p=n.firstChild?zpe(t,n.firstChild).x:t.offsetX;qe(this,Ho).eventPageX=t.pageX,si(this,ys,e.col),qe(this,Ho).TD=n,qe(this,Ho).col=e.col,si(this,iu,this.prepareColumnsToMoving(d,g)),si(this,O1,!!this.hot.getSettings().rowHeaders),si(this,M1,this.hot.countCols()),si(this,xw,this.hot.getSettings().fixedColumnsStart),si(this,Vg,Dr(this.hot.rootElement).left);const w=qe(this,O1)?-1:0,C=o.holder.scrollTop+o.getColumnHeaderHeight(0)+1,v=e.col<qe(this,xw),y=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),x=Math.abs(p-(this.hot.isRtl()?n.offsetWidth:0)),M=this.getColumnsWidth(d,e.col-1)+x,_=this.getColumnsWidth(w,d-1)+(v?y:0)+M;qe(this,No).setPosition(C,_),qe(this,No).setSize(this.getColumnsWidth(d,g),o.hider.offsetHeight-C),qe(this,No).setOffset(null,-M),ke(this.hot.rootElement,QI)}else Rt(this.hot.rootElement,JI),si(this,Pc,!1),qe(this,iu).length=0}function YNe(t){qe(this,Pc)&&(qe(this,Ho).eventPageX=t.pageX,this.refreshPositions())}function qNe(t,e,n,r){!this.hot.getSelectedRangeLast()||!qe(this,Pc)||(qe(this,iu).indexOf(e.col)>-1?Rt(this.hot.rootElement,T1):ke(this.hot.rootElement,T1),r.row=!0,r.column=!0,r.cell=!0,si(this,ys,e.col),qe(this,Ho).TD=n)}function KNe(){const t=qe(this,Ho).col,e=qe(this,iu).length;if(si(this,ys,void 0),si(this,Pc,!1),Rt(this.hot.rootElement,[QI,T1,JI]),this.hot.selection.isSelectedByColumnHeader()&&ke(this.hot.rootElement,JI),e<1||t===void 0)return;const n=qe(this,iu)[0],r=this.hot.toPhysicalColumn(n),o=this.dragColumns(qe(this,iu),t);if(qe(this,iu).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const i=this.hot.toVisualColumn(r),s=i+e-1;this.hot.selectColumns(i,s)}}function XNe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,r=e+n;qe(this,No).setPosition(r),qe(this,No).setSize(null,t.hider.offsetHeight-r)}function QNe(){this.moveBySettingsOrLoad()}function su(t,e){n5(t,e),e.add(t)}function wo(t,e,n){n5(t,e),e.set(t,n)}function n5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function au(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function sr(t,e,n){var r=r5(t,e,"set");return JNe(t,r,n),n}function JNe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Le(t,e){var n=r5(t,e,"get");return ZNe(t,n)}function r5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ZNe(t,e){return e.get?e.get.call(t):e.value}const A1="manualColumnResize",eHe=130,o5="manualColumnWidths";var lu=new WeakMap,P1=new WeakMap,Ii=new WeakMap,I1=new WeakMap,Xa=new WeakMap,tHe=new WeakMap,Bg=new WeakMap,N1=new WeakMap,ai=new WeakMap,uu=new WeakMap,ld=new WeakMap,H1=new WeakMap,Rw=new WeakMap,Ew=new WeakMap,Ni=new WeakMap,kw=new WeakMap,i5=new WeakSet,s5=new WeakSet,a5=new WeakSet,l5=new WeakSet,u5=new WeakSet,c5=new WeakSet,h5=new WeakSet,d5=new WeakSet,f5=new WeakSet;class nHe extends an{static get PLUGIN_KEY(){return A1}static get PLUGIN_PRIORITY(){return eHe}constructor(e){super(e),su(this,f5),su(this,d5),su(this,h5),su(this,c5),su(this,u5),su(this,l5),su(this,a5),su(this,s5),su(this,i5),wo(this,lu,{writable:!0,value:null}),wo(this,P1,{writable:!0,value:null}),wo(this,Ii,{writable:!0,value:[]}),wo(this,I1,{writable:!0,value:null}),wo(this,Xa,{writable:!0,value:null}),wo(this,tHe,{writable:!0,value:null}),wo(this,Bg,{writable:!0,value:null}),wo(this,N1,{writable:!0,value:null}),wo(this,ai,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),wo(this,uu,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),wo(this,ld,{writable:!0,value:null}),wo(this,H1,{writable:!0,value:!1}),wo(this,Rw,{writable:!0,value:0}),wo(this,Ew,{writable:!0,value:null}),wo(this,Ni,{writable:!0,value:void 0}),wo(this,kw,{writable:!0,value:void 0}),ke(Le(this,ai),"manualColumnResizer"),ke(Le(this,uu),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[A1]}enablePlugin(){this.enabled||(sr(this,Ni,new fc),Le(this,Ni).addLocalHook("init",()=>au(this,i5,rHe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Le(this,Ni)),this.addHook("modifyColWidth",(e,n)=>au(this,h5,uHe).call(this,e,n)),this.addHook("beforeStretchingColumnWidth",(e,n)=>au(this,d5,cHe).call(this,e,n)),this.addHook("beforeColumnResize",(e,n,r)=>au(this,f5,hHe).call(this,e,n,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){sr(this,kw,Le(this,Ni).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",o5,Le(this,Ni).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",o5,e),e.value}setManualSize(e,n){const r=Math.max(n,20),o=this.hot.toPhysicalColumn(e);return Le(this,Ni).setValueAtIndex(o,r),r}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);Le(this,Ni).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;sr(this,lu,e);const{_wt:n}=this.hot.view,r=n.wtTable.getCoords(Le(this,lu)),o=r.col;if(o<0)return;const i=Kn(Le(this,lu)),s=Le(this,lu).getBoundingClientRect(),a=o<n.getSetting("fixedColumnsStart");let l;a&&(l=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Le(this,lu),r.row,r.col)),l||(l=n.wtOverlays.topOverlay.getRelativeCellPosition(Le(this,lu),r.row,r.col)),sr(this,P1,this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)),sr(this,Ii,[]);const u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&u){const c=this.hot.getSelectedRange();F(c,h=>{const d=h.getTopStartCorner().col,g=h.getBottomEndCorner().col;Ke(d,g,p=>{Le(this,Ii).includes(p)||Le(this,Ii).push(p)})})}Le(this,Ii).includes(Le(this,P1))||sr(this,Ii,[Le(this,P1)]),sr(this,N1,l.start-6),sr(this,Bg,parseInt(s.width,10)),Le(this,ai).style.top=`${l.top}px`,Le(this,ai).style[this.inlineDir]=`${Le(this,N1)+Le(this,Bg)}px`,Le(this,ai).style.height=`${i}px`,this.hot.rootElement.appendChild(Le(this,ai))}refreshHandlePosition(){Le(this,ai).style[this.inlineDir]=`${Le(this,N1)+Le(this,I1)}px`}setupGuidePosition(){const e=parseInt(Kn(Le(this,ai)),10),n=parseInt(Le(this,ai).style.top,10)+e,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ke(Le(this,ai),"active"),ke(Le(this,uu),"active"),Le(this,uu).style.top=`${n}px`,this.refreshGuidePosition(),Le(this,uu).style.height=`${r-e}px`,this.hot.rootElement.appendChild(Le(this,uu))}refreshGuidePosition(){Le(this,uu).style[this.inlineDir]=Le(this,ai).style[this.inlineDir]}hideHandleAndGuide(){Rt(Le(this,ai),"active"),Rt(Le(this,uu),"active")}checkIfColumnHeader(e){const n=xh(e,["THEAD"],this.hot.rootElement),{topOverlay:r,topInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.THEAD,o.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},n=(r,o)=>{const i=this.hot.runHooks("beforeColumnResize",Le(this,Xa),r,!0);i!==void 0&&sr(this,Xa,i),this.hot.getSettings().stretchH==="all"?this.clearManualSize(r):this.setManualSize(r,Le(this,Xa)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Le(this,Xa),r,!0),o&&e()};Le(this,Rw)>=2&&(Le(this,Ii).length>1?(F(Le(this,Ii),r=>{n(r)}),e()):F(Le(this,Ii),r=>{n(r,!0)})),sr(this,Rw,0),sr(this,Ew,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",r=>au(this,s5,oHe).call(this,r)),this.eventManager.addEventListener(n,"mousedown",r=>au(this,a5,iHe).call(this,r)),this.eventManager.addEventListener(e,"mousemove",r=>au(this,l5,sHe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>au(this,u5,aHe).call(this)),this.eventManager.addEventListener(Le(this,ai),"contextmenu",()=>au(this,c5,lHe).call(this))}destroy(){super.destroy()}}function rHe(){const t=this.hot.getSettings()[A1],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,r)=>{Le(this,Ni).setValueAtIndex(r,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,r)=>{Le(this,Ni).setValueAtIndex(r,n)})},!0),sr(this,kw,t)):t===!0&&Array.isArray(Le(this,kw))&&this.hot.batchExecution(()=>{Le(this,kw).forEach((n,r)=>{Le(this,Ni).setValueAtIndex(r,n)})},!0)}function oHe(t){if(!uz(t.target)&&Le(this,H1)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(Le(this,ld)||this.setupHandlePosition(e))}}function iHe(t){yt(t.target,"manualColumnResizer")&&(this.setupHandlePosition(Le(this,lu)),this.setupGuidePosition(),sr(this,ld,!0),Le(this,Ew)===null&&(sr(this,Ew,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Le(this,Ew))),sr(this,Rw,Le(this,Rw)+1),this.startX=t.pageX,sr(this,Xa,Le(this,Bg)))}function sHe(t){if(Le(this,ld)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();sr(this,I1,Le(this,Bg)+e),F(Le(this,Ii),n=>{sr(this,Xa,this.setManualSize(n,Le(this,I1)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function aHe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(n,r)=>{this.hot.runHooks("beforeColumnResize",Le(this,Xa),n,!1),r&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Le(this,Xa),n,!1)};Le(this,ld)&&(this.hideHandleAndGuide(),sr(this,ld,!1),Le(this,Xa)!==Le(this,Bg)&&(Le(this,Ii).length>1?(F(Le(this,Ii),n=>{e(n)}),t()):F(Le(this,Ii),n=>{e(n,!0)})),this.setupHandlePosition(Le(this,lu)))}function lHe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Le(this,ai)),this.hot.rootElement.removeChild(Le(this,uu)),sr(this,ld,!1),sr(this,H1,!0),this.hot._registerImmediate(()=>{sr(this,H1,!1)})}function uHe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalColumn(e),o=Le(this,Ni).getValueAtIndex(r);this.hot.getSettings()[A1]&&o&&(n=o)}return n}function cHe(t,e){let n=Le(this,Ni).getValueAtIndex(e);return n===null&&(n=t),n}function hHe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function ZI(t,e,n){return e=dHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dHe(t){var e=fHe(t,"string");return typeof e=="symbol"?e:String(e)}function fHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const eN=0,g5=1,m5=2,zg="px";let p5=class{constructor(t){ZI(this,"hot",void 0),ZI(this,"_element",null),ZI(this,"state",eN),this.hot=t}appendTo(t){t.appendChild(this._element),this.state=m5}build(){this.state===eN&&(this._element=this.hot.rootDocument.createElement("div"),this.state=g5)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=eN}isAppended(){return this.state===m5}isBuilt(){return this.state>=g5}setPosition(t,e){t!==void 0&&(this._element.style.top=t+zg),e!==void 0&&(this._element.style.left=e+zg)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(t,e){t&&(this._element.style.width=t+zg),e&&(this._element.style.height=e+zg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){t&&(this._element.style.marginTop=t+zg),e&&(this._element.style.marginLeft=e+zg)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const gHe="ht__manualRowMove--backlight";class mHe extends p5{build(){super.build(),ke(this._element,gHe)}}const pHe="ht__manualRowMove--guideline";class vHe extends p5{build(){super.build(),ke(this._element,pHe)}}function Ug(t,e){v5(t,e),e.add(t)}function $g(t,e,n){v5(t,e),e.set(t,n)}function v5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ud(t,e,n){var r=w5(t,e,"set");return wHe(t,r,n),n}function wHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Et(t,e){var n=w5(t,e,"get");return yHe(t,n)}function w5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function yHe(t,e){return e.get?e.get.call(t):e.value}function Gg(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("beforeRowMove"),ze.getSingleton().register("afterRowMove");const tN="manualRowMove",bHe=140,y5="ht__manualRowMove",D1="show-ui",nN="on-moving--rows",rN="after-selection--rows";var Do=new WeakMap,Ic=new WeakMap,cu=new WeakMap,Nc=new WeakMap,li=new WeakMap,L1=new WeakMap,b5=new WeakSet,C5=new WeakSet,S5=new WeakSet,x5=new WeakSet,R5=new WeakSet,E5=new WeakSet;class CHe extends an{constructor(){super(...arguments),Ug(this,E5),Ug(this,R5),Ug(this,x5),Ug(this,S5),Ug(this,C5),Ug(this,b5),$g(this,Do,{writable:!0,value:new mHe(this.hot)}),$g(this,Ic,{writable:!0,value:new vHe(this.hot)}),$g(this,cu,{writable:!0,value:[]}),$g(this,Nc,{writable:!0,value:void 0}),$g(this,li,{writable:!0,value:{}}),$g(this,L1,{writable:!0,value:void 0})}static get PLUGIN_KEY(){return tN}static get PLUGIN_PRIORITY(){return bHe}isEnabled(){return!!this.hot.getSettings()[tN]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,b5,SHe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,S5,RHe).call(e,...r)}),this.addHook("afterScrollHorizontally",()=>Gg(this,R5,kHe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gg(e,E5,THe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),ke(this.hot.rootElement,y5),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Rt(this.hot.rootElement,y5),this.unregisterEvents(),Et(this,Do).destroy(),Et(this,Ic).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const r=Et(this,L1),o=this.isMovePossible(e,n),i=this.hot.runHooks("beforeRowMove",e,n,r,o);if(ud(this,L1,void 0),i===!1)return;o&&this.hot.rowIndexMapper.moveIndexes(e,n);const s=o&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,r,o,s),s}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const r=this.countFinalIndex(e,n);return ud(this,L1,n),this.moveRows(e,r)}isMovePossible(e,n){const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>r,i=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(o||i||s||a)}isRowOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}countFinalIndex(e,n){const r=fo(e,(o,i)=>(i<n&&(o+=1),o),0);return n-r}getRowsHeight(e,n){const r=this.hot.rowIndexMapper;let o=0;for(let i=e;i<=n;i++){const s=r.getRenderableFromVisualIndex(i);s!==null&&(o+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[tN];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:r,to:o}=e,i=Math.min(r.row,o.row),s=Math.max(r.row,o.row);return Ke(i,s,a=>{n.push(a)}),n}refreshPositions(){const e=Et(this,li).coords,n=this.hot.view.getFirstFullyVisibleRow(),r=this.hot.view.getLastFullyVisibleRow(),o=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&r<o&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);const i=this.hot.view._wt.wtTable,s=Et(this,li).TD,a=this.hot.rootElement,l=Dr(a),u=Vf(a),c=i.holder.scrollTop,h=this.hot.rootWindow!==u?u.scrollTop:0,d=l.top-h,g=Et(this,li).eventPageY-d+c,p=i.hider.offsetHeight,w=i.TBODY.offsetTop,C=Et(this,Do).getOffset().top,v=Et(this,Do).getSize().height,y=s.offsetHeight/2,x=s.offsetHeight;let M=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const _=g>=M+y;this.isFixedRowTop(e.row)&&(M+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Et(this,li).row=n>0?n-1:n:_?(Et(this,li).row=e.row+1,M+=e.row===0?x-1:x):Et(this,li).row=e.row;let T=g,O=M;g+v+C>=p?T=p-v-C:g+C<w&&(T=w+Math.abs(C)),M>=p-1&&(O=p-1),Et(this,Do).setPosition(T),Et(this,Ic).setPosition(O)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Gg(this,C5,xHe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Gg(this,x5,EHe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Et(this,Do).build(),Et(this,Ic).build()}destroy(){Et(this,Do).destroy(),Et(this,Ic).destroy(),super.destroy()}}function SHe(t,e,n,r){const{wtTable:o,wtViewport:i}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||Et(this,Nc)||t.button!==0){ud(this,Nc,!1),Et(this,cu).length=0,Rt(this.hot.rootElement,[nN,D1]);return}const l=Et(this,Ic).isBuilt()&&!Et(this,Ic).isAppended(),u=Et(this,Do).isBuilt()&&!Et(this,Do).isAppended();l&&u&&(Et(this,Ic).appendTo(o.hider),Et(this,Do).appendTo(o.hider));const{from:c,to:h}=a,d=Math.min(c.row,h.row),g=Math.max(c.row,h.row);if(e.col<0&&e.row>=d&&e.row<=g){r.row=!0,ud(this,Nc,!0),Et(this,li).eventPageY=t.pageY,Et(this,li).coords=e,Et(this,li).TD=n,ud(this,cu,this.prepareRowsToMoving());const p=o.holder.scrollLeft+i.getRowHeaderWidth(),w=this.getRowsHeight(d,e.row-1)+t.offsetY;Et(this,Do).setPosition(null,p),Et(this,Do).setSize(o.hider.offsetWidth-p,this.getRowsHeight(d,g)),Et(this,Do).setOffset(-w,null),ke(this.hot.rootElement,nN),this.refreshPositions()}else Rt(this.hot.rootElement,rN),ud(this,Nc,!1),Et(this,cu).length=0}function xHe(t){Et(this,Nc)&&(Et(this,li).eventPageY=t.pageY,this.refreshPositions())}function RHe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Et(this,Nc)||(Et(this,cu).indexOf(e.row)>-1?Rt(this.hot.rootElement,D1):ke(this.hot.rootElement,D1),r.row=!0,r.column=!0,r.cell=!0,Et(this,li).coords=e,Et(this,li).TD=n)}function EHe(){const t=Et(this,li).row,e=Et(this,cu).length;if(ud(this,Nc,!1),Rt(this.hot.rootElement,[nN,D1,rN]),this.hot.selection.isSelectedByRowHeader()&&ke(this.hot.rootElement,rN),e<1||t===void 0)return;const n=Et(this,cu)[0],r=this.hot.toPhysicalRow(n),o=this.dragRows(Et(this,cu),t);if(Et(this,cu).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const i=this.hot.toVisualRow(r),s=i+e-1;this.hot.selectRows(i,s)}}function kHe(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,r=e+n;Et(this,Do).setPosition(null,r),Et(this,Do).setSize(t.hider.offsetWidth-r)}function THe(){this.moveBySettingsOrLoad()}function cd(t,e){k5(t,e),e.add(t)}function yo(t,e,n){k5(t,e),e.set(t,n)}function k5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hd(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function er(t,e,n){var r=T5(t,e,"set");return MHe(t,r,n),n}function MHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function je(t,e){var n=T5(t,e,"get");return _He(t,n)}function T5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function _He(t,e){return e.get?e.get.call(t):e.value}const j1="manualRowResize",OHe=30,M5="manualRowHeights";var Qa=new WeakMap,W1=new WeakMap,Hi=new WeakMap,F1=new WeakMap,Hc=new WeakMap,oN=new WeakMap,Yg=new WeakMap,V1=new WeakMap,Lo=new WeakMap,Ja=new WeakMap,dd=new WeakMap,B1=new WeakMap,Tw=new WeakMap,Mw=new WeakMap,oa=new WeakMap,_w=new WeakMap,_5=new WeakSet,O5=new WeakSet,A5=new WeakSet,P5=new WeakSet,I5=new WeakSet,N5=new WeakSet,H5=new WeakSet;class AHe extends an{static get PLUGIN_KEY(){return j1}static get PLUGIN_PRIORITY(){return OHe}constructor(e){super(e),cd(this,H5),cd(this,N5),cd(this,I5),cd(this,P5),cd(this,A5),cd(this,O5),cd(this,_5),yo(this,Qa,{writable:!0,value:null}),yo(this,W1,{writable:!0,value:null}),yo(this,Hi,{writable:!0,value:[]}),yo(this,F1,{writable:!0,value:null}),yo(this,Hc,{writable:!0,value:null}),yo(this,oN,{writable:!0,value:null}),yo(this,Yg,{writable:!0,value:null}),yo(this,V1,{writable:!0,value:null}),yo(this,Lo,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),yo(this,Ja,{writable:!0,value:this.hot.rootDocument.createElement("DIV")}),yo(this,dd,{writable:!0,value:!1}),yo(this,B1,{writable:!0,value:!1}),yo(this,Tw,{writable:!0,value:0}),yo(this,Mw,{writable:!0,value:null}),yo(this,oa,{writable:!0,value:void 0}),yo(this,_w,{writable:!0,value:void 0}),ke(je(this,Lo),"manualRowResizer"),ke(je(this,Ja),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[j1]}enablePlugin(){this.enabled||(er(this,oa,new fc),je(this,oa).addLocalHook("init",()=>hd(this,H5,jHe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,je(this,oa)),this.addHook("modifyRowHeight",(e,n)=>hd(this,N5,LHe).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){er(this,_w,je(this,oa).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",M5,je(this,oa).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",M5,e),e.value}setManualSize(e,n){const r=this.hot.toPhysicalRow(e),o=Math.max(n,fC.DEFAULT_HEIGHT);return je(this,oa).setValueAtIndex(r,o),o}setupHandlePosition(e){er(this,Qa,e);const{view:n}=this.hot,{_wt:r}=n,o=r.wtTable.getCoords(je(this,Qa)),i=o.row;if(i<0)return;const s=pn(je(this,Qa)),a=je(this,Qa).getBoundingClientRect(),l=i<r.getSetting("fixedRowsTop"),u=i>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");let c;l?c=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(je(this,Qa),o.row,o.col):u&&(c=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(je(this,Qa),o.row,o.col)),c||(c=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(je(this,Qa),o.row,o.col)),er(this,W1,this.hot.rowIndexMapper.getVisualFromRenderableIndex(i)),er(this,Hi,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const d=this.hot.getSelectedRange();F(d,g=>{const p=g.getTopStartCorner().row,w=g.getBottomStartCorner().row;Ke(p,w,C=>{je(this,Hi).includes(C)||je(this,Hi).push(C)})})}je(this,Hi).includes(je(this,W1))||er(this,Hi,[je(this,W1)]),er(this,V1,c.top-6),er(this,Yg,parseInt(a.height,10)),je(this,Lo).style.top=`${je(this,V1)+je(this,Yg)}px`,je(this,Lo).style[this.inlineDir]=`${c.start}px`,je(this,Lo).style.width=`${s}px`,this.hot.rootElement.appendChild(je(this,Lo))}refreshHandlePosition(){je(this,Lo).style.top=`${je(this,V1)+je(this,F1)}px`}setupGuidePosition(){const e=parseInt(pn(je(this,Lo)),10),n=parseInt(je(this,Lo).style[this.inlineDir],10)+e,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ke(je(this,Lo),"active"),ke(je(this,Ja),"active"),je(this,Ja).style.top=je(this,Lo).style.top,je(this,Ja).style[this.inlineDir]=`${n}px`,je(this,Ja).style.width=`${r-e}px`,this.hot.rootElement.appendChild(je(this,Ja))}refreshGuidePosition(){je(this,Ja).style.top=je(this,Lo).style.top}hideHandleAndGuide(){Rt(je(this,Lo),"active"),Rt(je(this,Ja),"active")}checkIfRowHeader(e){const n=xh(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:r,topInlineStartCornerOverlay:o,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.TBODY,o.clone.wtTable.TBODY,i.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&je(this,Hc)<n?n:je(this,Hc)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},n=(r,o)=>{const i=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!0);i!==void 0&&er(this,Hc,i),this.setManualSize(r,je(this,Hc)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!0),o&&e()};je(this,Tw)>=2&&(je(this,Hi).length>1?(F(je(this,Hi),r=>{n(r)}),e()):F(je(this,Hi),r=>{n(r,!0)})),er(this,Tw,0),er(this,Mw,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",r=>hd(this,_5,PHe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>hd(this,O5,IHe).call(this,r)),this.eventManager.addEventListener(n,"mousemove",r=>hd(this,A5,NHe).call(this,r)),this.eventManager.addEventListener(n,"mouseup",()=>hd(this,P5,HHe).call(this)),this.eventManager.addEventListener(je(this,Lo),"contextmenu",()=>hd(this,I5,DHe).call(this))}destroy(){super.destroy()}}function PHe(t){if(!uz(t.target)&&je(this,B1)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(je(this,dd)||this.setupHandlePosition(e))}}function IHe(t){yt(t.target,"manualRowResizer")&&(this.setupHandlePosition(je(this,Qa)),this.setupGuidePosition(),er(this,dd,!0),je(this,Mw)===null&&(er(this,Mw,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(je(this,Mw))),er(this,Tw,je(this,Tw)+1),er(this,oN,t.pageY),er(this,Hc,je(this,Yg)))}function NHe(t){je(this,dd)&&(er(this,F1,je(this,Yg)+(t.pageY-je(this,oN))),F(je(this,Hi),e=>{er(this,Hc,this.setManualSize(e,je(this,F1)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function HHe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(n,r)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),r&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};je(this,dd)&&(this.hideHandleAndGuide(),er(this,dd,!1),je(this,Hc)!==je(this,Yg)&&(je(this,Hi).length>1?(F(je(this,Hi),n=>{e(n)}),t()):F(je(this,Hi),n=>{e(n,!0)})),this.setupHandlePosition(je(this,Qa)))}function DHe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(je(this,Lo)),this.hot.rootElement.removeChild(je(this,Ja)),er(this,dd,!1),er(this,B1,!0),this.hot._registerImmediate(()=>{er(this,B1,!1)})}function LHe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalRow(e),o=je(this,oa).getValueAtIndex(r);this.hot.getSettings()[j1]&&o&&(n=o)}return n}function jHe(){const t=this.hot.getSettings()[j1],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,r)=>{je(this,oa).setValueAtIndex(r,n)}):Array.isArray(t)?(t.forEach((n,r)=>{je(this,oa).setValueAtIndex(r,n)}),er(this,_w,t)):t===!0&&Array.isArray(je(this,_w))&&je(this,_w).forEach((n,r)=>{je(this,oa).setValueAtIndex(r,n)})},!0)}function fd(t,e,n){return e=WHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WHe(t){var e=FHe(t,"string");return typeof e=="symbol"?e:String(e)}function FHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Za{constructor(e,n,r,o,i,s){fd(this,"row",void 0),fd(this,"col",void 0),fd(this,"rowspan",void 0),fd(this,"colspan",void 0),fd(this,"removed",!1),fd(this,"cellCoordsFactory",void 0),fd(this,"cellRangeFactory",void 0),this.row=e,this.col=n,this.rowspan=r,this.colspan=o,this.cellCoordsFactory=i,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){return un`The merged cell declared with {row: ${e.row}, col: ${e.col},\x20
      rowspan: ${e.rowspan}, colspan: ${e.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){return un`The merged cell declared at [${e.row}, ${e.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}static isSingleCell(e){return e.colspan===1&&e.rowspan===1}static containsZeroSpan(e){return e.colspan===0||e.rowspan===0}static isOutOfBounds(e,n,r){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=r||e.col+e.colspan-1>=r}normalize(e){const n=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const r=e[0]||e[1],o=n+Math.abs(e[0]||e[1])-1,i=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(n,o),l=Math.max(n,o),u=this[s],c=this[s]+this[i]-1;if(u>=n&&(this[s]+=r),r>0)n<=c&&n>u&&(this[i]+=r);else if(r<0){if(a<=u&&l>=c)return this.removed=!0,!1;if(u>=a&&u<=l){const h=l-u+1,d=Math.abs(r)-h;this[s]-=d+r,this[i]-=h}else if(u<=a&&c>=l)this[i]+=r;else if(u<=a&&c>=a&&c<l){const h=c-a+1;this[i]-=h}}return!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}function iN(t,e,n,r){e?e.row===n&&e.col===r?(t.setAttribute("rowspan",e.rowspan.toString()),t.setAttribute("colspan",e.colspan.toString())):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="")}function sN(t,e,n){return e=VHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VHe(t){var e=BHe(t,"string");return typeof e=="symbol"?e:String(e)}function BHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aN{constructor(e){sN(this,"plugin",void 0),sN(this,"mergedCells",[]),sN(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){return un`The merged cell declared at [${e.row}, ${e.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){const r=this.mergedCells;let o=!1;return F(r,i=>i.row<=e&&i.row+i.rowspan-1>=e&&i.col<=n&&i.col+i.colspan-1>=n?(o=i,!1):!0),o}getByRange(e){const n=this.mergedCells;let r=!1;return F(n,o=>o.row<=e.from.row&&o.row+o.rowspan-1>=e.to.row&&o.col<=e.from.col&&o.col+o.colspan-1>=e.to.col?(r=o,r):!0),r}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCells,o=[];let i=e;if(!i.includesRange){const s=this.hot._createCellCoords(i.from.row,i.from.col),a=this.hot._createCellCoords(i.to.row,i.to.col);i=this.hot._createCellRange(s,s,a)}return F(r,s=>{const a=this.hot._createCellCoords(s.row,s.col),l=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1),u=this.hot._createCellRange(a,a,l);n?i.overlaps(u)&&o.push(s):i.includesRange(u)&&o.push(s)}),o.length?o:!1}add(e){const n=this.mergedCells,r=e.row,o=e.col,i=e.rowspan,s=e.colspan,a=new Za(r,o,i,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(r,o),u=this.isOverlapping(a);return!l&&!u?(this.hot&&a.normalize(this.hot),n.push(a),a):(vn(aN.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const r=this.mergedCells,o=this.get(e,n),i=o?this.mergedCells.indexOf(o):-1;return o&&i!==-1?(r.splice(i,1),o):!1}clear(){const e=this.mergedCells,n=[],r=[];F(e,o=>{const i=this.hot.getCell(o.row,o.col);i&&n.push([i,this.get(o.row,o.col),o.row,o.col])}),this.mergedCells.length=0,F(n,(o,i)=>{Ke(0,o.rowspan-1,s=>{Ke(0,o.colspan-1,a=>{if(a!==0||s!==0){const l=this.hot.getCell(o.row+s,o.col+a);l&&r.push([l,null,null,null])}})}),n[i][1]=null}),F(n,o=>{iN(...o)}),F(r,o=>{iN(...o)})}isOverlapping(e){const n=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(e.row,e.col),this.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1));let r=!1;return F(this.mergedCells,o=>this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(o.row,o.col),this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1)).overlaps(n)?(r=!0,!1):!0),r}isFirstRenderableMergedCell(e,n){const r=this.get(e,n);return r&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1)===n}getFirstRenderableCoords(e,n){const r=this.get(e,n);if(!r||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1),i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1);return this.hot._createCellCoords(o,i)}shiftCollections(e,n,r){const o=[0,0];switch(e){case"right":o[0]+=r;break;case"left":o[0]-=r;break;case"down":o[1]+=r;break;case"up":o[1]-=r;break}F(this.mergedCells,i=>{i.shift(o,n)}),BM(this.mergedCells.length-1,0,i=>{const s=this.mergedCells[i];s&&s.removed&&this.mergedCells.splice(this.mergedCells.indexOf(s),1)})}}function lN(t,e,n){return e=zHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zHe(t){var e=UHe(t,"string");return typeof e=="symbol"?e:String(e)}function UHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $He{constructor(e){lN(this,"plugin",void 0),lN(this,"mergedCellsCollection",void 0),lN(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const n=this.mergedCellsCollection.get(e[0],e[1]);n&&(e[2]=e[0]+n.rowspan-1,e[3]=e[1]+n.colspan-1)}}getDirection(e,n){let r=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?r="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?r="up":n[1]===e[1]&&n[2]===e[2]?r="right":r="left",r}snapDragArea(e,n,r,o){const i=n.slice(0),s=this.getAutofillSize(e,n,r),[a,l,u,c]=e,h=["up","down"].indexOf(r)>-1?u-a+1:c-l+1,d=Math.floor(s/h)*h,g=s-d,p=this.getFarthestCollection(e,n,r,o);if(p){if(r==="down"){const w=p.row+p.rowspan-a-g;i[2]+w>=this.plugin.hot.countRows()?i[2]-=g:i[2]+=g?w:0}else if(r==="right"){const w=p.col+p.colspan-l-g;i[3]+w>=this.plugin.hot.countCols()?i[3]-=g:i[3]+=g?w:0}else if(r==="up"){const w=u-g-p.row+1;i[0]+w<0?i[0]+=g:i[0]-=g?w:0}else if(r==="left"){const w=c-g-p.col+1;i[1]+w<0?i[1]+=g:i[1]-=g?w:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:o,fillSize:s,dragArea:i,cycleLength:h}),i}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),yr(this.currentFillData,e)}getAutofillSize(e,n,r){const[o,i,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return o-l;case"down":return c-s;case"left":return i-u;case"right":return h-a;default:return null}}getDragArea(e,n,r){const[o,i,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return[l,u,o-1,a];case"down":return[s+1,i,c,a];case"left":return[l,u,s,i-1];case"right":return[o,a+1,c,h];default:return null}}getFarthestCollection(e,n,r,o){const[i,s,a,l]=e,u=["up","down"].indexOf(r)>-1,c=u?a:l,h=u?i:s,d=this.getAutofillSize(e,n,r),g=u?a-i+1:l-s+1,p=Math.floor(d/g)*g,w=d-p;let C=null,v=null,y=null;switch(r){case"up":C="includesVertically",y=c-w+1;break;case"left":C="includesHorizontally",y=c-w+1;break;case"down":C="includesVertically",y=h+w-1;break;case"right":C="includesHorizontally",y=h+w-1;break}return F(o,x=>{x[C](y)&&x.isFarther(v,r)&&(v=x)}),v}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,i=(u,c)=>{switch(o){case"up":return u.row-c>=n.from.row;case"down":return u.row+u.rowspan-1+c<=n.to.row;case"left":return u.col-c>=n.from.column;case"right":return u.col+u.colspan-1+c<=n.to.column;default:return null}};let s=0,a=null,l=1;do for(let u=0;u<r.length;u+=1){if(a=r[u],s=l*this.currentFillData.cycleLength,i(a,s))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break}u===r.length-1&&(l+=1)}while(i(a,s));this.currentFillData=null,this.plugin.hot.render(),r.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},r={min:null,max:null};return F(e,o=>{const i=o[0],s=this.plugin.hot.propToCol(o[1]);(n.min===null||i<n.min)&&(n.min=i),(n.max===null||i>n.max)&&(n.max=i),(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}dragAreaOverlapsCollections(e,n,r){const o=this.getDragArea(e,n,r),[i,s,a,l]=o,u=this.plugin.hot._createCellCoords(i,s),c=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(u,u,c);return!!this.mergedCellsCollection.getWithinRange(h,!0)}}function uN(t,e,n){return e=GHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GHe(t){var e=YHe(t,"string");return typeof e=="symbol"?e:String(e)}function YHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qHe{constructor(e){uN(this,"plugin",void 0),uN(this,"hot",void 0),uN(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}snapDelta(e,n,r){const o=n.to,i=o.row+e.row,s=o.col+e.col;e.row?this.jumpOverMergedCell(e,r,i):e.col&&this.jumpOverMergedCell(e,r,s)}jumpOverMergedCell(e,n,r){let o=e.row||e.col,i=null,s=null,a=null;e.row?(i=n.includesVertically(r),s=n.row,a=n.getLastRow()):e.col&&(i=n.includesHorizontally(r),s=n.col,a=n.getLastColumn()),o!==0&&(o>0?i&&r!==s&&(o+=a-r+1):i&&r!==a&&(o-=r-s+1),e.row?e.row=o:e.col&&(e.col=o))}getUpdatedSelectionRange(e,n){return this.hot._createCellRange(e.highlight,e.from,this.hot._createCellCoords(e.to.row+n.row,e.to.col+n.col))}getSelectedMergedCellClassName(e,n,r,o){const i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]);if(o===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const u=this.plugin.mergedCellsCollection.get(e,n);if(!u)return;const c=u.getLastRow(),h=u.getLastColumn();if(i<=u.row&&s<=u.col&&a>=c&&l>=h)return`${this.fullySelectedMergedCellClassName}-${o}`;if(this.plugin.selectionCalculations.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const r=[];if(!n||!e)return!1;for(let o=0;o<e.rowspan;o+=1)for(let i=0;i<e.colspan;i+=1)r.push(this.hot._createCellCoords(e.row+o,e.col+i));for(let o=0;o<r.length;o+=1){const i=[];for(let s=0;s<n.length;s+=1)i[s]=n[s].includes(r[o]);if(!i.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function KHe(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(aO)}return this.getTranslatedPhrase(sO)},callback(){t.toggleMergeOnSelection()},disabled(){const e=this.getSelectedLast();return e?Za.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function ar(t,e){D5(t,e),e.add(t)}function XHe(t,e,n){D5(t,e),e.set(t,n)}function D5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cN(t,e,n){return e=QHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QHe(t){var e=JHe(t,"string");return typeof e=="symbol"?e:String(e)}function JHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hN(t,e,n){var r=L5(t,e,"set");return ZHe(t,r,n),n}function ZHe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qg(t,e){var n=L5(t,e,"get");return eDe(t,n)}function L5(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function eDe(t,e){return e.get?e.get.call(t):e.value}function tr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}ze.getSingleton().register("beforeMergeCells"),ze.getSingleton().register("afterMergeCells"),ze.getSingleton().register("beforeUnmergeCells"),ze.getSingleton().register("afterUnmergeCells");const Ow="mergeCells",tDe=150,j5=Ow;var el=new WeakMap,W5=new WeakSet,F5=new WeakSet,V5=new WeakSet,B5=new WeakSet,z5=new WeakSet,U5=new WeakSet,$5=new WeakSet,dN=new WeakSet,G5=new WeakSet,Y5=new WeakSet,q5=new WeakSet,K5=new WeakSet,X5=new WeakSet,Q5=new WeakSet,J5=new WeakSet,Z5=new WeakSet,e9=new WeakSet,t9=new WeakSet,n9=new WeakSet,r9=new WeakSet,o9=new WeakSet,i9=new WeakSet;class nDe extends an{constructor(){super(...arguments),ar(this,i9),ar(this,o9),ar(this,r9),ar(this,n9),ar(this,t9),ar(this,e9),ar(this,Z5),ar(this,J5),ar(this,Q5),ar(this,X5),ar(this,K5),ar(this,q5),ar(this,Y5),ar(this,G5),ar(this,dN),ar(this,$5),ar(this,U5),ar(this,z5),ar(this,B5),ar(this,V5),ar(this,F5),ar(this,W5),cN(this,"mergedCellsCollection",null),cN(this,"autofillCalculations",null),cN(this,"selectionCalculations",null),XHe(this,el,{writable:!0,value:null})}static get PLUGIN_KEY(){return Ow}static get PLUGIN_PRIORITY(){return tDe}isEnabled(){return!!this.hot.getSettings()[Ow]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new aN(this),this.autofillCalculations=new $He(this),this.selectionCalculations=new qHe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,W5,rDe).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,V5,iDe).call(e,...r)}),this.addHook("afterModifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,r9,CDe).call(e,...r)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,B5,sDe).call(e,...r)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,z5,aDe).call(e,...r)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,dN,s9).call(e,...r)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,dN,s9).call(e,...r)}),this.addHook("beforeSetRangeEnd",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,G5,cDe).call(e,...r)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,F5,oDe).call(e,...r)}),this.addHook("afterRenderer",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,$5,uDe).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,U5,lDe).call(e,...r)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Y5,hDe).call(e,...r)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,q5,dDe).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,K5,fDe).call(e,...r)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,X5,gDe).call(e,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Q5,mDe).call(e,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,J5,pDe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,Z5,vDe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,e9,wDe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,t9,yDe).call(e,...r)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,n9,bDe).call(e,...r)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,o9,SDe).call(e,...r)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tr(e,i9,xDe).call(e,...r)}),this.addHook("beforeUndoStackChange",(n,r)=>{if(r==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[Ow];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!Mz())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(r=>{const{row:o,rowspan:i}=r;for(let s=o+1;s<o+i;s++)n.push(s)}),n=[...new Set(n)],n.forEach(r=>{const o=this.hot.rowIndexMapper.getRenderableFromVisualIndex(r);this.hot.view._wt.wtOverlays.getOverlays(!0).map(i=>(i==null?void 0:i.name)==="master"?i:i.clone.wtTable).forEach(i=>{const s=i.getRow(o);s&&(s.style.background=Xp(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(r=>{r.style.background=Xp(r,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){let n=!0;return e?(Za.containsNegativeValues(e)?(vn(Za.NEGATIVE_VALUES_WARNING(e)),n=!1):Za.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(vn(Za.IS_OUT_OF_BOUNDS_WARNING(e)),n=!1):Za.isSingleCell(e)?(vn(Za.IS_SINGLE_CELL(e)),n=!1):Za.containsZeroSpan(e)&&(vn(Za.ZERO_SPAN_WARNING(e)),n=!1),n):!1}generateFromSettings(e){if(Array.isArray(e)){const n=[];if(F(e,r=>{if(!this.validateSetting(r))return;const o=this.hot._createCellCoords(r.row,r.col),i=this.hot._createCellCoords(r.row+r.rowspan-1,r.col+r.colspan-1),s=this.hot._createCellRange(o,o,i);this.mergeRange(s,!0,!0),Ke(r.row,r.row+r.rowspan-1,a=>{Ke(r.col,r.col+r.colspan-1,l=>{a===r.row&&l===r.col||n.push([a,l,null])})})}),n.length===0)return;this.hot.setDataAtCell(n)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return arguments.length>1&&arguments[1]!==void 0&&arguments[1]?!0:this.validateSetting(e)}toggleMergeOnSelection(){const e=this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.toggleMerge(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:r}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=e.getTopStartCorner(),i=e.getBottomEndCorner(),s={row:o.row,col:o.col,rowspan:i.row-o.row+1,colspan:i.col-o.col+1},a=[];let l=null;return this.canMergeRange(s,n)?(this.hot.runHooks("beforeMergeCells",e,n),Ke(0,s.rowspan-1,u=>{Ke(0,s.colspan-1,c=>{let h=null;a[u]||(a[u]=[]),u===0&&c===0?h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+u,s.col+c,"hidden",!0),a[u][c]=h})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s)?(r?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,n),l):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCellsCollection.getWithinRange(e);r&&(this.hot.runHooks("beforeUnmergeCells",e,n),F(r,o=>{this.mergedCellsCollection.remove(o.row,o.col),Ke(0,o.rowspan-1,i=>{Ke(0,o.colspan-1,s=>{this.hot.removeCellMeta(o.row+i,o.col+s,"hidden"),this.hot.removeCellMeta(o.row+i,o.col+s,"copyable")})}),this.hot.removeCellMeta(o.row,o.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const n=this.mergedCellsCollection.get(e.from.row,e.from.col);n.row===e.from.row&&n.col===e.from.col&&n.row+n.rowspan-1===e.to.row&&n.col+n.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,r,o){const i=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,o);this.mergeRange(this.hot._createCellRange(i,i,s))}unmerge(e,n,r,o){const i=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,o);this.unmergeRange(this.hot._createCellRange(i,i,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const e=this.hot.getSelectedRangeLast();e&&!e.isSingleHeader()&&(this.toggleMerge(e),this.hot.render())},runOnlyIf:e=>!e.altKey,group:j5})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(j5)}modifyViewportRowStart(e,n){const r=this.hot.rowIndexMapper,o=r.getVisualFromRenderableIndex(e.startRow);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(o,i);if(Ot(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const r=this.hot.rowIndexMapper,o=r.getVisualFromRenderableIndex(e.endRow);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(o,i);if(Ot(s)){const a=s.row+s.rowspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const r=this.hot.columnIndexMapper,o=r.getVisualFromRenderableIndex(e.startColumn);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(i,o);if(Ot(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const r=this.hot.columnIndexMapper,o=r.getVisualFromRenderableIndex(e.endColumn);for(let i=0;i<n;i+=1){const s=this.mergedCellsCollection.get(i,o);if(Ot(s)){const a=s.col+s.colspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,r,o){const{rowIndexMapper:i,columnIndexMapper:s}=this.hot;let a,l;n===0?a=i.getNearestNotHiddenIndex(e,1):a=i.getNearestNotHiddenIndex(e+n-1,-1),o===0?l=s.getNearestNotHiddenIndex(r,1):l=s.getNearestNotHiddenIndex(r+o-1,-1);const u=e>=0?i.getRenderableFromVisualIndex(a):e,c=r>=0?s.getRenderableFromVisualIndex(l):r;return[u,c]}}function rDe(){this.generateFromSettings(this.hot.getSettings()[Ow]),this.hot.render()}function oDe(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast();for(let r=0;r<e.length;r+=1)if(n.from.row===e[r].row&&n.from.col===e[r].col&&n.to.row===e[r].row+e[r].rowspan-1&&n.to.col===e[r].col+e[r].colspan-1)return!1}return t}function iDe(t){const e=this.hot.getSelectedRangeLast();let n={row:t.row,col:t.col},r=null;const o=this.hot._createCellCoords(e.highlight.row,e.highlight.col),i=this.mergedCellsCollection.get(o.row,o.col);if(qg(this,el)||hN(this,el,this.hot._createCellCoords(null,null)),i){const a=this.hot._createCellCoords(i.row,i.col),l=this.hot._createCellCoords(i.row+i.rowspan-1,i.col+i.colspan-1);this.hot._createCellRange(a,a,l).includes(qg(this,el))||hN(this,el,this.hot._createCellCoords(null,null)),n.row=qg(this,el).row?qg(this,el).row-o.row:n.row,n.col=qg(this,el).col?qg(this,el).col-o.col:n.col,t.row>0?n.row=i.row+i.rowspan-1-o.row+t.row:t.row<0&&(n.row=o.row-i.row+t.row),t.col>0?n.col=i.col+i.colspan-1-o.col+t.col:t.col<0&&(n.col=o.col-i.col+t.col)}r=this.hot._createCellCoords(e.highlight.row+n.row,e.highlight.col+n.col);const s=this.mergedCellsCollection.get(r.row,r.col);if(s){const a=this.mergedCellsCollection.getFirstRenderableCoords(s.row,s.col);hN(this,el,r),n={row:a.row-o.row,col:a.col-o.col}}n.row!==0&&(t.row=n.row),n.col!==0&&(t.col=n.col)}function sDe(t){const e=this.hot.getSelectedRangeLast(),n=Qo(t),r=this.selectionCalculations.getUpdatedSelectionRange(e,t);let o=Qo(n);const i=this.mergedCellsCollection.getWithinRange(r,!0);do o=Qo(n),this.selectionCalculations.getUpdatedSelectionRange(e,n),F(i,s=>{this.selectionCalculations.snapDelta(n,e,s)});while(n.row!==o.row||n.col!==o.col);t.row=n.row,t.col=n.col}function aDe(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:r,col:o,colspan:i,rowspan:s}=n;return[r,o,r+s-1,o+i-1]}function lDe(t){t.items.push({name:"---------"},KHe(this))}function uDe(t,e,n){const r=this.mergedCellsCollection.get(e,n),o=Ot(r)?Qo(r):void 0;if(Ot(o)){const{rowIndexMapper:i,columnIndexMapper:s}=this.hot,{row:a,col:l,colspan:u,rowspan:c}=o,[h,d]=this.translateMergedCellToRenderable(a,c,l,u),g=i.getRenderableFromVisualIndex(e),p=s.getRenderableFromVisualIndex(n),w=h-g+1,C=d-p+1;o.row=i.getNearestNotHiddenIndex(o.row,1),o.col=s.getNearestNotHiddenIndex(o.col,1),o.rowspan=Math.min(o.rowspan,w),o.colspan=Math.min(o.colspan,C)}iN(t,o,e,n)}function s9(t){if(this.mergedCellsCollection.isFirstRenderableMergedCell(t.row,t.col)){const e=this.mergedCellsCollection.get(t.row,t.col);[t.row,t.col]=[e.row,e.col]}}function cDe(t){const e=this.hot.getSelectedRangeLast();e.highlight=this.hot._createCellCoords(e.highlight.row,e.highlight.col),e.to=t;let n=!1;if(!(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()))do{n=!1;for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1){const o=this.mergedCellsCollection.mergedCells[r].getRange();e.expandByRange(o)&&(t.row=e.to.row,t.col=e.to.col,n=!0)}}while(n)}function hDe(t,e,n){const r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function dDe(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function fDe(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function gDe(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let r=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,r,n))return r=e,r;const o=this.mergedCellsCollection.getWithinRange({from:{row:e[0],col:e[1]},to:{row:e[2],col:e[3]}});return o&&(r=this.autofillCalculations.snapDragArea(e,r,n,o)),r}function mDe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function pDe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function vDe(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function wDe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function yDe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function bDe(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);F(r,o=>{n.getBottomEndCorner().row===o.getLastRow()&&n.getBottomEndCorner().col===o.getLastColumn()&&(t[2]=o.row,t[3]=o.col)})}}function CDe(t,e,n){if(!this.enabled)return;const r=this.mergedCellsCollection.get(t.row,t.col);if(!r)return;const o=e>0,i=e<0,s=n<0,a=n>0,l=r.row+r.rowspan-1===this.hot.countRows()-1,u=r.row===0,c=r.col+r.colspan-1===this.hot.countCols()-1,h=r.col===0;(o&&l||i&&u||a&&c||s&&h)&&(t.row=r.row,t.col=r.col)}function SDe(t,e,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}function xDe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function RDe(t,e){return function(n,r){const[,...o]=n,[,...i]=r;return function s(a){const l=t[a],u=e[a],c=o[a],h=i[a],d=u.multiColumnSorting,g=(d.compareFunctionFactory?d.compareFunctionFactory:t6(u.type))(l,u,d)(c,h);if(g===Va){const p=a+1;if(typeof e[p]<"u")return s(p)}return g}(0)}}function a9(){vn(un`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}const l9="sort";function EDe(t,e,n){const r=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push(`${l9}-${t.getIndexOfColumnInSortQueue(e)+1}`),r}function kDe(t){const e=t.className.split(" "),n=new RegExp(`^${l9}-[0-9]{1,2}$`);return e.filter(r=>n.test(r))}function TDe(t,e,n){return e=MDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MDe(t){var e=_De(t,"string");return typeof e=="symbol"?e:String(e)}function _De(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const z1="multiColumnSorting",ODe=170,u9="columnSorting",c9=z1;e6(z1,RDe);class ADe extends s6{constructor(){super(...arguments),TDe(this,"pluginKey",z1)}static get PLUGIN_KEY(){return z1}static get PLUGIN_PRIORITY(){return ODe}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[u9]&&a9(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,IS))},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:c9})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(c9)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];super.updateHeaderClasses(e,...r),Rt(e,kDe(e)),this.enabled!==!1&&ke(e,EDe(...r))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[u9]&&a9(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,n){TP(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,IS))):this.sort(this.getColumnNextConfig(n.col)))}}function h9(t,e,n){return e=PDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PDe(t){var e=IDe(t,"string");return typeof e=="symbol"?e:String(e)}function IDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const NDe="multipleSelectionHandles",HDe=160;class DDe extends an{constructor(){super(...arguments),h9(this,"dragged",[]),h9(this,"lastSetCell",null)}static get PLUGIN_KEY(){return NDe}static get PLUGIN_PRIORITY(){return HDe}isEnabled(){return ic()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function r(o){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const i=e.dragged.indexOf(o);if(i===-1)return!1;i===0?e.dragged=e.dragged.slice(0,1):i===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",o=>{let i;if(yt(o.target,"topSelectionHandle-HitArea"))return i=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},o.preventDefault(),!1;if(yt(o.target,"bottomSelectionHandle-HitArea"))return i=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",o=>{if(yt(o.target,"topSelectionHandle-HitArea"))return r.call(e,"top"),e.touchStartRange=void 0,o.preventDefault(),!1;if(yt(o.target,"bottomSelectionHandle-HitArea"))return r.call(e,"bottom"),e.touchStartRange=void 0,o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",o=>{const{rootDocument:i}=this.hot;let s,a,l,u,c,h;if(e.dragged.length===0)return;const d=i.elementFromPoint(o.touches[0].clientX,o.touches[0].clientY);!d||d===e.lastSetCell||((d.nodeName==="TD"||d.nodeName==="TH")&&(s=e.hot.getCoords(d),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),u=a.getHeight(),c=a.getDirection(),l===1&&u===1&&e.hot.selection.setRangeEnd(s),h=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,c,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=d),o.preventDefault())})}getCurrentRangeCoords(e,n,r,o,i){const s=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),u=e.getTopEndCorner();let c={start:null,end:null};switch(r){case"NE-SW":switch(o){case"NE-SW":case"NW-SE":i==="top"?c={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,s.col)};break;case"SE-NW":i==="bottom"&&(c={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,s.col)});break}break;case"NW-SE":switch(o){case"NE-SW":i==="top"?c={start:n,end:l}:c.end=n;break;case"NW-SE":i==="top"?c={start:n,end:a}:c.end=n;break;case"SE-NW":i==="top"?c={start:n,end:s}:c.end=n;break;case"SW-NE":i==="top"?c={start:n,end:u}:c.end=n;break}break;case"SW-NE":switch(o){case"NW-SE":i==="bottom"?c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(s.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":i==="top"?c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(s.row,n.col)};break;case"SE-NW":i==="bottom"?c={start:this.hot._createCellCoords(n.row,u.col),end:this.hot._createCellCoords(s.row,n.col)}:i==="top"&&(c={start:l,end:n});break}break;case"SE-NW":switch(o){case"NW-SE":case"NE-SW":case"SW-NE":i==="top"&&(c.end=n);break;case"SE-NW":i==="top"?c.end=n:c={start:n,end:s};break}break}return c}isDragged(){return this.dragged.length>0}}function fN(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:o=[],isCollapsed:i=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:r,isCollapsed:i,crossHiddenColumns:o,isHidden:s,isRoot:a,isPlaceholder:l}}function d9(){return{label:"",isPlaceholder:!0}}function LDe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;F(t,o=>{const i=[];let s=0;n.push(i),F(o,a=>{const l=fN();if(Ot(a)){const{label:c,colspan:h}=a;l.label=fr(c),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h)}else l.label=fr(a);s+=l.origColspan;let u=!1;if(s>=e&&(l.colspan=l.origColspan-(s-e),l.origColspan=l.colspan,u=!0),i.push(l),l.colspan>1)for(let c=0;c<l.colspan-1;c++)i.push(d9());return!u})});const r=Math.max(...Pt(n,o=>o.length));return F(n,o=>{if(o.length<r){const i=Pt(new Array(r-o.length),()=>fN());o.splice(o.length,0,...i)}}),n}function gN(t,e,n){jDe(t,e),e.set(t,n)}function jDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ia(t,e){var n=f9(t,e,"get");return WDe(t,n)}function WDe(t,e){return e.get?e.get.call(t):e.value}function Aw(t,e,n){var r=f9(t,e,"set");return FDe(t,r,n),n}function f9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function FDe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}const g9=["label","collapsible"];var hu=new WeakMap,gd=new WeakMap,mN=new WeakMap;class VDe{constructor(){gN(this,hu,{writable:!0,value:[]}),gN(this,gd,{writable:!0,value:0}),gN(this,mN,{writable:!0,value:1/0})}setColumnsLimit(e){Aw(this,mN,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Aw(this,hu,LDe(e,ia(this,mN))),Aw(this,gd,ia(this,hu).length)}getData(){return ia(this,hu)}mergeWith(e){F(e,n=>{let{row:r,col:o,...i}=n;const s=this.getHeaderSettings(r,o);s!==null&&yr(s,i,g9)})}map(e){F(ia(this,hu),n=>{F(n,r=>{const o=e({...r});Ot(o)&&yr(r,o,g9)})})}getHeaderSettings(e,n){var r;if(e>=ia(this,gd)||e<0)return null;const o=ia(this,hu)[e];return Array.isArray(o)===!1||n>=o.length?null:(r=o[n])!==null&&r!==void 0?r:null}getHeadersSettings(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=[];if(e>=ia(this,gd)||e<0)return o;const i=ia(this,hu)[e];let s=0;for(let a=n;a<i.length;a++){const l=i[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,o.push(l),l.colspan>1&&(a+=l.colspan-1),s===r)break;if(s>r)throw new Error("The last column settings cannot overlap the other header layers")}return o}getLayersCount(){return ia(this,gd)}getColumnsCount(){return ia(this,gd)>0?ia(this,hu)[0].length:0}clear(){Aw(this,hu,[]),Aw(this,gd,0)}}function pN(t,e,n){return e=BDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BDe(t){var e=zDe(t,"string");return typeof e=="symbol"?e:String(e)}function zDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const m9="DF-pre-order";function p9(t,e){let n=t.call(e,this);for(let r=0;r<this.childs.length;r++){if(n===!1)return!1;n=p9.call(this.childs[r],t,e)}return n}const UDe="DF-post-order";function v9(t,e){for(let n=0;n<this.childs.length;n++)if(v9.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const w9="BF";function $De(t,e){const n=[this];function r(){if(n.length===0)return;const o=n.shift();n.push(...o.childs),t.call(e,o)!==!1&&r()}r()}const GDe=w9,y9=new Map([[m9,p9],[UDe,v9],[w9,$De]]);class U1{constructor(e){pN(this,"data",{}),pN(this,"parent",null),pN(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new U1({...e.data});for(let r=0;r<e.childs.length;r++)n.addChild(this.cloneTree(e.childs[r]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GDe;if(!y9.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);y9.get(n).call(this,e,this)}walkUp(e){const n=this,r=o=>{e.call(n,o)!==!1&&o.parent!==null&&r(o.parent)};r(this)}}function vN(t,e,n){YDe(t,e),e.set(t,n)}function YDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jo(t,e){var n=b9(t,e,"get");return qDe(t,n)}function qDe(t,e){return e.get?e.get.call(t):e.value}function KDe(t,e,n){var r=b9(t,e,"set");return XDe(t,r,n),n}function b9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function XDe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}var Kg=new WeakMap,md=new WeakMap,Xg=new WeakMap;class QDe{constructor(e){vN(this,Kg,{writable:!0,value:new Map}),vN(this,md,{writable:!0,value:new Map}),vN(this,Xg,{writable:!0,value:null}),KDe(this,Xg,e)}getRoots(){return Array.from(jo(this,Kg).values())}getRootByColumn(e){let n;return jo(this,md).has(e)&&(n=jo(this,Kg).get(jo(this,md).get(e))),n}getNode(e,n){const r=this.getRootByColumn(n);if(!r)return;const o=n-jo(this,md).get(n);let i=0,s;return r.walkDown(a=>{const{data:{origColspan:l,headerLevel:u}}=a;if(e===u){if(o>=i&&o<=i+l-1)return s=a,s.data.isRoot=n===s.data.columnIndex,!1;i+=l}}),s}rebuildTreeIndex(){let e=0;jo(this,md).clear(),F(jo(this,Kg),n=>{let[,{data:{colspan:r}}]=n;for(let o=e;o<e+r;o++)jo(this,md).set(o,e);e+=r})}buildTree(){this.clear();const e=jo(this,Xg).getColumnsCount();let n=0;for(;n<e;){const r=jo(this,Xg).getHeaderSettings(0,n),o=new U1;jo(this,Kg).set(n,o),this.buildLeaves(o,n,0,r.origColspan),n+=r.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const i=jo(this,Xg).getHeadersSettings(r,n,o);r+=1,F(i,s=>{const a={...s,headerLevel:r-1,columnIndex:n};let l;r===1?(e.data=a,l=e):(l=new U1(a),e.addChild(l)),r<jo(this,Xg).getLayersCount()&&this.buildLeaves(l,n,r,s.origColspan),n+=s.origColspan})}clear(){jo(this,Kg).clear(),jo(this,md).clear()}}function C9(t,e){t.walkDown(n=>{let{data:r,childs:o}=n;if(!r.isHidden&&(e(r.columnIndex),o.length===0))for(let i=1;i<r.colspan;i++)e(r.columnIndex+i)})}function $1(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function G1(t){return $1(t,"origColspan")===t.data.origColspan}function wN(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(G1(t))return wN(n[0]);e.isCollapsed=!1;const r=n.slice(1),o=new Set;let i=0;if(r.length>0)F(r,s=>{s.replaceTreeWith(s.data.clonedTree),s.data.clonedTree=null;const a=s.data;i+=a.colspan,C9(s,l=>{o.add(l)})});else{const{colspan:s,origColspan:a,columnIndex:l}=e;i=a-s;for(let u=1;u<a;u++)o.add(l+u)}return t.walkUp(s=>{const{data:a}=s;a.colspan+=i,a.colspan>=a.origColspan?(a.colspan=a.origColspan,a.isCollapsed=!1):G1(s)&&(a.isCollapsed=$1(s,"isCollapsed"))}),{rollbackModification:()=>yN(t),affectedColumns:Array.from(o),colspanCompensation:i}}function yN(t){var e;const{data:n,childs:r}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(G1(t))return yN(r[0]);n.isCollapsed=!0;const o=r.slice(1),i=new Set;if(o.length>0)F(o,a=>{C9(a,l=>{i.add(l)}),a.data.clonedTree=a.cloneTree(),a.walkDown(l=>{let{data:u}=l;u.isHidden=!0})});else{const{origColspan:a,columnIndex:l}=n;for(let u=1;u<a;u++){const c=l+u;i.add(c)}}const s=n.colspan-((e=$1(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(a=>{const{data:l}=a;l.colspan-=s,l.colspan<=1?(l.colspan=1,l.isCollapsed=!0):G1(a)&&(l.isCollapsed=$1(a,"isCollapsed"))}),{rollbackModification:()=>wN(t),affectedColumns:Array.from(i),colspanCompensation:s}}function JDe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(un`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let r=!1;t.walkUp(o=>{const{data:{collapsible:i}}=o;if(i)return r=!0,!1}),!r&&t.walkUp(o=>{const{data:i}=o;i.crossHiddenColumns.push(e),i.colspan>1?i.colspan-=1:i.isHidden=!0})}function ZDe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(un`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let r=!1;t.walkUp(o=>{const{data:{collapsible:i}}=o;if(i)return r=!0,!1}),!r&&t.walkUp(o=>{const{data:i}=o;i.crossHiddenColumns.splice(i.crossHiddenColumns.indexOf(e),1),!i.isHidden&&i.colspan<i.origColspan&&(i.colspan+=1),i.isHidden=!1})}const S9=new Map([["collapse",yN],["expand",wN],["hide-column",JDe],["show-column",ZDe]]);function eLe(t,e,n){if(!S9.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return S9.get(t)(e,n)}function Y1(t){const e=[];return F(t,n=>{n.walkDown(r=>{const o=r.data,{origColspan:i,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=o,u=nLe(e,a);let c=!1;for(let h=s;h<s+i;h++)if(l.includes(h)||c)u.push(d9());else{const d=tLe(o);d.isRoot=!0,u.push(d),c=!0}})}),e}function tLe(t){const{crossHiddenColumns:e,...n}=fN(t);return n}function nLe(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function bN(t,e,n){rLe(t,e),e.set(t,n)}function rLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pw(t,e,n){var r=x9(t,e,"set");return oLe(t,r,n),n}function oLe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function nr(t,e){var n=x9(t,e,"get");return iLe(t,n)}function x9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function iLe(t,e){return e.get?e.get.call(t):e.value}var tl=new WeakMap,ui=new WeakMap,pd=new WeakMap;class sLe{constructor(){bN(this,tl,{writable:!0,value:new VDe}),bN(this,ui,{writable:!0,value:new QDe(nr(this,tl))}),bN(this,pd,{writable:!0,value:[[]]})}setState(e){nr(this,tl).setData(e);let n=!1;try{nr(this,ui).buildTree()}catch{nr(this,ui).clear(),nr(this,tl).clear(),n=!0}return Pw(this,pd,Y1(nr(this,ui).getRoots())),n}setColumnsLimit(e){nr(this,tl).setColumnsLimit(e)}mergeStateWith(e){const n=Pt(e,r=>{let{row:o,...i}=r;return{row:o<0?this.rowCoordsToLevel(o):o,...i}});nr(this,tl).mergeWith(n),nr(this,ui).buildTree(),Pw(this,pd,Y1(nr(this,ui).getRoots()))}mapState(e){nr(this,tl).map(e),nr(this,ui).buildTree(),Pw(this,pd,Y1(nr(this,ui).getRoots()))}mapNodes(e){return fo(nr(this,ui).getRoots(),(n,r)=>(r.walkDown(o=>{const i=e(o.data);i!==void 0&&n.push(i)}),n),[])}triggerNodeModification(e,n,r){n<0&&(n=this.rowCoordsToLevel(n));const o=nr(this,ui).getNode(n,r);let i;return o&&(i=eLe(e,o,r),Pw(this,pd,Y1(nr(this,ui).getRoots()))),i}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var r,o;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(r=(o=nr(this,pd)[e])===null||o===void 0?void 0:o[n])!==null&&r!==void 0?r:null}getHeaderTreeNodeData(e,n){const r=this.getHeaderTreeNode(e,n);return r?{...r.data}:null}getHeaderTreeNode(e,n){return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:nr(this,ui).getNode(e,n)||null}findTopMostEntireHeaderLevel(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const o=r-e+1;let i=!1,s=null;for(let a=e;a<=r;a++){const l=nr(this,ui).getRootByColumn(a);if(!l)break;i=!0,l.walkDown(u=>{const{columnIndex:c,headerLevel:h,origColspan:d,isHidden:g}=u.data;g||d<=o&&c>=e&&c+d-1<=r&&(s===null||h<s)&&(s=h)},m9)}return i&&s===null?-1:this.levelToRowCoords((n=s)!==null&&n!==void 0?n:0)}findLeftMostColumnIndex(e,n){var r;const{isRoot:o}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0};if(o)return n;let i=n-1;for(;i>=0;){var s;const{isRoot:a}=(s=this.getHeaderSettings(e,i))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;i-=1}return i}findRightMostColumnIndex(e,n){var r;const{isRoot:o,origColspan:i}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0,origColspan:1};if(o)return n+i-1;let s=n+1;for(;s<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return nr(this,tl).getLayersCount()}getColumnsCount(){return nr(this,tl).getColumnsCount()}clear(){Pw(this,pd,[]),nr(this,tl).clear(),nr(this,ui).clear()}}function Iw(t,e,n){return e=aLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aLe(t){var e=lLe(t,"string");return typeof e=="symbol"?e:String(e)}function lLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uLe{constructor(e,n){Iw(this,"hot",void 0),Iw(this,"nestedHeaderSettingsGetter",void 0),Iw(this,"layersCount",0),Iw(this,"container",void 0),Iw(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),n=e.length;this.widthsMap.clear();for(let r=0;r<n;r++){const o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(r),i=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(i,e[r].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:r}=this.hot,o=n.createDocumentFragment(),i=n.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=r.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const u=n.createElement("tr");for(let c=0;c<a;c++){let h=r.getVisualFromRenderableIndex(c);h===null&&(h=c);const d=n.createElement("th"),g=this.nestedHeaderSettingsGetter(l,h);if(g&&(!g.isPlaceholder||g.isHidden)){let p=g.label;s&&(p+='<button class="changeType"></button>'),Ff(d,p),d.colSpan=g.colspan,u.appendChild(d)}}i.appendChild(u)}o.appendChild(i),e.appendChild(o)}clear(){this.widthsMap.clear(),this.container=null}}function Ur(t,e){E9(t,e),e.add(t)}function R9(t,e,n){return e=cLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cLe(t){var e=hLe(t,"string");return typeof e=="symbol"?e:String(e)}function hLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1(t,e,n){E9(t,e),e.set(t,n)}function E9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vd(t,e,n){var r=k9(t,e,"set");return dLe(t,r,n),n}function dLe(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Kt(t,e){var n=k9(t,e,"get");return fLe(t,n)}function k9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function fLe(t,e){return e.get?e.get.call(t):e.value}function xr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const T9="nestedHeaders",gLe=280;var gn=new WeakMap,Dc=new WeakMap,Nw=new WeakMap,K1=new WeakMap,X1=new WeakSet,M9=new WeakSet,_9=new WeakSet,O9=new WeakSet,A9=new WeakSet,P9=new WeakSet,I9=new WeakSet,N9=new WeakSet,H9=new WeakSet,D9=new WeakSet,L9=new WeakSet,j9=new WeakSet,W9=new WeakSet,F9=new WeakSet,V9=new WeakSet,B9=new WeakSet,z9=new WeakSet,U9=new WeakSet;class mLe extends an{constructor(){super(...arguments),Ur(this,U9),Ur(this,z9),Ur(this,B9),Ur(this,V9),Ur(this,F9),Ur(this,W9),Ur(this,j9),Ur(this,L9),Ur(this,D9),Ur(this,H9),Ur(this,N9),Ur(this,I9),Ur(this,P9),Ur(this,A9),Ur(this,O9),Ur(this,_9),Ur(this,M9),Ur(this,X1),q1(this,gn,{writable:!0,value:new sLe}),q1(this,Dc,{writable:!0,value:null}),q1(this,Nw,{writable:!0,value:null}),q1(this,K1,{writable:!0,value:!1}),R9(this,"ghostTable",new uLe(this.hot,(e,n)=>this.getHeaderSettings(e,n))),R9(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return T9}static get PLUGIN_PRIORITY(){return gLe}isEnabled(){return!!this.hot.getSettings()[T9]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&vn(un`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>xr(this,z9,ALe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,U9,PLe).call(e,...o)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,A9,yLe).call(e,...o)}),this.addHook("afterOnCellMouseDown",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,P9,bLe).call(e,...o)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,I9,CLe).call(e,...o)}),this.addHook("beforeOnCellMouseUp",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,N9,SLe).call(e,...o)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,H9,xLe).call(e,...o)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,D9,RLe).call(e,...o)}),this.addHook("afterSelection",()=>xr(this,X1,CN).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,M9,pLe).call(e,...o)}),this.addHook("afterGetColumnHeaderRenderers",r=>xr(this,j9,kLe).call(this,r)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,F9,MLe).call(e,...o)}),this.addHook("modifyColumnHeaderValue",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,V9,_Le).call(e,...o)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,_9,vLe).call(e,...o)}),this.addHook("beforeCopy",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,O9,wLe).call(e,...o)}),this.addHook("beforeSelectColumns",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,L9,ELe).call(e,...o)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,W9,TLe).call(e,...o)}),this.addHook("modifyFocusedElement",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xr(e,B9,OLe).call(e,...o)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>xr(this,X1,CN).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>xr(this,X1,CN).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();Kt(this,gn).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=Kt(this,gn).setState(e)),this.detectedOverlappedHeaders&&vn(un`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,r)=>{const o=n===!0?"hide-column":"show-column";Kt(this,gn).triggerColumnModification(o,r)}),!Kt(this,Dc)&&this.enabled&&vd(this,Dc,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(r=>{let{op:o,index:i,newValue:s}=r;if(o==="replace"){const a=s===!0?"hide-column":"show-column";Kt(this,gn).triggerColumnModification(a,i)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Kt(this,gn).clear(),Kt(this,Dc).unsubscribe(),vd(this,Dc,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Kt(this,gn)}getLayersCount(){return Kt(this,gn).getLayersCount()}getHeaderSettings(e,n){return Kt(this,gn).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,r=e.wtTable.THEAD,o=e.wtOverlays.topOverlay.clone.wtTable.THEAD,i=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<n;s++){const a=r.childNodes[s];if(!a)break;const l=o.childNodes[s],u=i?i.childNodes[s]:null;for(let c=0,h=a.childNodes.length;c<h;c++)a.childNodes[c].removeAttribute("colspan"),Rt(a.childNodes[c],"hiddenHeader"),l&&l.childNodes[c]&&(l.childNodes[c].removeAttribute("colspan"),Rt(l.childNodes[c],"hiddenHeader")),i&&u&&u.childNodes[c]&&(u.childNodes[c].removeAttribute("colspan"),Rt(u.childNodes[c],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const r=this.hot.view._wt.getSetting("fixedColumnsStart");return(o,i)=>{var s;const{columnIndexMapper:a,view:l}=this.hot;let u=a.getVisualFromRenderableIndex(o);u===null&&(u=o),i.removeAttribute("colspan"),Rt(i,"hiddenHeader");const{colspan:c,isHidden:h,isPlaceholder:d}=(s=Kt(this,gn).getHeaderSettings(e,u))!==null&&s!==void 0?s:{label:""};if(d||h)ke(i,"hiddenHeader");else if(c>1){var g,p;const{wtOverlays:w}=l._wt,C=(g=w.topInlineStartCornerOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(i),v=(p=w.inlineStartOverlay)===null||p===void 0?void 0:p.clone.wtTable.THEAD.contains(i),y=C||v?Math.min(c,r-o):c;y>1&&i.setAttribute("colspan",y)}this.hot.view.appendColHeader(u,i,function(){return n.getColumnHeaderValue(...arguments)},e)}}getColumnHeaderValue(e,n){var r;const{isHidden:o,isPlaceholder:i}=(r=Kt(this,gn).getHeaderSettings(n,e))!==null&&r!==void 0?r:{};return i||o?"":this.hot.getColHeader(e,n)}destroy(){vd(this,gn,null),Kt(this,Dc)!==null&&(Kt(this,Dc).unsubscribe(),vd(this,Dc,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return Kt(this,gn).getHeaderTreeNodeData(e.row,e.col)}}function CN(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const r=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=r,o.visualCellRange.from.col=r,o.visualCellRange.to.col=r,o.commit()}}function pLe(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e;if(!(n.isHeader()&&n.col>=0))return t;const r=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),i=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),s=Kt(this,gn).findRightMostColumnIndex(n.row,n.col);return i<r&&s>o?t:i<r?i:s}function vLe(t,e,n){const r=Kt(this,gn).getHeaderTreeNodeData(e,t);if(!r)return t;const{columnCursor:o,selectionType:i,selectionWidth:s}=n,{isRoot:a,colspan:l}=Kt(this,gn).getHeaderSettings(e,t);if(i===m_){if(!a)return r.columnIndex}else if(i===W3&&(l>s-o||!a))return null;return t}function wLe(t,e,n){let{columnHeadersCount:r}=n;if(r!==0)for(let i=0;i<e.length;i++){const{startRow:s,startCol:a,endRow:l,endCol:u}=e[i],c=l-s+1,h=a-u+1;if(s>=0||h===1)break;for(let d=a;d<=u;d++)for(let g=s;g<=l;g++){var o;const p=c+g,w=d-a;w!==0&&((o=Kt(this,gn).getHeaderTreeNodeData(g,d))===null||o===void 0?void 0:o.isRoot)===!1&&(t[p][w]="")}}}function yLe(t,e,n,r){this._getHeaderTreeNodeDataByCoords(e)&&(r.column=!0)}function bLe(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;vd(this,Nw,e.clone()),vd(this,K1,!0);const{selection:r}=this.hot,o=r.isSelected()?r.getSelectedRange().current():null,i=[],{columnIndex:s,origColspan:a}=n,l=!r.inInSelection(e);t.shiftKey&&o?e.col<o.from.col?i.push(o.getTopEndCorner().col,s,e.row):e.col>o.from.col?i.push(o.getTopStartCorner().col,s+a-1,e.row):i.push(s,s+a-1,e.row):(NM(t)||_h(t)&&l)&&i.push(s,s+a-1,e.row),r.selectColumns(...i)}function CLe(t,e,n,r){if(!this.hot.view.isMouseDown())return;const o=this._getHeaderTreeNodeDataByCoords(e);if(!o)return;const{columnIndex:i,origColspan:s}=o,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),u=a.getBottomEndCorner(),{from:c}=a;r.column=!0,r.cell=!0;const h=[],d=ki(e.row,-1/0,-1);e.col<c.col?h.push(u.col,i,d):e.col>c.col?h.push(l.col,i+s-1,d):h.push(i,i+s-1,d),this.hot.selection.selectColumns(...h)}function SLe(){vd(this,K1,!1)}function xLe(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Kt(this,K1)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,r=e.getBottomEndCorner().col,{columnIndex:o,origColspan:i}=Kt(this,gn).getHeaderTreeNodeData(Kt(this,Nw).row,Kt(this,Nw).col);if(e.setHighlight(Kt(this,Nw)),i>e.getWidth()||o<n||o+i-1>r){const s=Kt(this,gn).findTopMostEntireHeaderLevel(ki(n,o,o+i-1),ki(r,o,o+i-1));e.highlight.row=s,e.highlight.col=e.from.col}}function RLe(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const r=Kt(this,gn).findLeftMostColumnIndex(n.row,n.col),o=Kt(this,gn).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const i=e.col>=r&&e.col<=o?r-1:o,s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i,-1);s===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(s,e.col)-1,1)}else if(t.col>0){const i=e.col>=r&&e.col<=o?o+1:r,s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i,1);s===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,s)-1,1)}}function ELe(t,e){const n=t.row,r=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),o=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(r&&(t.col=r.columnIndex+r.origColspan-1),o&&(e.col=o.columnIndex)):e.col>=t.col&&(r&&(t.col=r.columnIndex),o&&(e.col=o.columnIndex+o.origColspan-1))}function kLe(t){t.length=0;for(let e=0;e<Kt(this,gn).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function TLe(t){const e=Kt(this,gn).getLayersCount();let n=t.startColumn,r=!!e;for(let o=0;o<e;o++){const i=Kt(this,gn).findLeftMostColumnIndex(o,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(i);if(i>=0&&(r=!1),Jo(s)&&s<t.startColumn){n=s;break}}t.startColumn=r?Kt(this,gn).getHeaderTreeNodeData(0,n).columnIndex:n}function MLe(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function _Le(t,e,n){var r;const{label:o}=(r=Kt(this,gn).getHeaderTreeNodeData(n,e))!==null&&r!==void 0?r:{label:""};return o}function OLe(t,e){if(t<0)return this.hot.getCell(t,Kt(this,gn).findLeftMostColumnIndex(t,e),!0)}function ALe(){this.updatePlugin()}function PLe(t,e){e||this.updatePlugin()}function Hw(t,e,n){return e=ILe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ILe(t){var e=NLe(t,"string");return typeof e=="symbol"?e:String(e)}function NLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HLe{constructor(e,n){Hw(this,"hot",void 0),Hw(this,"data",null),Hw(this,"plugin",void 0),Hw(this,"parentReference",new WeakMap),Hw(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ke(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,r){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:r,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&F(e.__children,o=>{this.cacheNode(o,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,r,o){let i=!1,s=n;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},i=!0,s-=1),r!=null&&s===r?{result:a,end:!0}:o!=null&&a===o?{result:s,end:!0}:(s+=1,a.__children&&F(a.__children,l=>{if(this.parentReference.set(l,i?null:a),s=this.readTreeNodes(l,s,r,o),isNaN(s)&&s.end)return!1}),s)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return It(this.data[0],(n,r)=>{e[r]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const r=this.getRowParent(e);return r==null?this.data.indexOf(n):r.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),!r||!r.__children?0:(F(r.__children,o=>{n+=1,o.__children&&(n+=this.countChildren(o))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var r;return((r=e.__children)===null||r===void 0?void 0:r[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&!!r.__children&&((n=r.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let r=n;this.hot.runHooks("beforeAddChild",e,r);let o=null;e&&(o=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(e)+1,1);let i=e;e||(i=this.mockParent()),i.__children||(i.__children=[]),r||(r=this.mockNode()),i.__children.push(r),this.rewriteCache();const s=this.getRowIndex(r);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,r)}addChildAtIndex(e,n,r){let o=r,i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",e,o,n),e){const s=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",s,1),e.__children.splice(n,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(s,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",s,1),i=s}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),i=this.getRowIndex(this.data[n]);o=this.getDataObject(i),this.hot.runHooks("afterAddChild",e,o,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const r=this.translateTrimmedRow(e),o=this.getRowParent(r),i=this.getRowIndexWithinParent(r);switch(n){case"below":this.addChildAtIndex(o,i+1,null);break;case"above":this.addChildAtIndex(o,i,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=null;const o=[];Array.isArray(e)?(Ke(e[0],e[2],d=>{const g=this.translateTrimmedRow(d);o.push(this.getDataObject(g))}),Ke(0,o.length-2,d=>{this.detachFromParent(o[d],!1)}),r=o[o.length-1]):r=e;const i=this.getRowIndex(r),s=this.countChildren(r),a=this.getRowIndexWithinParent(r),l=this.getRowParent(r),u=this.getRowParent(l),c=this.getRowIndex(u);let h=null;if(this.hot.runHooks("beforeDetachChild",l,r),a!=null){const d=Array.from(new Array(i+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",i,s+1,d,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",i,s+1,d,this.plugin.pluginName),u){h=c+this.countChildren(u);const g=this.getChild(u,this.countChildren(u)-1),p=this.getRowIndex(g);this.hot.runHooks("beforeCreateRow",p+1,s+1,this.plugin.pluginName),u.__children.push(r)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,s+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,r,this.getRowIndex(r)),n&&this.hot.render()}filterData(e,n,r){const o=[];F(r,i=>{o.push(this.getDataObject(i))}),F(o,i=>{const s=this.getRowIndexWithinParent(i),a=this.getRowParent(i);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,n,r){const o=this.getDataObject(e-1);let i=null,s=e;o&&o.__children&&o.__children.length===0?(i=o,s=0):e<this.countAllRows()&&(i=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),i?r?i.__children.splice(s,n,...r):i.__children.splice(s,n):r?this.data.splice(s,n,...r):this.data.splice(s,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,r=null;do r=this.getRowParent(r),r!==null&&(n=r);while(r!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,r,o){const i=n===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=s.__children.slice(a,a+1),u=e>n;let c=i?this.getRowParent(n-1):this.getRowParent(n);c==null&&(c=this.getRowParent(n-1)),c==null&&(c=this.getDataObject(n-1)),c?c.__children||(c.__children=[]):(c=this.getDataObject(n),c.__children=[]);const h=i||r||o?c.__children.length:this.getRowIndexWithinParent(n),d=s===c;c.__children.splice(h,0,l[0]),s.__children.splice(a+(u&&d?1:0),1),this.syncRowWithRawSource(s),d||this.syncRowWithRawSource(c)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function $9(t,e,n){return e=DLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DLe(t){var e=LLe(t,"string");return typeof e=="symbol"?e:String(e)}function LLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class SN{constructor(e,n){$9(this,"hot",void 0),$9(this,"plugin",void 0),this.hot=n,this.plugin=e}}class nl extends SN{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const r=this.hot.toPhysicalRow(e),o=this.dataManager.getRowLevel(r),i=this.dataManager.getDataObject(r),s=n.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),u=this.hot.getSettings().ariaTags;if(F(l,c=>{c&&s.removeChild(c)}),ke(n,nl.CSS_CLASSES.indicatorContainer),o){const{rootDocument:c}=this.hot,h=a.cloneNode(!0);s.innerHTML="",Ke(0,o-1,()=>{const d=c.createElement("SPAN");ke(d,nl.CSS_CLASSES.emptyIndicator),s.appendChild(d)}),s.appendChild(h)}if(this.dataManager.hasChildren(i)){const c=this.hot.rootDocument.createElement("DIV");u&&ct(c,[Ll()]),ke(n,nl.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?(ke(c,`${nl.CSS_CLASSES.button} ${nl.CSS_CLASSES.expandButton}`),u&&ct(n,[is(!1)])):(ke(c,`${nl.CSS_CLASSES.button} ${nl.CSS_CLASSES.collapseButton}`),u&&ct(n,[is(!0)])),s.appendChild(c)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*n+25),this.hot.render()}}class jLe extends SN{constructor(e,n){var r;super(e,n),r=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,o)},shiftStash:function(o,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i==null&&(i=1/0),F(r.lastCollapsedRows,(a,l)=>{a>=o&&a<i&&(r.lastCollapsedRows[l]=a+s)})},applyStash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r.collapseMultipleChildren(r.lastCollapsedRows,o),r.lastCollapsedRows=void 0},trimStash:(o,i)=>{Ke(o,o+i-1,s=>{const a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let i=null,s=null,a=null;return isNaN(e)?(i=e,s=this.dataManager.getRowIndex(i)):(i=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(i)&&F(i.__children,l=>{o.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(o,!0,!1),r&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,i=>{o.push(...this.collapseChildren(i,!1,!1))}),r&&this.trimRows(o),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,i=>{o.push(i),n&&this.collapseChildRows(i,o)}),r&&this.trimRows(o),o}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,i=>{const s=this.dataManager.getRowIndex(i);n.push(s),this.collapseChildRows(s,n)})}r&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,i=>{o.push(i),n&&this.expandChildRows(i,o)}),r&&this.untrimRows(o),o}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,i=>{if(!this.isAnyParentCollapsed(i)){const s=this.dataManager.getRowIndex(i);n.push(s),this.expandChildRows(s,n)}})}r&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let i=null,s=null,a=null;return isNaN(e)?(i=e,s=this.dataManager.getRowIndex(e)):(i=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(i)&&F(i.__children,l=>{const u=this.dataManager.getRowIndex(l);o.push(u)}),a=this.expandRows(o,!0,!1),r&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,i=>{o.push(...this.expandChildren(i,!1,!1))}),r&&this.untrimRows(o),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];F(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];F(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&F(n.__children,o=>{const i=this.dataManager.getRowIndex(o);if(!this.plugin.collapsedRowsMap.getValueAtIndex(i))return r=!1,!1}),r}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const r=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(r)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const r=this.translateTrimmedRow(n.row);yt(e.target,nl.CSS_CLASSES.button)&&(this.areChildrenCollapsed(r)?this.expandChildren(r):this.collapseChildren(r),Vs(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function WLe(t,e,n){FLe(t,e),e.set(t,n)}function FLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VLe(t,e,n){return e=BLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BLe(t){var e=zLe(t,"string");return typeof e=="symbol"?e:String(e)}function zLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ULe(t,e){var n=$Le(t,e,"get");return GLe(t,n)}function $Le(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function GLe(t,e){return e.get?e.get.call(t):e.value}var G9=new WeakMap;class YLe extends SN{constructor(){super(...arguments),VLe(this,"dataManager",this.plugin.dataManager),WLe(this,G9,{writable:!0,value:{row_above:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"above")},row_below:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"below")}}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(kO)},callback:()=>{const r=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),o=this.dataManager.getDataObject(r);this.dataManager.addChild(o)},disabled:()=>{const r=this.hot.getSelectedLast();return!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(TO)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const r=this.hot.getSelectedLast(),o=this.dataManager.translateTrimmedRow(r[0]);return!this.dataManager.getRowParent(o)||!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ke(0,e.items.length-1,r=>{if(r===0)return F(n,(o,i)=>{e.items.splice(r+i,0,o)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Ke(0,e.items.length-1,n=>{const r=ULe(this,G9)[e.items[n].key];r!=null&&(e.items[n].callback=r)}),e}}function Q1(t,e,n){return e=qLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qLe(t){var e=KLe(t,"string");return typeof e=="symbol"?e:String(e)}function KLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XLe{constructor(e){Q1(this,"plugin",void 0),Q1(this,"hot",void 0),Q1(this,"dataManager",void 0),Q1(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,r,o){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:r,movePossible:o}))return!1;this.movedToCollapsed=!1;const i=r===this.hot.countRows(),s=i?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(r);let a=!0;const l=e.map(g=>{if(!a)return!1;const p=this.dataManager.translateTrimmedRow(g);return a=this.shouldAllowMoving(p,s),p}),u=l.indexOf(s)===-1;if(!a||!u)return!1;const c=this.getBaseParent(l),h=this.getTargetParent(i,s),d=c===h;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(h),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(l,s,d),this.moveRows(l,s,h),this.dataManager.rewriteCache(),this.moveCellsMeta(l,s),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,r,o,o&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,r),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:r,dropIndex:o,movePossible:i}=e;let s=!1;return Tn(o)&&(vn(un`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,r,o,i,!1),s=!0),s}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let r=this.dataManager.getRowParent(e?n-1:n);return r==null&&(r=this.dataManager.getRowParent(n-1)),r}shiftCollapsibleParentsLocations(e,n,r){r||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,r){const o=n===this.dataManager.getRowIndex(r)+this.dataManager.countChildren(r)+1;this.hot.batchRender(()=>{e.forEach(i=>{this.dataManager.moveRow(i,n,this.movedToCollapsed,o)})})}moveCellsMeta(e,n){const r=[],o=Math.max(...e)<n;e.forEach(i=>{r.push(this.hot.getCellMetaAtRow(i))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(o?r.length:0),0,...r)}selectCells(e,n){const r=e.length;let o=0,i=0,s=null,a=null;if(this.movedToCollapsed){let l=null;e[r-1]<n?l=this.dataManager.translateTrimmedRow(n-r):l=this.dataManager.translateTrimmedRow(n);const u=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),c=this.dataManager.getRowIndex(u);o=this.dataManager.untranslateTrimmedRow(c),i=o}else e[r-1]<n?(i=n-1,o=i-r+1):(o=n,i=o+r-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(o,0)),s.setRangeEnd(this.hot._createCellCoords(i,a),!0)}isRowOrderChanged(e,n){return e.some((r,o)=>r-o!==n)}}function bo(t,e){q9(t,e),e.add(t)}function Y9(t,e,n){q9(t,e),e.set(t,n)}function q9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xN(t,e,n){return e=QLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QLe(t){var e=JLe(t,"string");return typeof e=="symbol"?e:String(e)}function JLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J1(t,e){var n=K9(t,e,"get");return ZLe(t,n)}function ZLe(t,e){return e.get?e.get.call(t):e.value}function Z1(t,e,n){var r=K9(t,e,"set");return eje(t,r,n),n}function K9(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function eje(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Jr(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const ex="nestedRows",tje=300,X9=ex,nje="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var tx=new WeakMap,Qg=new WeakMap,Q9=new WeakSet,J9=new WeakSet,Z9=new WeakSet,eq=new WeakSet,tq=new WeakSet,nq=new WeakSet,rq=new WeakSet,oq=new WeakSet,iq=new WeakSet,sq=new WeakSet,aq=new WeakSet,lq=new WeakSet,uq=new WeakSet,cq=new WeakSet,hq=new WeakSet,RN=new WeakSet;class rje extends an{constructor(){super(...arguments),bo(this,RN),bo(this,hq),bo(this,cq),bo(this,uq),bo(this,lq),bo(this,aq),bo(this,sq),bo(this,iq),bo(this,oq),bo(this,rq),bo(this,nq),bo(this,tq),bo(this,eq),bo(this,Z9),bo(this,J9),bo(this,Q9),xN(this,"dataManager",null),xN(this,"headersUI",null),xN(this,"collapsedRowsMap",null),Y9(this,tx,{writable:!0,value:!1}),Y9(this,Qg,{writable:!0,value:!1})}static get PLUGIN_KEY(){return ex}static get PLUGIN_PRIORITY(){return tje}isEnabled(){return!!this.hot.getSettings()[ex]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new wv),this.dataManager=new HLe(this,this.hot),this.collapsingUI=new jLe(this,this.hot),this.headersUI=new nl(this,this.hot),this.contextMenuUI=new YLe(this,this.hot),this.rowMoveController=new XLe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,cq,vje).call(e,...r)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,hq,wje).call(e,...r)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,Z9,sje).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,eq,aje).call(e,...r)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,tq,lje).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,J9,ije).call(e,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,oq,hje).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,rq,cje).call(e,...r)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,iq,dje).call(e,...r)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,sq,fje).call(e,...r)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,aq,gje).call(e,...r)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,lq,mje).call(e,...r)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,nq,uje).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,uq,pje).call(e,...r)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Jr(e,Q9,oje).call(e,...r)}),this.addHook("beforeLoadData",n=>Jr(this,RN,dq).call(this,n)),this.addHook("beforeUpdateData",n=>Jr(this,RN,dq).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();if(e.col===-1&&e.row>=0){const n=this.collapsingUI.translateTrimmedRow(e.row);this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n)}},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()},group:X9})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(X9)}disableCoreAPIModifiers(){Z1(this,Qg,!0)}enableCoreAPIModifiers(){Z1(this,Qg,!1)}onModifyRowData(e){if(!J1(this,Qg))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!J1(this,Qg))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,r){return J1(this,Qg)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,r),!1)}destroy(){super.destroy()}}function oje(t,e,n,r){return this.rowMoveController.onBeforeRowMove(t,e,n,r)}function ije(t,e,n){this.collapsingUI.toggleState(t,e,n)}function sje(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),Z1(this,tx,!0),this.dataManager.getData().slice()}function aje(t){return this.contextMenuUI.appendOptions(t)}function lje(t,e){this.headersUI.appendLevelIndicators(t,e)}function uje(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function cje(t,e,n,r){r!==this.pluginName&&this.hot._registerTimeout(()=>{Z1(this,tx,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function hje(t,e,n){const r=Array.from(n.reduce((o,i)=>{if(this.dataManager.isParent(i)){const s=this.dataManager.getDataObject(i).__children;return o.add(i),Array.isArray(s)&&s.forEach(a=>o.add(this.dataManager.getRowIndex(a))),o}return o.add(i)},new Set));n.length=0,n.push(...r)}function dje(){this.collapsingUI.collapsedRowsStash.stash()}function fje(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function gje(){this.collapsingUI.collapsedRowsStash.stash()}function mje(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function pje(){this.dataManager.rewriteCache()}function vje(){this.headersUI.updateRowHeaderWidth()}function wje(t,e){J1(this,tx)&&(e.skipRender=!0)}function dq(t){if(!Xbe(t)){HM(nje),this.hot.getSettings()[ex]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function EN(t,e,n){return e=yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yje(t){var e=bje(t,"string");return typeof e=="symbol"?e:String(e)}function bje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cje{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;EN(this,"rootWindow",void 0),EN(this,"prefix",void 0),EN(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const r=typeof e>"u"?n:e,o=this.rootWindow.localStorage.getItem(`${this.prefix}_${r}`);return o===null?void 0:JSON.parse(o)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){F(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function Sje(t,e,n){return e=xje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xje(t){var e=Rje(t,"string");return typeof e=="symbol"?e:String(e)}function Rje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}ze.getSingleton().register("persistentStateSave"),ze.getSingleton().register("persistentStateLoad"),ze.getSingleton().register("persistentStateReset");const fq="persistentState",Eje=0;class kje extends an{constructor(){super(...arguments),Sje(this,"storage",void 0)}static get PLUGIN_KEY(){return fq}static get PLUGIN_PRIORITY(){return Eje}isEnabled(){return!!this.hot.getSettings()[fq]}enablePlugin(){this.enabled||(this.storage||(this.storage=new Cje(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function Tje(t,e){Mje(t,e),e.add(t)}function Mje(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kN(t,e,n){return e=_je(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _je(t){var e=Oje(t,"string");return typeof e=="symbol"?e:String(e)}function Oje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gq(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const TN="search",Aje=190,Pje="htSearchResult",Ije=function(t,e,n,r,o){t.getCellMeta(e,n).isSearchResult=o},Nje=function(t,e,n){return Tn(t)||t===null||!t.toLocaleLowerCase||t.length===0||Tn(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var MN=new WeakSet;class Hje extends an{constructor(){super(...arguments),Tje(this,MN),kN(this,"callback",Ije),kN(this,"queryMethod",Nje),kN(this,"searchResultClass",Pje)}static get PLUGIN_KEY(){return TN}static get PLUGIN_PRIORITY(){return Aje}isEnabled(){return this.hot.getSettings()[TN]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[TN];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gq(e,MN,mq).call(e,...o)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gq(e,MN,mq).call(e,...o)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const o=this.hot.countRows(),i=this.hot.countCols(),s=[],a=this.hot;return Ke(0,o-1,l=>{Ke(0,i-1,u=>{const c=this.hot.getDataAtCell(l,u),h=this.hot.getCellMeta(l,u),d=h.search.callback||n,g=(h.search.queryMethod||r)(e,c,h);if(g){const p={row:l,col:u,data:c};s.push(p)}d&&d(a,l,u,c,g)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){Ot(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function mq(t,e,n,r,o,i){const s=i.className||[];let a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&i.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),i.className=a.join(" ")}function _N(t,e){Dje(t,e),e.add(t)}function Dje(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nx(t,e,n){return e=Lje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lje(t){var e=jje(t,"string");return typeof e=="symbol"?e:String(e)}function jje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ON(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const Wje="touchScroll",Fje=200;var pq=new WeakSet,vq=new WeakSet,wq=new WeakSet;class Vje extends an{constructor(){super(...arguments),_N(this,wq),_N(this,vq),_N(this,pq),nx(this,"scrollbars",[]),nx(this,"clones",[]),nx(this,"lockedCollection",!1),nx(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return Wje}static get PLUGIN_PRIORITY(){return Fje}static get SETTING_KEYS(){return!0}isEnabled(){return Tz()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>ON(this,pq,Bje).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>ON(this,vq,zje).call(this)),this.addHook("afterMomentumScroll",()=>ON(this,wq,Uje).call(this))}}function Bje(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),r&&this.scrollbars.push(r),o&&o.clone&&this.scrollbars.push(o),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}function zje(){this.freezeOverlays=!0,F(this.clones,t=>{ke(t,"hide-tween")})}function Uje(){this.freezeOverlays=!1,F(this.clones,t=>{Rt(t,"hide-tween"),ke(t,"show-tween")}),this.hot._registerTimeout(()=>{F(this.clones,t=>{Rt(t,"show-tween")})},400),F(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function $je(t,e){Gje(t,e),e.add(t)}function Gje(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yje(t,e,n){return e=qje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qje(t){var e=Kje(t,"string");return typeof e=="symbol"?e:String(e)}function Kje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xje(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}const rx="trimRows",Qje=330;var yq=new WeakSet;class Jje extends an{constructor(){super(...arguments),$je(this,yq),Yje(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return rx}static get PLUGIN_PRIORITY(){return Qje}isEnabled(){return!!this.hot.getSettings()[rx]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new wv),this.trimmedRowsMap.addLocalHook("init",()=>Xje(this,yq,Zje).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[rx];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),F(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let o=n;r&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,o,r)!==!1&&(r&&this.hot.batchExecution(()=>{F(e,i=>{this.trimmedRowsMap.setValueAtIndex(i,!0)})},!0),this.hot.runHooks("afterTrimRow",n,o,r,r&&o.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let o=n;const i=this.trimmedRowsMap.getValues().slice(),s=e.length>0;r&&s&&(F(e,a=>{i[a]=!1}),o=fo(i,(a,l,u)=>(l&&a.push(u),a),[])),this.hot.runHooks("beforeUntrimRow",n,o,r&&s)!==!1&&(r&&s&&this.trimmedRowsMap.setValues(i),this.hot.runHooks("afterUntrimRow",n,o,r&&s,r&&o.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(r=>Number.isInteger(r)&&r>=0&&r<n)}destroy(){super.destroy()}}function Zje(){const t=this.hot.getSettings()[rx];Array.isArray(t)&&this.hot.batchExecution(()=>{F(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var bq={},eWe=Mf,tWe=bq,nWe=eWe("iterator"),rWe=Array.prototype,oWe=function(t){return t!==void 0&&(tWe.Array===t||rWe[nWe]===t)},iWe=eV,Cq=qk,sWe=Fk,aWe=bq,lWe=Mf,uWe=lWe("iterator"),Sq=function(t){if(!sWe(t))return Cq(t,uWe)||Cq(t,"@@iterator")||aWe[iWe(t)]},cWe=mh,hWe=o0,dWe=Ku,fWe=r0,gWe=Sq,mWe=TypeError,pWe=function(t,e){var n=arguments.length<2?gWe(t):e;if(hWe(n))return dWe(cWe(n,t));throw new mWe(fWe(t)+" is not iterable")},vWe=mh,xq=Ku,wWe=qk,yWe=function(t,e,n){var r,o;xq(t);try{if(r=wWe(t,"return"),!r){if(e==="throw")throw n;return n}r=vWe(r,t)}catch(i){o=!0,r=i}if(e==="throw")throw n;if(o)throw r;return xq(r),n},bWe=gV,CWe=mh,SWe=Ku,xWe=r0,RWe=oWe,EWe=Ap,Rq=zk,kWe=pWe,TWe=Sq,Eq=yWe,MWe=TypeError,ox=function(t,e){this.stopped=t,this.result=e},kq=ox.prototype,_We=function(t,e,n){var r=n&&n.that,o=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_RECORD),s=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),l=bWe(e,r),u,c,h,d,g,p,w,C=function(y){return u&&Eq(u,"normal",y),new ox(!0,y)},v=function(y){return o?(SWe(y),a?l(y[0],y[1],C):l(y[0],y[1])):a?l(y,C):l(y)};if(i)u=t.iterator;else if(s)u=t;else{if(c=TWe(t),!c)throw new MWe(xWe(t)+" is not iterable");if(RWe(c)){for(h=0,d=EWe(t);d>h;h++)if(g=v(t[h]),g&&Rq(kq,g))return g;return new ox(!1)}u=kWe(t,c)}for(p=i?t.next:u.next;!(w=CWe(p,u)).done;){try{g=v(w.value)}catch(y){Eq(u,"throw",y)}if(typeof g=="object"&&g&&Rq(kq,g))return g}return new ox(!1)},OWe=As,AWe=qu,PWe=e0,IWe=function(t,e,n){OWe?AWe.f(t,e,PWe(0,n)):t[e]=n},NWe=Xu,HWe=_We,DWe=IWe;NWe({target:"Object",stat:!0},{fromEntries:function(t){var e={};return HWe(t,function(n,r){DWe(e,n,r)},{AS_ENTRIES:!0}),e}});const Tq="undoRedo",LWe="undoRedo";function Ve(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(r,o){const i=r&&r.length;if(!i||!r.find(a=>{const[,,l,u]=a;return l!==u}))return;const s=()=>{const a=r.reduce((u,c)=>(u.push([...c]),u),[]);F(a,u=>{u[1]=t.propToCol(u[1])});const l=i>1?this.getSelected():[[a[0][0],a[0][1]]];return new Ve.ChangeAction(a,l)};e.done(s,o)}),t.addHook("afterCreateRow",(r,o,i)=>{e.done(()=>new Ve.CreateRowAction(r,o),i)});const n=(r,o,i,s)=>{const a=["visualRow","visualCol","row","col","prop"],l=a.length,u=[];return Ke(i,s,c=>{Ke(r,o,h=>{const d=t.getCellMeta(h,c);if(Object.keys(d).length!==l){const g=Object.fromEntries(Object.entries(d).filter(p=>{let[w]=p;return a.includes(w)===!1}));u.push([d.visualRow,d.visualCol,g])}})}),u};t.addHook("beforeRemoveRow",(r,o,i,s)=>{const a=()=>{const l=t.toPhysicalRow(r),u=l+o-1,c=_o(e.instance.getSourceData(l,0,l+o-1,e.instance.countSourceCols()-1));return new Ve.RemoveRowAction(l,c,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(l,u,0,t.countCols()-1))};e.done(a,s)}),t.addHook("afterCreateCol",(r,o,i)=>{e.done(()=>new Ve.CreateColumnAction(r,o),i)}),t.addHook("beforeRemoveCol",(r,o,i,s)=>{const a=()=>{const l=e.instance.getSourceDataArray(),u=(e.instance.countCols()+r)%e.instance.countCols(),c=u+o-1,h=[],d=[],g=[];Ke(l.length-1,C=>{const v=[],y=l[C];Ke(u,c,x=>{v.push(y[t.toPhysicalColumn(x)])}),h.push(v)}),Ke(o-1,C=>{g.push(t.toPhysicalColumn(u+C))}),Array.isArray(t.getSettings().colHeaders)&&Ke(o-1,C=>{d.push(t.getSettings().colHeaders[t.toPhysicalColumn(u+C)]||null)});const p=t.columnIndexMapper.getIndexesSequence(),w=t.rowIndexMapper.getIndexesSequence();return new Ve.RemoveColumnAction(u,g,h,d,p,w,t.getSettings().fixedColumnsStart,n(0,t.countRows(),u,c))};e.done(a,s)}),t.addHook("beforeCellAlignment",(r,o,i,s)=>{e.done(()=>new Ve.CellAlignmentAction(r,o,i,s))}),t.addHook("beforeFilter",r=>{e.done(()=>new Ve.FiltersAction(r))}),t.addHook("beforeRowMove",(r,o)=>{r!==!1&&e.done(()=>new Ve.RowMoveAction(r,o))}),t.addHook("beforeMergeCells",(r,o)=>{o||e.done(()=>new Ve.MergeCellsAction(t,r))}),t.addHook("afterUnmergeCells",(r,o)=>{o||e.done(()=>new Ve.UnmergeCellsAction(t,r))}),t.addHook("afterInit",()=>{e.init()})}Ve.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;const n=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",n,e)===!1)return;const r=t(),o=this.undoneActions.slice();this.doneActions.push(r),this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",o),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice())},Ve.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=_o(e);if(this.instance.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const r=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,()=>{r.ignoreNewActions=!1,r.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}},Ve.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=_o(e);if(this.instance.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const r=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,()=>{r.ignoreNewActions=!1,r.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}},Ve.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Ve.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Ve.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Ve.prototype.isEnabled=function(){return this.enabled},Ve.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,FWe(t),this.registerShortcuts(),t.addHook("afterChange",Mq)},Ve.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,VWe(t),this.unregisterShortcuts(),t.removeHook("afterChange",Mq)},Ve.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},Ve.Action=function(){},Ve.Action.prototype.undo=function(){},Ve.Action.prototype.redo=function(){},Ve.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"},rc(Ve.ChangeAction,Ve.Action),Ve.ChangeAction.prototype.undo=function(t,e){const n=_o(this.changes),r=t.countEmptyRows(!0),o=t.countEmptyCols(!0);for(let s=0,a=n.length;s<a;s++)n[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let s=0,a=n.length;s<a;s++){const[l,u]=n[s];t.getSettings().minSpareRows&&l+1+t.getSettings().minSpareRows===t.countRows()&&r===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(l+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&u+1+t.getSettings().minSpareCols===t.countCols()&&o===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(u+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const i=t.getSelectedLast();if(i!==void 0){const[s,a]=n[0],[l,u]=i,c=t.view.getFirstFullyVisibleRow(),h=t.view.getFirstFullyVisibleColumn(),d=s>=c,g=a>=h;if((d&&g)===!1&&(l!==s||u!==a)){const p={row:s,col:a};d===!1&&(p.verticalSnap="top"),g===!1&&(p.horizontalSnap="start"),t.scrollViewportTo(p)}}t.selectCells(this.selected,!1,!1)},Ve.ChangeAction.prototype.redo=function(t,e){const n=_o(this.changes);for(let r=0,o=n.length;r<o;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)},Ve.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"},rc(Ve.CreateRowAction,Ve.Action),Ve.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},Ve.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},Ve.RemoveRowAction=function(t,e,n,r,o,i){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r,this.rowIndexesSequence=o,this.removedCellMetas=i},rc(Ve.RemoveRowAction,Ve.Action),Ve.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),r=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((o,i)=>{Object.keys(o).forEach(s=>{const a=parseInt(s,10);r.push([this.index+i,isNaN(a)?s:a,o[s]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(o=>{let[i,s,a]=o;t.setCellMetaObject(i,s,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(r,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)},Ve.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Ve.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"},rc(Ve.CreateColumnAction,Ve.Action),Ve.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},Ve.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},Ve.RemoveColumnAction=function(t,e,n,r,o,i,s,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=o.slice(0),this.rowPositions=i.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a},rc(Ve.RemoveColumnAction,Ve.Action),Ve.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const r=this.indexes.slice(0).sort(),o=(u,c,h)=>h[this.indexes.indexOf(r[c])],i=this.data.length,s=[];for(let u=0;u<i;u++)s.push(Pt(this.data[u],o));const a=Pt(this.headers,o),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),F(t.getSourceDataArray(),(u,c)=>{F(r,(h,d)=>{u[h]=s[c][d],l.push([c,h,u[h]])})}),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&F(a,(u,c)=>{t.getSettings().colHeaders[r[c]]=u}),this.removedCellMetas.forEach(u=>{let[c,h,d]=u;t.setCellMetaObject(c,h,d)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()},Ve.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},Ve.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r},Ve.CellAlignmentAction.prototype.undo=function(t,e){F(this.range,n=>{n.forAll((r,o)=>{r>=0&&o>=0&&t.setCellMeta(r,o,"className",this.stateBefore[r][o]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()},Ve.CellAlignmentAction.prototype.redo=function(t,e){vc(this.range,this.type,this.alignment,(n,r)=>t.getCellMeta(n,r),(n,r,o,i)=>t.setCellMeta(n,r,o,i)),t.addHookOnce("afterViewRender",e),t.render()},Ve.FiltersAction=function(t){this.conditionsStack=t,this.actionType="filter"},rc(Ve.FiltersAction,Ve.Action),Ve.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},Ve.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class jWe extends Ve.Action{constructor(e,n){super(),this.cellRange=n;const r=this.cellRange.getTopStartCorner(),o=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(r.row,r.col,o.row,o.col)}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0);const o=this.cellRange.getTopStartCorner();e.populateFromArray(o.row,o.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange)}}Ve.MergeCellsAction=jWe;class WWe extends Ve.Action{constructor(e,n){super(),this.cellRange=n}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange,!0)}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0),e.render()}}Ve.UnmergeCellsAction=WWe,Ve.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalIndex=e,this.actionType="row_move"},rc(Ve.RowMoveAction,Ve.Action),Ve.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove"),r=[].concat(this.rows),o=r.filter(a=>a>this.finalIndex),i=r.filter(a=>a<=this.finalIndex),s=o.sort((a,l)=>l-a).concat(i.sort((a,l)=>a-l));t.addHookOnce("afterViewRender",e);for(let a=0;a<s.length;a+=1){const l=t.toVisualRow(s[a]);n.moveRow(l,s[a])}t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},Ve.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalIndex),t.render(),t.deselectCell(),t.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},Ve.prototype.init=function(){const t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},Ve.prototype.registerShortcuts=function(){const t=this.instance.getShortcutManager().getContext("grid"),e={runOnlyIf:n=>!n.altKey,group:Tq};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],e)},Ve.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(Tq)};function Mq(t,e){const n=this;if(e==="loadData")return n.undoRedo.clear()}function FWe(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function VWe(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}const Dw=ze.getSingleton();Dw.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()}),Dw.register("beforeUndo"),Dw.register("afterUndo"),Dw.register("beforeRedo"),Dw.register("afterRedo"),Ve.PLUGIN_KEY=LWe,Ve.SETTING_KEYS=!0;function BWe(){Jt(Hv),Jt(uke),Jt(Wv),Jt(Fke),Jt(Kke),Jt(s6),Jt(WTe),Jt(SMe),Jt(ZS),Jt(G_e),Jt(vOe),Jt(EOe),Jt(u1),Jt(XOe),Jt(nIe),Jt(HIe),Jt(lNe),Jt(bNe),Jt(INe),Jt($Ne),Jt(nHe),Jt(CHe),Jt(AHe),Jt(nDe),Jt(ADe),Jt(DDe),Jt(mLe),Jt(rje),Jt(kje),Jt(Hje),Jt(Vje),Jt(Jje),Jt(Ve)}function zWe(){NRe(),JRe(),aEe(),TEe(),BWe()}zWe();const UWe=jQ([{path:"/",element:m.jsx(oJ,{}),children:[{path:"",loader:()=>{throw GX("/song-pages")},element:null},{path:"/song-pages",element:m.jsx(Bxe,{})},{path:"/album-pages",element:m.jsx(qxe,{})},{path:"/producer-pages",element:m.jsx(eRe,{})},{path:"/lyrics-editor",element:m.jsx(sRe,{})},{path:"*",element:m.jsx("div",{children:"404: Page not found"})}]}]);function $We(){return m.jsx(GQ,{router:UWe})}bx.createRoot(document.getElementById("root")).render(m.jsx(kxe,{children:m.jsx($We,{})}))}),BFe=MFe();export{BFe as default};
